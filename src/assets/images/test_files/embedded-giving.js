(()=>{"use strict";var n={9:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,".iframe {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.iframe_iframe {\n  width: 100%;\n  height: 100%;\n  background: #ffffff;\n  vertical-align: bottom;\n}\n\n.iframe_loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  background: #ffffff;\n}\n\n.iframe_loader.is_hidden {\n  display: none;\n}\n\n@keyframes skeleton-loading {\n  0% {\n    background-color: #eaebea;\n  }\n  100% {\n    background-color: #cccccc;\n  }\n}\n\n.skl_box {\n  border-radius: 4px;\n  animation: skeleton-loading 0.5s linear infinite alternate;\n}\n\n.skl {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n}\n\n.skl_top {\n  flex: 1;\n  padding: 24px;\n}\n\n.skl_bottom {\n  padding: 24px;\n}\n\n.skl_logo {\n  width: 200px;\n  height: 40px;\n  margin: 0 auto 20px;\n}\n\n.skl_freq {\n  width: 100%;\n  height: 42px;\n  margin-bottom: 12px;\n}\n\n.skl_label {\n  width: 200px;\n  height: 24px;\n  margin: 0 auto 8px;\n}\n\n.skl_amount {\n  gap: 8px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 8px;\n}\n\n.skl_amount-btn {\n  flex: 1;\n  height: 42px;\n}\n\n.skl_donate-btn {\n  width: 100%;\n  height: 76px;\n}\n",""]);const r=a},100:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,".egiframe {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n\n@media screen and (min-width: 480px) {\n  .egiframe {\n    max-width: 100%;\n  }\n}\n\n.egiframe .iframe {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.egiframe_faq_toggle {\n  text-align: center;\n  cursor: pointer;\n  border-width: 0;\n  font-size: 0.85em;\n  background: transparent;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.egiframe_faq_toggle .arrow {\n  width: 0;\n  height: 0;\n  margin-left: 4px;\n  display: inline-block;\n  vertical-align: middle;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n\n  border-bottom: 5px solid rgba(0, 0, 0, 0.6);\n}\n\n.egiframe_faq_toggle.is_faq_open .arrow {\n  border-bottom-width: 0;\n  border-top: 5px solid rgba(0, 0, 0, 0.6);\n}\n",""]);const r=a},751:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,"*,\n*::after,\n*::before {\n  color: #2c343b;\n  box-sizing: border-box;\n  font: normal 16px/1.5 sans-serif;\n}\n\n.eginline {\n  max-width: 100%;\n  text-align: center;\n}\n\n.eginline_body {\n  max-width: 100%;\n}\n\n.eginline_footer {\n  padding: 4px;\n  margin-top: -1px;\n  background-color: #fff;\n}\n\n.eginline_poweredBy {\n  height: 40px;\n  font-size: 12px;\n  line-height: 40px;\n  padding-left: 24px;\n  padding-right: 24px;\n  background: white;\n  color: #00000099;\n  text-align: center;\n  font-family: sans-serif;\n}\n",""]);const r=a},289:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,".modal {\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10000;\n  display: flex;\n  justify-content: flex-start;\n  opacity: 0;\n\n  /* Disable click events while the modal is closed */\n  pointer-events: none;\n\n  /* Disable tab navigation while the modal is closed */\n  visibility: hidden;\n}\n\n@media screen and (min-width: 480px) {\n  .modal {\n    display: flex;\n    padding-top: 32px;\n    padding-bottom: 32px;\n    align-items: center;\n    justify-content: center;\n  }\n}\n\n.modal * {\n  pointer-events: none;\n}\n\n.modal.is_open {\n  opacity: 1;\n\n  /* Enable click events while the modal is closed */\n  pointer-events: auto;\n\n  /* Enable tab navigation while the modal is closed */\n  visibility: visible;\n}\n\n.modal.is_open * {\n  pointer-events: auto;\n}\n\n.modal_backdrop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.65);\n}\n\n.modal_content {\n  display: flex;\n  flex-direction: column;\n  padding-top: 44px;\n  padding-bottom: 40px;\n  position: relative;\n  max-width: 100%;\n  z-index: 10001;\n  margin: 0 auto;\n  will-change: transform, opacity;\n  transition: transform 0.07s cubic-bezier(0.465, 0.183, 0.153, 0.946),\n    opacity 0.07s cubic-bezier(0.465, 0.183, 0.153, 0.946);\n  transform: scale(1.15);\n}\n\n.modal.is_open .modal_content {\n  transform: scale(1);\n}\n\n.modal_body {\n  flex: 1;\n}\n\n.modal_footer {\n  padding: 4px;\n  background: white;\n}\n\n.modal_poweredBy {\n  color: #1b1918;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 40px;\n  font-size: 12px;\n  line-height: 40px;\n  padding-left: 24px;\n  padding-right: 24px;\n  background: white;\n  font-family: sans-serif;\n  border-top: 1px solid #f3f2f2;\n}\n\n.modal_poweredBy svg {\n  display: none;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n\n@media screen and (min-width: 480px) {\n  .modal_footer {\n    border-bottom-left-radius: 20px;\n    border-bottom-right-radius: 20px;\n  }\n\n  .modal_content {\n    padding-bottom: 24px;\n  }\n\n  .modal_poweredBy {\n    color: white;\n    text-align: left;\n    font-weight: lighter;\n    border-top-width: 0;\n    background: black;\n  }\n\n  .modal_poweredBy svg {\n    display: inline-block;\n  }\n}\n\n.modal_closebtn {\n  top: 8px;\n  padding: 0;\n  right: 16px;\n  z-index: 10003;\n  font-size: 24px;\n  line-height: 1;\n  cursor: pointer;\n  border-width: 0;\n  position: absolute;\n  font-weight: lighter;\n  background: transparent;\n  color: white;\n}\n",""]);const r=a},394:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,"*,\n*::after,\n*::before {\n  color: #2c343b;\n  box-sizing: border-box;\n  font: normal 16px/1.5 sans-serif;\n}\n\n.egmodal .modal_footer {\n  margin-top: -1px;\n  text-align: center;\n}\n\n.egmodal .egiframe {\n  width: 100vw;\n  z-index: 10002;\n}\n\n.egmodal .iframe_loader {\n  z-index: 10001;\n}\n\n@media screen and (min-width: 480px) {\n  .egmodal .egiframe {\n    width: 420px;\n    height: 592px;\n    max-height: calc(100vh - 84px);\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n  }\n}\n",""]);const r=a},981:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,".egmodals {\n  position: relative;\n  z-index: 2147483645;\n}\n",""]);const r=a},868:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,".egnudgetray {\n  gap: 16px;\n  width: 100%;\n  display: none;\n  margin-top: 24px;\n  padding: 12px 16px;\n  border-radius: 8px;\n  position: relative;\n  align-items: center;\n  background: #ffffff;\n  color: #444444;\n  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.25);\n}\n\n.egnudgetray.is_open {\n  display: flex;\n}\n\n.egnudgetray_body {\n  flex: 1;\n}\n\n.egnudgetray_title {\n  font-weight: bold;\n}\n\n.egnudgetray_content {\n  font-size: 14px;\n}\n\n.egnudgetray_ctabtn {\n  border: none;\n  color: #ffffff;\n  cursor: pointer;\n  font-size: 14px;\n  padding: 8px 16px;\n  border-radius: 8px;\n}\n\n.egnudgetray_closebtn {\n  position: absolute;\n  padding: 0;\n  top: -16px;\n  right: -16px;\n  border: none;\n  cursor: pointer;\n  color: #444444;\n  background: #ffffff;\n  width: 32px;\n  height: 32px;\n  font-size: 18px;\n  font-weight: lighter;\n  border-radius: 32px;\n  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.25);\n}\n",""]);const r=a},637:(n,t,e)=>{e.d(t,{Z:()=>r});var o=e(645),a=e.n(o)()((function(n){return n[1]}));a.push([n.id,".egnudgetrays {\n  position: fixed;\n  right: 24px;\n  bottom: 24px;\n  width: 420px;\n  z-index: 2147483644;\n  max-width: calc(100% - 48px);\n}\n",""]);const r=a},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,o){"string"==typeof n&&(n=[[null,n,""]]);var a={};if(o)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<n.length;s++){var c=[].concat(n[s]);o&&a[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),t.push(c))}},t}},996:n=>{var t=function(n){return function(n){return!!n&&"object"==typeof n}(n)&&!function(n){var t=Object.prototype.toString.call(n);return"[object RegExp]"===t||"[object Date]"===t||function(n){return n.$$typeof===e}(n)}(n)},e="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(n,t){return!1!==t.clone&&t.isMergeableObject(n)?s((e=n,Array.isArray(e)?[]:{}),n,t):n;var e}function a(n,t,e){return n.concat(t).map((function(n){return o(n,e)}))}function r(n){return Object.keys(n).concat(function(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter((function(t){return n.propertyIsEnumerable(t)})):[]}(n))}function i(n,t){try{return t in n}catch(n){return!1}}function s(n,e,c){(c=c||{}).arrayMerge=c.arrayMerge||a,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=o;var l=Array.isArray(e);return l===Array.isArray(n)?l?c.arrayMerge(n,e,c):function(n,t,e){var a={};return e.isMergeableObject(n)&&r(n).forEach((function(t){a[t]=o(n[t],e)})),r(t).forEach((function(r){(function(n,t){return i(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))})(n,r)||(i(n,r)&&e.isMergeableObject(t[r])?a[r]=function(n,t){if(!t.customMerge)return s;var e=t.customMerge(n);return"function"==typeof e?e:s}(r,e)(n[r],t[r],e):a[r]=o(t[r],e))})),a}(n,e,c):o(e,c)}s.all=function(n,t){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce((function(n,e){return s(n,e,t)}),{})};var c=s;n.exports=c}},t={};function e(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,exports:{}};return n[o](r,r.exports,e),r.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n=e(996),t=e.n(n),o=function(){return(o=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)},a=["amount","currency","preset1","preset2","preset3","preset4","designation","recurring","c_src","c_src2","first","last","email","zip"],r=function(n){return n.campaigns.reduce((function(n,t){return n[t.campaignId]={donation:{}},n}),{})},i=function(){var n=new URLSearchParams(location.search);return a.reduce((function(t,e){var a,r=n.get(e);return null===r?t:o(o({},t),((a={})[e]=r,a))}),{})};const s=function(){function n(n){var t=this;this.isInViewport=function(n){var e=t.el.getBoundingClientRect();return e.top<window.innerHeight-n&&e.bottom>n},this.makeEl=function(){return t._el=document.createElement("div"),t._el.className=t.elClass,t._el.appendChild(t.makeStyle()),t._el},this.makeStyle=function(){var n=document.createElement("style");return n.innerHTML=t.styles,n},this.elClass=n}return Object.defineProperty(n.prototype,"el",{get:function(){return this._el?this._el:this.makeEl()},enumerable:!1,configurable:!0}),n}();var c=e(868);const l=function(){function n(){var n=this;this.publish=function(t){var e=n.subscriptions[t.eventName];e&&Object.keys(e).forEach((function(n){e[n](t)}))},this.subscribe=function(t,e){n.subscriptions[t]||(n.subscriptions[t]={});var o=n.generateNextKey();return n.subscriptions[t][o]=e,"".concat(t,".").concat(o)},this.generateNextKey=function(){var t=n.currentKey+1;return n.currentKey=t,t},this.currentKey=0,this.subscriptions={}}return n.prototype.unsubscribe=function(n){var t=n.split("."),e=t[0],o=t[1];return!!this.subscriptions[e][o]&&(delete this.subscriptions[e][o],!0)},n}();var d,p=(d=function(n,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}d(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),u="is_open",f="open",m="close",g="closeclick",h="ctaclick";const v=function(n){function t(t){var e=n.call(this,"egnudgetray")||this;return e.styles=c.Z.toString(),e.open=function(){e.state.isOpen||(e.state.isOpen=!0,e.el.classList.add(u),e.pubsub.publish({eventName:f,details:{}}))},e.close=function(){e.state.isOpen&&(e.state.isOpen=!1,e.el.classList.remove(u),e.pubsub.publish({eventName:m,details:{}}))},e.onOpen=function(n){return e.pubsub.subscribe(f,n)},e.onClose=function(n){return e.pubsub.subscribe(m,n)},e.onCtaClick=function(n){return e.pubsub.subscribe(h,n)},e.onCloseClick=function(n){return e.pubsub.subscribe(g,n)},e.makeCloseBtn=function(){var n=document.createElement("button");return n.className="".concat(e.elClass,"_closebtn"),n.setAttribute("aria-label","Close the nudge tray"),n.setAttribute("data-id","eg-nudgetray-close"),n.innerHTML="&times;",n.addEventListener("click",(function(){e.close(),e.pubsub.publish({eventName:g,details:{}})})),n},e.off=function(n){return e.pubsub.unsubscribe(n)},e.makeBody=function(){var n=document.createElement("div");return n.className="".concat(e.elClass,"_body"),n.appendChild(e.makeTitle()),n.appendChild(e.makeContent()),n},e.makeTitle=function(){var n=e.props.title,t=document.createElement("div");if(t.className="".concat(e.elClass,"_title"),!n)return t;var o=n.length>20?n.substring(0,20).concat("..."):n;return t.textContent=o,t.title=n,t},e.makeContent=function(){var n=document.createElement("div");return n.className="".concat(e.elClass,"_content"),n.textContent=e.props.content,n},e.makeCtaBtn=function(){var n=document.createElement("button");return n.className="".concat(e.elClass,"_ctabtn"),n.setAttribute("data-id","eg-nudgetray-click"),n.textContent=e.props.ctaLabel,n.style.backgroundColor=e.props.ctaColor,n.addEventListener("click",(function(){e.pubsub.publish({eventName:h,details:{}}),e.close()})),n},e.props=t,e.state={isOpen:!1},e.pubsub=new l,e.el.appendChild(e.makeCloseBtn()),e.el.appendChild(e.makeBody()),e.el.appendChild(e.makeCtaBtn()),e}return p(t,n),t}(s);var b=e(637),y=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const w=function(n){function t(t){var e=n.call(this,"egnudgetrays")||this;return e.styles=b.Z.toString(),e.makeSDK=function(){var n=r(e.props.config);return e.props.config.campaigns.forEach((function(t){var o=t.campaignId,a=t.donation;a.nudgeTrays&&(n[o].donation.nudgeTrays=a.nudgeTrays.map(e.makeNudgeTray))})),n},e.makeNudgeTray=function(n){var t=new v({title:n.title,content:n.content,ctaLabel:n.ctaLabel,ctaColor:n.ctaColor});return e.el.appendChild(t.el),{open:t.open,close:t.close,onOpen:t.onClose,onClose:t.onClose,onCtaClick:t.onCtaClick,onCloseClick:t.onCloseClick,off:t.off}},e.props=t,e.el.setAttribute("data-testid","egnudgetrays"),e.sdk=e.makeSDK(),e}return y(t,n),t}(s);var k=function(n){var t=this;this.getCampaignStatus=function(n){return e=t,o=void 0,r=function(){var t,e,o;return function(n,t){var e,o,a,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(r=0)),r;)try{if(e=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(6===s[0]&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(n,r)}catch(n){s=[6,n],o=0}finally{e=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(a){switch(a.label){case 0:t=void 0,e="".concat(this.props.env.baseUrl,"/frs-api/campaign/").concat(n,"/eg-status"),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(e)];case 2:return[4,a.sent().json()];case 3:return o=a.sent(),t={url:o.canonical_url,name:o.name,isEmbed:"disabled"!==o.embedded_giving,isPublished:"active"===o.status},[3,5];case 4:return a.sent(),t=void 0,[3,5];case 5:return[2,t]}}))},new((a=void 0)||(a=Promise))((function(n,t){function i(n){try{c(r.next(n))}catch(n){t(n)}}function s(n){try{c(r.throw(n))}catch(n){t(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(n){n(e)}))).then(i,s)}c((r=r.apply(e,o||[])).next())}));var e,o,a,r},this.props=n},_=e(394),C=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const x=function(n){function t(t){var e=n.call(this,"egmodal")||this;return e.styles=_.Z.toString(),e.open=function(){e.state.hasLoaded?e.props.modal.open():e.loadAndOpen(),e.props.iframe.trackEvent("embedded-giving:modal:track-event:open")},e.loadAndOpen=function(){e.loadModal(),window.requestAnimationFrame(e.props.modal.open)},e.loadModal=function(){e.state.hasLoaded||(e.state.hasLoaded=!0,e.el.appendChild(e.props.modal.el))},e.close=function(){e.props.modal.close()},e.on=function(n,t){return e.props.modal.on(n,t)},e.off=function(n){return e.props.modal.off(n)},e.props=t,e.state={hasLoaded:!1},t.lazyLoad||e.loadModal(),e.onReady=e.props.onReady,e}return C(t,n),t}(s);function O(n,t,e,o,a){var r=o&&""!==o?function(n){var t="https://";return-1!==n.indexOf(t)?n:"".concat(t+n)}(o):n,i=a?"#:~:tcm-prompt=Hidden&log=*":"";return"".concat(function(n,t){return"".concat(n,"/give/").concat(t,"/#!/").concat("donation/checkout")}(r,t)).concat(function(n){var t=new URLSearchParams;Object.keys(n).forEach((function(e){return t.set(e,n[e])}));var e=t.toString();return e?"?".concat(e):""}(e)).concat(i)}var E=e(981),S=e(9),P=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),j="is_hidden";const I=function(n){function t(t){var e=n.call(this,"iframe")||this;return e.styles=S.Z.toString(),e.updateProps=function(n){e.props=n,e.iframe.setAttribute("src",n.src)},e.postMessage=function(n){e.state.hasLoaded?e.iframe.contentWindow&&(n.endsWith("track-event:open")?e.iframe.contentWindow.postMessage("".concat(n,":").concat(e.props.eid),"*"):e.iframe.contentWindow.postMessage(n,"*")):e.state.messageQueue.push(n)},e.makeLoader=function(){var n=document.createElement("div"),t="".concat(e.elClass,"_loader");return n.className=t,n.setAttribute("data-testid",t),n.innerHTML=e.makeSkl(),n},e.makeSkl=function(){return'\n    <div class="skl">\n      <div class="skl_top">\n        <div class="skl_logo skl_box"></div>\n        <div class="skl_freq skl_box"></div>\n        <div class="skl_label skl_box"></div>\n        <div class="skl_amount">\n          <div class="skl_amount-btn skl_box"></div>\n          <div class="skl_amount-btn skl_box"></div>\n        </div>\n        <div class="skl_amount">\n          <div class="skl_amount-btn skl_box"></div>\n          <div class="skl_amount-btn skl_box"></div>\n        </div>\n        <div class="skl_amount">\n          <div class="skl_amount-btn skl_box"></div>\n        </div>\n      </div>\n      <div class="skl_bottom">\n        <div class="skl_label skl_box"></div>\n        <div class="skl_donate-btn skl_box"></div>\n      </div>\n    </div>\n  '},e.makeIframe=function(){var n=document.createElement("iframe"),t="".concat(e.elClass,"_iframe");return n.className=t,n.setAttribute("src",e.props.src),n.setAttribute("data-testid",t),n.setAttribute("frameBorder","0"),n.setAttribute("allow","payment"),n.setAttribute("allowfullscreen","true"),n.setAttribute("allowpaymentrequest","true"),n.addEventListener("load",(function(){e.loader.classList.contains(j)||e.loader.classList.add(j)})),n},e.props=t,e.state={hasLoaded:!1,messageQueue:[]},e.iframe=e.makeIframe(),e.loader=e.makeLoader(),e.el.appendChild(e.iframe),e.el.appendChild(e.loader),window.addEventListener("message",(function(n){n.data&&"embedded-giving:iframe:loaded"===n.data.type&&n.data.eid===e.props.eid&&(e.postMessage("embedded-giving:iframe:loaded:ack"),e.state.hasLoaded=!0,e.state.messageQueue.forEach((function(n){e.postMessage(n)})))})),e}return P(t,n),t}(s);var A=e(100),M=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),L="is_faq_open",T="eg-faq-open";const D=function(n){function t(t){var e=n.call(this,"egiframe")||this;return e.styles=A.Z.toString(),e.makeIframe=function(){e.iframe=new I({src:e.props.iframeSrc,eid:e.props.eid}),e.iframe.el.classList.add("".concat(e.elClass,"_iframe")),e.el.appendChild(e.iframe.el)},e.trackEvent=function(n){e.iframe.postMessage(n)},e.navigate=function(n){e.iframe.postMessage("embedded-giving:navigate:".concat(n))},e.setDonation=function(n){var t=Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&");e.iframe.postMessage("embedded-giving:donation:set?".concat(t.toString()))},e.resetDonation=function(){e.iframe.postMessage("embedded-giving:donation:reset")},e.makeFAQToggle=function(){var n=document.createElement("button"),t=document.createTextNode("FAQs");n.appendChild(t);var o=document.createElement("span");return o.className="arrow",n.appendChild(o),n.className="".concat(e.elClass,"_faq_toggle"),n.setAttribute("data-id",T),n.addEventListener("click",e.toggleFAQ),n},e.isFAQOpen=function(){return e.el.classList.contains(L)},e.toggleFAQ=function(){e.isFAQOpen()?e.closeFAQ():e.openFAQ()},e.closeFAQ=function(){e.el.classList.remove(L),e.faqToggle.classList.remove(L),e.faqToggle.setAttribute("data-id",T),e.iframe.postMessage("embedded-giving:navigate:faq:close")},e.openFAQ=function(){e.el.classList.add(L),e.faqToggle.classList.add(L),e.faqToggle.setAttribute("data-id","eg-faq-close"),e.iframe.postMessage("embedded-giving:navigate:faq")},e.props=t,e.makeIframe(),e.faqToggle=e.makeFAQToggle(),e}return M(t,n),t}(s);var N=e(289),B=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),U="is_open",F="keydown";const z=function(n){function t(t){var e=n.call(this,"modal")||this;return e.styles=N.Z.toString(),e.open=function(){e.state.isOpen||(e.state.isOpen=!0,e.el.classList.add(U),e.pubsub.publish({eventName:"open",details:{}}),document.body.addEventListener(F,e.onEscKeydown))},e.close=function(){e.state.isOpen&&(e.state.isOpen=!1,e.el.classList.remove(U),e.pubsub.publish({eventName:"close",details:{}}),document.body.removeEventListener(F,e.onEscKeydown))},e.on=function(n,t){return e.pubsub.subscribe(n,t)},e.off=function(n){return e.pubsub.unsubscribe(n)},e.onEscKeydown=function(n){"Escape"!==n.key&&"Esc"!==n.key||e.props.onClose()},e.makeBackdrop=function(){var n=document.createElement("div");return n.className="".concat(e.elClass,"_backdrop"),n.setAttribute("data-testid","backdrop"),n.addEventListener("click",e.props.onClose),n},e.makeContent=function(){var n=document.createElement("div"),t="".concat(e.elClass,"_content");return n.className=t,n.appendChild(e.makeCloseBtn()),n.appendChild(e.makeBody()),e.props.footer&&n.appendChild(e.makeFooter()),n},e.makeBody=function(){var n=document.createElement("main");return n.className="".concat(e.elClass,"_body"),n.appendChild(e.props.body),n},e.makeFooter=function(){var n=document.createElement("footer");return n.className="".concat(e.elClass,"_footer"),e.props.footer&&n.appendChild(e.props.footer),n},e.makePoweredBy=function(){var n=document.createElement("div");return n.className="".concat(e.elClass,"_poweredBy"),n.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 10 16" fill="none">\n        <path\n          fill="#DAAD0D" \n          d="M9.69593 6.16702C9.63727 6.07973 9.5333 6.03618 9.43021 6.05637L6.21434 6.67598L6.86731 0.37508C6.87978 0.255304 6.809 0.143255 6.69537 0.102861C6.58157 0.0626431 6.45617 0.104793 6.39014 0.205602L0.284533 9.52707C0.226928 9.61489 0.227455 9.72799 0.285938 9.81492C0.343894 9.90151 0.447864 9.94524 0.551658 9.92592L3.7677 9.30614L3.11473 15.6069C3.10226 15.727 3.17304 15.839 3.28667 15.8793C3.31459 15.8891 3.34392 15.8942 3.37378 15.8942C3.46194 15.8942 3.54326 15.8501 3.59173 15.7765L9.69733 6.45504C9.75494 6.36723 9.75423 6.25413 9.69593 6.16702Z"\n        />\n      </svg> Powered by GoFundMe\n    ',n},e.makeCloseBtn=function(){var n=document.createElement("button");return n.className="".concat(e.elClass,"_closebtn"),n.setAttribute("aria-label","Close the donation modal"),n.innerHTML="&times;",n.addEventListener("click",e.props.onClose),n},e.props=t,e.state={isOpen:!1},e.pubsub=new l,e.el.setAttribute("role","dialog"),e.el.setAttribute("data-modal","true"),e.el.setAttribute("data-label","Donation Modal"),e.el.appendChild(e.makeBackdrop()),e.el.appendChild(e.makeContent()),e.el.appendChild(e.makePoweredBy()),e}return B(t,n),t}(s);var q=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),K=function(){return(K=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)};const R=function(n){function t(t){var e=n.call(this,"egmodals")||this;return e.styles=E.Z.toString(),e.makeSDK=function(){var n=r(e.props.config);return e.props.config.campaigns.forEach((function(t){var o=t.campaignId,a=t.donation,r=t.customDomain,i=t.disableCookieDialog,s=crypto.randomUUID();a.modal&&(n[o].donation.modal=e.makeModal(o,s,a.modal,r,i))})),n},e.makeModal=function(n,t,o,a,r){var i=e.makeModalProps(n,t,o,a,r),s=new x(i);return e.el.appendChild(s.el),{on:s.on,off:s.off,open:s.open,close:s.close,navigate:i.iframe.navigate,trackEvent:i.iframe.trackEvent,resetDonation:i.iframe.resetDonation,setDonation:i.iframe.setDonation,config:function(s){var c=K(K({},o),s);i.iframe.iframe.updateProps({src:e.makeIframeSrc(n,t,c,a,r),eid:t})},onReady:s.onReady}},e.makeModalProps=function(n,t,o,a,r){var i=e.makeIframeSrc(n,t,o,a,r),s=new D({iframeSrc:i,eid:t,version:e.props.config.version});s.iframe.iframe.setAttribute("name","eg-popup-iframe--".concat(n));var c=new z({body:s.el,footer:s.faqToggle,onClose:function(){s.isFAQOpen()?s.toggleFAQ():c.close()}});return{iframe:s,modal:c,lazyLoad:o.lazyLoad,iframeSrc:i,onReady:function(t){return a=e,r=void 0,s=function(){var e,a;return function(n,t){var e,o,a,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(r=0)),r;)try{if(e=1,o&&(a=2&s[0]?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(6===s[0]&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(n,r)}catch(n){s=[6,n],o=0}finally{e=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return(e=o.onError)?[4,this.dalService.getCampaignStatus(n)]:[3,2];case 1:return(a=r.sent())?a.isPublished?a.isEmbed?t():e({type:"NOT_EMBED",url:a.url,name:a.name}):e({type:"NOT_PUBLISHED",url:a.url,name:a.name}):e({type:"NOT_EXISTS"}),[3,3];case 2:t(),r.label=3;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(n,t){function e(n){try{c(s.next(n))}catch(n){t(n)}}function o(n){try{c(s.throw(n))}catch(n){t(n)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof i?a:new i((function(n){n(a)}))).then(e,o)}c((s=s.apply(a,r||[])).next())}));var a,r,i,s}}},e.makeIframeSrc=function(n,t,o,a,r){var s=K(K(K({},{eid:t,eg:"true",egp:"do",renderedAs:"popup"}),i()),o.urlParams);return O(e.props.env.baseUrl,n,s,a,r)},e.props=t,e.el.setAttribute("data-testid","egmodals"),e.sdk=e.makeSDK(),e.dalService=new k(e.props),e}return q(t,n),t}(s);var Z=e(751),Q=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const H=function(n){function t(t){var e=n.call(this,"eginline")||this;return e.opened=!1,e.styles=Z.Z.toString(),e.trackEvent=function(n){e.iframe.iframe.postMessage(n)},e.updateProps=function(n){e.props=n,e.iframe.iframe.updateProps({src:n.iframeSrc,eid:n.eid})},e.onOpenEvent=function(){window.addEventListener("load",e.handleOpenEvent,{passive:!0}),window.addEventListener("scroll",e.handleOpenEvent,{passive:!0})},e.handleOpenEvent=function(){e.isInViewport(30)&&(window.removeEventListener("scroll",e.handleOpenEvent),e.opened||(e.opened=!0,e.trackEvent("embedded-giving:inline:track-event:open")))},e.makeBody=function(){var n=document.createElement("div"),t="".concat(e.elClass,"_body");return n.className=t,n.style.width=e.getWidth(),n.style.height=e.getHeight(),n.appendChild(e.iframe.el),n},e.makeFooter=function(){var n=document.createElement("div"),t="".concat(e.elClass,"_footer");return n.className=t,n.appendChild(e.iframe.faqToggle),n},e.makePoweredBy=function(){var n=document.createElement("div");return n.className="".concat(e.elClass,"_poweredBy"),n.innerHTML="Powered by GoFundMe",n},e.getWidth=function(){return e.props.width||"420px"},e.getHeight=function(){return e.props.height||"592px"},e.props=t,e.iframe=new D({iframeSrc:e.props.iframeSrc,eid:e.props.eid}),e.el.style.width=e.getWidth(),e.el.appendChild(e.makeBody()),e.el.appendChild(e.makeFooter()),e.el.appendChild(e.makePoweredBy()),e.onOpenEvent(),e}return Q(t,n),t}(s);var W=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),G=function(){return(G=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)};const J=function(n){function t(t){var e=n.call(this,"egInlines")||this;return e.styles="",e.makeSDK=function(){var n=r(e.props.config);return e.props.config.campaigns.forEach((function(t){var o=t.campaignId,a=t.donation,r=t.customDomain,i=t.disableCookieDialog,s=crypto.randomUUID();a.inline&&(n[o].donation.inline=e.makeInline(o,s,a.inline,r,i))})),n},e.makeInline=function(n,t,o,a,r){var i=new H(e.makeInlineProps(n,t,o,a,r));return i.iframe.iframe.iframe.setAttribute("name","eg-inline-iframe--".concat(n)),e.el.appendChild(i.el),{getEl:function(){return i.el},trackEvent:i.trackEvent,config:function(s){var c=G(G({},o),s);i.updateProps(e.makeInlineProps(n,t,c,a,r))}}},e.makeInlineProps=function(n,t,o,a,r){var s={eid:t,eg:"true",egp:"do",renderedAs:"inline"},c=G(G(G({},o.urlParams),i()),s);return{width:o.width,height:o.height,iframeSrc:O(e.props.env.baseUrl,n,c,a,r),eid:t}},e.props=t,e.el.setAttribute("data-testid","eginlines"),e.sdk=e.makeSDK(),e}return W(t,n),t}(s);var V=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const $=function(n){function e(e){var o=n.call(this,"eg")||this;return o.styles="",o.init=function(){var n,e=o.props,a=e.env,r=e.config,i=new R({env:a,config:r}),s=new w({config:r}),c=new J({env:a,config:r});o.el.appendChild(i.el),o.el.appendChild(s.el),o.sdk=(n=[c.sdk,i.sdk,s.sdk],t().all(n))},o.props=e,o.el.setAttribute("data-testid","eg"),o.init(),o}return V(e,n),e}(s);var X=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Y=function(n){function t(t){var e,o=n.call(this,"egsandbox")||this;return o.styles="",o.el.attachShadow({mode:"open"}),null===(e=o.el.shadowRoot)||void 0===e||e.appendChild(t.children),o}return X(t,n),t}(s);var nn=function(n,t){var e={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(e[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(n);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(e[o[a]]=n[o[a]])}return e},tn=window,en=function(n){n.win.addEventListener("message",(function(t){if("string"==typeof t.data){var e=t.data.split(n.delimitor||":"),o=e[0],a=e[1],r=e[2],i=e[3],s=e[4];"embedded-giving"===o&&a==n.campaignId&&r===n.campaignFeature&&i===n.component&&n.callback(s)}else t.data&&"ab_testing_data"===t.data.type&&(tn.SC={ab_testing:t.data.ab_testing})}))},on=["amount","currency","recurring","first","last","email","zip"],an=function(){return(an=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)};const rn=function(n){var t=this;this.init=function(){var n=t.findModal(),e=t.findNudgeTray();n&&e&&(t.modal=n,t.nudgeTray=e,t.onModalOpen(),t.onModalClose(),t.onNudgeTrayClose(),t.onNudgeTrayCtaClick(),t.onNudgeTrayCloseClick(),t.onDonationProps(),t.onDonationComplete(),t.state.hasOpenedModal&&!t.state.hasCompletedDonation&&(t.nudgeTray.open(),t.modal.trackEvent("embedded-giving:nudge-tray:track-event:open")))},this.onModalOpen=function(){t.modal.on("open",(function(){t.setState({isModalOpen:!0,hasOpenedModal:!0})}))},this.onModalClose=function(){t.modal.on("close",(function(){t.state.hasCompletedDonation?t.setState({isModalOpen:!1,hasOpenedModal:!1,hasCompletedDonation:!1}):(t.nudgeTray.open(),t.modal.trackEvent("embedded-giving:nudge-tray:track-event:open"),t.setState({isModalOpen:!1}))}))},this.onNudgeTrayCtaClick=function(){var n=t.props.campaignConfig.donation;t.nudgeTray.onCtaClick((function(){n.modal&&(t.modal.navigate("do"),t.modal.resetDonation(),t.modal.setDonation(t.state.donationProps),t.modal.open(),t.modal.trackEvent("embedded-giving:nudge-tray:track-event:click"))}))},this.onNudgeTrayCloseClick=function(){var n=t.props.campaignConfig.donation;t.nudgeTray.onCloseClick((function(){n.modal&&t.modal.trackEvent("embedded-giving:nudge-tray:track-event:close")}))},this.onNudgeTrayClose=function(){t.nudgeTray.onClose((function(){t.removeStateCache()}))},this.onDonationProps=function(){var n=t.props,e=n.win,o=n.campaignConfig;en({win:e,campaignId:o.campaignId,campaignFeature:"donation",component:"modal",callback:function(n){if(-1!==n.indexOf("state?")&&t.state.isModalOpen&&!t.state.hasCompletedDonation){var e=new URLSearchParams(n.substring(5)),o={};on.forEach((function(n){var t=e.get(n);t&&(o[n]=t)})),t.setState({donationProps:o})}}})},this.onDonationComplete=function(){var n=t.props,e=n.win,o=n.campaignConfig;en({win:e,campaignId:o.campaignId,campaignFeature:"donation",component:"modal",callback:function(n){"complete"===n&&t.setState({hasCompletedDonation:!0})}})},this.findModal=function(){var n=t.props.campaignConfig.campaignId;return t.props.sdk[n].donation.modal},this.findNudgeTray=function(){var n,e,o=t.props.campaignConfig,a=o.campaignId;return null===(n=o.donation.nudgeTrays)||void 0===n||n.forEach((function(n,o){if("eg:donation:incomplete"===n.triggerEvent){var r=t.props.sdk[a].donation.nudgeTrays;r&&(e=r[o])}})),e},this.getInitialState=function(){var n={donationProps:{},isModalOpen:!1,hasOpenedModal:!1,hasCompletedDonation:!1},e=t.getStateCache();return e?an(an({},n),e):n},this.setState=function(n){t.state=an(an({},t.state),n),t.state.hasCompletedDonation?t.removeStateCache():t.setStateCache()},this.getStateCache=function(){var n=t.props.win,e=void 0;if(n.localStorage)try{var o=t.getStateCacheKey(),a=n.localStorage.getItem(o);a&&(e=JSON.parse(a))}catch(n){console.log(n)}return e},this.setStateCache=function(){var n=t.props.win;if(n.localStorage)try{var e=t.getStateCacheKey(),o=JSON.stringify(t.state);n.localStorage.setItem(e,o)}catch(n){console.log(n)}},this.removeStateCache=function(){var n=t.props.win;if(n.localStorage)try{var e=t.getStateCacheKey();n.localStorage.removeItem(e)}catch(n){console.log(n)}},this.getStateCacheKey=function(){var n=t.props.campaignConfig.campaignId;return"eg-donation-incomplete-event-handler-state-cache-".concat(n)},this.props=n,this.state=this.getInitialState(),this.init()};var sn="campaign";const cn=function(n){var t=this;this.bindEvents=function(){t.onModalOpen(),t.onModalClose(),t.onModalButtonClick(),t.onModalCampaignIdInUrlParams()},this.onModalButtonClick=function(){var n=t.props,e=n.win,o=n.sdk,r=n.campaignConfig,i=r.donation.modal,s=o[r.campaignId].donation.modal;s&&i&&(s.onReady((function(){e.document.body.addEventListener("click",(function(n){if(i.elementSelector&&n.target.matches(i.elementSelector))return n.preventDefault(),void s.open()}))})),e.document.querySelectorAll("a[href*=".concat(sn,"]")).forEach((function(n){n.addEventListener("click",(function(n){var t=n.currentTarget.getAttribute("href"),o=new URLSearchParams(t),i=o.get(sn);a.some((function(n){return!!o.get(n)}))||i&&i===r.campaignId&&(n.preventDefault(),e.history.pushState({},"",t),s.open())}))})))},this.onModalOpen=function(){var n=t.props,e=n.win,o=n.sdk,a=n.campaignConfig,r=o[a.campaignId].donation.modal;r&&r.on("open",(function(){t.addCampaignIdToUrlParams(e,a.campaignId)}))},this.onModalClose=function(){var n=t.props,e=n.win,o=n.sdk,a=n.campaignConfig,r=o[a.campaignId].donation.modal;r&&r.on("close",(function(){t.removeCampaignIdFromUrlParams(e,a.campaignId)}))},this.onModalCampaignIdInUrlParams=function(){var n=t.props,e=n.win,o=n.sdk,a=n.campaignConfig,r=a.donation.modal,i=o[a.campaignId].donation.modal;i&&r&&t.isCampaignIdInUrlParams(e,a.campaignId)&&i.open()},this.isCampaignIdInUrlParams=function(n,t){var e=new URLSearchParams(n.location.search).get(sn);return t&&e&&t===e},this.addCampaignIdToUrlParams=function(n,t){var e=new URL(n.location.href);e.searchParams.set(sn,t),window.history.pushState({},"",e.href)},this.removeCampaignIdFromUrlParams=function(n,t){var e=new URL(n.location.href);e.searchParams.get(sn)===t&&(e.searchParams.delete(sn),window.history.pushState({},"",e.href))},this.props=n,this.bindEvents()},ln=function(n){var t=this;this.bindEvents=function(){t.onModalClose(),t.onDonationComplete()},this.onModalClose=function(){var n=t.props.campaignConfig,e=n.campaignId,o=n.donation,a=t.props.sdk[e].donation.modal;a&&a.on("close",(function(){t.state.hasCompletedDonation&&o.modal&&(a.navigate("do"),t.state.hasCompletedDonation=!1)}))},this.onDonationComplete=function(){var n=t.props,e=n.win,o=n.campaignConfig;en({win:e,campaignId:o.campaignId,campaignFeature:"donation",component:"modal",callback:function(n){"complete"===n&&(t.state.hasCompletedDonation=!0)}})},this.props=n,this.state={hasCompletedDonation:!1},this.bindEvents()},dn=function(n){var t=this;this.init=function(){var n=t.props,e=n.win,o=n.sdk,a=n.campaignConfig,r=a.donation.inline,i=o[a.campaignId].donation.inline;if(i&&r){var s=e.document.querySelector(r.elementSelector);if(s){var c=new Y({children:i.getEl()});s.appendChild(c.el)}}},this.props=n,this.init()};var pn=function(n){var t="https://www.classy.org";if(n){var e=new URLSearchParams(n.location.search).get("baseUrl");e&&(t=e)}return t},un=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fn=function(){return(fn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)};const mn=function(n){function t(){var t=n.call(this,"egga4")||this;return t.styles="",t.onPostMessage=function(){window.addEventListener("message",(function(n){if(n.data){var e=n.data.key;"embedded-giving:bridge:ga4:init"===e?t.onInit(n):"embedded-giving:bridge:ga4:event"===e&&t.onEvent(n)}}))},t.onInit=function(n){if(n.data.config){var e=n.data.config.id;if(e&&(t.state.id=e,!window.gtag)){var o=document.createElement("script");o.setAttribute("data-eg","true"),o.setAttribute("async","true"),o.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(e)),document.head.appendChild(o),window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config",e,{debug_mode:!0,send_page_view:!1})}}},t.onEvent=function(n){if(window.gtag&&t.state.id){var e=fn({send_to:t.state.id},n.data.data);gtag("event",n.data.event,e)}},t.state={id:void 0},t.onPostMessage(),t}return un(t,n),t}(s);var gn,hn,vn,bn,yn,wn=function(){return(wn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)};hn=function(n){return{baseUrl:pn(n)}}(gn=window),vn=function(n){var t=n.egProps;return t?t.modal?{campaigns:t.modal.campaigns.map((function(n){return{campaignId:n.campaignId,donation:{modal:nn(n,["campaignId"])}}}))}:t.campaigns?{version:t.version,campaigns:t.campaigns}:{campaigns:[]}:{campaigns:[]}}(gn),bn=new $({env:hn,config:vn}),yn=new Y({children:bn.el}),document.body.appendChild(yn.el),gn.eg=bn.sdk,gn.egModal=function(n){return wn({},bn.sdk[n].donation.modal)},new function(n){var t=this;this.bindEvents=function(){var n=t.props,e=n.win,o=n.sdk;t.props.config.campaigns.forEach((function(n){n.donation&&(new ln({campaignConfig:n,win:e,sdk:o}),new cn({campaignConfig:n,win:e,sdk:o}),new rn({campaignConfig:n,win:e,sdk:o}),new dn({campaignConfig:n,win:e,sdk:o}))}))},this.props=n,this.bindEvents()}({win:gn,config:vn,sdk:bn.sdk}),new mn})()})();