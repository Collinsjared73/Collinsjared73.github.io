angular.module("classy",["froala","ngSanitize","ngAnimate","ipCookie","ui.router","ui.bootstrap","ui.bootstrap.tpls","ui.bootstrap.dateparser","ui.router.metatags","ui.sortable","ngFileUpload","angular-loading-interceptors","pickadate","angularSpinner","oc.lazyLoad","monospaced.elastic","ngInputModified"]),angular.module("classy").value("CA_PROVINCE_LIST",[{value:"AB",label:"Alberta (AB)"},{value:"BC",label:"British Columbia (BC)"},{value:"MB",label:"Manitoba (MB)"},{value:"NB",label:"New Brunswick (NB)"},{value:"NL",label:"Newfoundland and Labrador (NL)"},{value:"NT",label:"Northwest Territories (NT)"},{value:"NS",label:"Nova Scotia (NS)"},{value:"NU",label:"Nunavut (NU)"},{value:"PE",label:"Prince Edward Island (PE)"},{value:"SK",label:"Saskatchewan (SK)"},{value:"ON",label:"Ontario (ON)"},{value:"QC",label:"Quebec (QC)"},{value:"YT",label:"Yukon (YT)"}]),(()=>{function e(e,n,t,a,i,o,r,s){var l=_.get(SC,"fbid",0);s.strictMode(!1),n.interceptors.push("interceptorFactory"),n.interceptors.push(["$q","$log","$rootScope","EmbeddedGiving",function(a,i,o,r){return{responseError:function(e){var n,t;return"GET"!=e.config.method&&(n="I'm sorry, you've encountered an error: ",e.data&&e.data.error&&(n+="&nbsp;("+(_.isString(e.data.error)&&e.data.error.indexOf("SQLSTATE")<0&&e.data.error.length<=200?e.data.error:_.isObject(e.data.error)&&_.isString(_.values(e.data.error)[0][0])?_.values(e.data.error)[0][0]:"Check console for more details")+").&nbsp;"),n+=" Please contact <a href='https://support.classy.org/s/contactcare' target='_blank'>customer support</a>.",t=_.get(e,"config.url","").includes("analytics"),i.error("\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> ERROR >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n",e,"\n>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),t||r.isEnabled||(o.SC.status.banner={type:"error",msg:n})),a.reject(e)}}}]),n.defaults.xsrfCookieName="CSRF-TOKEN",r.setTheme("mediumWhite",{radius:6,width:4,length:5,lines:10,color:"#ffffff",top:"50%"}),r.setTheme("smallGreen",{radius:4,width:3,length:4,lines:10,color:"#74d8c9",top:"42%"}),i.setOptions({format:"mmmm d, yyyy",selectYears:!0}),e.aHrefSanitizationWhitelist(/^\s*(https?|sms|imessage|mailto|tel):/),o.setDefaultTitle("GoFundMe Pro").setStaticProperties({"fb:app_id":l,"og:site_name":"GoFundMe Pro","og:type":"website","twitter:card":"summary"}).setOGURL(!0),t.setKey(SC.gapi),a.setSiteKey(SC.recaptcha)}e.$inject=["$compileProvider","$httpProvider","loadGoogleMapsAPIProvider","loadRecaptchaProvider","pickADateProvider","UIRouterMetatagsProvider","usSpinnerConfigProvider","$urlMatcherFactoryProvider"],angular.module("classy").config(e)})(),angular.module("classy").constant("scConstants",{urlParams:{utmCodes:"utm_source&utm_medium&utm_term&utm_content&utm_campaign&c_src&c_src2&_ga&d_bu&d_site&d_adgroup&d_creative&d_tactic&d_placement&d_vert&d_campaign&gclid&eid&emid&cid&cmid&pid&pmid&s_kwcid&lightbox&cause&id_type&u_id&sfmc_id&sso_method&source&member_id&password_reset_code=&campaign_id&client_id&org_id&response_type&scope"}}),angular.module("classy").value("COUNTRY_LIST",[{value:"AF",label:"Afghanistan"},{value:"AX",label:"Aland Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia"},{value:"BQ",label:"Bonaire, Saint Eustatius and Saba "},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"VG",label:"British Virgin Islands"},{value:"BN",label:"Brunei"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CW",label:"Curacao"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"TL",label:"East Timor"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"GG",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island and McDonald Islands"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"CI",label:"Ivory Coast"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"XK",label:"Kosovo"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Laos"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LY",label:"Libya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia"},{value:"MD",label:"Moldova"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestinian Territory"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"CG",label:"Republic of the Congo"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RU",label:"Russia"},{value:"RW",label:"Rwanda"},{value:"BL",label:"Saint Barthelemy"},{value:"SH",label:"Saint Helena"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"LC",label:"Saint Lucia"},{value:"MF",label:"Saint Martin"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome and Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SG",label:"Singapore"},{value:"SX",label:"Sint Maarten"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"KR",label:"South Korea"},{value:"SS",label:"South Sudan"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"TW",label:"Taiwan"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania"},{value:"TH",label:"Thailand"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad and Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"VI",label:"U.S. Virgin Islands"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom"},{value:"US",label:"United States"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VA",label:"Vatican"},{value:"VE",label:"Venezuela"},{value:"VN",label:"Vietnam"},{value:"WF",label:"Wallis and Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"}]),(()=>{function e(e){}e.$inject=["$rootScope"],angular.module("classy").run(e)})(),(()=>{function e(e,n,a,t,i,o,r,s,l,c,d,u,m){SC&&SC.campaign&&u.record(SC.campaign.id),n.CHAR_LIMITS=m,["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document||FastClick.attach(document.body),e.defaults.headers.common["csrf-token"]=i("CSRF-TOKEN"),n.MetaTags=r,window.$.FroalaEditor.DEFAULTS.key="JFOFSAGLUh1AVKb1SN==","undefined"!=typeof SC&&l.init(SC.assets),d.extendPayCurrencies(),n.$on("$stateChangeStart",function(e,n,t){n.redirectTo&&(e.preventDefault(),a.go(n.redirectTo,t))}),n.$on("$stateChangeStart",function(e,n,t){s.sync(e,n,t)}),o(),c(),_.get(t,"navigator.userAgent","").match(/MSIE|Trident/)&&angular.element("html").addClass("ie"),setTimeout(function(){WebFont.load({google:{families:["Mulish:400italic,700italic,400,300,600,700,800"]}})})}e.$inject=["$http","$rootScope","$state","$window","ipCookie","loadTwitterAPI","MetaTags","modelParams","scImgAssetsService","loadYoutubeAPI","scCurrencyService","scSourceCodes","CHAR_LIMITS"],angular.module("classy").run(e)})(),angular.module("classy").value("US_STATE_LIST",[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"DC",label:"District of Columbia"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"},{value:"AA",label:"Armed Forces (the) Americas"},{value:"AE",label:"Armed Forces Europe"},{value:"AP",label:"Armed Forces Pacific"},{value:"AS",label:"American Samoa"},{value:"GU",label:"Guam"},{value:"MP",label:"Northern Mariana Islands"},{value:"PR",label:"Puerto Rico"},{value:"VI",label:"Virgin Islands"},{value:"AB",label:"Alberta (AB)",canadian:!0},{value:"BC",label:"British Columbia (BC)",canadian:!0},{value:"MB",label:"Manitoba (MB)",canadian:!0},{value:"NB",label:"New Brunswick (NB)",canadian:!0},{value:"NL",label:"Newfoundland and Labrador (NL)",canadian:!0},{value:"NS",label:"Nova Scotia (NS)",canadian:!0},{value:"NT",label:"Northwest Territories (NT)",canadian:!0},{value:"NU",label:"Nunavut (NU)",canadian:!0},{value:"ON",label:"Ontario (ON)",canadian:!0},{value:"PE",label:"Prince Edward Island (PE)",canadian:!0},{value:"QC",label:"Quebec (QC)",canadian:!0},{value:"SK",label:"Saskatchewan (SK)",canadian:!0},{value:"YT",label:"Yukon (YT)",canadian:!0}]),angular.module("classy").constant("cpConstants",{PAYMENT_METHODS:{ACH:"ACH",PAYPAL:"PayPal",STRIPE:"Stripe",CC:"CC",DW:"DW",PAYPAL_COMMERCE:"PayPal_Commerce",VENMO:"Venmo",CRYPTO:"Crypto"},STATUS:{INACTIVE:"inactive",PENDING:"pending",READY:"ready",SUCCESS:"success",FAILURE:"failure",OPEN:"open"},EVENTS:{ACH_SUCCESS:"ACH_SUCCESS",ACH_CANCEL:"ACH_CANCEL",ACH_FAILURE:"ACH_FAILURE",PAYPAL_SUCCESS:"PAYPAL_SUCCESS",PAYPAL_CANCEL:"PAYPAL_CANCEL",PAYPAL_FAILURE:"PAYPAL_FAILURE",STRIPE_SUCCESS:"STRIPE_SUCCESS",STRIPE_CANCEL:"STRIPE_CANCEL",STRIPE_FAILURE:"STRIPE_FAILURE"}}),angular.module("classy").component("promoCodeInputField",{template:'\n    <div class="form__text-input__outer form__text-input--appended">\n      <input class="form__text-input--dark"\n        name="{{:: $ctrl.name }}"\n        placeholder="{{::$ctrl.placeholder}}"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        ng-model="$ctrl.model"\n        name="{{::$ctrl.name}}"\n        sc-validate-promo-code-input\n        sc-validity-reporter\n        sc-validity-classes\n        promo-code-error="$ctrl.promoError"\n        ng-focus="$ctrl.resetForm()"\n        type="text"\n        _spec="input">\n      <input type="submit"\n        class="submit"\n        ng-disabled="!$ctrl.form[$ctrl.name].$viewValue"\n        ng-style="$ctrl.applyPrimaryColor(!$ctrl.model)"\n        value="Apply" />\n    </div>\n\n    <form-error\n    ng-show="$ctrl.promoError.state == \'invalid\'"\n    name="$ctrl.name"\n    messages="$ctrl.errorMessagesInvalid"\n    _spec="errors"></form-error>\n\n    <form-error\n    ng-show="$ctrl.promoError.state == \'expired\'"\n    name="$ctrl.name"\n    messages="$ctrl.errorMessagesExpired"\n    _spec="errors"></form-error>\n  ',bindings:{model:"=",errorMessages:"<?",label:"<?",getterSetter:"<?",name:"<?",required:"<?",disableFlag:"=?"},require:{form:"^form"},controller:["scThemesService",function(e){var n=this,t={promoStatus:"success",errorMessagesInvalid:{promoCodeValid:"The promo code is not valid"},errorMessagesExpired:{promoCodeValid:"The promo code is not valid"},getterSetter:!1,promoError:{state:null}};this.$onInit=function(){_.defaultsDeep(n,t)},this.primaryColor=e.active.current.styles.primaryColor,this.applyPrimaryColor=function(){return n.form[n.name].$viewValue?{"background-color":n.primaryColor,"border-color":n.primaryColor}:{}},this.resetForm=function(){_.get(n.form,[n.name,"$pending","promoCodeValid"])||_.get(n.form,[n.name,"$pristine"])||(n.form.$setPristine(),n.form.$setUntouched())}}]}),angular.module("classy").constant("ALPHA_2",{AW:"Aruba",AF:"Afghanistan",AO:"Angola",AI:"Anguilla",AX:"Åland Islands",AL:"Albania",AD:"Andorra",AN:"Netherlands Antilles",AE:"United Arab Emirates",AR:"Argentina",AM:"Armenia",AS:"American Samoa",AQ:"Antarctica",TF:"French Southern Territories",AG:"Antigua and Barbuda",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BI:"Burundi",BE:"Belgium",BJ:"Benin",BF:"Burkina Faso",BD:"Bangladesh",BG:"Bulgaria",BH:"Bahrain",BS:"Bahamas",BA:"Bosnia and Herzegovina",BL:"Saint Barthélemy",BY:"Belarus",BZ:"Belize",BM:"Bermuda",BO:"Bolivia",BR:"Brazil",BB:"Barbados",BN:"Brunei Darussalam",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",CF:"Central African Republic",CA:"Canada",CC:"Cocos (Keeling) Islands",CH:"Switzerland",CL:"Chile",CN:"China",CI:"Côte d'Ivoire",CM:"Cameroon",CD:"Democratic Republic of the Congo",CG:"Congo",CK:"Cook Islands",CO:"Colombia",KM:"Comoros",CV:"Cape Verde",CR:"Costa Rica",CU:"Cuba",CX:"Christmas Island",KY:"Cayman Islands",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DM:"Dominica",DK:"Denmark",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EG:"Egypt",ER:"Eritrea",EH:"Western Sahara",ES:"Spain",EE:"Estonia",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FR:"France",FO:"Faroe Islands",FM:"Federated States of Micronesia",GA:"Gabon",GB:"United Kingdom",GE:"Georgia",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GN:"Guinea",GP:"Guadeloupe",GM:"Gambia",GW:"Guinea-Bissau",GQ:"Equatorial Guinea",GR:"Greece",GD:"Grenada",GL:"Greenland",GT:"Guatemala",GF:"French Guiana",GU:"Guam",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IE:"Ireland",IR:"Islamic Republic of Iran",IQ:"Iraq",IS:"Iceland",IL:"Israel",IT:"Italy",JM:"Jamaica",JE:"Jersey",JO:"Jordan",JP:"Japan",KZ:"Kazakhstan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KN:"Saint Kitts and Nevis",KR:"Republic of Korea",KW:"Kuwait",LA:"Lao People's Democratic Republic",LB:"Lebanon",LR:"Liberia",LY:"Libya",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MO:"Macao",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",MD:"Republic of Moldova",MG:"Madagascar",MV:"Maldives",MX:"Mexico",MH:"Marshall Islands",MK:"Macedonia",ML:"Mali",MT:"Malta",MM:"Myanmar",ME:"Montenegro",MN:"Mongolia",MP:"Northern Mariana Islands",MZ:"Mozambique",MR:"Mauritania",MS:"Montserrat",MQ:"Martinique",MU:"Mauritius",MW:"Malawi",MY:"Malaysia",YT:"Mayotte",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NU:"Niue",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NZ:"New Zealand",OM:"Oman",PK:"Pakistan",PA:"Panama",PN:"Pitcairn",PE:"Peru",PH:"Philippines",PW:"Palau",PG:"Papua New Guinea",PL:"Poland",PR:"Puerto Rico",KP:"Democratic People's Republic of Korea",PT:"Portugal",PY:"Paraguay",PS:"Palestine",PF:"French Polynesia",QA:"Qatar",RE:"Réunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SD:"Sudan",SN:"Senegal",SG:"Singapore",GS:"South Georgia and the South Sandwich Islands",SH:"Saint Helena, Ascension and Tristan da Cunha",SJ:"Svalbard and Jan Mayen",SB:"Solomon Islands",SL:"Sierra Leone",SV:"El Salvador",SM:"San Marino",SO:"Somalia",PM:"Saint Pierre and Miquelon",RS:"Serbia",ST:"Sao Tome and Principe",SR:"Suriname",SK:"Slovakia",SI:"Slovenia",SE:"Sweden",SZ:"Swaziland",SC:"Seychelles",SY:"Syrian Arab Republic",TC:"Turks and Caicos Islands",TD:"Chad",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TM:"Turkmenistan",TL:"Timor-Leste",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TV:"Tuvalu",TW:"Taiwan",TZ:"United Republic of Tanzania",UG:"Uganda",UA:"Ukraine",UM:"United States Minor Outlying Islands",UY:"Uruguay",US:"United States",UZ:"Uzbekistan",VA:"Vatican City",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"}),angular.module("classy").constant("ALPHA_3",{ABW:"Aruba",AFG:"Afghanistan",AGO:"Angola",AIA:"Anguilla",ALA:"Åland Islands",ALB:"Albania",AND:"Andorra",ANT:"Netherlands Antilles",ARE:"United Arab Emirates",ARG:"Argentina",ARM:"Armenia",ASM:"American Samoa",ATA:"Antarctica",ATF:"French Southern Territories",ATG:"Antigua and Barbuda",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BDI:"Burundi",BEL:"Belgium",BEN:"Benin",BFA:"Burkina Faso",BGD:"Bangladesh",BGR:"Bulgaria",BHR:"Bahrain",BHS:"Bahamas",BIH:"Bosnia and Herzegovina",BLM:"Saint Barthélemy",BLR:"Belarus",BLZ:"Belize",BMU:"Bermuda",BOL:"Bolivia",BRA:"Brazil",BRB:"Barbados",BRN:"Brunei Darussalam",BTN:"Bhutan",BVT:"Bouvet Island",BWA:"Botswana",CAF:"Central African Republic",CAN:"Canada",CCK:"Cocos (Keeling) Islands",CHE:"Switzerland",CHL:"Chile",CHN:"China",CIV:"Côte d'Ivoire",CMR:"Cameroon",COD:"Democratic Republic of the Congo",COG:"Congo",COK:"Cook Islands",COL:"Colombia",COM:"Comoros",CPV:"Cape Verde",CRI:"Costa Rica",CUB:"Cuba",CXR:"Christmas Island",CYM:"Cayman Islands",CYP:"Cyprus",CZE:"Czech Republic",DEU:"Germany",DJI:"Djibouti",DMA:"Dominica",DNK:"Denmark",DOM:"Dominican Republic",DZA:"Algeria",ECU:"Ecuador",EGY:"Egypt",ERI:"Eritrea",ESH:"Western Sahara",ESP:"Spain",EST:"Estonia",ETH:"Ethiopia",FIN:"Finland",FJI:"Fiji",FLK:"Falkland Islands (Malvinas)",FRA:"France",FRO:"Faroe Islands",FSM:"Federated States of Micronesia",GAB:"Gabon",GBR:"United Kingdom",GEO:"Georgia",GGY:"Guernsey",GHA:"Ghana",GIB:"Gibraltar",GIN:"Guinea",GLP:"Guadeloupe",GMB:"Gambia",GNB:"Guinea-Bissau",GNQ:"Equatorial Guinea",GRC:"Greece",GRD:"Grenada",GRL:"Greenland",GTM:"Guatemala",GUF:"French Guiana",GUM:"Guam",GUY:"Guyana",HKG:"Hong Kong",HMD:"Heard Island and McDonald Islands",HND:"Honduras",HRV:"Croatia",HTI:"Haiti",HUN:"Hungary",IDN:"Indonesia",IMN:"Isle of Man",IND:"India",IOT:"British Indian Ocean Territory",IRL:"Ireland",IRN:"Islamic Republic of Iran",IRQ:"Iraq",ISL:"Iceland",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JEY:"Jersey",JOR:"Jordan",JPN:"Japan",KAZ:"Kazakhstan",KEN:"Kenya",KGZ:"Kyrgyzstan",KHM:"Cambodia",KIR:"Kiribati",KNA:"Saint Kitts and Nevis",KOR:"Republic of Korea",KWT:"Kuwait",LAO:"Lao People's Democratic Republic",LBN:"Lebanon",LBR:"Liberia",LBY:"Libya",LCA:"Saint Lucia",LIE:"Liechtenstein",LKA:"Sri Lanka",LSO:"Lesotho",LTU:"Lithuania",LUX:"Luxembourg",LVA:"Latvia",MAC:"Macao",MAF:"Saint Martin",MAR:"Morocco",MCO:"Monaco",MDA:"Republic of Moldova",MDG:"Madagascar",MDV:"Maldives",MEX:"Mexico",MHL:"Marshall Islands",MKD:"Macedonia",MLI:"Mali",MLT:"Malta",MMR:"Myanmar",MNE:"Montenegro",MNG:"Mongolia",MNP:"Northern Mariana Islands",MOZ:"Mozambique",MRT:"Mauritania",MSR:"Montserrat",MTQ:"Martinique",MUS:"Mauritius",MWI:"Malawi",MYS:"Malaysia",MYT:"Mayotte",NAM:"Namibia",NCL:"New Caledonia",NER:"Niger",NFK:"Norfolk Island",NGA:"Nigeria",NIC:"Nicaragua",NIU:"Niue",NLD:"Netherlands",NOR:"Norway",NPL:"Nepal",NRU:"Nauru",NZL:"New Zealand",OMN:"Oman",PAK:"Pakistan",PAN:"Panama",PCN:"Pitcairn",PER:"Peru",PHL:"Philippines",PLW:"Palau",PNG:"Papua New Guinea",POL:"Poland",PRI:"Puerto Rico",PRK:"Democratic People's Republic of Korea",PRT:"Portugal",PRY:"Paraguay",PSE:"Palestine",PYF:"French Polynesia",QAT:"Qatar",REU:"Réunion",ROU:"Romania",RUS:"Russian Federation",RWA:"Rwanda",SAU:"Saudi Arabia",SDN:"Sudan",SEN:"Senegal",SGP:"Singapore",SGS:"South Georgia and the South Sandwich Islands",SHN:"Saint Helena, Ascension and Tristan da Cunha",SJM:"Svalbard and Jan Mayen",SLB:"Solomon Islands",SLE:"Sierra Leone",SLV:"El Salvador",SMR:"San Marino",SOM:"Somalia",SPM:"Saint Pierre and Miquelon",SRB:"Serbia",STP:"Sao Tome and Principe",SUR:"Suriname",SVK:"Slovakia",SVN:"Slovenia",SWE:"Sweden",SWZ:"Swaziland",SYC:"Seychelles",SYR:"Syrian Arab Republic",TCA:"Turks and Caicos Islands",TCD:"Chad",TGO:"Togo",THA:"Thailand",TJK:"Tajikistan",TKL:"Tokelau",TKM:"Turkmenistan",TLS:"Timor-Leste",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TUV:"Tuvalu",TWN:"Taiwan",TZA:"United Republic of Tanzania",UGA:"Uganda",UKR:"Ukraine",UMI:"United States Minor Outlying Islands",URY:"Uruguay",USA:"United States",UZB:"Uzbekistan",VAT:"Vatican City",VCT:"Saint Vincent and the Grenadines",VEN:"Venezuela",VGB:"Virgin Islands, British",VIR:"Virgin Islands, U.S.",VNM:"Viet Nam",VUT:"Vanuatu",WLF:"Wallis and Futuna",WSM:"Samoa",YEM:"Yemen",ZAF:"South Africa",ZMB:"Zambia",ZWE:"Zimbabwe"}),angular.module("classy").constant("CHANNEL",{FB:"Facebook",DTD:"DoubletheDonation",CAPI:"MetaCapi",FRAPI:"MetaFrapi"}),angular.module("classy").constant("CHAR_LIMITS",{DEFAULT_ALT_TEXT:255,DEFAULT_PAGE_APPEAL:255,DEFAULT_PAGE_POST_TITLE:245,DEFAULT_PAGE_COMMENT:1e3,DEFAULT_PAGE_CUSTOM_QUESTION:255}),angular.module("classy").constant("LOCAL_HOST_URL","http://localhost.classy-test.org:4000"),angular.module("classy").constant("CLASSY_DOMAINS",["classy.org","classy-test.org","localhost","classy-lab.org"]),angular.module("classy").constant("CLASSY_GIVE_DOMAIN","https://give.classy.org"),angular.module("classy").constant("COPY",{PERMISSIONS:{permissionDenied:'You do not have permission to access this feature. <a href="https://support.classy.org/s/article/roles-and-permissions" target="_blank" rel="noreferrer noopener">Learn more about roles and permissions</a>.',permissionDeniedHeader:"You do not have permission to access this data.",permissionDeniedSubheader:'Learn more about roles and permissions <a href="https://support.classy.org/s/article/roles-and-permissions" target="_blank" rel="noreferrer noopener">here</a>.'}}),angular.module("classy").constant("EMAIL_VALIDATION_REGEX",/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),angular.module("classy").constant("globalExperimentSwitch",{RECURRING_EXPERIMENT:!0}),angular.module("classy").constant("PERMISSIONS",{campaign:{create_fundraising_team_admin:{action:"create_fundraising_team_admin",entity:"campaign"},create_transaction_offline:{action:"create_transaction_offline",entity:"campaign"},fetch_admin:{action:"fetch_admin",entity:"campaign"},update_settings:{action:"update_settings",entity:"campaign"},list_transactions:{action:"list_transactions",entity:"campaign"},list_registrations:{action:"list_registrations",entity:"campaign"},list_recurring_donation_plans:{action:"list_recurring_donation_plans",entity:"campaign"},list_fundraising_teams:{action:"list_fundraising_teams",entity:"campaign"},list_fundraising_pages:{action:"list_fundraising_pages",entity:"campaign"},update_custom_code:{action:"update_custom_code",entity:"campaign"},view_reporting:{action:"view_reporting",entity:"campaign"}},cart:{confirm_offline:{action:"confirm_offline",entity:"cart"}},classy_admin:{access:{action:"access",entity:"classy-admin"}},email_settings:{update:{action:"update",entity:"email-settings"}},transaction:{update:{action:"update",entity:"transaction"}},fundraising_team:{update:{action:"update",entity:"fundraising-team"}},fundraising_page:{update:{action:"update",entity:"fundraising-page"}},theme:{update:{action:"update",entity:"theme"}},recurring_donation_plan:{update:{action:"update",entity:"recurring-donation-plan"}}}),angular.module("classy").constant("ticketTerms",{tickets:{singular:"ticket",plural:"tickets",cta:"Get Tickets"},registrations:{singular:"registration",plural:"registrations",cta:"Register"},entries:{singular:"entry",plural:"entries",cta:"Get Entries"}}),angular.module("classy").value("whitelistedProperties",{DONATION_WHITELIST:["campaign_id","charged_total_gross_amount","charged_currency_code","charged_fees_amount","charged_classy_fees_amount","charged_pp_fees_amount","company_name","created_at","designation_id","designation_name","designation_external_reference_id","donation_gross_amount","donation_net_amount","email","fee_on_top","first_name","fundraising_page_id","fundraising_team_id","has_dedication","id","institution","is_anonymous","is_gift_aid","last_name","member_id","organization_id","overhead_net_amount","promo_code_code","purchased_at","raw_donation_gross_amount","raw_currency_code","raw_overhead_net_amount","raw_total_gross_amount","total_gross_amount","recurring_donation_plan_id","refunded_at","status","tax_entity_id","payment_source"],FUNDRAISER_WHITELIST:["alias","campaign_id","created_at","normalized_currency_code","designation_id","designation_name","fundraising_team_id","normalized_goal","id","member_id","organization_id","raw_currency_code","raw_goal","currency_code","goal","status","team_role","title"],TEAM_WHITELIST:["average_donation","normalized_currency_code","normalized_goal","id","name","goal","currency_code","raw_goal","raw_currency_code","normalized_currency_code","normalized_goal","team_lead_id","total_donations","total_donors","total_fundraisers","total_raised","percent_to_goal"],CART_WHITELIST:["campaign_id","charged_currency_code","donation_included","donation_fee_on_top","donation_frequency","donation_total","id","member_id","raw_currency_code","registration_fee_on_top","registration_fees","registration_total","total_fees","transaction_total","items"],CART_ITEM_WHITELIST:["adjustment_amount","cart_id","entries","id","overhead_amount","price","product_id","promo_code_id","registrants"],CART_REGISTRANT_WHITELIST:["cart_item_id","donation_share","email","first_name","id","last_name","registration_id"],ZIPCODE_BLACKLIST:["036","692","878","059","790","879","063","821","884","102","823","890","830","893","556","831"]}),angular.module("classy").constant("CG_COINS",[{symbol:"ETH",name:"Ethereum"},{symbol:"BTC",name:"Bitcoin"},{symbol:"USDC",name:"USDC"}]).constant("CG_COIN_DIGITS",1e8).constant("CG_DONATION_AMOUNTS",[{amount:500,display_on_page:!0},{amount:100,display_on_page:!0},{amount:50,display_on_page:!0},{amount:25,display_on_page:!0}]).constant("CG_EVENTS",{donation:"crypto-giving:root",contact:"crypto-giving:contact",wallet:"crypto-giving:deposit"}).constant("CG_STATUSES",{disabled:"disabled",enabled:"enabled"}),angular.module("classy").controller("CryptoGivingCheckoutCtrl",["$scope","scAnalytics","CG_EVENTS","EmbeddedGivingColors","EmbeddedGivingUtil","CryptoGiving","CryptoGivingDAL","CryptoGivingPaths","CryptoGivingUtil","CryptoGivingCampaignUtil",function(n,t,a,e,i,o,r,s,l,c){n.CryptoGiving=o,n.CryptoGivingPaths=s,n.CryptoGivingUtil=l,c.init(n.campaign),n.cg={primaryColor:e.getPrimary(n.theme),backgroundColor:e.getAccent(n.theme),logoUrl:function(){return i.getLogoUrl(n.page,n.theme)},donationAmounts:c.donationAmounts,checkoutStep:"donation",isVisibleMoreOptions:!1,isAmountCustom:!1,isAmountUSD:!0,amount:void 0,amountDraft:void 0,amountConverted:void 0},n.goCheckoutDonation=function(){n.setActiveCheckoutStep("donation"),t.track(a.donation,l.getAnalyticsEventData())},n.goCheckoutContact=function(){n.setActiveCheckoutStep("contact"),t.track(a.contact,l.getAnalyticsEventData())},n.goCheckoutWallet=function(){var e;n.cg.isCheckoutOut||(n.cg.isCheckingOut=!0,t.track(a.wallet,l.getAnalyticsEventData()),e=n.cg.isAmountUSD?n.ActiveCoin.convertUSD(n.cg.amount):n.cg.amount,e={symbol:n.ActiveCoin.symbol,amount:+e,member_first_name:n.META.member_first_name,member_last_name:n.META.member_last_name,member_email_address:n.MODEL.member_email_address,billing_postal_code:n.MODEL.billing_postal_code,opt_in:n.MODEL.opt_in,opt_in_wording:n.MODEL.opt_in_wording,hide_amount:!!n.MODEL.hide_amount,is_anonymous:!!n.MODEL.is_anonymous},n.cg.hasProgramDesignations&&(e.designation_id=n.MODEL.designation_id),r.checkout(e).then(function(){n.setActiveCheckoutStep("wallet")}).finally(function(){n.cg.isCheckingOut=!1}))},n.setActiveCoin=function(e){n.ActiveCoin=o.getCoin(e),r.getMarketData(n.ActiveCoin)},n.setActiveCheckoutStep=function(e){n.cg.checkoutStep=e},n.toggleVisibilityMoreOptions=function(){n.cg.isVisibleMoreOptions=!n.cg.isVisibleMoreOptions},n.setActiveCoin("BTC")}]).controller("CryptoGivingCheckoutDonationCtrl",["$sce","$scope","$timeout","CG_COIN_DIGITS",function(e,t,a,i){t.getHeadlineTrustedHtml=function(){return e.trustAsHtml(t.block.headline)},t.isValidCheckoutDonation=function(){return!!t.ActiveCoin&&!(!t.cg.amount||t.cg.amount<=0)},t.setActiveAmount=function(e,n){e=+e;0<e&&(t.cg.isAmountCustom=!n,n&&(t.cg.isAmountUSD=!0,t.cg.amountDraft=void 0),t.cg.isAmountCustom&&(e=t.cg.isAmountUSD?Math.round(100*e)/100:Math.round(e*i)/i,t.cg.amountDraft=e),t.cg.amount=e)},t.setActiveAmountBlur=function(e){+e<=0?(t.cg.amountDraft=void 0,t.cg.amount=void 0):t.setActiveAmount(e)},t.toggleAmountUSD=function(){var e;t.cg.isAmountCustom&&(t.cg.isAmountUSD=!t.cg.isAmountUSD,t.cg.isAmountUSD?(e=t.ActiveCoin.convertCoinRaw(t.cg.amountDraft),t.cg.amountDraft=e,t.cg.amount=e):(e=t.ActiveCoin.convertUSD(t.cg.amountDraft),t.cg.amountDraft=e,t.cg.amount=e))},_.extend(t.CONSTANTS,{SELECT_DESIGNATION_REQUIRED_ERROR_TEXT:"Please select a designation from the list."}),0<t.campaign.current.designations_count&&(t.designationOptions={check:{enabled:!1},containerClass:"full",fieldName:"designation",sublabel:"What would you like your donation to support?",valueKey:"id",labelKey:"name"},t.campaign.getDesignations().then(function(e){var e=(e.data||{}).data,n=(t.list.designations=e,t.list.designations&&t.list.designations.length);n&&a(function(){t.MODEL.designation=t.list.designations[0],t.cg.hasProgramDesignations=1<n})}))}]).controller("CryptoGivingCheckoutContactCtrl",["$scope",function(n){n.isValidCryptoContact=function(){var e=n.FORM;return!!(e.member_first_name.$valid&&e.member_last_name.$valid&&e.member_email_address.$valid&&n.MODEL.billing_postal_code&&n.MODEL.billing_postal_code.length)}}]).controller("CryptoGivingCheckoutWalletCtrl",["$scope",function(n){n.ActiveCoin||n.goCheckoutDonation(),n.copyDepositAddress=function(){var e=document.createElement("textarea");e.value=n.ActiveCoin.depositAddress,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}]).controller("CryptoGivingToggleCtrl",["$scope","CryptoGiving","EmbeddedGivingColors",function(e,n,t){e.CryptoGiving=n,e.cg={primaryColor:t.getPrimary(e.theme),backgroundColor:t.getAccent(e.theme)},e.showCryptoGiving=function(){n.show()},e.hideCryptoGiving=function(){n.hide()}}]),angular.module("classy").service("CryptoGiving",["scOrganizationsService","$log","CG_COINS","CryptoGivingPaths","CryptoGivingWallet",function(e,n,t,a,i){this.activeStep="donation",this.pathCheckout=a.checkout,this.pathToggle=a.toggle,this.isEnabled=!1,this.isHidden=!0,this.wallet=i.init({coins:t}),this.init=function(e){return this.hasAccess()?this.hasProcessor()?(e=e||{},this.isEnabled=(_.isBoolean(e.isEnabled)?e:this).isEnabled,this.isHidden=(_.isBoolean(e.isHidden)?e:this).isHidden):n.err("[Classy:CryptoGiving] no processor."):n.err("[Classy:CryptoGiving] no access."),this},this.getCoin=function(e){return this.wallet.getCoin(e)},this.hasAccess=function(){return!!e.getTag("early-access:crypto-giving",!0)},this.hasProcessor=function(){return!!(SC&&SC.processors&&SC.processors.Crypto&&SC.processors.Crypto.id&&"ACTIVE"===SC.processors.Crypto.status)},this.enabled=function(){return this.isEnabled},this.hidden=function(){return this.isHidden},this.show=function(){this.isHidden=!1},this.hide=function(){this.isHidden=!0}}]),angular.module("classy").directive("amTimeAgo",function(){return{scope:{timeAgo:"<?amTimeAgo"},template:'<span class="timeago">{{ago}}</span>',link:function(e){e.ago=moment(e.timeAgo).fromNow()}}}),(()=>{function e(i){return{require:"ngModel",link:function(e,n,t,a){n.on("input",function(){i(function(){n.val()||a.$setViewValue(n.val())})})}}}e.$inject=["$timeout"],angular.module("classy").directive("ieModelFix",e)})(),angular.module("classy").directive("merge",function(){return{transclude:!0,link:function(e,t,n,a,i){i(function(e){var n=t.attr("class").split(" ");_.forEach(n,function(e){return t.parent().addClass(e)}),e.appendTo(t.parent()),t.remove()})}}}),angular.module("classy").directive("scAccordionList",function(){return function(e,t,a){function n(e){var n=angular.element(e);n.bind("click",function(){n.hasClass("on")?(n.removeClass("on"),n.next().removeClass("on")):(a.collapseRest&&t.find(".on").removeClass("on"),n.addClass("on"),n.next().addClass("on"))})}e.$watch(function(){return t[0].childNodes.length},function(){"DL"==t[0].tagName&&t.find("dt").toArray().forEach(n)})}}),(()=>{function e(c,d){return{require:["ngModel","^?form"],scope:{class:"@",name:"@",placeholder:"@",parser:"&",required:"=?"},template:' \n        <style>\n          .prediction-list {\n            position: absolute;\n            top: 100%;\n            left: 0;\n            right: 0;\n            max-height: 200px;\n            overflow-y: auto;\n            background-color: white;\n            border: 1px solid #ccc;\n            border-top: none;\n            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);\n            z-index: 1000;\n            padding: 0;\n            margin: 0;\n            list-style-type: none;\n          }\n\n          .prediction-list li {\n            padding: 10px;\n            cursor: pointer;\n            border-bottom: 1px solid #eee;\n          }\n\n          .prediction-list li:last-child {\n            border-bottom: none;\n          }\n\n          .prediction-list li:hover {\n            background-color: #f1f1f1;\n          }\n        </style>\n        <div style="position: relative;">\n          <input type="text" class={{class}} name={{name}} placeholder={{placeholder}} required data-sc-form-error="highlight if {{name}} fails" />\n          <ul ng-show="showPredictions()" class="prediction-list">\n            <li ng-repeat="prediction in predictions" ng-click="selectPrediction(prediction)">\n              {{ prediction.description }}\n            </li>\n          </ul>\n        </div>\n      ',link:function(t,e,n,a){var i=a[0],o=e.find("input"),a=e.find("ul"),r=(t.autocomplete=null,t.placeholder=n.placeholder,t.predictions=[],void 0),s=void 0,l=void 0;o.on("keydown",function(e){27==e.keyCode&&o.blur(),13==e.keyCode&&(e.preventDefault(),e.stopPropagation())}),o.on("input",function(e){var n=e.target.value;i.$setViewValue(n),r&&c.cancel(r),3<=n.length?r=c(function(){var e;e=n,s&&s.getPlacePredictions({input:e,types:["address"]},function(e,n){t.$apply(function(){t.predictions=n===google.maps.places.PlacesServiceStatus.OK?e:[]})})},400):t.$apply(function(){t.predictions=[]})}),o.on("focus",function(){t.$apply(function(){t.isFocused=!0}),o.attr("autocomplete","non-standard-value")}),o.on("blur",function(){t.isClickingPrediction||t.$apply(function(){t.isFocused=!1}),o.removeAttr("autocomplete")}),a.on("mousedown",function(){t.isClickingPrediction=!0}),a.on("mouseup",function(){t.isClickingPrediction=!1}),d.then(function(){s=new google.maps.places.AutocompleteService,l=new google.maps.places.PlacesService(o[0])}),t.showPredictions=function(){return t.isFocused&&0<t.predictions.length},t.selectPrediction=function(e){t.predictions=[],l&&l.getDetails({placeId:e.place_id},function(e,n){n===google.maps.places.PlacesServiceStatus.OK&&e.address_components&&(n=(a=>{var i={subpremise:"",number:"",street:"",city:"",state:"",country:"",postalCode:"",postalCodeSuffix:""},n="",e=(_.forEach(a.address_components,function(e){-1<e.types.indexOf("country")&&(n=e.short_name)}),[]);return e={subpremise:["subpremise"],number:["street_number"],street:["route"],city:e="US"==n?["administrative_area_level_5","administrative_area_level_4","administrative_area_level_3","sublocality_level_1","locality"]:["administrative_area_level_5","administrative_area_level_4","administrative_area_level_3","administrative_area_level_2","postal_town","locality"],state:["administrative_area_level_1"],country:["country"],postalCode:["postal_code"],postalCodeSuffix:["postal_code_suffix"]},_.forEach(e,function(e,t){_.forEach(e,function(n){_.forEach(a.address_components,function(e){-1<e.types.indexOf(n)&&(i[t]="country"==t||"state"==t?e.short_name:e.long_name)})})}),i.address=(i.number+" "+i.street).trim(),i.postalCode+=i.postalCodeSuffix?"-"+i.postalCodeSuffix:"",i})(e),o.val(n.address),t.parser({response:n}),i.$setViewValue(n.address))})}}}}e.$inject=["$timeout","loadGoogleMapsAPI"],angular.module("classy").directive("scAddressLookup",e)})(),angular.module("classy").directive("scAllowHtml",function(){return function(e,n,t){e.$watch(t.scAllowHtml,function(){n.html(e.$eval(t.scAllowHtml))})}}),(()=>{function e(t){return{scope:{scCdnSrc:"@"},link:function(e,n){n.attr("src",t(e.scCdnSrc))}}}e.$inject=["generateAssetUrl"],angular.module("classy").directive("scCdnSrc",e)})(),angular.module("classy").directive("scClipboard",function(){return{scope:{clipText:"=scClipboard",clipTarget:"@scClipTarget",copiedTarget:"@scCopiedTarget",tooltipText:"@scErrorTooltipText",tooltipPlacement:"=scErrorTooltipPlacement",tooltipClass:"@scErrorTooltipClass",suppressTooltip:"@scSuppressErrorTooltip",scClipboardSuccess:"&",scClipboardError:"&"},link:function(a,t){function i(e){var n=t;(n=a.copiedTarget?angular.element(a.copiedTarget):n).addClass(e),setTimeout(function(){n.removeClass(e)},3e3)}t.on("click",function(){navigator.permissions.query({name:"clipboard-write"}).then(function(e){return"granted"===e.state||"prompt"===e.state?a.clipText?navigator.clipboard.writeText(a.clipText):a.clipTarget?(e=angular.element(a.clipTarget)[0].innerHTML,navigator.clipboard.write([new window.ClipboardItem({"text/html":new Blob([e],{type:"text/html"})})])):Promise.reject(new Error("Missing copy text or target")):Promise.reject(new Error("Clipboard permission denied"))}).then(e,n)});var e=function(e){a.$apply(function(){i("copied"),a.scClipboardSuccess({e:e})})},n=function(e){var n=$(e.trigger),t=_.defaults(a.tooltipPlacement,{my:"left center",at:"right center",target:n});a.suppressTooltip||n.qtip({content:{text:a.tooltipText},position:t,style:{classes:"qtip-plain qtip-dark "+a.tooltipClass},show:{event:function(){setTimeout(function(){n.qtip("destroy",!0)},3e3)}}}).qtip("show"),a.$apply(function(){i("not-copied"),a.scClipboardError({e:e})})}}}}),(()=>{function e(o,r){return{link:function(n,t,a){function i(){var e=r(a.scCompile)(n),e=o(angular.element("<div>"+e+"</div>"))(n);t.html(e)}i(),n.$watch(a.scCompile,function(e,n){e!==n&&i()})}}}e.$inject=["$compile","$parse"],angular.module("classy").directive("scCompile",e)})(),(()=>{function e(i,o){return{scope:{content:"=scCompileSass",to:"=",wrapWith:"@?",output:"@?"},link:function(t,a){var e=_.debounce(function(e,n){e!==n&&(e=t.wrapWith?t.wrapWith+"{"+t.content+"}":t.content,o.compile(e,function(e){e.message&&i.error(e.formatted),t.$apply(function(){t.to=e.text}),t.output&&a.html(e.text)}))},1e3);t.$watch("content",e)}}}e.$inject=["$log","sass"],angular.module("classy").directive("scCompileSass",e)})(),angular.module("classy").directive("scConvertToNumber",function(){return{require:"ngModel",link:function(e,n,t,a){a.$parsers.push(function(e){return parseInt(e,10)}),a.$formatters.push(function(e){return""+e})}}}),angular.module("classy").directive("scCreditCardValidation",function(){return{restrict:"A",require:"ngModel",link:function(e,n,t,a){var i=function(e){if(/[^0-9-\s]+/.test(e))return!1;for(var n=0,t=0,a=!1,i=e.replace(/\D/g,""),o=i.length-1;0<=o;--o){var r=i.charAt(o),t=parseInt(r,10);a&&9<(t*=2)&&(t-=9),n+=t,a=!a}return n%10==0};function o(e){return a.$setValidity("sc-credit-card-validation",i(e)),e}a.$parsers.push(o),a.$formatters.push(o)}}}),(()=>{function e(o){return function(e,n,t){var a=t.scCtxBind;function i(){n.text(o(a)(e))}e.public?i():e.$watch(a,i)}}e.$inject=["$parse"],angular.module("classy").directive("scCtxBind",e)})(),(()=>{function e(o){return function(e,n,t){var a=t.scCtxBindHtml;function i(){n.html(o.parseAs("html",a)(e))}e.public?i():e.$watch(a,i)}}e.$inject=["$sce"],angular.module("classy").directive("scCtxBindHtml",e)})(),(()=>{e.$inject=["$filter"];var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function e(s){return{require:"ngModel",scope:{min:"<?",max:"<?",allowNull:"<?",round:"<?roundCurrency",symbol:"@?"},link:function(t,e,n,a){var i=t.symbol||"";function o(e){var n=parseFloat(e.replace(/[^0-9.]/g,""));return""===e?null:_.isNaN(n)?void 0:t.round?Math.round(n):Math.round(100*n)/100}function r(e){switch(void 0===e?"undefined":l(e)){case"number":return s("currency")(e,i,t.round?0:2);case"string":var n=parseFloat(e);return""===e?"":_.isNaN(n)?e:r(n);default:return""}}a.$isEmpty=function(e){return null==e||""===e},a.$parsers.push(o),a.$formatters.push(r),e.on("blur",function(){var e;a.$error.parse||(e=r(o(a.$viewValue)),a.$setViewValue(e),a.$render())}),e.on("keydown",function(e){var n=e.key,t=e.target.value;"Backspace"===n||"Delete"===n||"Enter"===n||"ArrowLeft"===n||"ArrowRight"===n||"ArrowUp"==n||"ArrowDown"==n||e.ctrlKey&&"a"==n||e.metaKey&&"a"==n||"Tab"===n||("."!==n||-1===t.indexOf("."))&&/[\d.]/.test(n)||e.preventDefault()}),_.isUndefined(t.min)||(a.$validators.min=function(e){return!(!t.allowNull||null!==e)||(a.$isEmpty(e)?null:e>=t.min)}),_.isUndefined(t.max)||(a.$validators.max=function(e){return!(!t.allowNull||null!==e)||(a.$isEmpty(e)?null:e<=t.max)}),t.$on("$destroy",function(){e.off("blur"),e.off("keydown")})}}}angular.module("classy").directive("scCurrency",e)})(),(()=>{function e(c){return{scope:{scDateTime:"=",model:"=",useMoment:"<?"},link:function(l){var t=!1;l.$watch("model",function(e){var n;null!=e&&0==t&&(n=void 0,n=l.useMoment?moment(e).toDate():c.toJs(e),l.scDateTime={date:n,time:n},t=!0)}),l.$watch("scDateTime",function(e){var n,t,a,i,o,r,s;e&&e.date&&e.time?l.useMoment?l.model=moment(e.date).format("YYYY-MM-DD HH:mm:ss"):(s=new Date,i=e.time.getHours(),o=e.time.getMinutes(),r=e.time.getSeconds(),n=e.date.getFullYear(),t=e.date.getMonth(),a=e.date.getDate(),s.setFullYear(n),s.setMonth(t),s.setDate(a),s.setHours(i),s.setMinutes(o),s.setSeconds(r),l.model=c.toMysql(s)):e&&e.date&&(l.useMoment?l.model=moment(e.date).format("YYYY-MM-DD HH:mm:ss"):(n=new Date,t=e.date.getHours(),a=e.date.getMinutes(),i=e.date.getSeconds(),o=e.date.getFullYear(),r=e.date.getMonth(),s=e.date.getDate(),n.setFullYear(o),n.setMonth(r),n.setDate(s),n.setHours(t),n.setMinutes(a),n.setSeconds(i),l.model=c.toMysql(n)))},!0)}}}e.$inject=["mySqlDateTime"],angular.module("classy").directive("scDateTime",e)})(),(()=>{function e(c,a,i){return{scope:{scDateTimezoneTime:"=",model:"=",tz:"=?",dateFormat:"@?",noNullPrepopulate:"=?"},link:function(l){var e,n,t;l.noNullPrepopulate&&!l.model?l.scDateTimezoneTime={}:(e=l.tz||_.get(i,"active.current.timezone_identifier",moment.tz.guess()),n=l.model?c.convertUtcToTimezone(l.model,e):c.convertClientTimetoTimezone((new Date).getTime(),e),t=l.scDateTimezoneTime||{},a(function(){l.scDateTimezoneTime={datetime:t.datetime||n,timezone:t.timezone||e}})),l.$watch("scDateTimezoneTime",function(){var e=l.scDateTimezoneTime;{var n,t,a,i,o,r,s;e&&e.datetime&&(n=new Date,t=e.datetime.getHours(),a=e.datetime.getMinutes(),i=e.datetime.getSeconds(),o=e.datetime.getFullYear(),r=e.datetime.getMonth(),s=e.datetime.getDate(),n.setFullYear(o),n.setMonth(r,s),n.setHours(t),n.setMinutes(a),n.setSeconds(i),l.model=c.convertTimezoneToUtc(n,e.timezone,l.dateFormat))}},!0),l.$watch("tz",function(){l.tz&&(l.scDateTimezoneTime.timezone=l.tz)},!0)}}}e.$inject=["mySqlDateTime","$timeout","scCampaignsService"],angular.module("classy").directive("scDateTimezoneTime",e)})(),(()=>{function e(t){return{scope:{scDonatePreview:"<"},link:function(n,e){e.on("click",function(e){n.scDonatePreview&&(e.preventDefault(),t.SC.status.banner={type:"error",msg:"Whoops, this is just a preview of a page. You can donate from your published landing page."})})}}}e.$inject=["$rootScope"],angular.module("classy").directive("scDonatePreview",e)})(),angular.module("classy").directive("scFallbackSrc",function(){return{scope:{scFallbackSrc:"@"},link:function(e,n,t){t.ngSrc&&void 0!==t.ngSrc||n.attr("src",e.scFallbackSrc)}}}),angular.module("classy").directive("scFileDrop",function(){return{scope:{cb:"=scFileDrop"},link:function(t,a){a.on("dragover dragenter",function(e){e.preventDefault(),e.stopPropagation(),a.addClass("fileover")}),a.on("dragleave dragexit",function(e){e.preventDefault(),e.stopPropagation(),a.removeClass("fileover")}),a.on("drop",function(e){e.preventDefault(),e.stopPropagation(),a.removeClass("fileover"),a.addClass("processing");var n=e.originalEvent.dataTransfer.files;t.$apply(function(){t.cb(n)})})}}}),(()=>{function e(h,v){return{scope:{parentContainer:"=?parentContainer",titleContainer:"=?titleContainer",mode:"=?scFillerText",offset:"=?fillerOffset"},link:function(d,n){var u=0,m=0,g=0,p=[],t=[];function f(e){return _.isEmpty(t)&&_.forEach(e,function(e){e.style.fontSize?t.push(e.style.fontSize):t.push(window.getComputedStyle(e,null).getPropertyValue("font-size"))}),t}d.titleContainer&&(d.parentContainer||(d.parentContainer=n),d.offset||(d.offset=0),_.isEmpty(d.mode)?(m=55,g=30,u=Modernizr.mq("(max-width: 1024px)")?40:0):(u=m=0,Modernizr.mq("(max-width: 568px)")&&(m=d.mode.fontBase||0,u=d.mode.fontRatio||0)),u)&&h(function(){var t,a,i,o,r,s=n[0].querySelector(d.titleContainer),e=document.querySelector(d.parentContainer),l=void 0,c=void 0;s&&(c=function a(e){return e.childNodes&&_.forEach(e.childNodes,function(n){_.isEmpty(n.childNodes)||(n.style.fontFamily&&_.forEach(n.childNodes,function(e){_.get(e,"style.fontFamily",!1)||(e.style||(e.style={}),e.style.fontFamily=n.style.fontFamily)}),n.style.fontSize&&_.forEach(n.childNodes,function(e){_.get(e,"style.fontSize",!1)||(e.style||(e.style={}),e.style.fontSize=n.style.fontSize)}));var e=_.find(n.childNodes,function(e){return"#text"===e.nodeName}),t=_.find(n.childNodes,function(e){return"BR"===e.nodeName})&&v.isIOSx();e||"BR"===_.get(n,"nodeName","")||t?(_.get(n,"style.fontSize",!1)||("subheading"==n.className?n.style.fontSize=Math.floor(g*u/m).toString()+"px":(n.style.fontSize=u.toString()+"px",n.style.lineHeight="1.2")),_.find(n.childNodes,function(e){return"#text"!=e.nodeName})&&a(n),p.push(n)):n&&(_.get(n,"style",!1)||(n.style={}),n.style.lineHeight="1.2","LI"===_.get(n,"nodeName","")?n.style.fontSize=u.toString()+"px":n.style.fontSize="0",a(n))}),p}(s),l=f(c),_.forEach(c,function(e,n){n=l[n]||e.style.fontSize,n=parseInt(n,10)*u/m,n=Math.floor(n);e.style.fontSize=n+"px"})),e&&(t=void 0,a=!1,i=e.clientHeight,o=!0,r=1,h(function(){t=parseInt(window.getComputedStyle(s,null).getPropertyValue("height"),10)-d.offset}).then(function(){function e(e){var n=parseInt(e.style.fontSize,10);e.style.fontSize=Math.floor(n-Math.pow(.4,r)*n)+"px"}function n(e){var n=parseInt(e.style.fontSize,10);e.style.fontSize=Math.floor(n+Math.pow(.4,r)*n)+"px",e.offsetWidth>.9*window.innerWidth&&(a=!0)}for(;o;)l=f(c),i<t?_.forEach(c,e):t<.9*i&&!a?_.forEach(c,n):o=!1,3<r&&(o=!1),t=parseInt(window.getComputedStyle(s,null).getPropertyValue("height"),10)-d.offset,r+=.5}))})}}}e.$inject=["$timeout","scUserAgent"],angular.module("classy").directive("scFillerText",e)})(),(()=>{function e(i){return{link:function(n,t,a){n.$watch(a.scFocus,function(e){!0===e&&i(function(){t[0].focus(),n[a.scFocus]=!1})})}}}e.$inject=["$timeout"],angular.module("classy").directive("scFocus",e)})(),angular.module("classy").directive("scImgCrop",function(){return{replace:!0,template:'<input type="file" ngf-select ngf-change="onFileSelect($files, index)" class="ng-hide" />',transclude:!1,scope:{images:"=scImgList",callback:"=callback",index:"=?index"},link:function(t,e){e.bind("click",function(e){e.stopPropagation()}),t.triggerFileInput=function(){e.trigger("click")},t.onFileSelect=function(e,n){e.length&&t.callback(e,n)}}}}),(()=>{function e(r,s,l){return{scope:{resource:"=scLazyLoad",model:"=ngModel",perPage:"=?",sort:"=?",filter:"=?",loading:"=?"},link:function(a,n){var t=void 0;function e(){l.cancel(t);var e=window.pageYOffset+angular.element(window).height();n[0].offsetTop+n[0].scrollHeight<e&&a.resolved&&o(a.currentPage)}a.currentPage=1,a.totalPages=1,a.resolved=!1,angular.element(window).bind("scroll",function(){e();t=l(e,100)});var i=void 0;function o(){a.resolved=!1,a.loading=!0;var e=(()=>{var e={},t=(a.perPage&&(e.per_page=a.perPage),a.sort&&(e.sort=_.map(a.sort,function(e,n){return n+":"+e})),null);return _.isEmpty(a.filter)||(_.forEach(a.filter,function(e,n){t=n+e.operand+encodeURIComponent(e.value)}),e.filter=t),e.page=a.currentPage,e})();i&&i.resolve(),i=r.defer(),a.currentPage<=a.totalPages?s({method:"GET",url:"/frs-api"+a.resource,params:e,timeout:i.promise}).then(function(e){a.resolved=!0,a.loading=!1,1===a.currentPage?a.model=e.data.data:_.forEach(e.data.data,function(e){a.model.push(e)}),0<e.data.total&&(a.size=e.data.total),a.totalPages=Math.ceil(a.size/a.perPage),a.currentPage+=1}):(a.resolved=!0,a.loading=!1)}a.reachedEnd=!1,o(),a.$watch("[sort, filter]",function(e,n){e!==n&&(a.currentPage=1,o())},!0)}}}e.$inject=["$q","$http","$timeout"],angular.module("classy").directive("scLazyLoad",e)})(),angular.module("classy").directive("scLowerThan",function(){return{require:"ngModel",link:function(e,n,t,a){function i(e){var n=t.scLowerThan;return e&&n||a.$setValidity("scLowerThan",!0),a.$setValidity("scLowerThan",parseInt(e,10)<=parseInt(n,10)),e}a.$parsers.unshift(i),a.$formatters.push(i),t.$observe("scLowerThan",function(){return i(a.$viewValue)})}}}),angular.module("classy").directive("scMatches",function(){return{require:"ngModel",scope:{comparee:"=scMatches"},link:function(t,e,n,a){a.$validators.match=function(e,n){e=e||n,n=t.comparee.$modelValue||t.comparee.$viewValue;return!e||!n||e===n},t.$watch("comparee.$viewValue",function(){a.$validate()})}}}),(()=>{function e(t){return{restrict:"C",link:function(e,n){t.enabled(n,!1)}}}e.$inject=["$animate"],angular.module("classy").directive("scNoAnimate",e)})(),angular.module("classy").directive("scPercentageDisplay",function(){return{require:"ngModel",scope:{min:"<?",max:"<?"},link:function(n,e,t,a){a.$parsers.push(function(e){return Number(e.replace(/[^0-9.]/g,""))}),a.$formatters.push(function(){return null==a.$modelValue?"":a.$invalid?a.$viewValue:a.$modelValue+"%"}),_.isUndefined(n.min)||(a.$validators.min=function(e){return e>=n.min}),_.isUndefined(n.max)||(a.$validators.max=function(e){return e<=n.max}),e.on("change",function(){a.$processModelValue()})}}}),(()=>{function e(r){return{require:["ngModel","^?form"],scope:{class:"@",name:"@",placeholder:"@",ariaLabel:"@",required:"=?"},template:'<input\n                inputmode="numeric"\n                type="tel"\n                aria-label="phone number, numbers only"\n                class={{class}}\n                name={{name}}\n                aria-label={{ariaLabel}}\n                placeholder={{placeholder}}\n                data-sc-form-error="highlight if {{name}} fails"\n                ng-required={{required}}\n            />',link:function(t,e,n,a){var i=e.find("input"),o=a[0];i.on("input",function(e){e=e.target.value;o.$setViewValue(e),o.$setDirty()}),i.on("blur",function(){o.$validate()}),o.$validators.phoneNumber=function(e,n){e=e||n;return!e||(t.iti?t.iti.isValidNumber():9<=e.replace(/[^\d]/g,"").length)},r.then(function(){t.iti=window.intlTelInput(i[0],{initialCountry:"US",utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@23.1.0/build/js/utils.js",strictMode:!0})})}}}e.$inject=["intlTelInput"],angular.module("classy").directive("scPhoneInput",e)})(),(()=>{function e(a){return{link:function(e,n){var t=n.find("[ng-model], [data-ng-model]");t.each(function(e){e=angular.element(t[e]).controller("ngModel");_.isUndefined(e)||(e.$pristine=!1)}),a(function(){t.each(function(e){e=angular.element(t[e]).controller("ngModel");_.isUndefined(e)||e.$setPristine()})})}}}e.$inject=["$timeout"],angular.module("classy").directive("scPristineLoad",e)})(),(()=>{function e(r,s){return function(e,n){var t=void 0,a=void 0;function i(){var n;_.isEmpty(a)||(n=t.width(),a.each(function(){var e=$(this);this.width>n||e.data("origWidth")>n?(e.prop("height",!1).prop("width",!1),e.width(n).height(n*e.data("aspectRatio"))):this.width||(e.data("origWidth")?e.width(e.data("origWidth")).height(e.data("origWidth")*e.data("aspectRatio")):e.width(n).height(n*e.data("aspectRatio")))}))}s(function(){(a=(t=n).find("iframe[src*='//player.vimeo.com'], iframe[src*='//www.youtube.com']")).each(function(){var e=_.parseInt(this.height||$(this)[0].style.height),n=_.parseInt(this.width||$(this)[0].style.width),e=e&&n?e/n:.5625;$(this).data("aspectRatio",e).data("origWidth",n)}),i()});var o=_.debounce(i,50);angular.element(r).on("resize orientationchange",o)}}e.$inject=["$window","$timeout"],angular.module("classy").directive("scResponsiveVideo",e)})(),angular.module("classy").directive("scSelectTimezones",function(){return{replace:!0,scope:{timezones:"=?timezones",subset:"=?scSelectTimezones",ngModel:"="},template:'<select ng-options="timezone.val as timezone.name for timezone in timezones | filter:buildSubset" role="listbox" aria-label="timezone" tabindex="0" aria-haspopup="listbox" aria-expanded="false"><option value="">Please Select</option></select>',link:function(n){var e;n.buildSubset=function(e){return!n.subset||"all"===n.subset||_.isArray(e.tags)&&-1<e.tags.indexOf(n.subset)},n.timezones=[{name:"Midway Island",val:"Pacific/Midway"},{name:"Samoa",val:"Pacific/Samoa"},{name:"Hawaii",val:"Pacific/Honolulu",tags:["condensed"]},{name:"Alaska",val:"America/Anchorage",tags:["condensed"]},{name:"Pacific Time (US & Canada)",val:"America/Los_Angeles",tags:["condensed"]},{name:"Tijuana",val:"America/Tijuana"},{name:"Arizona",val:"America/Phoenix",tags:["condensed"]},{name:"Chihuahua",val:"America/Chihuahua"},{name:"Mazatlan",val:"America/Mazatlan"},{name:"Mountain Time (US & Canada)",val:"America/Denver",tags:["condensed"]},{name:"Central America",val:"America/Managua"},{name:"Central Time (US)",val:"America/Chicago",tags:["condensed"]},{name:"Mexico City",val:"America/Mexico_City"},{name:"Monterrey",val:"America/Monterrey"},{name:"Saskatchewan",val:"America/Regina"},{name:"Bogota",val:"America/Bogota"},{name:"Eastern Time (US & Canada)",val:"America/New_York",tags:["condensed"]},{name:"Indiana (East)",val:"America/Indiana/Indianapolis"},{name:"Lima",val:"America/Lima"},{name:"Atlantic Time (Canada)",val:"America/Halifax"},{name:"Caracas",val:"America/Caracas"},{name:"La Paz",val:"America/La_Paz"},{name:"Santiago",val:"America/Santiago"},{name:"Newfoundland",val:"America/St_Johns"},{name:"Brasilia",val:"America/Sao_Paulo"},{name:"Buenos Aires",val:"America/Argentina/Buenos_Aires"},{name:"Greenland",val:"America/Godthab"},{name:"Mid-Atlantic",val:"America/Noronha"},{name:"Azores",val:"Atlantic/Azores"},{name:"Cape Verde Is.",val:"Atlantic/Cape_Verde"},{name:"Casablanca",val:"Africa/Casablanca"},{name:"Greenwich Mean Time : Dublin",val:"Etc/GMT"},{name:"Lisbon",val:"Europe/Lisbon"},{name:"London",val:"Europe/London"},{name:"Monrovia",val:"Africa/Monrovia"},{name:"UTC",val:"UTC"},{name:"Amsterdam",val:"Europe/Amsterdam"},{name:"Belgrade",val:"Europe/Belgrade"},{name:"Berlin",val:"Europe/Berlin"},{name:"Bratislava",val:"Europe/Bratislava"},{name:"Brussels",val:"Europe/Brussels"},{name:"Budapest",val:"Europe/Budapest"},{name:"Copenhagen",val:"Europe/Copenhagen"},{name:"Ljubljana",val:"Europe/Ljubljana"},{name:"Madrid",val:"Europe/Madrid"},{name:"Paris",val:"Europe/Paris"},{name:"Prague",val:"Europe/Prague"},{name:"Rome",val:"Europe/Rome"},{name:"Sarajevo",val:"Europe/Sarajevo"},{name:"Skopje",val:"Europe/Skopje"},{name:"Stockholm",val:"Europe/Stockholm"},{name:"Vienna",val:"Europe/Vienna"},{name:"Warsaw",val:"Europe/Warsaw"},{name:"West Central Africa",val:"Africa/Lagos"},{name:"Zagreb",val:"Europe/Zagreb"},{name:"Athens",val:"Europe/Athens"},{name:"Bucharest",val:"Europe/Bucharest"},{name:"Cairo",val:"Africa/Cairo"},{name:"Harare",val:"Africa/Harare"},{name:"Helsinki",val:"Europe/Helsinki"},{name:"Istanbul",val:"Europe/Istanbul"},{name:"Jerusalem",val:"Asia/Jerusalem"},{name:"Pretoria",val:"Africa/Johannesburg"},{name:"Riga",val:"Europe/Riga"},{name:"Sofia",val:"Europe/Sofia"},{name:"Tallinn",val:"Europe/Tallinn"},{name:"Vilnius",val:"Europe/Vilnius"},{name:"Baghdad",val:"Asia/Baghdad"},{name:"Kuwait",val:"Asia/Kuwait"},{name:"Minsk",val:"Europe/Minsk"},{name:"Nairobi",val:"Africa/Nairobi"},{name:"Riyadh",val:"Asia/Riyadh"},{name:"Volgograd",val:"Europe/Volgograd"},{name:"Tehran",val:"Asia/Tehran"},{name:"Baku",val:"Asia/Baku"},{name:"Moscow",val:"Europe/Moscow"},{name:"Muscat",val:"Asia/Muscat"},{name:"Tbilisi",val:"Asia/Tbilisi"},{name:"Yerevan",val:"Asia/Yerevan"},{name:"Kabul",val:"Asia/Kabul"},{name:"Karachi",val:"Asia/Karachi"},{name:"Tashkent",val:"Asia/Tashkent"},{name:"Kolkata",val:"Asia/Kolkata"},{name:"Mumbai",val:"Asia/Calcutta"},{name:"Kathmandu",val:"Asia/Katmandu"},{name:"Almaty",val:"Asia/Almaty"},{name:"Dhaka",val:"Asia/Dhaka"},{name:"Ekaterinburg",val:"Asia/Yekaterinburg"},{name:"Rangoon",val:"Asia/Rangoon"},{name:"Bangkok",val:"Asia/Bangkok"},{name:"Jakarta",val:"Asia/Jakarta"},{name:"Novosibirsk",val:"Asia/Novosibirsk"},{name:"Chongqing",val:"Asia/Chongqing"},{name:"Hong Kong",val:"Asia/Hong_Kong"},{name:"Krasnoyarsk",val:"Asia/Krasnoyarsk"},{name:"Kuala Lumpur",val:"Asia/Kuala_Lumpur"},{name:"Perth",val:"Australia/Perth"},{name:"Singapore",val:"Asia/Singapore"},{name:"Taipei",val:"Asia/Taipei"},{name:"Ulaan Bataar",val:"Asia/Ulan_Bator"},{name:"Urumqi",val:"Asia/Urumqi"},{name:"Irkutsk",val:"Asia/Irkutsk"},{name:"Seoul",val:"Asia/Seoul"},{name:"Tokyo",val:"Asia/Tokyo"},{name:"Adelaide",val:"Australia/Adelaide"},{name:"Darwin",val:"Australia/Darwin"},{name:"Brisbane",val:"Australia/Brisbane"},{name:"Canberra",val:"Australia/Canberra"},{name:"Guam",val:"Pacific/Guam"},{name:"Hobart",val:"Australia/Hobart"},{name:"Melbourne",val:"Australia/Melbourne"},{name:"Port Moresby",val:"Pacific/Port_Moresby"},{name:"Sydney",val:"Australia/Sydney"},{name:"Yakutsk",val:"Asia/Yakutsk"},{name:"Vladivostok",val:"Asia/Vladivostok"},{name:"Auckland",val:"Pacific/Auckland"},{name:"Fiji",val:"Pacific/Fiji"},{name:"International Date Line West",val:"Pacific/Kwajalein"},{name:"Kamchatka",val:"Asia/Kamchatka"},{name:"Magadan",val:"Asia/Magadan"},{name:"Nuku'alofa",val:"Pacific/Tongatapu"}],n.ngModel&&((e=_.filter(n.timezones,function(e){return e.val===n.ngModel})).length?_.isUndefined(e[0].tags)&&(e[0].tags=["condensed"]):n.ngModel=null)}}}),(()=>{function e(c,d,u,m,g){return{replace:!0,template:"<div class='sc-spectrum' data-ng-class='{visible: pickerVisible}' data-ng-model='color'>"+'<span class=\'sc-spectrum_swatch\' role="button" tabindex="0" qa-id=\'{{ scQaId.colorPicker }}\' data-ng-class=\'{"admin-body__lock-field":lockField}\' data-ng-style=\'{ "background-color": backgroundColor, "width": swatchSize + "px", "height": swatchSize + "px" }\' data-ng-click=\'lockField ? $event.preventDefault() : pickerVisible = !pickerVisible\' data-ng-keydown=\'onKeyDown($event)\'><div style="top:0" data-ng-if="lockField" data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg" data-sc-tooltip-position="center" data-sc-tooltip-position-tip="bottom center" fixed-tooltip="true" show-event="\'mouseenter\'" hide-event="\'mouseout\'" data-sc-tooltip="\'This field is locked at the template level.\'" class="admin-body__tooltip-element">{{lockField}}</div></span><div class=\'sc-spectrum_container\' data-ng-style=\'::{ "top": containerTop + "px" }\'><div class=\'sc-spectrum_picker\'></div></div></div>',scope:{color:"=scSpectrum",fallbackColor:"=",footerBgColor:"=?",aboutBgColor:"=?",donateButtonColor:"=?",locationBgColor:"=?",lockField:"=?"},link:function(n,t,a){var i=t.controller("ngModel"),e=(n.scQaId=d,n.backgroundColor=n.color||n.fallbackColor,this.getLockedField=function(e){var e=m.getBlockByType(e),n=a.scSpectrum.split(".").splice(-1)[0];return a.scSpectrum.includes("block.background.color")?e.item_attributes.background.color&&e.item_attributes.background.color.locked||e.item_attributes.background.locked:e.item_attributes[n]&&e.item_attributes[n].locked},void 0===n.lockField&&SC.campaign.campaignTemplateData&&(n.lockField=!1,r=_.find(SC.blocks,{id:u.blockId}))&&"text"!==r.type&&(n.lockField=this.getLockedField(r.type)),_.isUndefined(a.colorFormat)&&(a.colorFormat="hex"),_.isUndefined(a.showAlpha)?a.showAlpha=!1:a.showAlpha="true"==a.showAlpha,_.isUndefined(a.removeButton)?a.removeButton=!1:a.removeButton="true"==a.removeButton,t.find(".sc-spectrum_picker"));function o(e){n.pickerVisible&&(i.$setViewValue(e),n.$apply(function(){e&&(n.color=e.toRgbString(),n.footerBgColor=e.toRgbString(),n.aboutBgColor=e.toRgbString(),n.donateButtonColor=e.toRgbString(),n.locationBgColor=e.toRgbString()),n.backgroundColor=n.color||n.fallbackColor}))}n.swatchSize=parseInt(a.swatchSize,10)||50,n.containerTop=Math.floor(n.swatchSize/2)-24,n.pickerVisible=!1;var r={allowEmpty:a.removeButton,appendTo:t.parent(),showButtons:!1,showInput:!0,preferredFormat:a.colorFormat,showAlpha:a.showAlpha,flat:!0,move:o,change:o,color:n.backgroundColor};function s(e){n.pickerVisible&&!jQuery(e.target).closest(t).length&&n.$apply(function(){n.pickerVisible=!1})}function l(e){if(13===e.keyCode&&n.pickerVisible&&jQuery(e.target).closest(t).length)return n.$apply(function(){n.pickerVisible=!1}),e.stopPropagation(),e.preventDefault(),!1}e.spectrum(r),a.removeButton&&(t.find(".sp-picker-container").addClass("remove-enabled"),t.find(".sp-input-container").after("<div class='sp-remove-button'><i class='ci ci-close-x sp-button-icon' data-ng-click='true'></i></div>")),n.$watch("pickerVisible",function(){n.pickerVisible&&e.spectrum("reflow")}),c.addEventListener("click",s),c.addEventListener("keypress",l),n.$on("$destroy",function(){c.removeEventListener("click",s),c.removeEventListener("keypress",l)}),n.$watch("color",function(){n.backgroundColor=n.color||n.fallbackColor}),n.onKeyDown=function(e){e&&g.isValidKeyBoardEvent(e)?n.pickerVisible=!n.pickerVisible:27===e.keyCode&&(n.pickerVisible=!1)}}}}e.$inject=["$window","scQaId","$stateParams","scCampaignsTemplateService","accessibilityService"],angular.module("classy").directive("scSpectrum",e)})(),angular.module("classy").directive("scSpotlight",function(){return{link:function(e,a,i){e.$on("spotlightOn",function(e,n){var t;angular.element(window).scrollTop(0),n===i.scSpotlight&&a.is(":visible")&&(n=a[0].getBoundingClientRect(),(t=angular.element('<div id="spotlight-placeholder"></div>')).css({position:a.css("position"),display:a.css("display"),width:a.width(),height:a.height()}),t.insertBefore(a),a.addClass("spotlight").css({position:"fixed",top:n.top+"px",left:n.left+"px",width:n.width+"px",height:n.height+"px","z-index":1e3}).appendTo("body"))}),e.$on("spotlightOff",function(e,n){n===i.scSpotlight&&angular.element("#spotlight-placeholder")&&(a.insertBefore("#spotlight-placeholder"),angular.element("#spotlight-placeholder").remove(),a.css({position:"",top:"",left:"",width:"",height:"","z-index":""}))})}}}),angular.module("classy").directive("scTarget",function(){return{scope:{condition:"=scTarget",attr:"@scTargetAttr"},link:function(n,t){n.$watch("condition",function(e){e&&t.attr("target",n.attr)})}}}),angular.module("classy").directive("scTruncateView",function(){return{scope:{truncateView:"=scTruncateView",truncateStyle:"@?"},link:function(t,a){t.$watch("truncateView",function(e){var n=t.truncateStyle+"_truncate";e.hide?a.addClass(n):a.removeClass(n)},!0)}}}),(()=>{function e(s,l,n,c,d,u){return{require:"ngModel",link:function(t,e,a,i){var o=!1;switch(t.entityId=0,a.scVanityType){case"fundraising-pages":t.entityId=_.get(d,"active.current.id",0);break;case"fundraising-teams":t.entityId=_.get(c,"active.current.id",0);break;case"campaigns":t.entityId=_.get(n,"active.current.id",0)}function r(e){e=u("scSlugify")(e);return e=100<(e="-"===e?"":e).length?e.substring(0,100):e}i.$parsers.push(function(){return r(i.$viewValue)}),i.$formatters.push(function(){return r(i.$modelValue)}),i.$asyncValidators.slugAvailable=function(e){var n,e=r(e);return t.currentSlug=e,i.$setViewValue(e),i.$render(),n=s.defer(),!o&&t.entityId?l.getSlug(a.scVanityType,t.entityId).then(function(e){0<_.get(e,"data.total")&&(t.originalSlug=_.get(e,"data.data[0].value")),o=!0,n.resolve(!0)}):(o=!0,n.resolve(!0)),n.promise.then(function(){return n=s.defer(),_.isUndefined(t.currentSlug)||""===t.currentSlug||t.currentSlug===t.originalSlug?n.resolve(!0):l.check(t.currentSlug).then(function(e){e.data.result?n.resolve(!0):l.checkOwnership(t.currentSlug,t.entityId).then(n.resolve)}),n.promise;var n}).then(function(e){return!!e||s.reject()},function(){return s.reject})}}}}e.$inject=["$q","scDomainsService","scCampaignsService","scFundraisingTeamsService","scFundraisingPagesService","$filter"],angular.module("classy").directive("scVanity",e)})(),angular.module("classy").constant("EG_EVENTS",{donation:{modal:"embedded-giving:modal:root",inline:"embedded-giving:inline:root"},donationOptions:{modal:"embedded-giving:modal:donation-options",inline:"embedded-giving:inline:donation-options"},donationList:{modal:"embedded-giving:modal:payment-methods",inline:"embedded-giving:inline:payment-methods"},donationDetails:{modal:"embedded-giving:modal:payment-method-details",inline:"embedded-giving:inline:payment-method-details"},contact:{modal:"embedded-giving:modal:contact",inline:"embedded-giving:inline:contact"},fullAddress:{modal:"embedded-giving:modal:contact-address",inline:"embedded-giving:inline:contact-address"},recurringNudge:{modal:"embedded-giving:modal:recurring-nudge",inline:"embedded-giving:inline:recurring-nudge"},donationConfirmation:{modal:"embedded-giving:modal:donation-confirmation",inline:"embedded-giving:inline:donation-confirmation"},thankYou:{modal:"embedded-giving:modal:thank-you",inline:"embedded-giving:inline:thank-you"},faq:{modal:"embedded-giving:modal:faq",inline:"embedded-giving:inline:faq"},open:{modal:"embedded-giving:modal:track-event:open",inline:"embedded-giving:inline:track-event:open"},close:{modal:"embedded-giving:modal:track-event:close",inline:"embedded-giving:inline:track-event:close"},nudgeTray:{click:"embedded-giving:nudge-tray:track-event:click",open:"embedded-giving:nudge-tray:track-event:open",close:"embedded-giving:nudge-tray:track-event:close"}}).constant("EG_STATUSES",{disabled:"disabled",modal:"modal",inline:"inline"}),angular.module("classy").service("EmbeddedGiving",["$stateParams","EmbeddedGivingPaths","EmbeddedGivingRecurringNudge",function(n,e,t){var a=this,i=this;this.isEnabled=!1,this.isPreviewing=!1,this.root=e.root,this.previewPath=e.views.preview,this.views={donation:{key:"donation",param:"do",path:e.views.donation},"thank-you":{key:"thank-you",param:"ty",path:e.views.thankYou},faq:{key:"faq",param:"faq",path:e.views.faq},preview:{key:"preview",param:"pre",path:e.views.preview}},this.defaultView=this.views.donation,this.activeView=this.defaultView,this.opts={eg:{ga4:!1,fullAddress:!1,recurringNudge:!1},default:{preview:void 0,amount:void 0,recurring:void 0,currency:void 0,preset1:void 0,preset2:void 0,preset3:void 0,preset4:void 0,designation:void 0,first:void 0,last:void 0,email:void 0,phone:void 0,street:void 0,city:void 0,state:void 0,zip:void 0,return_url:void 0,scroll:void 0}},this.init=function(e){!_.isEmpty(e)&&(a.isEnabled=!!e.isEnabled,a.isPreviewing=!!e.isPreviewing,i.opts.eg={ga4:!!n.egga4,fullAddress:!!n.egfa,recurringNudge:t.isEnabled()},i.opts.default={amount:n.amount,recurring:!!n.recurring,currency:n.currency,preset1:n.preset1,preset2:n.preset2,preset3:n.preset3,preset4:n.preset4,designation:n.designation,first:n.first,last:n.last,email:n.email,phone:n.phone,street:n.street,city:n.city,state:n.state,zip:n.zip,return_url:n.return_url,scroll:n.scroll},e=a.getViewByParam(e.param))&&a.setActiveView(e)},this.getViewByParam=function(n){var t=null;return angular.forEach(a.views,function(e){e.param===n&&(t=e)}),t},this.setActiveView=function(e){a.hasView(e)&&(a.activeView=e)},this.hasView=function(e){return!_.isEmpty(e)&&a.views[e.key]},this.hasEmbeddedGiving=function(e){return e&&e.hasEmbeddedGiving()}}]),angular.module("classy").filter("adjustColorOpacity",function(){return function(e,n){var t,a,i,o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=e.match(/(?!rgba?)\s*(\d{1,3}\s*,\s*)(\d{1,3}\s*,\s*)(\d{1,3}\s*\s*)/g);if(!r)switch(e){case"red":r="rgb(255, 0, 0)";break;case"green":r="rgb(0, 255, 0)";break;case"blue":r="rgb(0, 0, 255)";break;default:return console.warn("received color: "+e+", but expected RGB string"),e}return o?(a=t=o=255,"rgb('"+(n*(i=r[0].split(", "))[0]+(1-n)*o)+", "+(n*i[1]+(1-n)*t)+", "+(n*i[2]+(1-n)*a)+"')"):(o=r.concat(" "+n+")").join(),"rgba(".concat(o))}}),angular.module("classy").filter("camelCaseToProper",function(){return function(e){return e.charAt(0).toUpperCase()+e.substr(1).replace(/[A-Z]/g," $&")}}),angular.module("classy").filter("capitalize",function(){return function(e){return null!=e?(e=e.toString().toLowerCase()).substring(0,1).toUpperCase()+e.substring(1):""}}),angular.module("classy").filter("encodeURI",function(){return function(e){return encodeURI(e)}}),angular.module("classy").filter("encodeURIComponent",function(){return function(e){return encodeURIComponent(e)}}),angular.module("classy").filter("friendlyShortNumber",function(){return function(e,n){if(null===e)return null;if(0===e)return"0";for(var n=!n||n<0?1:n,t=Math.abs(Math.round(e)),a=Math.pow(10,n),n=e<0,i="",o=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}],r=0;r<o.length;r+=1){var s=t/o[r].value;if(1<=(s=Math.round(s*a)/a)){t=s,i=o[r].key;break}}return(n?"-":"")+t+i}}),angular.module("classy").filter("htmlToPlaintext",function(){return function(e){var e=e?String(e).replace(/<[^>]+>/gm,""):"",n=document.createElement("textarea");return n.innerHTML=e,n.value}}),angular.module("classy").filter("isFuture",function(){return function(e,n){if(void 0!==e)return e.filter(function(e){return moment(e[n||"date"]).isAfter(new Date)})}}),angular.module("classy").filter("isPast",function(){return function(e,n){if(void 0!==e)return e.filter(function(e){return moment(e[n||"date"]).isBefore(new Date)})}}),(()=>{function e(t){return function(e){var n=t.defer();return _.isUndefined(e)||e.then(function(e){n.resolve(e.slice(0,5))}),n.promise}}e.$inject=["$q"],angular.module("classy").filter("limitResults",e)})(),(()=>{function e(n){return function(e){return n.getTrustedHtml(e).replace(/&#10;/g,"<br />")}}e.$inject=["$sce"],angular.module("classy").filter("nl2br",e)})(),angular.module("classy").filter("nullBase",function(){return function(e){return angular.isUndefined(e)||null===e?"":""+e}}),angular.module("classy").filter("nullToZero",function(){return function(e){return _.isUndefined(e)||null===e?0:e}}),angular.module("classy").filter("orderObjectByDate",function(){return function(n,t){var e;return angular.isObject(n)?((e=Object.keys(n).map(function(e){return n[e]})).sort(function(e,n){e=e[t].replace(/-/g,"/"),n=n[t].replace(/-/g,"/");return Math.abs(new Date(e)-new Date(n))}),e):n}}),angular.module("classy").filter("replaceUnderscoreWithBlank",function(){return function(e){return e.replace(/_/g," ")}}),angular.module("classy").filter("reverse",function(){return function(e){return e.slice().reverse()}}),angular.module("classy").filter("scDaysRemaining",function(){return function(e){return e?0<(e=Date.parse(e).getElapsed())?0:Math.floor(-1*e*.001*(1/60)*(1/60)*(1/24)):null}}),(()=>{function e(r,s){return function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.getDefaultCurrency(),t=arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"symbol",i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=r.getLanguagePreference(),t=_.min([t||0,r.getAllowedDecimals(n)]),a={style:"currency",currency:n,currencyDisplay:a,maximumFractionDigits:t,minimumFractionDigits:t};return!i||_.isNumber(parseFloat(e))&&!_.isNaN(parseFloat(e))?(t=!_.isNumber(parseFloat(e))||_.isNaN(parseFloat(e))?0:e,i=s.NumberFormat(o,a).format(t),(r.localeCurrency||r.getDefaultCurrency())!==n&&"$"===r.getBrowserDefaultCurrencySymbol(n)?i.replace("$",n):i):e}}e.$inject=["scCurrencyService","scIntlService"],angular.module("classy").filter("scFormatCurrency",e)})(),(()=>{function e(r,s){return function(e){var n,t,a,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"MM/DD/YY HH:mm",o=_.get(s,"active.current.timezone_identifier",!1);return e?(n=moment.tz.guess(),t=1<e.split("T").length,a=moment(e),t||(t=moment(e).format("x"),e=a,n=moment.tz.zone(n).utcOffset(t),a=t=e.add(-n,"minutes"),o&&(a=r.campaignTime(t))),a.format(i)):""}}e.$inject=["scTimeMachineService","scCampaignsService"],angular.module("classy").filter("scFormatDate",e)})(),(()=>{function e(e,n){var a=e("currency"),i=n.NUMBER_FORMATS;return function(e,n){var n=a(e,n),t=n.indexOf(i.DECIMAL_SEP);return 0<=e?n.substring(0,t):n.substring(0,t)+")"}}e.$inject=["$filter","$locale"],angular.module("classy").filter("scNoFractionCurrency",e)})(),angular.module("classy").filter("scParagraphToHeadings",function(){return function(e){var e=angular.element(e),i=0,o=[];return _.forEach(e,function(e){for(var n=0==i?document.createElement("h1"):document.createElement("h2"),t=0;t<e.attributes.length;t+=1){var a=e.attributes[t];n.setAttribute(a.name,a.value)}n.innerHTML=e.innerHTML,e.replaceWith(n),i+=1,o.push(n.outerHTML)}),o.join("")}}),(()=>{function e(a){return function(e,n,t){n=angular.isNumber(n)?n:3,t=_.isString(t)?t:"%";return a.isNaN(e)?"":Math.round(e*Math.pow(10,n+2))/Math.pow(10,n)+t}}e.$inject=["$window"],angular.module("classy").filter("scPercent",e)})(),angular.module("classy").filter("scPrefixAttribute",function(){return function(n,t){var a={};return _.forEach(["-moz-","-webkit-","-o-","-ms-"],function(e){a[e+n]=t}),a}}),angular.module("classy").filter("scSlugify",function(){return function(e){return window.getSlug(e,{custom:{"'":"",'"':""},maintainCase:!0})||"-"}}),(()=>{function e(t){return function(e){var e=t.getTrustedHtml(e),n=void 0;try{n=angular.element(e)}catch(e){return""}e=n.wrapAll("<div>").parent(),n=e.find("a");return _.forEach(n,function(e){e=angular.element(e);e.attr("target")||e.attr("target","_self")}),e[0]?t.trustAsHtml(e[0].innerHTML):""}}e.$inject=["$sce"],angular.module("classy").filter("scTargetSelf",e)})(),(()=>{function e(n){return function(e){return n.trustAsHtml(e)}}e.$inject=["$sce"],angular.module("classy").filter("scTrustedHtml",e)})(),angular.module("classy").filter("shadeBlendColor",function(){return function(e,n,t){var a,i,o,r,s,l,c,d;if("string"==typeof n)return a=e<0?-1*e:e,i=Math.round,o=parseInt,7<n.length?(r=n.split(","),s=(t||e<0?"rgb(0,0,0)":"rgb(255,255,255)").split(","),l=o(r[0].split("(")[1]),c=o(r[1]),d=o(r[2]),"rgb("+(i((o(s[0].slice(4))-l)*a)+l)+","+(i((o(s[1])-c)*a)+c)+","+(i((o(s[2])-d)*a)+d)+")"):(l=(r=o(n.slice(1),16))>>16,c=r>>8&255,d=255&r,"#"+(16777216+65536*(i((((s=o((t||e<0?"#000000":"#FFFFFF").slice(1),16))>>16)-l)*a)+l)+256*(i(((s>>8&255)-c)*a)+c)+(i(((255&s)-d)*a)+d)).toString(16).slice(1))}}),angular.module("classy").filter("unique",function(){return function(e,n){return _.uniqBy(e,function(e){return e[n]})}}),(()=>{function e(i){return function(e){var t,n,a;if(e)return t=/(<\s*a\s)/i,n=e.match(/(<\s*a\s[^>]*>)/gi),a=e,n&&_.forEach(n,function(e){var n;0<=e.indexOf(i.location.hostname)&&-1==e.indexOf("_blank")&&(n=e.replace(t,'<a target="_self" '),a=a.replace(e,n))}),a}}e.$inject=["$window"],angular.module("classy").filter("userLinks",e)})(),angular.module("classy").factory("CQAnswerModel",function(){return function e(o,r,s){var l;if(this instanceof e)return l=angular.copy(s),function(){var e=arguments.length?"write":"read",n=arguments.length<=0?void 0:arguments[0],t=o,a=(/^\d+$/.test(o)||(t=_.find(r,{tag:o}).id),_.find(s,{question_id:t})),i=_.find(l,{question_id:t});return"write"==e?!n&&0!==n&&_.isEmpty(i)?void _.remove(s,{question_id:t}):(a||s.push(a={question_id:t}),a.answer=n,a.answer):"read"==e&&a?"integer"===_.get(a,"question.type",!1)?parseInt(a.answer,10):a.answer:void 0};throw new TypeError("Cannot call a class as a function")}}),(()=>{function e(r,s,l,c,d,u,m,g,a,p){return{processDonation:i,processWePay:function(n){var e={address1:SC.donation.payment.address,city:SC.donation.payment.city,country:SC.donation.payment.country};"US"==SC.donation.payment.country?(e.state=SC.donation.payment.state,e.zip=SC.donation.payment.zip):("CA"==SC.donation.payment.country&&(e.region=SC.donation.payment.province),e.postcode=SC.donation.payment.zip);var t=SC.donation.payment.card.num,t=(SC.donation.payment.cardType=o(""+t),SC.donation.payment.card.lastFour=t.substr(t.length-4,t.length),{client_id:"production"==SC.env?"166684":"43386",user_name:SC.donation.name.first+" "+SC.donation.name.last,email:SC.donation.email,cc_number:SC.donation.payment.card.num,cvv:SC.donation.payment.card.cvv,expiration_month:SC.donation.payment.card.expiration.month,expiration_year:SC.donation.payment.card.expiration.year,address:e}),e=(r.log("WePay Get CC Token > ",e,t),a());if("undefined"==typeof WePay||"1"===e.timeout)return i(n),!0;e=WePay.credit_card.create(t,function(e){e.error?r.error("WePay CC Token Error > ",e):(r.log("WePay CC Token Success > ",e),SC.donation.creditCardId=e.credit_card_id,n.pci=!0),i(n)});e.error&&(r.error("WePay CC Token Error > ",e),i(n));return},processAuthorize:function(t,a){var e=SC.donation.payment.card.num;SC.donation.payment.card.lastFour=e.substr(e.length-4,e.length),r.log("Get Authorize Fingerprint >",SC.donation),s.post("/checkout/auth-dpm-create",SC.donation).then(function(e){var n;r.log("Authorize Fingerprint Success",e.data),"SUCCESS"==e.data.status_code&&(n=$("<form></form>"),$("body").append(n),n.replaceWith(e.data.auth_net_form),(n=$("#authNetDpmForm")).find("#x_card_num").val(t),n.find("#x_card_code").val(a),n.submit())}).catch(function(e){r.error("Authorize Fingerprint Error",e.data)})},ccType:o};function i(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o={};angular.copy(SC.donation,o),i.block=i.block||{},i&&i.pci&&(o.payment.card.num={}),o.dedication.dedicate||(o.dedication={}),s.post("/checkout/donation-submit",o).then(function(e){var n,t=p("oid",e.data.urlRedirect),a=p("verify",e.data.urlRedirect);"SUCCESS"==e.data.status?(r.log("Process Donation Success",e),i.block.redirecting=!0,i.block.submitDisabled=!0,i.returnUrl?(n={amount:SC.donation.amount,transactionId:SC.transactionId},1===_.parseInt(SC.donation.recurring)?g.track("recurring-donation/create/complete",n):g.track("donation/create/complete",n),l(function(){r.log("returnUrl:",i.returnUrl),window.location.href=i.returnUrl},2e3)):0<e.data.urlRedirect.indexOf("paypal.com/")?window.location.href=e.data.urlRedirect:(r.log("urlRedirect:",e.data.urlRedirect),s({method:"GET",url:e.data.urlRedirect+"&respond=1"}).then(function(e){var n;SC.preview||(n={amount:SC.donation.amount,transactionId:t},1===_.parseInt(SC.donation.recurring)?g.track("recurring-donation/create/complete",n):g.track("donation/create/complete",n)),_.startsWith(_.get(e,"data[0]",""),"http")?u.location.href=e.data[0]:(SC.transactionId=t,m.set("memberEmail",o.email),c.go("frs.donation.thankYou",{tid:t,verify:a,preview:SC.preview}))}).catch(function(e){i.block.processing=!1,d.SC.status.banner={type:"error",msg:"Error: "+e.data,timeout:!1}}))):"FAILURE"==e.data.status&&(r.log("Process Donation Failure",e),i.block.processing=!1,e.data.error&&(e.data.error=e.data.error.replace(/(<([^>]+)>)/gi,"")),d.SC.status.banner={type:"error",msg:"Error: "+e.data.error,timeout:!1})}).catch(function(e){r.error("Process Donation Error",e.data),i.block.processing=!1,d.SC.status.banner={type:"error",msg:"Error: "+e.data.error,timeout:!1}})}function o(e){return e.match(/^5[1-5][0-9]{14}/g)?"Mastercard":e.match(/^4[0-9]{12}([0-9]{3})?/g)?"Visa":e.match(/^3[47][0-9]{13}/g)?"Amex":e.match(/^6011[0-9]{12}/g)?"Discover":"Unknown"}}e.$inject=["$log","$http","$timeout","$state","$rootScope","$window","scTransientsService","scAnalytics","scGetQueryParams","getParamByName"],angular.module("classy").factory("DonationService",e)})(),angular.module("classy").factory("RGB",function(){function e(e){this.hex=e;e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e&&(this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16))}function o(e,n){for(var t=""+e;t.length<n;)t="0"+t;return t}function n(e,n,t){var e=e.replace(/^\s*|\s*$/,"").replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3"),n=Math.round(256*n)*(t?-1:1),a=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),i=a&&null!==a[4]?a[4]:null,e=a?[a[1],a[2],a[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(e,n,t,a){return parseInt(n,16)+","+parseInt(t,16)+","+parseInt(a,16)}).split(/,/);return a?"rgb"+(null!==i?"a":"")+"("+Math[t?"max":"min"](parseInt(e[0],10)+n,t?0:255)+", "+Math[t?"max":"min"](parseInt(e[1],10)+n,t?0:255)+", "+Math[t?"max":"min"](parseInt(e[2],10)+n,t?0:255)+(null!==i?", "+i:"")+")":["#",o(Math[t?"max":"min"](parseInt(e[0],10)+n,t?0:255).toString(16),2),o(Math[t?"max":"min"](parseInt(e[1],10)+n,t?0:255).toString(16),2),o(Math[t?"max":"min"](parseInt(e[2],10)+n,t?0:255).toString(16),2)].join("")}return e.prototype.rgbString=function(){return this.r+","+this.g+","+this.b},e.prototype.lighterColor=function(e){return n(this.rgbString(),e,!1)},e.prototype.darkerColor=function(e){return n(this.rgbString(),e,!0)},e.prototype.toHex=function(e){return e=e,1==(e=tinycolor(e)).getAlpha()?e.toHexString():e.toHex8String()},e}),(()=>{function e(t){var a={ENTER_KEY:13,SPACE_KEY:32,ESC_KEY:27,TAB_KEY:9,KEYDOWN_EVENT:"keydown",ELEMENTS_TO_FOCUS:'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'};return{CONSTANTS:a,isValidKeyBoardEvent:function(e){var n=!1;e.keyCode!==a.ENTER_KEY&&e.keyCode!==a.SPACE_KEY||(e.preventDefault(),n=!0);return n},handleModalKeyDownEvent:i,initiateModalFocus:function(n,e){n&&n.activeView&&(n.focusableEls=e.find(a.ELEMENTS_TO_FOCUS),n.firstFocusableEl=n.focusableEls[0],n.lastFocusableEl=n.focusableEls[n.focusableEls.length-1],e.off(a.KEYDOWN_EVENT),e.on(a.KEYDOWN_EVENT,function(e){i(n,e)}),t(function(){n.focusableEls[0].focus()},0))},initiatePageFocus:function(n){t(function(){var e=angular.element(n).find(a.ELEMENTS_TO_FOCUS);e[0]&&e[0].focus&&e[0].focus()},0)}};function i(e,n){switch(n.keyCode){case a.TAB_KEY:1===e.focusableEls.length?n.preventDefault():n.shiftKey?document.activeElement===e.firstFocusableEl&&(n.preventDefault(),e.lastFocusableEl.focus()):document.activeElement===e.lastFocusableEl&&(n.preventDefault(),e.firstFocusableEl.focus());break;case a.ESC_KEY:e.close()}}}e.$inject=["$timeout"],angular.module("classy").factory("accessibilityService",e)})(),(()=>{function e(t,a){return{get:function(e,n){return o(e,n,m.bind(void 0,a("scFormatCurrency"),e)).map(t)},getGraphDataForCampaign:o,getGraphTypesForCampaign:s,getGraph:r,getRaisedData:l,getTotalDonorsData:c,getRecurringDonorsData:d,getTotalFundraisersData:u,processData:i,getChartLabels:g,formatCurrency:m}}e.$inject=["ChartistDataFactory","$filter"];var i=function(e,n){return _.merge(n,{data:t.map(n.dataFn),labels:g(),loading:e,withPointLabels:!0})},o=function(e,n,t){return s(e).map(r.bind(void 0,t,n)).map(i.bind(void 0,n.loading))};function r(e,n,t){switch(t){case"raised":return l(e,n);case"totalDonors":return c(n);case"recurringDonors":return d(n);case"totalFundraisers":return u(n);default:return{}}}var s=function(e){return"p2p"===e.current.type?["raised","totalFundraisers","totalDonors"]:["raised","totalDonors","recurringDonors"]},l=function(e,n){return{title:"Raised",dataFn:function(e){return n[e].overview.total_gross_amount},labelInterpolationFnc:e}},c=function(n){return{title:"Total Donors",dataFn:function(e){return n[e].overview.donors_count}}},d=function(n){return{title:"Recurring Donors",dataFn:function(e){return n[e].recurring.total}}},u=function(n){return{title:"Total Fundraisers",dataFn:function(e){return n[e].overview.fundraisers_count}}},m=function(e,n,t){return n.multiCurrencyDisabled()?"$"+t:e(t,n.current.raw_currency_code,0)},g=function(){return[moment().subtract(3,"days"),moment().subtract(2,"days"),moment().subtract(1,"days"),moment()].map(function(e){return e.format("MM/DD")})},t=["today_minus_3","today_minus_2","today_minus_1","today"];angular.module("classy").factory("CampaignOverviewDataFactory",e)})(),(()=>{function e(e){var n=e.title,t=e.loading,t=void 0!==t&&t,a=e.data,i=e.labels,o=e.chartColor,r=e.labelInterpolationFnc,r=void 0===r?Chartist.noop:r,s=e.showArea,l=e.withPointLabels,e=e.label,c=(e=void 0===e?{}:e).xOffset,c=void 0===c?0:c,e=e.yOffset,e=void 0===e?-10:e,a=t?[]:void 0===a?[]:a;return{title:n,data:{series:[a],labels:void 0===i?[]:i},options:{chartColor:void 0===o?void 0:o,showArea:void 0===s||s,withPointLabels:void 0!==l&&l,chartPadding:{top:30,left:45},low:0,high:Math.pow(10,Math.ceil(Math.log(Math.max.apply(Math,[1].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(a))))/Math.LN10))||1,axisY:{labelInterpolationFnc:r,showLabel:!t,onlyInteger:!0},label:{xOffset:c,yOffset:e}}}}angular.module("classy").factory("ChartistDataFactory",function(){return e})})(),(()=>{function e(t){this.query=function(e){var n=e.query;return t.post("/frs-api/classyql",{query:n,variables:e.variables})},this.useApiv2Fields=function(e,n){var t=void 0;return"page"===e?t=Object.assign({},n,{alias:n.name,raw_goal:n.goal_raw,intro_text:n.intro,id:parseInt(n.id,10),logo_id:parseInt(n.logo_id,10),raw_currency_code:n.currency_code}):"team"===e&&(t=Object.assign({},n,{raw_goal:n.goal_raw,id:parseInt(n.id,10),logo_id:parseInt(n.logo_id,10),team_lead_id:parseInt(n.member_id,10),raw_currency_code:n.currency_code})),t}}e.$inject=["$http"],angular.module("classy").service("classyQL",e)})(),(()=>{function e(e,n,t,a,i,o,r,s){var l=e.$new(!0),c=null,e=t.active.current,d=(l.data={currentOrgData:e.restricted_country_information,currentOrgId:e.id,campaignId:a.active.current.id},this.checkOrganizationRestrictions=function(){l.data.handleContinue=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},l.data.cookieKey="country-block-"+l.data.currentOrgId+"-"+l.data.campaignId;var e=o(l.data.cookieKey);null===l.data.currentOrgData||e?l.data.handleContinue():d()},function(){i.open({template:'\n            <country-Block-Modal\n              cookie-key="data.cookieKey"\n              data="data.currentOrgData"\n              handle-continue="data.handleContinue()">\n            </country-Block-Modal>',context:l,maxWidth:520},{animate:!0,closable:!1,closeOnClickOut:!1,elementToFocusOnClose:document.activeElement})}),u=(this.getCountryBlockedList=function(){return c||(c=r.defer(),0<_.get(l,"data.currentOrgData.restricted_countries_count",-1)?n.get("/frs-api/organizations/"+l.data.currentOrgId+"/restricted-countries").then(function(e){c.resolve(e.data.data)}).catch(function(){c.reject(null)}):c.resolve(null)),c.promise.then(u)},function(e){var n,t=_.cloneDeep(s);return e&&(n=e.reduce(function(e,n){return e[n.country]=!0,e},{}),t.forEach(function(e){n[e.value]&&(e.label+=" - Unsupported",e.disable=!0)})),t})}e.$inject=["$rootScope","$http","scOrganizationsService","scCampaignsService","scFlowModalService","ipCookie","$q","COUNTRY_LIST"],angular.module("classy").service("countryBlockService",e)})(),(()=>{function x(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(S,$,T,E){return function(){var n,t,a,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o={},r=(n=e,t=o,a=i,_.forEach(["priority","replace","template","templateUrl","transclude","restrict","templateNamespace","controllerAs","bindToController"],function(e){t[e]=(_.isUndefined(a[e])?n:a)[e]}),r=e,s=o,m=i,_.isPlainObject(r.scope)&&_.isPlainObject(m.scope)?s.scope=_.merge(r.scope,m.scope):s.scope=m.scope,e),s=o,c=i,r=r.controller||!1,l=[],d=void 0,u=void 0,m=void 0,g=void 0,p=void 0,f=void 0,h=(_.isUndefined(c.controller)||(h=c.controller.indexOf(c.controller.filter(function(e){return"function"==typeof e})[0]),d=c.controller[h]),r?(u=r[r.length-1],m=r.slice(0,r.length-1),-1===(g=m.indexOf("$scope"))&&(m.push("$scope"),g=m.length-1),-1===(p=m.indexOf("$element"))&&(m.push("$element"),p=m.length-1),-1===(f=m.indexOf("$attrs"))&&(m.push("$attrs"),f=m.length-1)):(m=["$scope","$element","$attrs"],g=0,p=1,f=2),_.forEach(m,function(e){l.push(e)}),l.push(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var a,i,o,r=n[g],s=n[p],l=n[f];c.precompile&&(a=void 0,i=c.precompile.contextName||"options",o={bind:function(e,n){return"{{"+(n?"::":"")+e+"}}"},id:function(e){this._ids||(this._ids={});var n=this._ids[e]||"sc-id-"+_.uniqueId();return this._ids[e]=n}},_.isString(c.precompile.context)?(a=E(l[c.precompile.context])(r),r[i]=_.create(o,a)):_.isFunction(c.precompile.context)?(a=c.precompile.context(r,s,l),r[i]=_.create(o,a)):c.precompile=!1),d&&d.call(this,r,s,l),u&&u.apply(this,n)}),s.controller=l,e),v=o,b=i,r=b.link,h=h.link,y=void 0,k=void 0,w=void 0,C=void 0;return _.isFunction(r)?(y=null,k=r):_.isPlainObject(r)&&(y=_.get(r,"pre",null),k=_.get(r,"post",null)),_.isFunction(h)?(w=null,C=h):_.isPlainObject(h)&&(w=_.get(h,"pre",null),C=_.get(h,"post",null)),r={pre:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];y&&y.apply(this,n),w&&w.apply(this,n)},post:function(e,n){var t,a;b.precompile&&(a=b.precompile.contextName||"options",t=void 0,t=b.precompile.templateUrl?S.get(b.precompile.templateUrl):v.templateUrl?S.get(v.templateUrl):v.template||n.html(),t=T(t)(e[a]),a=$(t)(e),n.html(a));for(var i=arguments.length,o=Array(2<i?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];k&&k.apply(this,[e,n].concat(x(o))),C&&C.apply(this,[e,n].concat(x(o)))}},v.link=r,o}}e.$inject=["$templateCache","$compile","$interpolate","$parse"],angular.module("classy").factory("decorateDirective",e)})(),(()=>{function e(t,n){return{getEcards:function(e){return t({method:"GET",url:"/frs-api/campaign/"+e+"/ecard",loadingScope:!0})},put:function(e,n){return t({method:"PUT",url:"/frs-api/dedication/"+e,data:n,loadingScope:!0})},getSortEcards:function(e){return this.getEcards(e).then(function(e){e=_.sortBy(e.data.data,"order"),e=_.filter(e,function(e){return!e.is_deleted});return _.each(e,function(e,n){e.order=n}),n.resolve(e)}).catch(function(e){return n.reject(e)})}}}e.$inject=["$http","$q"],angular.module("classy").factory("dedicationSettingsService",e)})(),(()=>{function s(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(i,n){var o=this,r={createCampaignDesignation:function(e,n,t){return i({method:"POST",url:"/frs-api/campaign/"+e+"/designation/"+n,data:t,loadingScope:!0})},updateCampaignDesignation:function(e,n,t){return i({method:"PUT",url:"/frs-api/campaign/"+e+"/designation/"+n,data:t,loadingScope:!0})},deleteCampaignDesignation:function(e,n){return i({method:"DELETE",url:"/frs-api/campaign/"+e+"/designation/"+n,loadingScope:!0})},getUnassignedCampaignDesignations:function(e,n){return i({method:"GET",url:"/frs-api/campaigns/"+e+"/unassigned-designations",loadingScope:!0,params:n})},getCampaignDesignations:function(e,n){return i({method:"GET",url:"/frs-api/campaigns/"+e+"/designations",loadingScope:!0,params:n})},getDesignationGroups:function(e,n){return i({method:"GET",url:"/frs-api/campaigns/"+e+"/groups",loadingScope:!0,params:n})},getDesignationsForGroup:function(e,n){return i({method:"GET",url:"/frs-api/groups/"+e+"/designations",loadingScope:!0,params:n})}};return r.getGroupedCampaignDesignations=function(e,t){var a=[];return r.getDesignationGroups(e,{sort:"sequence:asc"}).then(function(e){return a=e.data.data,Promise.all(a.map((n=s(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getDesignationsForGroup(n.id,t).then(function(e){n.designations=e.data.data});case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}},e,o)})),function(e){return n.apply(this,arguments)})));var n})},r.createDesignationGroup=function(e,n){return i({method:"POST",url:"/frs-api/campaigns/"+e+"/groups",loadingScope:!0,data:n})},r.deleteDesignationGroup=function(e){return i({method:"DELETE",url:"/frs-api/groups/"+e,loadingScope:!0})},r.updateDesignationGroup=function(e,n){return i({method:"PUT",url:"/frs-api/groups/"+e,loadingScope:!0,data:n})},r.getOrganizationDesignations=function(e,n,t,a){return i({method:"GET",url:"/frs-api/organizations/"+e+"/designations",loadingScope:!0,params:{per_page:n,page:t,filter:a||null}})},r.handleBatch=function(t,a){var e=Math.ceil(a.length/50);return Array(e).fill().map(function(e,n){n*=50;return a.slice(n,50+n)}).reduce(function(e,n){return e.then(function(){return i({method:"POST",url:"/frs-api/campaign/"+t+"/designation-batch",data:{designations:n}})})},n.resolve())},r.parseSortOrder=function(e){return"OLD-NEW"===e?"created_at:asc":"NEW-OLD"===e?"created_at:desc":"A-Z"===e?"name:asc":null},r}e.$inject=["$http","$q"],angular.module("classy").service("designationsService",e)})(),(()=>{function e(t){return{index:function(e){return t({method:"GET",url:"/frs-api/campaign/"+e+"/faqs",loadingScope:!0})},post:function(e,n){return t({method:"POST",url:"/frs-api/campaign/"+e+"/faqs",data:n,loadingScope:!0})},defaultFaq:function(e){return{question:"Is this donation tax-deductible?",answer:e+" is a 501(c)3 tax-exempt organization and your donation is tax-deductible within the guidelines of U.S. law. To claim a donation as a deduction on your U.S. taxes, please keep your email donation receipt as your official record. We'll send it to you upon successful completion of your donation.",type:"checkout",tag:"tax",weight:"0"}},put:function(e){return t({method:"PUT",url:"/frs-api/faqs/"+e.id,data:e,loadingScope:!0})}}}e.$inject=["$http"],angular.module("classy").service("faqService",e)})(),(()=>{function e(e){var t=e.SC.assetsCDNUrl||"";return function(e){var n=e.replace(/^\/+/,"");return"static"===n.substring(0,6)?t+"/"+n:e}}e.$inject=["$window"],angular.module("classy").factory("generateAssetUrl",e)})(),(()=>{function e(t){return function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.search,e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}}e.$inject=["$location"],angular.module("classy").factory("getParamByName",e)})(),angular.module("classy").provider("intlTelInput",function(){this.$get=["$q","$window",function(e,n){var t,a,i=e.defer();return e="https://cdn.jsdelivr.net/npm/intl-tel-input@23.1.0/build/css/intlTelInput.css",(t=document.createElement("link")).rel="stylesheet",t.href=e,document.head.appendChild(t),e="https://cdn.jsdelivr.net/npm/intl-tel-input@23.1.0/build/js/intlTelInput.min.js",t=function(){i.resolve(n.intlTelInput)},(a=document.createElement("script")).type="text/javascript",a.src=e,a.onload=t,document.body.appendChild(a),i.promise}]}),angular.module("classy").provider("loadGoogleMapsAPI",function(){var i=null;this.setKey=function(e){e&&(i=e.toString())},this.$get=["$q","$window",function(e,n){var t,a;return i?(t=e.defer(),n.initializeGoogleMapsAPI=function(){t.resolve(n.google.maps)},(a=document.createElement("script")).type="text/javascript",a.async="async",a.defer="defer",a.src="https://maps.googleapis.com/maps/api/js?key="+i+"&libraries=places&callback=initializeGoogleMapsAPI",document.body.appendChild(a),t.promise):e.reject()}]}),(()=>{function e(i){return function(){var e,n,t,a;i.twttr=(e=document,n="twitter-wjs",t=e.getElementsByTagName("script")[0],a=window.twttr||{},e.getElementById(n)||((e=e.createElement("script")).id=n,e.src="https://platform.twitter.com/widgets.js",e.async="async",e.defer="defer",t.parentNode.insertBefore(e,t),a._e=[],a.ready=function(e){a._e.push(e)}),a)}}e.$inject=["$window"],angular.module("classy").service("loadTwitterAPI",e)})(),(()=>{function e(a,i){return function(){var e=i.defer(),n=(a.onYouTubeIframeAPIReady=function(){e.resolve("success")},document.createElement("script")),t=(n.src="https://www.youtube.com/iframe_api",n.async="async",n.defer="defer",document.getElementsByTagName("script")[0]);return t.parentNode.insertBefore(n,t),e.promise}}e.$inject=["$window","$q"],angular.module("classy").service("loadYoutubeAPI",e)})(),angular.module("classy").factory("mySqlDateTime",function(){return{toMysql:function(e){if(e)return e.getUTCFullYear()+"-"+("00"+(e.getUTCMonth()+1)).slice(-2)+"-"+("00"+e.getUTCDate()).slice(-2)+" "+("00"+e.getUTCHours()).slice(-2)+":"+("00"+e.getUTCMinutes()).slice(-2)+":"+("00"+e.getUTCSeconds()).slice(-2)},toJs:function(e){var n;if(e)return 1<e.split("T").length?moment(e).toDate():(e=e.split(/[- :]/),(n=new Date).setUTCFullYear(e[0]),n.setUTCMonth(e[1]-1),n.setUTCDate(e[2]),n.setUTCHours(e[3]||0),n.setUTCMinutes(e[4]||0),n.setUTCSeconds(e[5]||0),n)},convertUtcToTimezone:function(e,n){var t,a;return(1<e.split("T").length?(a=moment(e),n?(t=new Date(a),t=-(moment.tz.zone(n).utcOffset(t.getTime())-t.getTimezoneOffset()),moment(e).add(t,"minutes")):a):(t=moment(e),a=moment(e),e=moment.tz.zone(n||moment.tz.guess()).utcOffset(t.format("x")),a.add(-e,"minutes"))).toDate()},convertClientTimetoTimezone:function(e,n){var t=new Date(e),n=n||moment.tz.guess(),e=moment().utc(e).format(),e=moment(e).tz(n),a=t.getTime(),n=moment.tz.zone(n).utcOffset(a),a=t.getTimezoneOffset(),e=e.add(a-n,"minutes");return moment(e).add(a,"minutes").toDate()},convertTimezoneToUtc:function(e,n,t){var n=n||moment.tz.guess(),e=new Date(e),a=e.getTime(),n=moment.tz.zone(n).utcOffset(a),e=e.getTimezoneOffset(),n=n-e,a=moment(a).add(n,"minutes");return"YYYY-MM-DD HH:mm:ss"==t?moment(a).add(e,"minutes").format(t):t?a.format(t):a.format()}}}),(()=>{function e(e,n,t,a){this.getPhoneNumber=function(){return n.active.multiCurrencyDisabled()?e.resolve(n.active.current.contact_phone):(_.isEmpty(t.currentTaxableEntity)?t.getDefaultTaxEntity(n.active.current):e.resolve(t.currentTaxableEntity)).then(function(e){return e.phone_number||!1}).catch(function(){return!1})},this.getContactEmail=function(){return n.active.current.contact_email?e.resolve(n.active.current.contact_email):(_.isEmpty(t.currentTaxableEntity)?t.getDefaultTaxEntity(n.active.current):e.resolve(t.currentTaxableEntity)).then(function(e){return e.email_address||a.active.current.email_address||""}).catch(function(){return a.active.current.email_address||""})},this.getContactPhoneNumber=function(){return n.active.current.contact_phone?e.resolve(n.active.current.contact_phone):e.resolve(null)},this.getContact=function(){return e.all([this.getPhoneNumber(),this.getContactEmail()])}}e.$inject=["$q","scCampaignsService","scTaxEntitiesService","scOrganizationsService"],angular.module("classy").service("orgContactService",e)})(),(()=>{function e(e){var a={CAMPAIGN:/.*(campaign|event).*/,CART:/.*register.*/,DONATE:/.*give\/([\d\w]+\/)?.*/,FUNDRAISER:/.*fundraiser.*/,RECEIPT:/.*thank-you.*/,SEARCH:/.*search.*/,TEAM:/.*team.*/},i=(this.getDonationEntity=function(){var e=i(),e=(a.DONATE.exec(e)||[])[1]||"";if(e)switch(e.charAt(0)){case"t":return"team";case"f":return"fundraiser";default:return"campaign"}return""},this.getPageName=function(){var e=i(),n=void 0,t=void 0;switch(!0){case a.RECEIPT.test(e):(n="Receipt",e.includes("event"))?t="Event":(t=_.capitalize(this.getDonationEntity()),n="Donation Receipt");break;case a.DONATE.test(e):n="Donate",t=_.capitalize(this.getDonationEntity());break;case a.TEAM.test(e):t="Team",n=e.includes("/dashboard")?"Dashboard":"";break;case a.FUNDRAISER.test(e):t="Fundraiser",n=e.includes("/dashboard")?"Dashboard":"";break;case a.CART.test(e):t="",n="Cart";break;case a.SEARCH.test(e):t="",n="Search";break;case a.CAMPAIGN.test(e):t="Campaign",n="";break;default:t="",n="Unknown"}{if(""===t)return""+n;if(""===n)return""+t}return t+" "+n},function(){return e.absUrl().split(e.host())[1]})}e.$inject=["$location"],angular.module("classy").service("pageNameService",e)})(),(()=>{function e(e){return e.ProgressBar,e.ProgressBar}e.$inject=["$window"],angular.module("classy").factory("ProgressBar",e)})(),(()=>{function a(t){return function(e){return t.isPlainObject(e)||Array.isArray(e)?t.cloneDeepWith(e,function(e,n){if("string"==typeof e&&"{"===e.charAt(0))try{return a(t)(JSON.parse(e))}catch(e){}if("string"==typeof n&&!t.isObject(e))return n=n.toLowerCase().replace(o,""),i.includes(n)?"[redacted]":e}):e}}var i=["cc","password","cvv","cardnumber","authorization","xapikey"],o=new RegExp(/\s|-|\.|_/,"g");"undefined"!=typeof module&&module.exports?module.exports=a(require("lodash")):angular.module("classy").factory("redact",function(){return a(_)})})(),(()=>{function e(t){this.search=function(e,n){e=e?e.replace(/\s/g,"+"):"";return t({method:"GET",url:"/frs-api/asset/remote/search",params:{search:e,page:n||1},loadingScope:!0})},this.getHD=function(e){return t({method:"GET",url:"/frs-api/asset/remote/full",params:{id:e},loadingScope:!0})}}e.$inject=["$http"],angular.module("classy").service("remoteAssetsService",e)})(),(()=>{function e(e){var n=new Sass("/static/global/lib-assets/sass.worker.js");return n.options({style:Sass.style.compressed,comments:!1}),n.preloadFiles("../../","",["global/directives/scButtonAmount/styles.css","global/lib-assets/_responsive.scss"],function(){e.log("files loaded")}),n}e.$inject=["$log"],angular.module("classy").factory("sass",e)})(),(()=>{function e(t,a,i,o){return{get:function(e){return t({method:"GET",url:"/frs-api/campaign/"+e+"/appeal-set"})},post:function(e,n){return t({method:"POST",url:"/frs-api/campaign/"+e+"/appeal-set",data:n})},put:function(e){return t({method:"PUT",url:"/frs-api/appeal-set/"+e.id,data:e})},recacheUrl:function(e){return t({method:"POST",url:"/frs-api/rescrape-prerender",data:{url:e}})},rescrape:function(e,n){"active"==_.get(o,"active.current.status",!1)&&(e=i.getUrl({pageType:e||"landing",status:"active",includeBase:!0}).url,t({method:"POST",url:"/frs-api/rescrape",data:{url:e,fbcachenow:n||!1}}).then(function(){},function(e){a.error("failed to attempt a rescrape"),a.error(e)}))}}}e.$inject=["$http","$log","scPagesService","scCampaignsService"],angular.module("classy").service("scAppealSetService",e)})(),(()=>{function e(n){function e(e){n.SC.status.banner={type:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error",msg:e,timeout:!arguments[2],timeoutLength:3<arguments.length&&void 0!==arguments[3]?arguments[3]:1e4,color:arguments[4],onClose:arguments[5]}}return e.close=function(){n.SC.status.banner={}},e}e.$inject=["$rootScope"],angular.module("classy").factory("scBanner",e)})(),(()=>{function e(a,i,o){this.init=function(e){var n=document.createElement("script"),t=(n.type="text/javascript",n.async="async",n.defer="defer",i.defer());return n.onload=function(){"production"!==o&&a.bitpay.enableTestMode(),a.bitpay.onModalWillLeave(e),t.resolve()},n.src="https://www.bitpay.com/bitpay.js",document.body.appendChild(n),t.promise},this.showInvoice=function(e){a.bitpay.showInvoice(e)}}e.$inject=["$window","$q","scEnv"],angular.module("classy").service("scBitpayService",e)})(),(()=>{e.$inject=["$q","RGB","scImg","scThemesService","scFundraisingTeamsService","scFundraisingPagesService","scBlocksService","dedicationSettingsService","scVideoSvc","scMetaTags"];var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function e(o,t,r,a,s,l,c,i,n,d){var u={};return u.getPrimaryColor=function(){var e=o.defer(),n=a.active.current.styles.primaryColor,n=(new t).toHex(n);return e.resolve(n),e.promise},u.getLogo=function(){var e=o.defer(),n=c.getBlockByType("header").current,t=n.logo;return n.logo?e.resolve(t):e.reject("no logo found"),e.promise},u.getEcardSrc=function(e){var n=o.defer();return i.getEcards(e).then(function(e){e=_.get(e,"data.data[0].image_url",!1);e?n.resolve(e):n.reject("no suitable ecard found")},function(){n.reject()}),n.promise},u.getLogoSrc=function(){return this.getLogo().then(function(e){return e.assetId?e.getSrc().then(function(e){return _.get(e,"data.cdn_url",!1)}):o.reject()})},u.getFeaturedImage=function(){var e=o.defer(),n=this.getShareableImages({count:1});return n[0]?e.resolve(n[0]):e.reject("no suitable featured image found"),e.promise},u.getAllImages=function(){var e=c.blocks,n=[],e=(_.each(e,function(e){e=e.current,e=function t(e,a){var i=[];return"object"==(void 0===e?"undefined":m(e))&&0<_.keys(e).length&&(e&&e.assetId?(e.propertyOf=a,i=_.union(i,[e])):e&&_.each(e,function(e,n){i=_.union(i,t(e,a+"."+n))})),i}(e,e.type);n=_.union(n,e)}),d.getAppealSetData()),t={};return 0<e.facebook_asset_id?t=r(e.facebook_asset_id):e.facebook_image_url&&(t=r.fromURL(e.facebook_image_url,"Facebook")),_.isEmpty(t)||(t.propertyOf="campaign.socialShareImage",n=_.union(n,[t])),n},u.getShareableImages=function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=_.get(n,"type","campaign"),a=_.get(n,"count",4),i=_.get(n,"exclude",0),n=this.getAllImages();return n=_.filter(n,function(e){return e.propertyOf.indexOf(".logo")<0}),n=_.sortBy(n,function(e){var e=e.propertyOf,n=0;return-1<e.indexOf("fundraiser.defaultFundraiserLogo")&&(n+=21),-1<e.indexOf("fundraiser.background")&&(n+=19),-1<e.indexOf("team.defaultTeamLogo")&&(n+=18),-1<e.indexOf("team.background")&&(n+=16),-1<e.indexOf("campaign.socialShareImage")&&(n+=15),-1<e.indexOf("crowdfunding.featuredImg")&&(n+=10),-1<e.indexOf("crowdfunding.background")&&(n+=4),-1<e.indexOf("impact.impactLevels")&&(n+=3),-1<e.indexOf("donation.background")&&(n+=2),-1<e.indexOf("background")&&(n+=1),-n}),i&&(n=_.filter(n,function(e){return e.assetId!=i})),"campaign"==t?n=_.filter(n,function(e){return e.propertyOf.indexOf("fundraiser")<0&&e.propertyOf.indexOf("team")<0}):"team"==t?(n=_.filter(n,function(e){return e.propertyOf.indexOf("fundraiser")<0}),(e=_.get(s,"active.current.logo.asset",!1))&&(n=[r.instantiate(e)].concat(n))):"fundraiser"==t?(n=_.filter(n,function(e){return e.propertyOf.indexOf("team")<0}),(e=_.get(l,"active.current.logo.asset",!1))&&(n=[r.instantiate(e)].concat(n))):"donation"==t&&(n=_.filter(n,function(e){return-1<e.propertyOf.indexOf("donation")})),n=_.slice(n,0,a)},u.getShareImage=function(e){var t="",a=u.getShareableImages({type:e})[0],e=_.get(a,"asset.sizes",{});return _.isEmpty(e)||_.forEach(e,function(e,n){if(500<=n)return t=e,!1;t=a.src}),t},u.getSharableMedia=function(){var t=o.defer(),e=_.get(c.getBlockByType("crowdfunding"),"current",!1),a={type:!1,src:!1};function i(e,n){a.type=!(!e||!n)&&e,a.src=n,t.resolve(a)}return e?(e=n.getVideoUrl(e.featuredVideo))?i("video",e):this.getFeaturedImage().then(function(e){e.assetId?(e=_.get(e,"asset.sizes",{}),_.isEmpty(e)||_.forEach(e,function(e,n){return!(500<=n&&(i("image",e),1))}),t.resolve(a)):t.reject(a)},function(){t.reject(a)}):t.reject(a),t.promise},u}angular.module("classy").factory("scBrandingService",e)})(),(()=>{function e(t,a){return function(e){return _.cloneDeepWith(e,function(e,n){return"mongo_queries_log"===n||"queries_log"===n?e:t.isDefinition(e)?new t(e):_.isObject(e)&&!_.isUndefined(e.cdn_url)?(n=a.hydrate(e),new t(n)):t.isInstance(e)?e.clone():void 0})}}e.$inject=["scImg","scImgAssetsService"],angular.module("classy").factory("scCloneDeep",e)})(),(()=>{function e(a,i,e,n,t,o,r){var s=SC.currencies&&SC.currencies.data||[];return{rates:{},ratesFetching:{},currencies:s,localeCurrency:!e.search().currency&&s.find(function(e){return e.currency===SC.localeCurrency})?SC.localeCurrency:void 0,getLanguagePreference:function(){return"karma"!==SC.env&&(window.navigator.languages&&window.navigator.languages[0]||window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage)||"en-us"},getBrowserLocale:function(){return(this.getLanguagePreference().split("-")[1]||"").toUpperCase()},getAllowedDecimals:function(n){var e=_.filter(this.currencies,function(e){return e.currency==n});return _.get(e,"[0].decimals",2)},getDefaultCurrency:function(){return _.get(n,"active.current.currency_code")||_.get(n,"active.current.currency")||"USD"},extendPayCurrencies:function(){var n=this;this.currencies.forEach(function(e){e.fullSymbol=n.getCurrencySymbol(e.currency),e.longText=e.currency+" | "+e.name.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})})},fetchRate:function(e,n){var t=this;return this.ratesFetching[n]=a.get("/frs-api/i18n/currency-conversions",{params:{from:e,to:n,amount:1}}).then(function(e){return t.rates[n]=e.data.rate,t.rates[n]}),this.ratesFetching[n]},getConversionRate:function(e){var n,t=i.defer();return e&&e!=this.getDefaultCurrency()?(n=_.get(this.rates,e,!1))?t.resolve(n):(this.ratesFetching[e]||this.fetchRate(this.getDefaultCurrency(),e)).then(function(e){t.resolve(e)},function(){t.reject(!1)}):t.resolve(1),t.promise},convertValue:function(n,e,t,a){return e===t?i.resolve(n):(e=this.getConversionRate(e),t=this.getConversionRate(t),i.all([e,t]).then(function(e){e=e[1]/e[0];return a?aesConvert(n,e).final:n*e}))},convert:function(e,n){var t=i.defer(),a=_.get(e,"raw_currency_code",this.getDefaultCurrency()),e={convertedAmount:null,currency:null};return a===this.getDefaultCurrency()?(e.currency=a,e.convertedAmount=n,t.resolve(e)):this.getConversionRate(a).then(function(e){t.resolve({currency:a,convertedAmount:n*e})}),t.promise},getBrowserDefaultCurrencySymbol:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getDefaultCurrency();return r.NumberFormat(this.getLanguagePreference(),{style:"currency",currency:e,currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace("0","").trim()},getCurrencySymbol:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getDefaultCurrency(),n=this.getBrowserDefaultCurrencySymbol(e);return n=e!==this.localeCurrency&&"$"===n?e:n},getEntityFundraiserCurrency:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=_.get(e,"alias",e.fundraiser_profile_image);return!_.isUndefined(n)&&e.raw_currency_code||this.getEntityTeamCurrency(e)},getEntityTeamCurrency:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=_.get(e,"team_lead_id",e.team_profile_image);return!_.isUndefined(n)&&(n=o.get(e.team_id),e.team_id?_.get(n,"raw_currency_code"):e.raw_currency_code)||this.getEntityCampaignCurrency(e)},getEntityCampaignCurrency:function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return _.get(n,"organization_id",!1)&&(e=t.get(n.campaign_id),n.campaign_id?_.get(e,"raw_currency_code"):n.raw_currency_code)||this.getDefaultCurrency()},getEntityCurrency:function(){return this.getEntityFundraiserCurrency(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}}}e.$inject=["$http","$q","$location","scOrganizationsService","scCampaignsService","scFundraisingTeamsService","scIntlService"],angular.module("classy").service("scCurrencyService",e)})(),angular.module("classy").constant("scDeepDiff",DeepDiff.diff),(()=>{function e(o,r,t,s){this.check=function(n){return this.getOrganizationDomainId().then(function(e){return o({method:"GET",url:"/frs-api/domain-slugs/availability-check/"+n,params:{domain_id:e||null}})})},this.checkOwnership=function(e,n){return o({method:"GET",url:"/frs-api/domain-slugs/check/"+e}).then(function(e){return r.resolve(e.data.exists&&n==e.data.fundraising_entity_id)})},this.getOrganizationDomainId=function(){var n=r.defer(),e=_.get(t,"active.current.domain_mask.id",!1);return e?n.resolve(e):o({method:"GET",url:"/frs-api/organizations/"+t.active.current.id+"/domains"}).then(function(e){n.resolve(_.get(e,"data.data[0].id",!1))},function(){n.resolve(!1)}),n.promise},this.findFullRoute=function(e){return o({method:"GET",url:"/frs-api/vanity/"+e})},this.updateSlug=function(e,n){n={value:n};return"donation"==s.active.current.type&&(n.links_to_donation_page=!0),o({method:"PUT",url:"/frs-api/domain-slugs/"+e,data:n})},this.deleteSlug=function(e){return o({method:"DELETE",url:"/frs-api/domain-slugs/"+e})},this.postSlug=function(t,a,i){return this.getOrganizationDomainId().then(function(e){var n={value:i};return"donation"==s.active.current.type&&(n.links_to_donation_page=!0),e&&(n.domain_id=e),o({method:"POST",url:"/frs-api/"+t+"/"+a+"/domain-slugs",data:n})})},this.getSlug=function(e,n){return o({method:"GET",url:"/frs-api/"+e+"/"+n+"/domain-slugs"})},this.saveChanges=function(e,n,t,a,i){return t&&""==n&&e.id?this.deleteSlug(e.id):t&&e.value&&e.value!=n?this.updateSlug(e.id,n):!t&&n?this.postSlug(a,i,n):r.reject()}}e.$inject=["$http","$q","scOrganizationsService","scCampaignsService"],angular.module("classy").service("scDomainsService",e)})(),(()=>{function e(e){e.constant("scEnv",SC.env)}e.$inject=["$provide"],angular.module("classy").config(e)})(),(()=>{function e(t,a,i){return function(e){var n=e.message,e=e.error;t.error(e),i(n),a.notify(e)}}e.$inject=["$log","bugsnagClient","scBanner"],angular.module("classy").service("scErrorHandler",e)})(),(()=>{function e(o,i,r){var e=_.get(SC,"organization.domain_mask.facebook_app_id",0)||_.get(SC,"fbid",0);this.authenticate=function(e,t){var a,i=o.defer();return r.initFacebook(e).then(function(n){(a=n).getLoginStatus(function(e){"connected"===e.status?i.resolve(a):n.login(function(e){"connected"===e.status?i.resolve(a):i.reject()},{scope:t?"manage_fundraisers":"public_profile"})})}),i.promise},this.getProfilePicture=function(){var n=o.defer();return this.authenticate(e).then(function(e){e.api("/me/picture?redirect=false&type=square&height=300&width=300",function(e){n.resolve(e)})}).catch(function(){n.reject()}),n.promise},this.share=function(e,n){var t,a="http://www.facebook.com/sharer/sharer.php";return a+="?u="+encodeURIComponent(e),n&&(a+="&title="+encodeURIComponent(n)),i.open(a,"facebook_share",(e=555,n=380,a=i.innerWidth||document.documentElement.clientWidth||window.screen.width,t=i.innerHeight||document.documentElement.clientHeight||window.screen.height,"toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,directories=no,status=no,left="+_.round((a-e)/2)+",top="+_.round((t-n)/2)+",height="+n+",width="+e)),o.resolve()},this.postToFeed=function(n){var t=o.defer();n.method="feed",n.display="popup",r.initFacebook(e).then(function(e){e.ui(n,function(e){t.resolve(e)})})}}e.$inject=["$q","$window","scFacebookSDKService"],angular.module("classy").service("scFacebook",e)})(),(()=>{function e(i,o){var r=null;this.initFacebook=function(e){if(!e)return i.reject();r=e.toString();var n,t,a=i.defer();return o.fbAsyncInit=function(){FB.init({appId:r,version:"v2.5",xfbml:!1}),a.resolve(FB)},e=document,n="facebook-jssdk",e.getElementById(n)&&(document.head.removeChild(document.getElementById("facebook-jssdk")),window.FB=null),(t=e.createElement("script")).id=n,t.src="//connect.facebook.net/en_US/sdk.js",e.getElementsByTagName("head")[0].appendChild(t),a.promise}}e.$inject=["$q","$window"],angular.module("classy").service("scFacebookSDKService",e)})(),(()=>{function e(s,a,e){var n={fontFamily:{"Mulish,Arial,Helvetica,sans-serif":"Mulish","Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},imageStyles:{"fr-rounded":"Rounded"},fontFamilyDefaultSelect:"Mulish",zIndex:1,toolbarBottom:!0,enableShortcuts:["bold","italic","underline","undo","redo"],toolbarVisibleWithoutSelection:!0,linkEditButtons:["linkOpen","linkEdit","linkRemove"]},t={toolbarButtons:[],toolbarButtonsMD:[],toolbarButtonsSM:[],toolbarButtonsXS:[],pastePlain:!0,imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!0})},i={toolbarButtons:["bold","italic","underline","insertLink","formatOL","formatUL","scImgAssetFroalaUpload"],toolbarButtonsMD:["bold","italic","underline","insertLink","formatOL","formatUL","scImgAssetFroalaUpload"],toolbarButtonsSM:["bold","italic","underline","insertLink","formatOL","formatUL","scImgAssetFroalaUpload"],toolbarButtonsXS:["bold","italic","underline","insertLink","formatOL","formatUL","scImgAssetFroalaUpload"],imageEditButtons:["imageDisplay","imageSize","imageRemove"],imageResize:!0,events:p({images:!0,plainText:!1})},o={toolbarButtons:["bold","italic","underline"],toolbarButtonsMD:["bold","italic","underline"],toolbarButtonsSM:["bold","italic","underline"],toolbarButtonsXS:["bold","italic","underline"],imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!0})},r={toolbarButtons:["bold","italic","underline","fontSize","scImgAssetFroalaUpload","insertVideo","insertLink","formatOL","formatUL"],toolbarButtonsMD:["bold","italic","underline","fontSize","scImgAssetFroalaUpload","insertVideo","insertLink","formatOL","formatUL"],toolbarButtonsSM:["bold","italic","underline","fontSize","scImgAssetFroalaUpload","insertVideo","insertLink","formatOL","formatUL"],toolbarButtonsXS:["bold","italic","underline","scImgAssetFroalaUpload","insertVideo","insertLink","formatOL","formatUL"],imageEditButtons:["imageDisplay","imageSize","imageRemove"],imageResize:!0,events:p({images:!0,plainText:!1})},l={toolbarButtons:["bold","italic","underline","align","fontFamily","fontSize","color"],toolbarButtonsMD:["bold","italic","underline","align","fontFamily","fontSize","color"],toolbarButtonsSM:["bold","italic","underline","align","fontFamily","fontSize","color"],toolbarButtonsXS:["bold","italic","underline","align","fontFamily","fontSize","color"],imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!1})},c={toolbarButtons:["color"],toolbarButtonsMD:["color"],toolbarButtonsSM:["color"],toolbarButtonsXS:["color"],imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!1})},d={toolbarButtons:["bold","italic","underline","align","fontFamily","fontSize","color","paragraphStyle"],toolbarButtonsMD:["bold","italic","underline","align","fontFamily","fontSize","color","paragraphStyle"],toolbarButtonsSM:["bold","italic","underline","align","fontFamily","fontSize","color","paragraphStyle"],toolbarButtonsXS:["bold","italic","underline","align","fontFamily","fontSize","color","paragraphStyle"],imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!1})},u={toolbarButtons:["bold","italic","underline","fontSize","insertLink","|","mergeTagInsert"],toolbarButtonsMD:["bold","italic","underline","fontSize","insertLink","|","mergeTagInsert"],toolbarButtonsSM:["bold","italic","underline","fontSize","insertLink","|","mergeTagInsert"],toolbarButtonsXS:["bold","italic","underline","fontSize","insertLink","|","mergeTagInsert"],imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!0})},m={toolbarButtons:["mergeTagInsert"],toolbarButtonsMD:["mergeTagInsert"],toolbarButtonsSM:["mergeTagInsert"],toolbarButtonsXS:["mergeTagInsert"],imagePaste:!1,imageUpload:!1,events:p({images:!1,plainText:!1})},g={"inline-simple":_.defaults({theme:"gray",charCounterCount:!1,toolbarSticky:!1,linkEditButtons:["linkEdit","linkRemove"],linkInsertButtons:[],linkText:!1},i,n),"inline-no-tags":_.defaults({theme:"gray",charCounterCount:!1,toolbarSticky:!1,linkEditButtons:["linkEdit","linkRemove"],linkInsertButtons:[],linkText:!1,htmlAllowedTags:[],htmlRemoveTags:["p"]},i,n),"inline-header":_.defaults({theme:"gray",charCounterCount:!0,toolbarSticky:!1,heightMin:70,heightMax:300,charCounterMax:180,inlineMode:!1,pasteDeniedTags:["img"]},o,n),"inline-with-video":_.defaults({theme:"gray",charCounterCount:!1,toolbarSticky:!1,videoInsertButtons:["videoBack","|","videoByURL"],videoEditButtons:["videoAlign","videoSize","videoRemove"],linkEditButtons:["linkEdit","linkRemove"],linkInsertButtons:[],linkText:!1},r,n),"inline-title":_.defaults({theme:"gray",charCounterCount:!0,toolbarSticky:!1,heightMin:70,heightMax:300,charCounterMax:110,inlineMode:!1,pasteDeniedTags:["img"]},o,n),"inline-just-colors":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,toolbarVisibleWithoutSelection:!1},c,n),"edit-inline":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,fontSizeSelection:!0,fontSize:["10","11","12","14","18","24","30","36","44","48","60","72","96","106"]},l,n),"edit-inline-with-events":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,fontSizeSelection:!0,fontSize:["10","11","12","14","18","24","30","36","44","48","60","72","96","106"],events:p({applyListColor:!0})},l,n),"edit-inline-header":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,fontSizeSelection:!0,fontSize:["10","11","12","14","18","24","30","36","44","48","60","72","96","106"],paragraphStyles:{outlined:"Outline"}},d,n),"edit-inline-subheader":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,fontSizeSelection:!0,fontSize:["10","11","12","14","18","24","30","36","48","60","72"],fontSizeDefaultSelection:"72"},r,n),"edit-inline-about":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,fontSizeSelection:!0,fontSize:["10","11","12","14","18","24","30","36","48","60","72"],fontSizeDefaultSelection:"72",events:p({applyListColor:!0})},l,n),"edit-inline-about-title":_.defaults({toolbarInline:!0,charCounterCount:!1,toolbarBottom:!1,fontSizeSelection:!0,fontSize:["10","11","12","14","18","24","30","36","48","60","72"],fontSizeDefaultSelection:"72",pasteDeniedTags:["img"]},l,n),"edit-inline-title":_.defaults({zIndex:2,heightMin:55,heightMax:100,multiLine:!1,charCounterMax:e.DEFAULT_PAGE_POST_TITLE,toolbarInline:!1,toolbarBottom:!1,toolbarSticky:!1,useFrTag:!0,theme:"paragraph",editorClass:"update-title",pastePlain:!0,placeholderText:"Enter your update's title here..."},t,n),"edit-inline-title-mobile":_.defaults({zIndex:2,heightMin:55,heightMax:100,multiLine:!1,charCounterMax:e.DEFAULT_PAGE_POST_TITLE,toolbarInline:!1,toolbarBottom:!1,toolbarSticky:!1,useFrTag:!0,theme:"paragraph",editorClass:"update-title fr-classy-mobile",pastePlain:!0,placeholderText:"Enter your update's title here..."},t,n),"edit-inline-simple":_.defaults({toolbarInline:!0,toolbarBottom:!1,charCounterCount:!1,toolbarVisibleWithoutSelection:!1,pasteDeniedTags:["img"]},o,n),"edit-inline-plaintext":_.defaults({toolbarInline:!0,toolbarBottom:!1,charCounterCount:!1,htmlAllowedTags:["strong","em","u"],multiLine:!1,pasteDeniedTags:["img"]},o,n),"merge-tags":_.defaults({keepFormatOnDelete:!0,theme:"merge-tag",charCounterCount:!1,toolbarSticky:!1,heightMin:70,heightMax:300,fontFamily:{"Arial,Helvetica,sans-serif":"Arial"},fontSizeSelection:!1,fontSize:["12","14","16","18","20","24","30","36"],enter:$.FroalaEditor.ENTER_BR},u,n),"only-merge-tag":_.defaults({keepFormatOnDelete:!0,theme:"merge-tag",charCounterCount:!1,toolbarSticky:!1,heightMin:70,heightMax:300,fontFamily:{"Arial,Helvetica,sans-serif":"Arial"},fontSizeSelection:!1,fontSize:["12","14","16","18","20","24","30","36"],enter:$.FroalaEditor.ENTER_BR},m,n),"update-paragraph":_.defaults({toolbarSticky:!1,theme:"paragraph",editorClass:"update-paragraph",placeholderText:"Begin your story here...",charCounterCount:!1,videoInsertButtons:["videoBack","|","videoByURL"],videoEditButtons:["videoAlign","videoSize","videoRemove"]},r,n),"bare-headline":_.defaults({theme:"gray-bare",charCounterCount:!1,toolbarSticky:!1,heightMin:70,heightMax:150,pastePlain:!0},t,n),"bare-headline-max-length":_.defaults({theme:"gray-bare",charCounterCount:!0,toolbarSticky:!1,heightMin:70,heightMax:150,charCounterMax:255,inlineMode:!1},t,n),"bare-headline-100":_.defaults({theme:"gray-bare",toolbarSticky:!1,heightMin:70,heightMax:300,charCounterMax:100},t,n),"bare-headline-200":_.defaults({theme:"gray-bare",toolbarSticky:!1,heightMax:75,charCounterMax:200,editorClass:"fundraiser-headline"},t,n),"bare-headline-400":_.defaults({theme:"gray-bare",toolbarSticky:!1,heightMin:70,heightMax:300,charCounterMax:400},t,n),"bare-paragraph":_.defaults({theme:"gray-bare",charCounterCount:!1,toolbarSticky:!1,linkEditButtons:["linkEdit","linkRemove"],linkInsertButtons:[],linkText:!1},t,n),paragraph:_.defaults({theme:"gray-bare",charCounterCount:!1,toolbarSticky:!1,linkEditButtons:["linkEdit","linkRemove"],linkInsertButtons:[],editorClass:"bordered-paragraph",linkText:!1},t,n),"update-paragraph-mobile":_.defaults({toolbarSticky:!1,theme:"paragraph",editorClass:"update-paragraph fr-classy-mobile",placeholderText:"Begin your story here...",charCounterCount:!1,toolbarBottom:!1},r,n),textarea:_.defaults({theme:"textarea",charCounterCount:!1,toolbarSticky:!1,linkEditButtons:[],linkInsertButtons:[],linkText:!1},t,n),"textarea-no-break":_.defaults({theme:"textarea",multiLine:!1,toolbarSticky:!1,linkEditButtons:[],linkInsertButtons:[],linkText:!1,enableShortcuts:["undo","redo"]},t,n),"textarea-counter":_.defaults({theme:"textarea",toolbarSticky:!1,linkEditButtons:[],linkInsertButtons:[],linkText:!1,enableShortcuts:["undo","redo"],events:p({noHTML:!0})},t,n),"single-line-counter":_.defaults({theme:"singleline",toolbarSticky:!1,linkEditButtons:[],linkInsertButtons:[],linkText:!1,enableShortcuts:["undo","redo"],enter:$.FroalaEditor.ENTER_BR,events:p({plainText:!0,singleLine:!0,noHTML:!0})},t,n)};return function(e){e=g[e.type];return _.defaults(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e)};function p(e){var n=e.images,t=void 0!==n&&n,n=e.plainText,a=void 0!==n&&n,n=e.applyListColor,i=e.singleLine,o=void 0!==i&&i,i=e.noHTML,r=void 0!==i&&i,e={"froalaEditor.html.set":function(e,n){n.opts.ariaLabel&&$(n.el).attr("aria-label",n.opts.ariaLabel),n.opts.charCounterCount&&n.events.trigger("contentChanged")},"froalaEditor.html.get":function(e,n,t){var a;return r?(a=(new DOMParser).parseFromString(t,"text/html").documentElement.textContent,filterXSS(a)):t},"froalaEditor.initialized":function(e,n){n.events.trigger("charCounter.update"),function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{images:!1,plainText:!1,singleLine:!1};t.images?(n.events.on("drop",function(e){return v(e,n)},!0),n.events.on("paste.before",function(e){return v(e,n)},!0)):t.plainText?n.events.on("paste.before",function(e){return h(e,n,!0,t.singleLine)},!0):n.events.on("paste.before",function(e){return h(e,n,!1,t.singleLine)},!0)}(e,n,{plainText:a,images:t,singleLine:o})},"froalaEditor.drop":function(e,n){s(function(){n.events.trigger("contentChanged")})}};return void 0!==n&&n&&(e["froalaEditor.contentChanged"]=b),e}function f(e){return(e.originalEvent||{}).dataTransfer||e.clipboardData}function h(e,n,t,a){var i,t=!(2<arguments.length&&void 0!==t)||t,a=3<arguments.length&&void 0!==a&&a,o=f(e),r=(n.opts||{}).charCounterMax||1/0,o=o.getData("text");if(o)if(a)i=r-(a=n.html.get()).length,(o=o.replace(/(\r\n|\n|\r)/gm,"")).length>i&&(o=o.substr(0,i)),n.html.set(a+o,!0);else{if(!o.match(/<.*>/))return!0;n.html.insert(o),t&&(i=n.html.get(),(a=document.createElement("div")).innerHTML=i,o=a.textContent||a.innerText||"",n.html.set(o.substr(0,r))),n.undo.saveStep(),e.preventDefault(),e.stopPropagation(),s(function(){n.events.trigger("contentChanged")})}return!1}function v(e,n){var t=f(e);if(t&&t.files&&t.files.length){t=t.files[0];if(t&&t.type&&-1!==t.type.indexOf("image"))return e.preventDefault(),e.stopPropagation(),a(n).handleImageDrop(t),!1}return h(e,n,!1)}function b(e,n){n&&n.$el&&n.$el.find("li").each(function(e,n){var n=$(n),t=n.css("color"),a=n.find("span").eq(0).css("color");a!==t&&n.css("color",a)})}}e.$inject=["$timeout","scImgAssetFroalaUpload","CHAR_LIMITS"],angular.module("classy").factory("scFroalaOptions",e)})(),(()=>{function e(e,n,t){this.message={};var a=e.active.current.name,i=n.active.current.name;this.getDefaultMessageCopy=function(e,n){return this.message="appeal"==e?n?"Family and Friends,<p></p>Please help me support "+a+" by making a donation through my fundraising page for "+i+". Even a small donation will help me achieve my goal! The process is fast, easy, and secure. Thanks so much for your support.":"Family and Friends,<p></p>Please help me support "+a+" by making a donation through my team's fundraising page for "+i+". Even a small donation will help me achieve my goal! The process is fast, easy, and secure. Thanks so much for your support.":"invite"==e?"You should join our team, "+t.active.current.name+"!<br/><br/>I'm fundraising for "+i+"! You should join us and work together to support "+a+" and a truly awesome cause.<br/><br/>Let's make it happen!":n?"Thank you for donating to "+a+" through my fundraising page for "+i+"! Feel free to check back on my fundraising progress as I attempt to reach my goal!":"Thank you for donating to "+a+" through my team's fundraising page for "+i+"! Feel free to check back on my fundraising progress as I attempt to reach my goal!",this.message}}e.$inject=["scOrganizationsService","scCampaignsService","scFundraisingTeamsService"],angular.module("classy").service("scFundraiserDashboardEmailService",e)})(),(()=>{function e(e){return function(){var a={};return _.isEmpty(e.search())?(window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,t){a[n]=decodeURIComponent(t.replace(/\+/g,"%20"))}),a):e.search()}}e.$inject=["$location"],angular.module("classy").factory("scGetQueryParams",e)})(),angular.module("classy").factory("scInlineStyles",function(){return{background:function(e){if(e.image){var n={"background-image":"url("+e.image.src+")","background-position":"center top"};switch(e.image.options.style){case"tile":n["background-repeat"]="repeat";break;case"center":n["background-repeat"]="no-repeat";break;case"stretch":n["background-repeat"]="no-repeat",n["background-size"]="cover";break;case"coverfixed":n["background-size"]="cover",e.demo||(n["background-attachment"]="fixed")}return n=_.merge(n,e.styleObj)}}}}),(()=>{function e(t){return{NumberFormat:function(e,n){return Intl&&Intl.NumberFormat?new Intl.NumberFormat(e,n):(t.log("Intl library was unavailable, falling back to rendering bare currency code"),{format:function(e){return""+n.currency+e}})}}}e.$inject=["$log"],angular.module("classy").service("scIntlService",e)})(),angular.module("classy").provider("$log",["$logProvider",function(n){this.$get=["$injector","redact",function(e,t){var a=e.invoke(n.$get);return["log","debug","info","warn","error"].forEach(function(e){var n=a[e];a[e]=function(){n.apply(this,t(Array.prototype.slice.call(arguments)))},a[e].logs=[]}),a}]}]),(()=>{e.$inject=["$http","$q","$timeout","scCampaignsService","scBlocksService","scFundraisingTeamsService","scFundraisingPagesService","scOrganizationsService"];var d="Help us reach our goal! Your support will make a meaningful difference. Every contribution brings us closer to success. Join us today and be part of something impactful.";function e(o,r,s,l,n,a,i,c){var e={},t={};return e.init=function(){var t=r.defer(),e=void 0;void 0===l.active&&void 0!==SC.campaign&&(l.add(SC.campaign),l.setActive(SC.campaign.id));var a={id:null,campaign_id:(e=l.active).current.id,facebook_asset_id:null,facebook_image_url:null,facebook_text:null,facebook_video_url:null,sms_text:null,twitter_text:null,email_subject:null,email_body:null};var i=s(function(){t.resolve(a)},2e3),n=_.get(l,"active.current.appealSet");return n?t.resolve(n):o({method:"GET",url:"/frs-api/campaign/"+e.current.id+"/appeal-set"}).then(function(e){var n,e=e.data;t.resolve((e=e,n=r.defer(),e.id?n.resolve(e):n.resolve(a),n.promise)),s.cancel(i)}),t.promise},e.setAppealSetData=function(e){t=e},e.getAppealSetData=function(){return t},e.getDescription=function(){var e=n.getBlockByType("about");return(e?e.current.content:d).replace(/<\/p>/g,"\n\n").replace(/<[^>]+>/g,"")},e.getEntityDescription=function(e){var n=void 0,n="team"===e?_.get(a,"active.current.description"):_.get(i,"active.current.intro_text"),t=_.get(l,"active.current.default_"+e+"_appeal"),e="A fundraising "+e+" benefiting "+c.active.current.name;return(n||t||e).replace(/<.*?>/g,"")},e}angular.module("classy").factory("scMetaTags",e)})(),(()=>{function e(h,n,v,b,y){var a=this;this.pages={},this.add=function(e,n,t){_.set(a.pages,[e,n],t)},this.get=function(e,n){return _.get(a.pages,[e,n],null)},this.currentPageType=function(){var e=n.absUrl();return-1<e.indexOf("/campaign/")?"campaign":-1<e.indexOf("/team/")?"team":-1<e.indexOf("/fundraiser/")?"fundraiser":-1<e.indexOf("/give/")&&(e=document.location.href.match("/give/(.*)/#"))&&e[1]?"t"==e[1][0]?"team":"f"==e[1][0]?"fundraiser":"campaign":"campaign"},this.getShareableUrl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.currentPageType();return"donation"===v.active.current.type&&(e="donation"),this.getUrl({status:"active",pageType:e,includeBase:!0}).url},this.getLandingPageRedirect=function(){var e=v.active?v.active.current:SC.campaign,n=_.get(e,"external_url",!1),e="crowdfunding"==_.get(e,"type",!1);return!(!n||!e)&&n},this.getPageOwner=function(){var e;return"fundraiser"===this.currentPageType()?(e=_.get(y,"active.current.name",!1),_.get(y,"active.current.alias",e)):"team"===this.currentPageType()&&_.get(b,"active.current.name",!1)},this.getUrl=function(e){var n=v.active?v.active.current:SC.campaign,t=_.get(y,"active.current",!1),a=_.get(b,"active.current",!1),i="",o=e.status||n.status,r="",s="true",l=("active"!==o&&(s="",r="?preview=true"),e.example||"active"!==o),c=e.campaignName||n.name,d=e.campaignId||n.id,o=e.campaignType||n.type,u=e.organizationId||n.organization_id,m=e.teamId||a.id,g=e.fundraiserId||t.id,p=_.includes(["crowdfunding","p2p"],o)?"campaign":"event",f="campaign"==p?"c":"e";switch(e.pageType){case"landing":case"campaign":i={url:"/"+p+"/"+h("scSlugify")(c).toLowerCase()+"/"+f+d+r,name:"Landing Page"};break;case"search":i={url:"/"+p+"/"+h("scSlugify")(c).toLowerCase()+"/"+f+d+"/search"+r,name:"Search Page"};break;case"donation":i={url:"/give/"+d+"/"+r+"#!/donation/checkout",name:"Donation Page"},v.active.hasEmbeddedGiving()&&(i.url="/give/"+d+"/"+r+"#!/donation/checkout?eg=true");break;case"fundraiserDonation":i={url:"/give/f"+g+"/"+r+"#!/donation/checkout",name:"Donation Page"};break;case"teamDonation":i={url:"/give/t"+m+"/"+r+"#!/donation/checkout",name:"Donation Page"};break;case"thank-you":i={url:"/give/"+d+"/"+r+"#!/donation/thank-you",name:"Thank You Page"},v.active.hasEmbeddedGiving()&&(i.url="/give/"+d+"/"+r+"#!/donation/checkout?eg=true&egp=ty");break;case"team":i={url:"/team/"+m,name:"Team Page"},l&&(i.url="/team/example?preview=true&campaignId="+d+"&organizationId="+u+"&published="+s);break;case"fundraiser":i={url:"/fundraiser/"+g,name:"Fundraiser Page"},l&&(i.url="/fundraiser/example?preview=true&campaignId="+d+"&organizationId="+u+"&published="+s)}return e.includeBase&&(i.url=document.location.origin+i.url),i},this.getCheckoutRedirect=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=_.get(v,"active.current",SC.campaign),t=e.campaignName||_.get(n,"name",!1),e=e.campaignId||_.get(n,"id",!1),n="/event/"+_.kebabCase(t)+"/e"+e+"/register/new/select-tickets";if(e)return n},this.decorate=function(e,n,t){n=this.get(n,t);n&&_.merge(e,n.scope),n&&_.isFunction(n.init)&&n.init(e)}}e.$inject=["$filter","$location","scCampaignsService","scFundraisingTeamsService","scFundraisingPagesService"],angular.module("classy").service("scPagesService",e)})(),angular.module("classy").service("scParseGACookieService",function(){this.getUTMCampaign=function(e){e=this.breakCookie(e,"__utmz=",";");return this.breakCookie(e,"__utmccn=","|")},this.breakCookie=function(e,n,t){var a=e.indexOf(n);return a<0?"none":(n=n.indexOf("=")+1,(t=e.indexOf(t,a))<0&&(t=e.length),decodeURIComponent(e.substring(a+n,t)))}}),(()=>{function e(a,e){function t(e,n){for(var t=void 0,a=n.length,t=0;t<a&&e!=n[t];t+=1);return t}return{getIndex:t,queryPosts:function(n){var t=e.defer();return a({url:"/frs-api"+n,method:"GET",params:{per_page:50}}).then(function(e){e.data.data.length!==e.data.total?a({url:"/frs-api"+n,method:"GET",params:{per_page:e.data.total}}).then(function(e){t.resolve(_.map(e.data.data,"id"))}):t.resolve(_.map(e.data.data,"id"))}),t.promise},getPostNumber:function(e,n){return e=t(e,n),n.length-e}}}e.$inject=["$http","$q"],angular.module("classy").factory("scPostListsService",e)})(),(()=>{function e(l){return{getEntityProgress:function(e){var n=_.get(e,"percent_to_goal",0),t=_.get(e,"raw_goal",_.get(e,"goal_raw","0")),t=parseInt(t,10),a=_.get(e,"progress_bar_amount",null),i=_.get(e,"total_raised",0),o=_.get(e,"normalized_currency_code",_.get(e,"currency_code","USD")),r=void 0,s=void 0,s=t?(r=n*t/100,l.getEntityCurrency(e)):a?(r=a,l.getEntityCurrency(e)):(r=i,o);return{percentToGoal:n/100,totalRaised:r,goal:t,currency:s,commitment:(a=e).commitment||a.commitment_deadline?a.commitment||{value:a.commitment_value,deadline:a.commitment_deadline}:null}},getCampaignProgress:function(e){var n=e.raw_goal,n=parseInt(void 0===n?"0":n,10),t=(e.overview||{}).percent_to_goal;return{percentToGoal:(t||0)/100,totalRaised:t*n/100,goal:n,currency:l.getEntityCurrency(e)}}}}e.$inject=["scCurrencyService"],angular.module("classy").factory("scProgressDataFactory",e)})(),(()=>{var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}angular.module("classy").service("scPromoCodeService",["$http","scCampaignsService","$timeout",function(e,n,t){return new i(e,n,t)}]),e(o,[{key:"currentActiveId",value:function(){return this.scCampaignsService.active.current.id}},{key:"checkCodeAvailability",value:function(e){var n=e.promoCode,e=e.campaignId,e=void 0===e?this.currentActiveId():e;return this.$http({method:"GET",url:"/frs-api/campaigns/"+e+"/check-promo-code-validity",params:{promoCode:n}}).then(function(e){return e.data})}},{key:"hasAvailableCodesSync",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.currentActiveId();return this.scCampaignsService.get(e).promo_codes_available}},{key:"hasAvailableCodesAsync",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.currentActiveId();return this.requests[t]||(this.requests[t]=this.$http({method:"GET",url:"/frs-api/campaigns/"+t+"/has-promo-codes-available"}).then(function(e){e=e.data.hasAvailableCodes;return n.scCampaignsService.get(t).promo_codes_available=e}).catch(function(){return n.scCampaignsService.get(t).promo_codes_available}).finally(function(){n.$timeout(function(){n.requests[t]=void 0},2e3)})),this.requests[t]}}]);var i=o;function o(e,n,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.$http=e,this.scCampaignsService=n,this.$timeout=t,this.requests={}}})(),(()=>{function e(s,l){return function(e){var n=l.active.current.id,t=l.getOrgStatus(),a=l.getTag("pay-exception-org"),i=l.hasPay(),o=_.get(l,"active.current.hasProcessor",!1),r=_.get(l,"active.current.hasPaymentMethod",!1);return"trial"!==t&&o||r?r?"trial"!==t&&o?a||i?!a||"reg_w_fund"!==e&&"donation"!==e&&"ticketed"!==e||i?'We\'re sorry, but you are currently unable to publish this campaign. For assistance, please contact <a href="https://support.classy.org/s/contactcare" target="_blank" rel="noreferrer noopener">customer support</a>.':'This campaign requires the latest payment technology. To publish, you need to add a GoFundMe Pay processor. Compare <a href="https://support.classy.org/customer/en/portal/articles/2302319-payment-processor-comparison" target="_blank">available processors</a> and reach out to <a href="https://support.classy.org/s/contactcare" target="_blank">support</a> to get started.':s("linky")("You can publish your campaign once your payment processor has been verified. This typically happens the next business day. For more help contact mailto:support@classy.org"):'You can publish a campaign once you complete your account setup. <a href="https://support.classy.org/s/article/why-cant-i-publish-my-campaign" target="_blank">See what’s left.</a>':'You can publish your campaign once you have configured your billing settings. <a href="/admin/'+n+'/settings/billing" target="_blank">Go to Billing Settings</a>':'You can publish a campaign once you complete your account setup. <a href="https://support.classy.org/s/article/why-cant-i-publish-my-campaign" target="_blank">See what’s left.</a>'}}e.$inject=["$filter","scOrganizationsService"],angular.module("classy").factory("scPublishMessageService",e)})(),angular.module("classy").constant("scQaId",{formField:"form-field",errorMessage:"error-message",setupPageTitle:"setup-admin-page-title",impactLevels:"impact-levels",textAreaField:"text-area-field",singleLineTextInput:"text-input",dateField:"date-field",selectField:"select-field",toggleField:"toggle-field",checkboxField:"checkbox-label",radioField:"radio-field",colorPicker:"color-picker",rangeSlider:"range-slider-num",imageUpload:"image-upload",resourceSearch:"resource-search"}),(()=>{function e(n){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){n.setTimeout(e,1e3/60)}}e.$inject=["$window"],angular.module("classy").factory("scRequestAnimationFrame",e)})(),angular.module("classy").constant("scResponsive",[{name:"mobile-ls",width:568},{name:"tablet",width:768},{name:"tablet-ls",width:1024}]),(()=>{function e(e,n){var t=this,a=_.find(n,function(e){return"mobile-ls"==e.name}).width;function i(){t.isMobile=Modernizr.prefixed("matchMedia",window)?Modernizr.mq("(max-width:"+a+"px)"):angular.element(e).width()<=a}n=_.debounce(i,100);angular.element(e).on("resize orientationchange",n),i()}e.$inject=["$window","scResponsive"],angular.module("classy").service("scResponsiveWidth",e)})(),angular.module("classy").service("scScriptLoaderService",["$document","$q",function(a,i){var o={};this.loadScript=function(e){var n,t=i.defer();return o[e]?t.resolve():((n=a[0].createElement("script")).src=e,n.async=!0,n.onload=function(){o[e]=!0,t.resolve()},n.onerror=function(){t.reject("Failed to load script: "+e)},a[0].body.appendChild(n)),t.promise}}]),angular.module("classy").service("scSingleShareService",function(){var e=!1;this.On=function(){e=!0},this.Off=function(){e=!1},this.isOn=function(){return e}}),(()=>{function e(e,n,t,a,s,l,c,i,d,o){var r=this,u=e.$new(),m=(u.links={},t.active.current),g=m.name,p="?",f=!0,e=a.getUa(),h=("iOS"==e.os.name&&(p=8<=parseFloat(e.os.version)?"&":";"),("iOS"==e.os.name&&10<=parseFloat(e.os.version)||"Android"==e.os.name&&6<=parseFloat(e.os.version))&&(f=!1),this.generateText=function(){var t=l.getShareableUrl(l.currentPageType()),a=l.currentPageType(),e="team"===a||"fundraiser"===a,n=e?l.getPageOwner():g,i=f?n:n.replace("&","and"),o=c.active.current.name,r={supporter:{getDefaultAppeal:function(){var e=d.you,n="fundraiser"===a?"fundraising":"team fundraising",t="s"===i.toLowerCase().slice(-1);return e.current.id?"Check out my "+n+" page":"Check out "+i+(t?"'":"'s")+" "+n+" page"},twitterText:function(){return r.supporter.getDefaultAppeal()+" - "+t},smsMessage:function(){var e=r.supporter.getDefaultAppeal()+"\n"+t;return e=160<e.length?i+"\n"+t:e},emailSubject:function(){return"Help fundraise for "+o},emailBody:function(){return r.supporter.getDefaultAppeal()+" for "+o+" - "+t},fbMessage:function(){return r.supporter.getDefaultAppeal()+" for "+o}},campaign:{getDefaultAppeal:function(){return s.getDescription()},twitterText:function(){document.location.origin,m.id;return i+" "+t},smsMessage:function(){var e,n=i+"\n"+t;return 160<n.length&&(e=document.location.origin+"/campaign/c"+m.id,n=i+"\n"+e),n},emailSubject:function(){return n},emailBody:function(){return r.campaign.getDefaultAppeal()+" "+t},fbMessage:function(){var e=r.campaign.getDefaultAppeal();return(300<e.length?e.substring(0,297)+"...":e)||null}}},e=r[e?"supporter":"campaign"];return{twitter_text:e.twitterText(),email_subject:e.emailSubject(),email_body:e.emailBody(),sms_text:e.smsMessage(),facebook_text:e.fbMessage()}},void 0);function v(e){var n=r.generateText(),t=l.currentPageType(),n=_.pickBy(n,_.identity),e=_.pickBy(e,_.identity),a="fundraiser"==t||"team"==t?_.defaults(n,e):_.defaults(e,n);return u.links={twitter_link:y(a.twitter_text),sms_link:w(a.sms_text),email_link:k(a.email_subject,a.email_body),facebook_share:function(){var e=a.facebook_text,n=l.getShareableUrl();i.share(n,e)}},t=u.links,u.links=t,h=t,u.links}var b=l.getShareableUrl(),y=function(e){return"https://twitter.com/intent/tweet?&text="+encodeURIComponent(e)},k=function(e,n){e=encodeURIComponent(e);return"mailto:?body="+encodeURIComponent(n)+"&subject="+e},w=function(e){e=f?encodeURIComponent(encodeURIComponent(e)):encodeURIComponent(e);return"sms:"+p+"body="+e};this.getInstagramLink=function(){return t&&t.active&&t.active.getCampaignChannel?t.active.getCampaignChannel(o.FRAPI).then(function(e){var n=_.get(e,"[0].status",!1),e=_.get(e,"[0].metadata.external_fundraiser_id");return u.links.instagram_link=null,n&&e&&(u.links.instagram_link="https://www.instagram.com/linking/fundraiser?fundraiser_id="+e+"&source_name=SHARE_LINK_FROM_EXTERNAL_FUNDRAISER"),u.links},function(e){return u.links}):u.links},this.getSocialData=function(){var e;return h&&b==l.getShareableUrl()?n.resolve(h):(e=s.getAppealSetData(),_.isEmpty(e)?s.init().then(v):n.resolve(v(e)))}}e.$inject=["$rootScope","$q","scCampaignsService","scUserAgent","scMetaTags","scPagesService","scOrganizationsService","scFacebook","scMembersService","CHANNEL"],angular.module("classy").service("scSocialShareLinks",e)})(),(()=>{e.$inject=["$state","$location","ipCookie"];var c="c_src";function e(r,s,o){var l={record:function(e){var n;{var t,a,i;e&&((n=l.getNewData()).c_src||n.c_src2)&&(a=o(c),t=a&&a[e]||[],a=Object.assign({},a,((e,n,t)=>(n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e))({},e,[n].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(t)))),e=c,t=a,a=14,(i=new Date).setTime(i.getTime()+24*a*60*60*1e3),a="expires="+i.toUTCString(),i=e+"="+JSON.stringify(t)+";"+a+";path=/;SameSite=None;Secure",document.cookie=i,l.newData=n)}},getLatest:function(e){e=(o(c)||{})[e]||[];return e.sort(function(e,n){return n.timestamp-e.timestamp}),{source_code:e[0]}},getNewData:function(){if(!_.isEmpty(r.params)||l.referrerIsOrigin())return{};var e=s.search(),n=new UAParser,t=_.get(n.getBrowser(),"name"),n="iOS"===_.get(n.getOS(),"name"),a="Instagram"===t||"Facebook"===t,i=e.c_src,o=l.getReferrer();n&&a&&(i=i||"meta-"+t.toLowerCase(),o=t);return{c_src:i,c_src2:e.c_src2,referrer:o,timestamp:Date.now()}},referrerIsOrigin:function(){return-1!==l.getReferrer().indexOf(l.getOrigin())},getReferrer:function(){return document.referrer},getOrigin:function(){return window.location.origin},newData:{}};return l}angular.module("classy").factory("scSourceCodes",e)})(),(()=>{function e(i,o,r,s,t,l,a,c,d,u){var m=this;this.initMember=function(e){var n=s.defer();return t.init(e),t.you.update(e),a.userFundraisers={},_.get(l,"active.current",!1)&&l.active.HAS_FUNDRAISING&&t.getAllMemberPages(e.id,l.active.current.id).then(function(e){_.forEach(e.fundraisingPages,function(e){a.add(e),e.fundraising_team_id&&c.fetch(e.fundraising_team_id)}),_.forEach(e.fundraisingTeams,function(e){c.add(e)}),n.resolve()}).catch(function(){n.resolve()}),n.promise},this.stealthLogin=function(){var e=_.get(d,"active.current.id",!1),n=_.get(l,"active.current.id",!1),t=angular.element('\n      <div style="width:1px; height:1px; opacity:0; overflow:hidden;">\n        <div\n          class="classy-login-iframe"\n          data-flow="login_only"\n          data-org_id="'+e+'"\n          data-campaign_id="'+n+'"></div>\n      </div>'),a=s.defer();return t.appendTo("body"),Classy.ready(function(){Classy.parseDom(function(e){var n;t.remove(),e.authorization_code?(n={},"development"===SC.env&&(n={xhrFields:{withCredentials:!0}}),i(Object.assign({method:"GET",url:"/oauth2/iframe_callback?code="+e.authorization_code},n)).then(function(e){o.log("SSO success");try{__adroll.record_user({adroll_segments:"member"})}catch(e){}e.data.member?m.initMember(e.data.member).then(function(){a.resolve()}):a.resolve()}).catch(function(){a.resolve()})):e.idp_url?u.top.location.assign(e.idp_url):(o.log("SSO failed: "+e.error),r.SC.status.banner={type:"error",msg:"I'm sorry, there was a problem signing you in."},a.reject())})}),a.promise}}e.$inject=["$http","$log","$rootScope","$q","scMembersService","scCampaignsService","scFundraisingPagesService","scFundraisingTeamsService","scOrganizationsService","$window"],angular.module("classy").service("scSsoService",e)})(),(()=>{function e(e,a,i){return{isFreeOrTrialPlan:function(e){if(e)return _.isNull(e.classy_subscription_plan_id)?(0==e.subscription_plan||8==e.subscription_plan)&&(1==e.custom_plan_features_id||2==e.custom_plan_features_id||_.isNull(e.custom_plan_features_id)):(4==e.classy_subscription_plan_id||5==e.classy_subscription_plan_id)&&(1==e.custom_plan_features_id||2==e.custom_plan_features_id||_.isNull(e.custom_plan_features_id));return},getCustomFeatures:function(n){var t=i.defer();return e({method:"GET",url:"/frs-api/organizations/"+n.organization.id+"/custom-plan-features"}).then(function(e){n.field?t.resolve(_.get(e,"data."+n.field,"error: problem with the field")):t.resolve(e.data)}).catch(function(e){a.log(e),t.reject(e)}),t.promise}}}e.$inject=["$http","$log","$q"],angular.module("classy").factory("scSubscriptionPlan",e)})(),(()=>{function e(t,a,i,e,n){var o=this;this.initialFrPageLoad=!0,this.campaignId=e.active.current.id,this.canLoadMorePages=function(){return!!n.nextPageRequestPageNumbers[o.campaignId]},this.canLoadMoreTeams=function(){return!!n.nextTeamRequestPageNumbers[o.campaignId]},this.getFundraisingTeams=function(){return _.filter(i.userTeams,function(e){var n=_.get(i,"active.current.id",0)==e.current.id&&t.current.name.includes("team.index");return"deleted"!==e.current.status&&!n})},this.getFundraisingPages=function(){var e=_.filter(a.userFundraisers,function(e){var n=_.get(a,"active.current.id",0)==e.current.id&&t.current.name.includes("fundraiser.index");return"deleted"!==e.current.status&&!n});return this.initialFrPageLoad&&this.canLoadMorePages()?e.slice(0,2):e},this.loadMoreTeams=function(){n.getNextTeamsPage(this.campaignId).then(function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){return i.add(e)})})},this.loadMoreFundraisingPages=function(){this.initialFrPageLoad=!1,n.getNextPagesPage(this.campaignId).then(function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){return a.add(e)})})}}e.$inject=["$state","scFundraisingPagesService","scFundraisingTeamsService","scCampaignsService","scMembersService"],angular.module("classy").service("scSupporterNavService",e)})(),(()=>{function e(n,e,t,a){var i=e.active.current;this.fundraiseSwitch=function(e){"active"!=i.status?n.SC.status.banner={type:"error",msg:"Whoops, this is just a preview of your campaign page. Please publish your page first."}:(a.eventBeacon({category:"frs "+i.type,action:"click",label:"Fundraise CTA"}),t(e))}}e.$inject=["$rootScope","scCampaignsService","fundraiseSwitchFlow","scAnalytics"],angular.module("classy").service("scSwitchFlowPickerService",e)})(),(()=>{function e(a,i,o,r,n){return{currentTaxableEntity:{},setCurrentEntity:function(e){this.currentTaxableEntity=e},getTaxEntities:function(){var n,e,t=this;return r.active.multiCurrencyDisabled()?i.resolve([]):(e=(n=o.active.current).taxEntities)&&e.length?i.resolve(e):(this.taxEntitiesPromise||(this.taxEntitiesPromise=a({method:"GET",url:"/frs-api/organizations/"+n.id+"/tax-entities"}).then(function(e){e=_.get(e,"data.data",[]);return n.taxEntities=e,t.loading=!1,e}).catch(function(){return[]})),this.taxEntitiesPromise)},getTaxEntity:function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.getDefaultCurrency();return this.getTaxEntities().then(function(e){var n=_.filter(e,function(e){return e.currency_code==i}),t=_.filter(e,function(e){return e.is_default}),n=n[0]||t[0]||e[0]||!1;return a.setCurrentEntity(n),n})},getDefaultTaxEntity:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.active.current,e=n.getEntityCurrency(e);return this.getTaxEntity(e)}}}e.$inject=["$http","$q","scOrganizationsService","scCampaignsService","scCurrencyService"],angular.module("classy").service("scTaxEntitiesService",e)})(),angular.module("classy").factory("scTemplateLockingService",function(){var m=function(e,n){if(e&&n){var t=_.get(SC.campaign.campaignTemplateData,"component_set_instances",[]).find(function(e){return e.campaign_id===SC.campaign.id});if(t){t=_.get(t,"component_instances."+e,[]).find(function(e){return e.id===n});if(t)return t.component_item_id.$oid}}return null};return{getLock:function(e,n,t){if(!e)throw new Error("componentName is required");if(SC.campaign&&SC.campaign.campaignTemplateData){var a=_.get(SC.campaign.campaignTemplateData,"components",{})[e]||{};if(a.locked)return a.locked;if(n&&!t)throw new Error("fundBy parameter is required");var i=t.type,o=t.index,r=t.id,t=t.$oid,s=-1;if(-1<(s=i?(u=i,_.get(SC.campaign.campaignTemplateData,"components."+e+".component_items",[]).findIndex(function(e){return e.value.type===u})):Number.isInteger(o)&&0<=o?o:(i=e,o=r,(d=t||m(i,o))?_.get(SC.campaign.campaignTemplateData,"components."+i+".component_items",[]).findIndex(function(e){return e._id===d}):-1)))return e=_.get(a,"component_items["+s+"]"),l=e,c="",(r=n)?r.split(".").reduce(function(e,n){return c=c?c+"."+n:n,e||_.get(l,"item_attributes."+c+".locked")},l.locked):l.locked}var l,c,d,u;return!1}}}),(()=>{function e(a){return{utc:function(e){return moment.utc(e).format()},zoneShift:function(e,n){return e.tz(n||moment.tz.guess())},zoneSwap:function(e,n){var t;if(e)return t=e.zone(),e.tz(n||moment.tz.guess()),n=e.zone(),(e=e).add(n-t,"m"),e},campaignTime:function(e){var n=_.get(a,"active.current.timezone_identifier",moment.tz.guess());return this.zoneShift(e,n)},justDate:function(e,n){var t,e=moment(e);return n.campaignTime&&(t=_.get(a,"active.current.timezone_identifier",moment.tz.guess()),e=this.zoneSwap(e,t)),e.startOf("day"),n.inclusive&&e.add(1,"d"),n.returnTimestampAsObject?e:e.format()}}}e.$inject=["scCampaignsService"],angular.module("classy").service("scTimeMachineService",e)})(),(()=>{function e(t,e,a){this.timing={preloaded:!1},this.session=(new Date).getTime(),this.waiting=!1,this.setupLogging=function(){var n=this;this.waiting||(this.waiting=!0,e(function(){n.timing.viewFinalized=(new Date).getTime();var e=n.timing.preloaded?n.timing.stateChange:t.performance.timing.navigationStart;n.timing.preloaded||(n.logTimingEvent("latency",t.performance.timing.connectEnd-e),n.logTimingEvent("first byte",t.performance.timing.responseStart-e),n.logTimingEvent("last byte",t.performance.timing.responseEnd-e),n.logTimingEvent("document ready",t.performance.timing.loadEventEnd-e)),n.logTimingEvent("view rendered",n.timing.viewFinalized-e),imagesLoaded(document.body,function(){n.timing.imagesLoaded=(new Date).getTime(),n.logTimingEvent("fully loaded",n.timing.imagesLoaded-e),n.timing.preloaded=!0,n.waiting=!1})},0))},this.logTimingEvent=function(e,n){n/1e3<1e3&&a.timeTo({time:n,preloaded:this.timing.preloaded?"preloaded":"fresh",event:e,session:this.session})}}e.$inject=["$window","$timeout","scAnalytics"],angular.module("classy").service("scTimeTo",e)})(),angular.module("classy").service("scTransientsService",function(){var t={};this.set=function(e,n){t[e]=n},this.get=function(e){var n=t[e];return delete t[e],n}}),angular.module("classy").service("scUserAgent",function(){var n=["Android","Bada","Windows [Phone/Mobile]","iOS","BlackBerry","MeeGo","Palm","Symbian","WebOS","Sailfish"],t=["Edge","IE"];return{ua:{},isUnsupportedBrowser:function(){var e=this.getUa();return"IE"===_.get(e,"browser.name")&&parseInt(_.get(e,"browser.major",0),10)<=11},getUa:function(){var e;if(_.isEmpty(void 0))return e=(new UAParser).getResult(),this.ua=e},isIE:function(){var e=this.getUa();return-1<t.indexOf(e.browser.name)},isMobile:function(){var e=this.getUa();return"mobile"===e.device.type||-1<n.indexOf(e.os.name)},isPrerender:function(){var e=this.getUa();return e.ua.includes("Prerender")&&("PhantomJS"===e.browser.name||e.ua.includes("HeadlessChrome"))},isGooglebot:function(){return this.getUa().ua.includes("Googlebot")},isBot:function(){return this.isPrerender()||this.isGooglebot()},isIOSx:function(){var e=this.getUa();return"iOS"===e.os.name&&10<=parseFloat(e.os.version)},isIOS11:function(){var e=this.getUa();return"iOS"===e.os.name&&11<=parseFloat(e.os.version)}}}),(()=>{function e(n){var t=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w-]{11})(?:\S+)?$/,a=/^.*(?:vimeo\.com\/)(?:(?:channels\/[A-z]+\/)|(?:groups\/[A-z]+\/videos\/))?([0-9]+)/;function i(e){return angular.isDefined(e)&&t.test(e.split(" ").join(""))}function o(e){return angular.isDefined(e)&&a.test(e.split(" ").join(""))}function r(e){var n;if(void 0!==e)return n=(e=e.split(" ").join("")).match(t),e=e.match(a),n&&1<n.length?n[1]:e&&1<e.length?e[1]:void 0}function s(e){return i(e)?"youtube":o(e)?"vimeo":null}return{validate:function(e){return i(e)||o(e)},getVideoId:r,getType:s,getVideoUrl:function(e){var n=s(e);if((e=r(e))&&n){if("youtube"==n)return"https://www.youtube.com/v/"+e;if("vimeo"==n)return"https://vimeo.com/"+e}return!1},getVimeoThumbnail:function(e){return n({url:"https://vimeo.com/api/v2/video/"+r(e)+".json",method:"GET",headers:{"csrf-token":void 0}})},getYoutubeThumbnail:function(e){return"https://i1.ytimg.com/vi/"+r(e)+"/hqdefault.jpg"}}}e.$inject=["$http"],angular.module("classy").factory("scVideoSvc",e)})(),angular.module("classy").factory("stripDollar",function(){return function(e){e=e?e.toString().replace("$","").replace(/,/g,""):0;return parseFloat(e)}}),angular.module("classy").factory("truncateHtml",function(){return function(e){for(var n,t,a,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=i.limit||100,r=void 0===i.preserveTags||i.preserveTags,s=void 0!==i.wordBreak&&i.wordBreak,l=i.suffix||"...",c=i.moreLink||"",d=e.replace(/</g,"\n<").replace(/>/g,">\n").replace(/\n\n/g,"\n").replace(/^\n/g,"").replace(/\n$/g,"").split("\n"),u=0,m=void 0,g=void 0,p=!1,f=[],h=0;h<d.length;h+=1)if(t=(m=d[h]).replace(/[ ]+/g," "),m.length){if("<"!==m[0])if(o<=u)m="";else if(u+t.length>=o){if(" "===m[(g=o-u)-1])for(;g&&" "===m[--g-1];);else n=m.substring(g).split("").indexOf(" "),s||(-1!==n?g+=n:g=m.length);m=m.substring(0,g)+l,c&&(m+='<a href="'+c+'" style="display:inline">»</a>'),u=o,p=!0}else u+=t.length;else if(r){if(o<=u)if(a=(n=m.match(/[a-zA-Z]+/))?n[0]:"")if("</"!==m.substring(0,2))f.push(a),m="";else{for(;f[f.length-1]!==a&&f.length;)f.pop();f.length&&(m=""),f.pop()}else m=""}else m="";d[h]=m}return{html:d.join("\n").replace(/\n/g,""),more:p}}}),angular.module("classy").component("gate",{template:'\n      <span\n        ng-if="$ctrl.showDebugInfo && !$ctrl.loading"\n        data-sc-tooltip="$ctrl.debugInfo"\n      >\n        {{$ctrl.authorized ? \'✅\' : \'🙈\'}}\n      </span>\n      <ng-transclude ng-if="$ctrl.authorized"></ng-transclude>\n      <ng-transclude ng-if="$ctrl.loading" ng-transclude-slot="loading"></ng-transclude>\n      <ng-transclude ng-if="$ctrl.authorized && !$ctrl.loading" ng-transclude-slot="authorized"></ng-transclude>\n      <ng-transclude ng-if="!$ctrl.authorized && !$ctrl.loading" ng-transclude-slot="unauthorized"></ng-transclude>\n    ',transclude:{authorized:"?authorized",unauthorized:"?unauthorized",loading:"?loading"},bindings:{permissions:"<",scopes:"<",match:"@"},controller:["scAuthorizeService","$scope",function(e,n){var t=this;this.authorized=!1,this.loading=!0,this.showDebugInfo="production"!==SC.env&&localStorage&&localStorage.getItem("classydebug"),this.$onInit=function(){if(t.permissions)return t.match||(t.match="all"),t.debugInfo="\n        Scopes: "+t.scopes+"\n\n        Permissions: "+JSON.stringify(t.permissions)+"\n\n        Match: "+t.match+"\n      ",e.isAuthorized(t.permissions,t.scopes).then(function(e){"any"===t.match&&(t.authorized=e.some(function(e){return e.result})),"all"===t.match&&(t.authorized=e.every(function(e){return e.result}))}).catch(function(e){console.log("==============================================\n");e=JSON.stringify({type:e.name||null,message:e.message||null,statusCode:e.statusCode||null,stack:e.stack.replace(/\n/g," ")||null});console.log(e),console.log("==============================================\n")}).finally(function(){t.loading=!1,n.$digest()});throw new Error("You must provide a permissions param")}}]}),(()=>{function e(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").service("scAuthorizeService",["$http","$injector",function(l,n){var t,c=this;this.getCampaignsServiceId=function(){var e=n.get("scCampaignsService");return _.get(e,"active.current.id",null)},this.getOrganizationsServiceId=function(){var e=n.get("scOrganizationsService");return _.get(e,"active.current.id",null)},this.getScopes=function(){return{campaign:[_.get(SC,"campaign.id",null)||c.getCampaignsServiceId()],organization:[_.get(SC,"organization.id",null)||c.getOrganizationsServiceId()]}},this.isAuthorized=(t=e(regeneratorRuntime.mark(function e(n){for(var t,a,i,o=arguments.length,r=Array(1<o?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("You must provide a permissions param");case 2:if(t=r.scopes||c.getScopes(),a=_.get(SC,"member.id",null)){e.next=6;break}return e.abrupt("return",[{result:!1}]);case 6:return e.next=8,l({method:"POST",url:"/frs-api/permissions/"+a,data:{permissions:n,scopes:t}});case 8:return i=e.sent,e.abrupt("return",i.data);case 10:case"end":return e.stop()}},e,c)})),function(e){return t.apply(this,arguments)})}])})(),angular.module("classy").directive("cpValidateExpiration",function(){return{require:{ngModelCtrl:"?ngModel"},bindToController:{paymentModel:"<cpValidateExpiration"},controllerAs:"cpValidateExpirationCtrl",controller:["$scope",function(n){this.$onInit=function(){var e=this,r=this.ngModelCtrl;n.$watchGroup([function(){return e.paymentModel.expirationMonth},function(){return e.paymentModel.expirationYear}],function(e){var n=null==e[0],t=null==e[1],a=+e[0],e=+e[1],i=moment().month()+1,o=+moment().format("YY");!n&&!t&&(e<o||e==o&&a<i)?r.$setValidity("cpExpirationDate",!1):r.$setValidity("cpExpirationDate",!0)})}}]}}),(()=>{var t={applicationId:null,method:null,token:null,nonce:null,currency:"USD",firstName:null,lastName:null,email:null,address1:null,address2:null,city:null,state:null,postalCode:null,country:"US",brand:null,isAmex:!(e.$inject=["cpAPI"]),lastFour:null,expirationMonth:null,expirationYear:null,securityCode:null,crediteePageId:null,crediteeTeamId:null};function e(n){return function(e){_.merge(this,t,e),this.applicationId=n.getApplicationId()}}angular.module("classy").factory("CPPaymentModel",e)})(),(()=>{function e(o,e){var i=this;function t(e,n,t,a){var n=1<arguments.length&&void 0!==n?n:{},t=2<arguments.length&&void 0!==t?t:{},i=SC.pay;return o({url:i+"/token/"+e,method:3<arguments.length&&void 0!==a?a:"GET",params:n,data:t,headers:{"csrf-token":void 0}})}this.getTokenexData=function(e){return t("tokenexCC",{origin:e}).then(function(e){return e.data})},this.getBraintreeToken=function(e){return t("braintree",{applicationId:this.getApplicationId(),currency:e}).then(function(e){return e.data})},this.getBitpayInvoice=function(e,n){return t("bitpay",{applicationId:this.getApplicationId(),amount:e,email:n}).then(function(e){return e.data})},this.getStripeData=function(e){return t("stripe",{applicationId:this.getApplicationId(),currency:e}).then(function(e){return e.data})},this.getStripePublishableKey=function(){return t("stripePublishableKey").then(function(e){return e.data}).catch(bugsnagClient.notfiy)},this.getPlaidToken=function(e){return t("plaid/createLinkToken",{},{clientUserId:e},"POST").then(function(e){return e.data})},this.getPayPalCommerceData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"USD";return t("paypal",{applicationId:this.getApplicationId(),currency:e}).then(function(e){return e.data})},this.createPayPalOrder=function(e,n,t){var a=SC.pay,e={applicationId:i.getApplicationId(),amount:e,currency:n,paymentMethod:t,type:"DONATION"};return o.post(a+"/paypal/order",e,{headers:{"csrf-token":void 0}}).then(function(e){return e.data})},this.getPayPalBillingAgreementToken=function(){return t("paypalBillingAgreement",{applicationId:this.getApplicationId()}).then(function(e){return e.data})},this.getAccountRoutingTokenExConfig=function(e){return t("tokenexAch",{origin:e}).then(function(e){return e.data})},this.getApplicationId=function(){return e.getTag("classyPayApplicationId")}}e.$inject=["$http","scOrganizationsService"],angular.module("classy").service("cpAPI",e)})(),angular.module("classy").constant("IA_HEAP_PREFIX","intelligent-ask/").service("cpIntelligentAsk",["$http","$q","$log","$timeout","$rootScope","IA_HEAP_PREFIX","EmbeddedGivingUtil","heapService","scOrganizationsService",function(a,i,o,r,t,s,l,c,e){var d=this,u=this,m=null,g=null,p=null,f=null,n=(this.isInit=!1,this.triedToInit=!1,this.isFetching=!1,this.campaign=null,l.isInIframe()?this.hasEmbeddedSDK=!0:this.hasEmbeddedSDK=!1,i.defer());function h(e){return e&&!_.isEmpty(e)&&_.has(e,"oneTime")&&_.has(e,"recurring")&&null!==e.oneTime&&null!==e.recurring}function v(){return g&&c.trackIntelligentAskEvent(s+"load",_.extend({},g)),u.isInit?i.when(u):u.fetch().then(function(){return u}).finally(function(){u.isInit=!0,_.isFunction(p)&&p(),f&&(r.cancel(f),f=null)})}this.amountsPromise=n.promise,this.amounts={oneTime:void 0,recurring:void 0,grid:{oneTime:void 0,recurring:void 0}},this.init=function(e){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return this.triedToInit=!0,this.campaign=e,this.hasAccess()?e&&e.saved&&e.saved.id?(m=this.campaign.saved.id,n?(p=t.$on("heapService:load",v),f=r(function(){return u.isInit||u.isFetching?i.when(u):(p&&p(),u.fetch().then(function(){return u.isInit=!0,u}).finally(function(){u.isInit=!0}))},2e3)):i.when(this)):(o.err("[cpIntelligentAsk:init] campaign is required"),i.reject()):(o.err("[cpIntelligentAsk:init] access denied!"),i.reject("access denied"))},this.fetch=function(e){var n,t;return u.isFetching?(o.debug("[cpIntelligentAsk:fetch] already fetching..."),i.reject()):(u.isFetching=!0,(e||this.campaign)&&m?(e={heap_id:localStorage.getItem("heap-id"),classy_session_id:localStorage.getItem("classy-session-id"),screen_height:screen.height||0,screen_width:screen.width||0},n=i.defer(),t=r(function(){n.resolve(),o.error("[cpIntelligentAsk:fetch] Request timed out!")},1800),a.get("/frs-api/campaigns/"+m+"/intelligent-ask",{params:e,timeout:n.promise}).then(function(e){o.debug("[cpIntelligentAsk:fetch] success! response: ",e);var e=e.data||{},n=e.grid,t=n.suggested_donation_amount,a=n.suggested_recurring_amount,e={oneTime:e.suggested_donation_amount,recurring:e.suggested_recurring_amount};return n&&(t&&(e.grid=e.grid||{},e.grid.oneTime=t),a)&&(e.grid=e.grid||{},e.grid.recurring=a),u.setAmounts(e),u},function(e){return o.error("[cpIntelligentAsk:fetch] err! response: ",e),i.reject(e)}).finally(function(){r.cancel(t),u.isFetching=!1})):(o.debug("[cpIntelligentAsk:fetch] campaign required"),i.reject()))},this.isEnabled=function(e){return!_.isEmpty(e)&&(e.use_intelligent_ask_onetime||e.use_intelligent_ask_recurring)},this.hasAccess=function(){return this.hasAccessAmounts()||this.hasAccessSC()},this.hasAccessAmounts=function(){return!(!d.campaign||"donation"!==d.campaign.current.type||e.getTag("data-use-restriction",!0))},this.hasAccessSC=function(){return!!e.getTag("iaa-abtest-prerelease",!0)},this.hasGridAmounts=function(e){var n;return"oneTime"===e?!(!(n=d.getAmountLevelsOneTime())||!n.length):"recurring"===e?!(!(n=d.getAmountLevelsRecurring())||!n.length):!!(d.amounts.grid&&d.amounts.grid.oneTime&&d.amounts.grid.recurring)},this.getAmountLevelsOneTime=function(){var e=d.amounts.grid.oneTime;return e&&e.length&&(e=e.map(function(e){return{amount:e,display_on_page:!0,displayAmount:e}})).push({amount:"Custom",display_on_page:!0}),e},this.getAmountLevelsRecurring=function(){var e=d.amounts.grid.recurring;return e&&e.length&&(e=e.map(function(e){return{amount:e,display_on_page:!0,displayAmount:e}})).push({amount:"Custom",display_on_page:!0}),e},this.getAmountOneTime=function(){return d.amounts.oneTime},this.getAmountRecurring=function(){return d.amounts.recurring},this.sendHeapEvent=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=arguments[2];e?d.campaign?"load"===e?g=l.getIntelligentAskEventData(d.campaign,n,t,d.amounts):_.isEmpty(g)?o.debug('[cpIntelligentAsk:sendHeapEvent] "load" event must be sent first'):(n=l.getIntelligentAskEventData(d.campaign,n,t,d.amounts),n=_.extend({},g,n),c.trackIntelligentAskEvent(""+s+e,n)):o.debug("[cpIntelligentAsk:sendHeapEvent] no campaign present, init() first"):o.debug("[cpIntelligentAsk:sendHeapEvent] @param name required")},this.setAmounts=function(e){h(e)?(o.debug("[cpIntelligentAsk:setAmounts] setting amounts to: ",e),this.amounts={oneTime:e.oneTime,recurring:e.recurring,grid:{oneTime:e.grid&&e.grid.oneTime?e.grid.oneTime:void 0,recurring:e.grid&&e.grid.recurring?e.grid.recurring:void 0}},n.resolve(this.amounts),t.$broadcast("cpIntelligentAsk:amountsUpdated",this.amounts),this.hasAccessSC()&&this.setSC(this.amounts)):(o.debug('[cpIntelligentAsk:setAmounts] either "oneTime" or "recurring" is required: ',e),n.reject())},this.setSC=function(e){this.hasAccessSC()?h(e)?this.campaign?((SC=SC||{}).intelligentAsk=_.extend({},e,{hasOneTime:this.campaign.hasIntelligentAskOneTime(),hasRecurring:this.campaign.hasIntelligentAskRecurring()}),o.debug("[cpIntelligentAsk:setSC] SC.intelligentAsk set: ",SC.intelligentAsk)):o.debug("[cpIntelligentAsk:setSC] no campaign present, init() first"):o.debug("[cpIntelligentAsk:setSC] amts not valid, unable to set ",e):o.debug("[cpIntelligentAsk:setSC] access denied")},this.reset=function(){o.debug("[cpIntelligentAsk:reset] resetting..."),this.amounts={oneTime:void 0,recurring:void 0,grid:{oneTime:void 0,recurring:void 0}}}}]),(()=>{function s(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(a,t){var n,i,o=this,r=(this.paypal=null,this.paypalRecurring=null,this.billingAgreementToken=null,this.autosubmitPayPalCommerceHandler=null,this.isInit=!1,this.isPayPalCommerceSubmission=!1,this.init=s(regeneratorRuntime.mark(function e(){var n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).commit,i=void 0===n||n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isInit){e.next=3;break}return e.next=3,a.getPayPalCommerceData("USD").then((()=>{var n=s(regeneratorRuntime.mark(function e(n){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.merchantId,a=n.clientId,o.merchantId=t,t={components:"buttons,funding-eligibility","enable-funding":"venmo",currency:"USD","client-id":a,"merchant-id":t,commit:i,"data-namespace":"paypal"},a={components:"buttons,funding-eligibility",currency:"USD","client-id":a,"data-namespace":"paypalRecurring",intent:"tokenize",vault:!0},void 0===window.paypalLoadScript)return e.next=7,r("https://unpkg.com/@paypal/paypal-js@4.0.8/dist/iife/paypal-js.legacy.min.js");e.next=7;break;case 7:return e.next=9,window.paypalLoadScript(t).then(function(e){o.paypal=e});case 9:return e.next=11,window.paypalLoadScript(a).then(function(e){o.paypalRecurring=e,o.isInit=!0});case 11:case"end":return e.stop()}},e,o)}));return function(e){return n.apply(this,arguments)}})());case 3:return e.abrupt("return",{paypal:o.paypal,paypalRecurring:o.paypalRecurring,merchantId:o.merchantId});case 4:case"end":return e.stop()}},e,o)})),this.createOrder=function(e,n,t){return a.createPayPalOrder(e,n,t).then(function(e){return e.orderId})},this.createBillingAgreementToken=s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getPayPalBillingAgreementToken().then(function(e){e=e.billingAgreementToken;o.billingAgreementToken=e});case 2:return e.abrupt("return",o.billingAgreementToken);case 3:case"end":return e.stop()}},e,o)})),this.getBillingAgreementToken=function(){return o.billingAgreementToken},this.getBillingAgreementTokenDetails=(n=s(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({url:"/frs-api/getPayPalBillingAgreementTokenDetails",method:"GET",params:{baToken:n}}));case 1:case"end":return e.stop()}},e,o)})),function(e){return n.apply(this,arguments)}),this.getOrderDetails=(i=s(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({url:"/frs-api/getOrderDetails",method:"GET",params:{orderID:n}}));case 1:case"end":return e.stop()}},e,o)})),function(e){return i.apply(this,arguments)}),this.setAutoSubmitPayPalCommerceHandler=function(e){o.autosubmitPayPalCommerceHandler=e},this.autosubmitPayPalCommerce=function(){o.isInit&&null!==o.autosubmitPayPalCommerceHandler&&(o.isPayPalCommerceSubmission=!0,o.autosubmitPayPalCommerceHandler())},function(o){return new Promise(function(e,n){var t=document.createElement("script"),a=!1,i=(t.type="text/javascript",t.src=o,t.async=!0,t.onerror=function(e){n(e,t)},t.onload=t.onreadystatechange=function(){a||this.readyState&&"complete"!=this.readyState||(a=!0,e())},document.getElementsByTagName("script")[0]);i.parentElement.insertBefore(t,i)})})}e.$inject=["cpAPI","$http"],angular.module("classy").service("PayPalSDK",e)})(),(()=>{function e(a){var i=a.navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&!a.MSStream;return function(n,t){return i?(angular.element(a).on("touchstart focusin",e),function(){return angular.element(a).off("touchstart focusin",e)}):_.noop;function e(e){angular.element(e.target).closest(n).length||t()}}}e.$inject=["$window"],angular.module("classy").factory("onIOSBlur",e)})(),(()=>{var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.element=angular.element(e[0]).find(".ct-chart")[0],this.drawStyleBound=this.drawStyle.bind(this),this.chart=this.createChart(this.element,this.chartData,this.options,this.drawStyleBound)}angular.module("classy").component("chartist",{template:'<div class="ct-chart ct-double-octave"></div>',bindings:{chartData:"<",options:"<",chartColor:"<"},controller:(n.$inject=["$element"],e(n,[{key:"createChart",value:function(e,n,t,a){e=new Chartist.Line(e,n,t);return e.on("draw",a),e}},{key:"drawStyle",value:function(e){"line"!==e.type&&"point"!==e.type||e.element.attr({style:"stroke:"+this.chartColor}),"area"===e.type&&e.element.attr({style:"fill:"+this.chartColor}),this.options.withPointLabels&&this.addPointLabel(e)}},{key:"addPointLabel",value:function(e){"point"===e.type&&e.group.elem("text",_.merge({style:"text-anchor: middle"},this.pointLabelPosition(e)),"ct-label").text(this.pointLabelTransform(e.value.y))}},{key:"pointLabelPosition",value:function(e){return{x:e.x+this.options.label.xOffset,y:e.y+this.options.label.yOffset}}},{key:"pointLabelTransform",value:function(e){return 0<e?this.options.axisY.labelInterpolationFnc(e):""}},{key:"$onChanges",value:function(e){var n=e.chartData,n=(void 0===n?{}:n).currentValue,e=e.options,e=(void 0===e?{}:e).currentValue;n&&(this.chartData=n),e&&(this.options=e),(n||e)&&this.chart.update(this.chartData,this.options)}},{key:"$onDestroy",value:function(){this.chart.off("draw"),this.chart.detach()}}]),n)})})(),angular.module("classy").component("checkboxControl",{transclude:!0,require:{ngModelCtrl:"ngModel"},template:'\n      <button class="{{:: $ctrl.baseClass }}"\n      ng-class="{ checked: $ctrl.isChecked(), disabled: $ctrl.disabled }"\n      ng-click="$ctrl.toggle()"\n      ng-disabled="$ctrl.disabled || $ctrl.lockField"\n      aria-label="{{:: $ctrl.ariaLabel }}"\n      type="button" role="checkbox"\n      _spec="button"\n      aria-checked="{{$ctrl.isChecked()}}">\n        <div ng-if="$ctrl.lockField"\n            data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n            data-sc-tooltip-position="right"\n            data-sc-tooltip-position-tip="bottom center"\n            show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n            fixed-tooltip="true"\n            data-sc-tooltip="\'This field is locked at the template level.\'"\n            class="tooltip-position admin-body__tooltip-element"\n        ></div>\n\n        <span class="{{:: $ctrl.baseClass }}-input"\n        _spec="checkbox"></span>\n\n        <span class="{{:: $ctrl.baseClass }}-label"\n        qa-id="{{:: $ctrl.scQaId.checkboxField }}"\n        ng-transclude\n        _spec="label"></span>\n\n      </button>\n    ',bindings:{baseClass:"<?",flipped:"<?",disabled:"<?",checked:"<?",ariaLabel:"@"},controller:["scQaId","scCampaignsTemplateService","$attrs","$stateParams",function(e,t,a,n){var i=this;this.scQaId=e,this.lockfield=!1,this.getLockedField=function(e){var e=t.getBlockByType(e),n=a.ngModel.split(".").splice(-1)[0];return e&&e.item_attributes[n]&&e.item_attributes[n].locked},SC.campaign.campaignTemplateData&&(e=_.find(SC.blocks,{id:n.blockId}))&&(this.lockField=this.getLockedField(e.type)),this.$onInit=function(){i.ngModelCtrl.$isEmpty=i.isEmpty,i.baseClass=i.baseClass||"form__checkbox-control",i.ariaLabel=i.ariaLabel||"",i.checked&&i.toggle()},this.toggle=function(){var e=!i.ngModelCtrl.$modelValue;i.ngModelCtrl.$setViewValue(e),i.ngModelCtrl.$setTouched(),i.ngModelCtrl.$setDirty()},this.isChecked=function(){return i.flipped?!i.ngModelCtrl.$modelValue:!!i.ngModelCtrl.$modelValue},this.isEmpty=function(e){return!e}}]}),angular.module("classy").component("dateDropdownControl",{require:{ngModelCtrl:"ngModel"},template:'\n    <ng-form>\n      <div class="column-md-third">\n        <select\n        class="form__select--dark"\n        ng-model="$ctrl.monthValue"\n        ng-change="$ctrl.populateDays(); $ctrl.updateModel()"\n        ng-options="month.value as month.label for month in $ctrl.monthOptions"\n        aria-label="Please select a month">\n          <option value="" selected>Month</option>\n        </select>\n      </div>\n\n      <div class="column-md-third">\n        <select\n        class="form__select--dark"\n        ng-model="$ctrl.dayValue"\n        ng-change="$ctrl.updateModel()"\n        ng-options="day.value as day.label for day in $ctrl.dayOptions"\n        aria-label="Please select a day">\n          <option value="" selected>Day</option>\n        </select>\n      </div>\n\n      <div class="column-md-third">\n        <select\n        class="form__select--dark"\n        ng-model="$ctrl.yearValue"\n        ng-change="$ctrl.populateDays(); $ctrl.updateModel()"\n        ng-options="year.value as year.label for year in $ctrl.yearOptions"\n        aria-label="Please select a year">\n          <option value="" selected>Year</option>\n        </select>\n      </div>\n\n    </ng-form>\n    ',controller:function(){var n=this;this.monthOptions=[],this.dayOptions=[],this.yearOptions=[],this.$onInit=function(){this.allEntered=!1,this.populateMonths(),this.populateYears(),this.populateDays()},this.$postLink=function(){n.setupNgModel()},this.setupNgModel=function(){var n=this;this.ngModelCtrl.$validators.monthRequired=function(e,n){e=e||n;return!e||e instanceof Date||(n=e.split("/")[0],/\d{2}/.test(n))},this.ngModelCtrl.$validators.dayRequired=function(e,n){e=e||n;return!e||e instanceof Date||(n=e.split("/")[1],/\d{2}/.test(n))},this.ngModelCtrl.$validators.yearRequired=function(e,n){e=e||n;return!e||e instanceof Date||(n=e.split("/")[2],/\d{4}/.test(n))},this.ngModelCtrl.$render=function(){var e;n.ngModelCtrl.$modelValue&&(e=moment(n.ngModelCtrl.$modelValue),n.monthValue=e.format("MM"),n.dayValue=e.format("DD"),n.yearValue=e.format("YYYY"))}},this.populateMonths=function(){Array.prototype.push.apply(this.monthOptions,[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}])},this.populateYears=function(){for(var e=_.parseInt(moment().format("YYYY")),n=e-120;n<=e;)this.yearOptions.push({label:e.toString(),value:e.toString()}),--e},this.populateDays=function(){this.dayOptions.length=0;for(var e=_.parseInt(this.yearValue),n=_.parseInt(this.monthValue),t=void 0,t=n&&e?moment().year(e).month(n-1).daysInMonth():n?moment().month(n-1).daysInMonth():31,a=1;a<=t;a+=1){var i=("0"+a).substr(-2);this.dayOptions.push({label:i,value:i})}_.find(this.dayOptions,{value:this.dayValue})||(this.dayValue=null)},this.updateModel=function(){n.ngModelCtrl.$setTouched(),(n.monthValue||n.dayValue||n.yearValue)&&n.ngModelCtrl.$setDirty(),n.monthValue&&n.dayValue&&n.yearValue&&(n.allEntered=!0),n.allEntered&&n.ngModelCtrl.$blur&&n.ngModelCtrl.$blur();var e=(n.monthValue||"")+"/"+(n.dayValue||"")+"/"+(n.yearValue||"");"//"==e?n.ngModelCtrl.$setViewValue(null):n.ngModelCtrl.$setViewValue(e)}}}),angular.module("classy").component("donationLevelsControl",{require:{ngModelCtrl:"ngModel"},template:'\n      <div class="form__donation-levels-container">\n\n        <button class="form__donation-levels-button"\n        ng-repeat="level in $ctrl.levels"\n        ng-click="$ctrl.setValue(level)"\n        ng-style="{ \'background-color\': $ctrl.primaryColor }"\n        type="button"\n        _spec="level">\n          {{ level | scFormatCurrency:$ctrl.raw_currency_code:0 }}\n        </button>\n\n        <div class="form__donation-levels-button--custom"\n        ng-click="$ctrl.setCustom()"\n        ng-style="{ \'background-color\': $ctrl.primaryColor }"\n        type="button"\n        _spec="other">\n          Other\n        </div>\n\n      </div>\n    ',bindings:{levels:"<",primaryColor:"<?"},controller:["$rootScope","scCampaignsService","scCurrencyService",function(e,n,t){this.setValue=function(e){this.ngModelCtrl.$setViewValue(e)},this.raw_currency_code=n.active.current.raw_currency_code||t.getDefaultCurrency(),this.setCustom=function(){e.$broadcast("donationLevelsControl.setCustomAmount")}}]}),angular.module("classy").component("dropdownControl",{require:{ngModelCtrl:"ngModel"},template:'\n    <div class="form__dropdown" ng-keydown="$ctrl.keyDown($event)">\n\n      \x3c!-- Faux Select --\x3e\n      <button class="form__dropdown-selected"\n      role="combobox"\n      ng-click="$ctrl.toggleDropdown()"\n      ng-style="$ctrl.dropdownStyle()"\n      type="button"\n      _spec="selected"\n      tabindex="0"\n      aria-label="{{$ctrl.ariaLabel}}"\n      aria-expanded="{{$ctrl.dropdownVisible}}">\n        {{ $ctrl.selected.label || $ctrl.blankOption }}\n      </button>\n\n      \x3c!-- Dropdown --\x3e\n      <div class="form__dropdown-dropdown"\n      ng-show="$ctrl.dropdownVisible"\n      _spec="dropdown">\n\n        <div class="form__dropdown-option--blank"\n          ng-if="$ctrl.blankOption">\n          {{ $ctrl.blankOption }}\n        </div>\n\n        <button class="form__dropdown-option"\n        ng-repeat="option in $ctrl.options"\n        ng-click="$ctrl.selectOption(option)"\n        type="button"\n        role="option"\n        id="{{ option.value }}__option"\n        _spec="option">\n          {{ option.label }}\n        </button>\n  </div>\n\n    </div>\n    ',bindings:{options:"<",blankOption:"<?",width:"<?",selected:"=?",ariaLabel:"@?"},controller:["$element","$timeout","$window",function(t,n,e){var a=this,i=38,o=40,r=48,s=90,l=27;this.timer=null,this.searchKeys="",this.$onInit=function(){this.dropdownVisible=!1,this.ngModelCtrl.$render=this.$render},this.$postLink=function(){angular.element(e).on("click",this.handleClickOutside)},this.$onDestroy=function(){angular.element(e).off("click",this.handleClickOutside)},this.handleClickOutside=function(e){angular.element(e.target).closest(t).length||n(function(){a.dropdownVisible=!1})},this.$render=function(){a.selected=_.find(a.options,{value:a.ngModelCtrl.$modelValue})},this.toggleDropdown=function(){var e=this;this.stopTimer(),this.dropdownVisible=!this.dropdownVisible,this.dropdownVisible&&this.selected&&n(function(){angular.element("#"+e.selected.value+"__option").focus()})},this.selectOption=function(e){this.selected=e,this.ngModelCtrl.$setViewValue(e.value),this.dropdownVisible=!1},this.dropdownStyle=function(){return a.width?{width:a.width}:{}},this.keyDown=function(e){var n=this;this.dropdownVisible?e.keyCode===i?(e.preventDefault(),this.stopTimer(),angular.element(document.activeElement).prev().focus()):e.keyCode===o?(e.preventDefault(),this.stopTimer(),(angular.element(document.activeElement)[0]==t.find(".form__dropdown-selected")[0]?t.find(".form__dropdown-option--blank"):angular.element(document.activeElement)).next().focus()):e.keyCode===l&&(e.preventDefault(),this.stopTimer(),this.toggleDropdown()):e.keyCode===o&&(e.preventDefault(),this.stopTimer(),this.toggleDropdown()),e.keyCode<=s&&e.keyCode>=r&&(this.resetTimer(),this.searchKeys+=String.fromCharCode(e.keyCode).toUpperCase(),(e=_.find(this.options,function(e){return _.startsWith(e.label.toUpperCase(),n.searchKeys)}))?this.dropdownVisible?angular.element("#"+e.value+"__option").focus():this.selectOption(e):this.stopTimer())},this.resetTimer=function(){var e=this;n.cancel(this.timer),this.timer=n(function(){e.searchKeys=""},500)},this.stopTimer=function(){n.cancel(this.timer),this.searchKeys=""}}]}),(()=>{var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n,t,a){i(this,o),this.color=e.includes("admin")?"#425CCD":n.active.current.styles.primaryColor,this.scQaId=t,this.$element=a}angular.module("classy").component("radioGroup",{transclude:!0,template:"<ng-transclude></ng-transclude>",controller:function e(){i(this,e),this.radioOptions=[]}}).component("radioControl",{transclude:!0,require:{ngModelCtrl:"ngModel",radioCtrl:"^?radioGroup"},template:'\n      <button class="{{::$ctrl.styleClass}}"\n      aria-checked="{{$ctrl.isChecked()}}"\n      role="radio"\n      tabindex="{{ $ctrl.tabIndex }}"\n      ng-class="{ checked: $ctrl.isChecked() }"\n      ng-click="$ctrl.select()"\n      ng-keydown="$ctrl.onKeyDown($event)"\n      ng-disabled="$ctrl.disabled"\n      type="button"\n      aria-checked="{{ $ctrl.isChecked() }}"\n      aria-label="{{ ::$ctrl.ariaLabel }}"\n      _spec="button">\n\n        <span class="{{::$ctrl.styleClass + \'_input\'}}"\n        sc-error-class="$ctrl.ngModelCtrl.$name"\n        ng-style="{ color: $ctrl.color }"\n        _spec="radio"></span>\n\n        <span class="{{::$ctrl.styleClass + \'_label\'}}"\n          qa-id="{{:: $ctrl.scQaId.radioField }}"\n        ng-transclude\n        _spec="label"></span>\n\n      </button>\n    ',bindings:{value:"<",size:"<?",disabled:"<?",ariaLabel:"@?",tabIndex:"<?"},controller:(o.$inject=["$state","scThemesService","scQaId","$element"],e(o,[{key:"$onInit",value:function(){this.ngModelCtrl.$isEmpty=this.isEmpty,this.tabIndex=_.isUndefined(this.tabIndex)?0:this.tabIndex,"small"===this.size?this.styleClass="form__radio-control--small":this.styleClass="form__radio-control",this.radioCtrl&&this.radioCtrl.radioOptions&&this.radioCtrl.radioOptions.push({value:this.value,element:this.$element[0]})}},{key:"select",value:function(){this.ngModelCtrl.$setViewValue(this.value),this.ngModelCtrl.$setTouched(),this.ngModelCtrl.$setDirty()}},{key:"onKeyDown",value:function(e){var n,t=this,a=37,i=38,o=39,r=40,s=this.radioCtrl&&this.radioCtrl.radioOptions;s&&(n=s.findIndex(function(e){return t.$element[0].isSameNode(e.element)}),e.keyCode===i||e.keyCode===a?(e.preventDefault(),s[i=(i=n-1)<0?s.length-1:i].element.children[0].focus(),this.ngModelCtrl.$setViewValue(s[i].value)):e.keyCode!==r&&e.keyCode!==o||(e.preventDefault(),s[a=(a=n+1)>s.length-1?0:a].element.children[0].focus(),this.ngModelCtrl.$setViewValue(s[a].value)))}},{key:"isChecked",value:function(){return this.ngModelCtrl.$modelValue===this.value}},{key:"isEmpty",value:function(e){return _.isUndefined(e)}}]),o)})})(),angular.module("classy").component("typeaheadDropdownControl",{template:'\n    <div ng-class="{\'typeahead_is-loading\': $ctrl.loadingItems}">\n      <div class="typeahead_input-dropdown" ng-class="{ \'typeahead-show-groups\': $ctrl.showGroupNames }">\n        <input\n          uib-typeahead="item as item.name for item in $ctrl.executeFetchAction($viewValue)"\n          typeahead-loading="$ctrl.loadingItems"\n          typeahead-no-results="$ctrl.noResults"\n          typeahead-is-open="$ctrl.isOpen"\n          typeahead-on-select="$ctrl.itemSelected($item, $model, $label)"\n          typeahead-min-length="0"\n          typeahead-focus-on-select="false"\n          typeahead-editable="$ctrl.noResults"\n          typeahead-popup-template-url="global/components/controls/typeaheadDropdownControlPopup"\n          autocomplete="{{$ctrl.autofillValue}}"\n          ng-model="$ctrl.selected"\n          ng-model-options="$ctrl.typeaheadOptions"\n          class="typeahead_input"\n          placeholder="{{ $ctrl.selectedItem.label }}"\n          type="text"\n          ng-disabled="{{ $ctrl.disableFlag }}"\n          role="combobox"\n          aria-label="Program Designation"\n        >\n        <div class="typeahead_arrow-overlay" ng-click="$ctrl.onArrowClick()"></div>\n\n        <div data-ng-if="$ctrl.loadingItems" class="typeahead_popup-placeholder typeahead_items-loading">\n          <div class="typeahead_loading-spinner" ng-style="{ \'color\': $ctrl.primaryColor }"></div>\n          <div class="typeahead_loading-label">Loading...</div>\n        </div>\n        \n        <div data-ng-if="$ctrl.noResults" class="typeahead_popup-placeholder typeahead_no-results">\n          <div class="typeahead_no-results-description">No search results found for "{{ $ctrl.currentSearchTerm }}"</div>\n          <div class="typeahead_no-results-hint">Try a different keyword or clear your search and scroll through the dropdown list.</div>\n          <div class="typeahead_no-results-clear" ng-click="$ctrl.clearSearch()">Clear Search</div>          \n        </div>\n      </div>\n    </div>\n    ',bindings:{defaultItems:"<",selectedItem:"<",fetchAction:"<",onItemSelected:"&",onScrollToBottom:"&",showGroupNames:"<",elementIndex:"@"},controller:["$timeout","$document","$scope","scThemesService",function(n,t,e,a){function i(){var e=o.elementIndex?+o.elementIndex:0;return t.find(".typeahead_input")[e]}var o=this,r=(this.$onInit=function(){o.keepSearchTerm=!1,o.typeaheadOptions={debounce:{default:500}},o.primaryColor=_.get(a,"active.current.styles.primaryColor","#ccc"),o.autofillValue=Math.random().toString().replace("0.",""),o.registerTypeaheadOffClick(),o.registerTypeaheadInputKeydown(),n(function(){t.find(".typeahead_input-dropdown")[0].addEventListener("scroll",o.onScroll,!0)})},this.$onDestroy=function(){t.unbind("click",o.offClick)},this.itemSelected=function(e,n,t){o.onItemSelected({item:e,model:n,label:t}),o.closePopup()},this.executeFetchAction=function(e){o.keepSearchTerm||(o.currentSearchTerm=e);e=!o.keepSearchTerm,e=o.fetchAction(o.currentSearchTerm,e);return o.keepSearchTerm=!1,e},this.closePopup=function(){o.noResults=!1,o.loadingItems=!1,o.selected=void 0},this.focusTypeahead=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];o.keepSearchTerm=e,n(function(){i().blur(),i().focus(),e&&(o.selected=o.currentSearchTerm)})},this.clearSearch=function(){o.selected="",o.focusTypeahead(!1)},this.registerTypeaheadOffClick=function(){o.offClick=function(e){0<angular.element(t.find(".typeahead_input-dropdown")[0]).find(e.target).length||!o.noResults&&!o.loadingItems||o.closePopup()},t.bind("click",o.offClick)},this.registerTypeaheadInputKeydown=function(){i().addEventListener("keydown",function(e){o.loadingItems&&e.preventDefault()})},this.onArrowClick=function(){o.isOpen||o.noResults||o.loadingItems?o.closePopup():o.focusTypeahead(!1)},this.onScroll=function(e){e=e.target;.9<e.scrollTop/(e.scrollHeight-e.clientHeight)&&r()},_.debounce(function(){o.onScrollToBottom&&(o.onScrollToBottom(),o.focusTypeahead(!0))},500));e.$watch(function(){return o.isOpen},function(e){e||(o.selected=void 0)})}]}),angular.module("classy").component("exitIntentModal",{templateUrl:"global/components/exit-intent-modal/global.components.exit-intent-modal",bindings:{blockerId:"@"},controller:["$log","$timeout","$window","$document","scThemesService",function(n,t,a,e,i){var o=this,r=this,s=3e4,l=3e3,c=-15,d=null,u=null,m=null;function g(){n.info("[exitIntentModal:start] new session starting..."),m=u=d=null,r.is.hot=!1,r.is.desktopTriggerable=!1,r.is.mobileTriggerable=!1,r.is.blocked=!1,r.is.prevBlocked=!1,e.on("keydown",$),e.on("click",T),e.on("touchstart",E),p(),r.is.desktop?(e.on("mouseenter",x),e.on("mouseleave",D)):e.on("scroll",A)}function p(){r.is.hot=!1,d=t(function(){n.info("[exitIntentModal:startCooldown] 30s cooldown DONE"),r.is.hot=!0,f()},s)}function f(){(()=>{if(r.is.open)n.info("[exitIntentModal:canOpenModal] NO, modal is open now");else if(r.is.beenOpened)n.info("[exitIntentModal:canOpenModal] NO, modal already opened");else if(r.is.hot)if(r.is.desktop&&!r.is.desktopTriggerable)n.info("[exitIntentModal:canOpenModal] NO, desktop trigger conditions not met");else if(r.is.desktop||r.is.mobileTriggerable){if(r.is.blocked=(()=>{if(r.blockerId){var e=document.getElementById(r.blockerId);if(e)return e.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight);n.info("[exitIntentModal:isBlockerVisible] not found blockerId: ",r.blockerId)}return!1})(),r.is.prevBlocked&&!r.is.blocked)n.info("[exitIntentModal:canOpenModal] NO, was just previously blocked");else{if(r.is.prevBlocked=r.is.blocked,!r.is.blocked)return 1;n.info("[exitIntentModal:canOpenModal] NO, blocked")}g()}else n.info("[exitIntentModal:canOpenModal] NO, mobile trigger conditions not met");else n.info("[exitIntentModal:canOpenModal] NO, cooldown is active")})()?(t(function(){M(),r.is.open=!0,r.is.opening=!0,r.is.beenOpened=!0}),t(function(){r.is.opening=!1},150)):n.info("[exitIntentModal:openModal] cannot show")}function h(){P(),r.is.desktop?r.is.desktopTriggerable=!0:r.is.mobileTriggerable=!0}this.is={open:!1,opening:!1,hot:!1,desktop:!1,beenOpened:!1,desktopTriggerable:!1,mobileTriggerable:!1,blocked:!1,prevBlocked:!1},this.$onInit=function(){var e;o.primaryColor=_.get(i,"active.current.styles.primaryColor")||"#425CCD",o.is.open=!1,o.is.opening=!1,o.is.desktop=(e=a.navigator.userAgent,!(/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)||/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e))),g()},this.closeModal=function(){t(function(){r.is.open=!1})};k=y=b=void 0,C();var v,b,y,k,w=function(){return v=window.scrollY,null!=b&&(k=v-b),b=v,clearTimeout(y),y=setTimeout(C,50),k};function C(){b=null,k=0}function S(){d&&(t.cancel(d),d=null,p())}function $(){n.info("[exitIntentModal:__handleKeydown] resetting cooldown"),S()}function T(){n.info("[exitIntentModal:__handleMouseClick] resetting cooldown"),S()}function E(){n.info("[exitIntentModal:__handleTouchstart] resetting cooldown"),S()}function x(){var e=+new Date;n.info("[exitIntentModal:__handleMouseEnter] timestamp diff (3s threshold): ",e-m),e-m<=l&&u&&(n.info("[exitIntentModal:__handleMouseLeave] cancelling mouseleave promise"),t.cancel(u),u=m=null)}function D(e){e=e&&e.originalEvent&&e.originalEvent.y;e&&e<=0?(n.info("[exitIntentModal:__handleMouseLeave] TOP"),m=+new Date,u=u||t(function(){n.info("[exitIntentModal:__handleMouseLeave] desktop trigger TRUE"),h(),f()},l)):n.info("[exitIntentModal:__handleMouseLeave] not TOP")}function A(){var e=w();n.info("[exitIntentModal:__handleScroll] scroll speed: ",e),e<c&&(n.info("[exitIntentModal:__handleMouseLeave] mobile trigger TRUE"),h(),f())}function M(){e.off("keydown",$),e.off("click",T),e.off("touchstart",E),P()}function P(){e.off("mouseenter",x),e.off("mouseleave",D),e.off("scroll",A)}this.$onDestroy=function(){M()}}]}),angular.module("classy").component("facebookFundraiser",{template:'\n  \n  <div class="supporter-dashboard_overview-cards" data-ng-if="$ctrl.isFBPageCreated">\n  <div class="fundraiser-dashboard_facebook-fundraiser-block">\n    <div\n      class="fundraiser-dashboard_facebook-background"\n      data-sc-block-bg="pageBlock.current.background"\n      data-public="true"\n      data-fallback-color="theme.current.styles.background.color"\n      data-fallback-img="theme.current.styles.background.image"\n      data-theme="theme"\n      data-fallback-img="theme.current.styles.background.image">\n    </div>\n    <div class="fundraiser-dashboard_facebook-fundraiser-block-detail">\n      <div class="fundraiser-dashboard_facebook-fundraiser-block-title">\n        {{$ctrl.fundraisingPageData.alias}}\n      </div>\n      <div\n        class="fundraiser-dashboard_facebook-fundraiser-block-description"\n        data-ng-bind="$ctrl.intro_text">\n      </div>\n      <div class="fundraiser-dashboard_facebook-fundraiser-block-activity-detail">\n        <div class="fundraiser-dashboard_facebook-fundraiser-block-activity">\n          <div>Last Activity</div>\n          <div>{{$ctrl.fbFundraisingPageData.updated_at | date : "y-MM-dd"}}</div>\n        </div>\n        <div>\n          <a ng-href="{{$ctrl.viewURL}}"\n            target="_blank"\n            class="fundraiser-dashboard_facebook-fundraiser-block-view"\n            aria-label="View Facebook fundraising page">\n            View\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',controller:["scFundraisingPagesService","$scope","scBlocksService","scThemesService","CHANNEL",function(e,t,a,i,o){this.$onInit=function(){var n=this;this.isFBPageCreated=!1,SC.organization.facebookChannel.status&&e.active.getChannelFundraisingPage(o.FB).then(function(e){n.fbFundraisingPageData=e.data[0],n.fundraisingPageData=e.data[1],n.isFBPageCreated=!0,n.viewURL="https://www.facebook.com/donate/"+n.fbFundraisingPageData.external_fundraising_page_id,n.intro_text=n.fundraisingPageData.intro_text.replace(/<\/?p>/g,""),t.pageBlock=a.getBlockByType("fundraiser"),t.theme=i.active}).catch(function(e){n.isFBPageCreated=!1})}}]}),angular.module("classy").component("feeOnTop",{template:'<div class="donation-table" ng-if="$ctrl.showFOT()" style="margin-top:0">\n                    <div class="donation-table_row">\n                    <div class="donation-table_columns donation-table_columns_without_margin">\n                        <div class="donation-table_column">\n                \n                        <span class="fot-checkbox"\n                        data-sc-checkbox\n                        data-ng-model="$ctrl.fot"\n                        name="donation_fot"\n                        data-id="DCF-check"\n                        aria-label="{{$ctrl.stripTagsFromAppeal()}}">\n                            <span data-sc-ctx-bind-html="$ctrl.classyModeAppeal() | scTrustedHtml"></span>\n                        </span>\n                \n                        </div>\n                    </div>\n                    </div>\n                </div>\n            ',bindings:{fot:"="},controller:["scCampaignsService","scOrganizationsService",function(e,n){var t=this;this.showFOT=function(){return e.active.current.classy_mode_enabled||e.active.current.dcf_enabled},this.classyModeAppeal=function(){return e.active.current.classy_mode_appeal||"\n              <p>I'd like to cover the processing fee so 100% of my donation goes to "+n.active.current.name+".</p>\n            "},this.stripTagsFromAppeal=function(){return t.classyModeAppeal().replace(/(<([^>]+)>)/gi,"")}}]}),angular.module("classy").component("formColumn",{template:"<ng-transclude></ng-transclude>",transclude:!0,bindings:{quarters:"<?"},controller:["$element",function(e){this.$onInit=function(){this.setupClassName()},this.$onChanges=function(){this.setupClassName()},this.setupClassName=function(){switch(this.quarters){case 1:e[0].className="form-table__column--one";break;case 2:e[0].className="form-table__column--two";break;case 3:e[0].className="form-table__column--three";break;default:e[0].className="form-table__column"}}}]}),angular.module("classy").component("formError",{template:'\n      <p class="form__error" aria-live="polite" role="alert"\n      sc-validity-message="::$ctrl.name"\n      messages="::$ctrl.messages"></p>\n    ',bindings:{name:"<",messages:"<"}}),angular.module("classy").component("formField",{template:'<div class="form-field" data-ng-transclude></div>',transclude:!0}),angular.module("classy").component("formLabel",{template:'\n      <div class="form__label" \n      ng-class="{ required: $ctrl.required }"\n      ng-transclude></div>\n    ',transclude:!0,bindings:{required:"<?"}}),angular.module("classy").component("formRow",{template:'<div class="form-table__row" data-ng-transclude></div>',transclude:!0}),angular.module("classy").component("formSubLabel",{template:'\n      <div class="form__sub-label" \n      ng-transclude></div>\n    ',transclude:!0}),angular.module("classy").component("formTable",{template:'<div class="form-table" data-ng-transclude></div>',transclude:!0}),angular.module("classy").component("fundraisingMinimumDisclaimer",{template:'\n    <div class="fr-minimum-disclaimer"\n      ng-if="$ctrl.featureEnabled"\n      ng-class="{\'fr-minimum-disclaimer__small-version\': $ctrl.smallVersion}"\n      ng-style="{\'background-color\': $ctrl.backgroundColor || \'none\', \'padding-left\': $ctrl.leftOffsetPx || 0}">\n      <div class="fr-minimum-disclaimer__ticket-icon" ng-if="!$ctrl.smallVersion">\n        <i class="ci ci-receipt-stub"></i>\n      </div>\n      <div class="fr-minimum-disclaimer__row">\n        <span ng-if="$ctrl.smallVersion" class="fr-minimum-disclaimer__text">\n          {{$ctrl.minimumValue | currency :\'$\':0}} fundraising commitment due on {{$ctrl.commitmentDeadline | date : \'shortDate\'}}\n        </span>\n        <span ng-if="!$ctrl.smallVersion" class="fr-minimum-disclaimer__text">\n          Each attendee commits to raising {{$ctrl.minimumValue | currency :\'$\':0}} by\n          {{$ctrl.commitmentDeadline | date : \'longDate\'}}. If the amount isn\'t reached, attendees agree to cover the remaining amount.\n        </span>\n        <i class="fa fa-question-circle fr-minimum-disclaimer__tooltip-icon"\n           sc-tooltip\n           sc-tooltip-class="tooltip-dark"\n           sc-tooltip-position-tip="{{ $ctrl.tooltipPosition }}">\n          If attendees do not meet their fundraising commitments, we charge the remaining amount to the payment method attendees provide. If you have any questions, contact our organization.\n        </i>\n      </div>\n    </div>\n  ',bindings:{minimumValue:"<",minimumDeadline:"<",smallVersion:"<",tooltipRelativePosition:"<",leftOffsetPx:"<",backgroundColor:"<"},controller:["scCampaignsService",function(e){this.$onInit=function(){"string"==typeof this.minimumDeadline?this.commitmentDeadline=new Date(this.minimumDeadline.replace(" ","T")):this.minimumDeadline instanceof Date&&(this.commitmentDeadline=this.minimumDeadline),this.featureEnabled="reg_w_fund"===_.get(e,"active.current.type"),this.tooltipPosition=this.tooltipRelativePosition||"top center"}}]}),angular.module("classy").component("campaignTemplateLock",{template:"<span>:{{$ctrl.sampleField.name}}</span>",bindings:{disableFlag:"="},controller:function(){this.disableFlag=!1}}),angular.module("classy").component("checkboxField",{template:'\n    <div style="position:relative">\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n\n      <checkbox-control\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-required="$ctrl.required"\n      flipped="$ctrl.flipped"\n      sc-validity-reporter\n      sc-validity-classes\n      name="{{:: $ctrl.name }}"\n      _spec="input"\n      data-disabled="$ctrl.disableFlag">\n        {{:: $ctrl.checkboxLabel }}\n      </checkbox-control>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    </div>\n    ',bindings:{model:"=",label:"<",name:"<",disableFlag:"<",checkboxLabel:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",flipped:"<?",lockField:"<?"},controller:function(){var e={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1};this.$onInit=function(){_.defaultsDeep(this,e)}}}),angular.module("classy").component("colorPickerField",{template:'\n      <div class="{{$ctrl.styleClass}}">\n        <label class="form_label"\n        ng-if="$ctrl.label"\n        _spec="label">{{::$ctrl.label }}</label>\n\n        <p class="form_helper">{{::$ctrl.description}}</p>\n        <div data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }"> \n          <div ng-if="$ctrl.lockField" data-ng-style="$ctrl.colorPickerTootipStyle"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="form_togglegroup-toggle admin-body__tooltip-element"></div>\n          \n          <div class="form_colorpicker"\n          data-sc-spectrum="$ctrl.model"\n          data-fallback-color="$ctrl.fallback"\n          data-swatch-size="{{ ::$ctrl.swatchSize }}"\n          data-footer-bg-color="$ctrl.footerBgColor"\n          data-about-bg-color="$ctrl.aboutBgColor"  \n          data-location-bg-color="$ctrl.locationBgColor"\n          data-remove-button="$ctrl.removeButton"></div>\n        </div>\n      </div>\n    ',bindings:{model:"=",fallback:"<?",swatchSize:"<?",label:"<?",description:"<?",required:"<?",styleClass:"<?",removeButton:"<?",lockField:"<?",footerBgColor:"=?",aboutBgColor:"=?",locationBgColor:"=?"},controller:["$attrs","$stateParams","scCampaignsTemplateService",function(a,n,i){var o={fallback:"black",swatchSize:25,errorMessages:{required:"This field is required."},required:!1};this.$onInit=function(){var e,t=this;_.defaultsDeep(this,o),this.styleClass?this.styleClass+="-colorpicker":this.styleClass="form_field color-picker",this.colorPickerTootipStyle={top:"-20%",width:"18%",right:0,height:"60px"},this.getLockedField=function(e){var n;return void 0!==t.lockField?t.lockField:(e=i.getBlockByType(e),n=a.model.split(".").splice(-1)[0],a.model.includes("block.background.color")?e.item_attributes.background.color&&e.item_attributes.background.color.locked:a.model.includes("top.text.color")?e.item_attributes.top.text.color&&e.item_attributes.top.text.color.locked:e.item_attributes[n]&&e.item_attributes[n].locked)},SC.campaign&&SC.campaign.campaignTemplateData&&((e=_.find(SC.blocks,{id:n.blockId}))&&(this.lockField=this.getLockedField(e.type)),"theme.styles.background.color"===a.model&&(e=i.getBlockByType("crowdfunding"),this.lockField=_.get(e,"item_attributes.background.image.locked",!1)),"theme.current.styles.primaryColor"===a.model)&&(this.lockField=_.get(SC.campaign.campaignTemplateData,"components.theme.component_items[0].item_attributes.styles.primaryColor.locked",!1))}}]}),angular.module("classy").component("currencyField",{template:'\n      <form-label required="$ctrl.required" ng-if="$ctrl.label" _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n      <form-sub-label ng-if="$ctrl.subLabel" _spec="subLabel">\n        {{:: $ctrl.subLabel }}\n      </form-sub-label>\n      <div class="form__text-input__outer" data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }">\n        <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n      <input class="form__text-input--dark"\n      aria-label="{{ $ctrl.ariaLabel ? $ctrl.ariaLabel:\'Enter goal amount\'}}"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-required="$ctrl.required"\n      sc-currency\n      sc-validity-reporter\n      sc-validity-classes\n      data-sc-focus="$ctrl.focusWhen"\n      symbol="{{$ctrl.symbol}}"\n      round-currency="$ctrl.roundCurrency"\n      ng-disabled="$ctrl.disableFlag"\n      allow-null="$ctrl.allowNull"\n      max="$ctrl.max"\n      min="$ctrl.min"\n      type="text"\n      name="{{:: $ctrl.name }}"\n      placeholder="{{:: $ctrl.placeholder }}"\n      ng-focus="$ctrl.onFocus = true"\n      ng-blur="$ctrl.onFocus = false"\n      qa-id="{{:: $ctrl.scQaId.singleLineTextInput }}"\n      _spec="input" />\n      </div>\n      <div aria-live="polite">\n        <form-error\n        name="$ctrl.name"\n        messages="$ctrl.errorMessages"\n        _spec="errors"></form-error>\n      </div>\n    ',bindings:{model:"=",disableFlag:"=?",name:"<",currencyCode:"<?",label:"<",subLabel:"<?",placeholder:"<",errorMessages:"<?",getterSetter:"<?",roundCurrency:"<?",max:"<?",min:"<?",allowNull:"<?",required:"<?",selectOn:"<?",onFocus:"=?",focusWhen:"=?",ariaLabel:"@?",lockField:"<?"},controller:["$element","$scope","scCurrencyService","scQaId","scCampaignsTemplateService","$stateParams","$attrs","$filter",function(e,n,t,a,i,o,r,s){var l=this;this.scQaId=a,this.$onInit=function(){var e;void 0===l.lockField&&SC.campaign&&SC.campaign.campaignTemplateData&&(l.lockField=!1,"fundraiser"===o.step&&"campaign.current.default_page_goal"===r.model?l.lockField=i.getCampaignLock("default_page_goal"):"team"===o.step&&"campaign.current.default_team_goal"===r.model&&(l.lockField=i.getCampaignLock("default_team_goal")),(e=_.get(SC.campaign.campaignTemplateData,"components.campaign.component_items[0].item_attributes.raw_goal.locked",!1))&&"campaign.current.goal"===r.model&&(l.disableFlag=!0,l.lockField=!0),e)&&"campaign.current.raw_goal"===r.model&&(l.disableFlag=!0,l.lockField=!0),_.defaultsDeep(l,function(){return{disabled:!1,errorMessages:{min:"Please enter a number equal to or greater than "+s("number")(this.min)+".",max:"Please enter a number equal to or less than "+s("number")(this.max)+".",required:"Please enter an amount.",parse:"Please enter a valid currency amount."},getterSetter:!1,required:!1,roundCurrency:!0,allowNull:!1}}.call(l)),l.setupSelectListener(),l.currencyCode&&(l.symbol=t.getCurrencySymbol(l.currencyCode))},this.setupSelectListener=function(){l.selectOn&&n.$on(l.selectOn,function(){e.find("input").focus(),e.find("input").select()})}}]}),angular.module("classy").component("currencyFieldRf",{template:'\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n      <input class="form__text-input--dark"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-required="$ctrl.required"\n      sc-currency\n      sc-validity-reporter\n      sc-validity-classes\n      symbol="{{$ctrl.symbol}}"\n      round-currency="$ctrl.roundCurrency"\n      ng-disabled="$ctrl.disableFlag"\n      max="$ctrl.max"\n      min="$ctrl.min"\n      type="string"\n      inputmode="numeric"\n      autocomplete="off"\n      name="{{:: $ctrl.name }}"\n      placeholder="{{:: $ctrl.placeholder }}"\n      ng-change="$ctrl.onChange()"\n      ng-blur="$ctrl.onFocus = false"\n      ng-style="$ctrl.selected ? $ctrl.changeInputStyle() : $ctrl.defaultStyle()"\n      qa-id="{{:: $ctrl.scQaId.singleLineTextInput }}"\n      aria-label="{{:: $ctrl.currencyAriaLabel }}"\n      _spec="input" />\n      <div style="position: absolute;\n      width: 100%;\n      left: 0;\n      text-align: left;" aria-live="polite">\n        <form-error\n        name="$ctrl.name"\n        messages="$ctrl.errorMessages"\n        _spec="errors"></form-error>\n      </div>\n    ',bindings:{model:"=",disableFlag:"=?",name:"<",currencyCode:"<?",label:"<",placeholder:"<",errorMessages:"<?",getterSetter:"<?",roundCurrency:"<?",currencyAriaLabel:"@?",modalBindValue:"=?",selected:"<?"},require:{form:"^form"},controller:["$element","$scope","$filter","scCurrencyService","scQaId","scThemesService",function(e,n,t,a,i,o){var r=this;this.scQaId=i,this.$onInit=function(){0<r.modalBindValue&&setTimeout(function(){r.form.amount.$setValidity("min",!0),r.form.amount.$setValidity("max",!0)},50),_.defaultsDeep(r,function(){return{disabled:!1,min:1,max:1e7,errorMessages:{min:"Please enter an amount greater than or equal to 1.",max:"Please enter an amount smaller than or equal to 10,000,000.",required:"Please enter an amount.",parse:"Please enter a valid currency amount."},getterSetter:!1,required:!1,roundCurrency:!0}}.call(r)),r.setupSelectListener(),r.currencyCode&&(r.symbol=a.getCurrencySymbol(r.currencyCode))},this.setupSelectListener=function(){r.selectOn&&n.$on(r.selectOn,function(){e.find("input").focus(),e.find("input").select()})},this.onChange=function(){0<r.model?(r.modalBindValue=r.model,r.form.amount.$setValidity("required",!0),r.form.amount.$setValidity("max",!0),r.form.amount.$setValidity("min",!0)):r.model||r.form.amount.$setValidity("required",!1)},n.$on("selectedAmountChange",function(e,n){r.model=0<n?n:""}),this.defaultStyle=function(){return{"border-color":t("adjustColorOpacity")(o.active.current.styles.primaryColor,.12)}},this.changeInputStyle=function(){return{"border-color":o.active.current.styles.primaryColor}}}]}),angular.module("classy").component("customFields",{template:'\n      <div ng-repeat="question in $ctrl.questions"\n      class="admin-campaign-overview__custom-fields"\n      ng-switch="question.type"\n      _spec="question">\n\n        <div ng-switch-when="string">\n          <form-row ng-if="question.tag !== \'country\'">\n            <input-field\n            model="$ctrl.models[question.id]"\n            getter-setter="true"\n            label="question.label"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            maxlength="255"\n            counter="true"\n            _spec="field"\n            aria-label="{{question.label}}"></input-field>\n          </form-row>\n          <form-row ng-if="question.tag === \'country\'">\n            <country-select-field\n            label="question.label"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            getter-setter="true"\n            model="$ctrl.models[question.id]"\n            required="question.is_required">\n            </country-select-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="text">\n          <form-row>\n            <textarea-field\n            model="$ctrl.models[question.id]"\n            getter-setter="true"\n            label="question.label"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            maxlength="255"\n            _spec="field"></textarea-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="date">\n          <form-row>\n            <datepicker-field\n            model="$ctrl.models[question.id]"\n            getter-setter="true"\n            label="question.label"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            _spec="field"></datepicker-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="yes_no">\n          <form-row>\n            <radio-field\n            model="$ctrl.models[question.id]"\n            getter-setter="true"\n            radio-label-a="Yes"\n            radio-value-a="\'yes\'"\n            radio-label-b="No"\n            radio-value-b="\'no\'"\n            label="question.label"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            _spec="field"></radio-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="integer">\n          <form-row>\n            <number-field\n            model="$ctrl.models[question.id]"\n            getter-setter="true"\n            label="question.label"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            _spec="field"></number-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="currency">\n          <form-row>\n            <currency-field\n            model="$ctrl.models[question.id]"\n            getter-setter="true"\n            label="question.label"\n            currency-code="::$ctrl.currencyCode"\n            round-currency="false"\n            placeholder="::$ctrl.symbol"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            _spec="field"></currency-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="enum">\n          <form-row>\n            <select-field\n              model="$ctrl.models[question.id]"\n              getter-setter="true"\n              options="$ctrl.options[question.id]"\n              label="question.label"\n              name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n              required="question.is_required"\n              placeholder="\'Please Select\'"\n            _spec="field"></select-field>\n          </form-row>\n        </div>\n\n        <div ng-switch-when="boolean">\n          <form-row>\n            <waiver-field\n            model="$ctrl.models[question.id]"\n            label="\'Event Waiver\'"\n            checkbox-label="\'I accept the waiver agreement.\'"\n            waiver="question.label"\n            getter-setter="true"\n            name="\'cq_\' + question.id + \'_\' + $ctrl.index"\n            required="question.is_required"\n            _spec="field"></waiver-field>\n          </form-row>\n        </div>\n\n      </div>\n\n    ',bindings:{questions:"<",answers:"<",index:"=?",stored:"<"},controller:["CQAnswerModel","scCampaignsService","scCurrencyService",function(e,n,a){this.$onInit=function(){var t=this;this.currencyCode=a.getEntityCurrency(n.active.current),this.symbol=a.getCurrencySymbol(this.currencyCode),this.models={},this.options={},this.answers.forEach(function(e){var n=_.find(t.questions,{id:e.question_id});return!n||n.tag?null:(e.answer&&"integer"===_.get(n,"type",!1)&&(e.answer=Number(e.answer)),e.answer&&"date"===_.get(n,"type",!1)&&/[- :T]/.test(e.answer)&&(e.answer=new Date(e.answer)),e)}),_.forEach(this.questions,function(n){t.models[n.id]=new e(n.id,t.questions,t.answers),"enum"===n.type&&(t.options[n.id]=n.enum_options.map(function(e){return{label:e.label,value:e.label}}),null!=t.stored)&&_.forEach(t.stored,function(e){e.question_id===n.id&&t.models[n.id](e.answer)})})}}]}),angular.module("classy").component("dateDropdownField",{template:'\n    <form-label ng-if="$ctrl.label"\n      required="$ctrl.required"\n      _spec="label">{{::$ctrl.label}}</form-label>\n\n    <date-dropdown-control\n      ng-model="modelWatched"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-required="$ctrl.required"\n      sc-validity-reporter\n      sc-validity-classes\n      name="{{::$ctrl.name}}"></date-dropdown-control>\n\n    <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n  ',bindings:{model:"=",name:"<",label:"<",errorMessages:"<?",getterSetter:"<?",required:"<?",format:"<?"},controller:["$scope",function(n){var t=this,e={errorMessages:{required:"This field is required.",dayRequired:"Please enter a complete date.",monthRequired:"Please enter a complete date.",yearRequired:"Please enter a complete date."},getterSetter:!1,required:!1};this.$onInit=function(){_.defaultsDeep(this,e),this.format=this.format||"MM/DD/YYYY"},n.$watch(angular.bind(this,function(){return this.model()}),function(e){e&&(n.modelWatched="Invalid date"===e?"":moment.utc(e).format("MM/DD/YYYY"))}),n.$watch("modelWatched",function(e){e&&t.model(moment(e,"MM/DD/YYYY").format(t.format))})}]}),angular.module("classy").component("datepickerField",{template:'\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <input class="form__text-input--dark"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-required="$ctrl.required"\n      sc-validity-reporter\n      sc-validity-classes\n      uib-datepicker-popup="MM/dd/yyyy"\n      is-open="visible"\n      ng-click="visible = true"\n      show-weeks="false"\n      type="text"\n      ng-disabled="$ctrl.disabled"\n      name="{{:: $ctrl.name }}"\n      placeholder="{{:: $ctrl.placeholder }}"\n      qa-id="{{:: scQaId.dateField }}"\n      ng-pattern="$ctrl.dateValidationPattern"\n\n      _spec="input" />\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{model:"=",label:"<",name:"<",errorMessages:"<?",getterSetter:"<?",placeholder:"<?",required:"<?",disabled:"<?"},controller:["scQaId",function(e){this.scQaId=e;var n={errorMessages:{required:"This field is required.",date:"Please enter a date in the format: MM/DD/YYYY"},getterSetter:!1,placeholder:"Enter date in the format: MM/DD/YYYY",required:!1,dateValidationPattern:/^\d{2}\/\d{2}\/\d{4}/};this.$onInit=function(){_.defaultsDeep(this,n)}}]}),angular.module("classy").component("dropdownField",{template:'\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <dropdown-control\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      options="$ctrl.options"\n      sc-validity-reporter\n      sc-validity-classes\n      ng-required="$ctrl.required"\n      name="{{:: $ctrl.name }}"\n      width="$ctrl.width"\n      _spec="input"></dropdown-control>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{model:"=",options:"<",name:"<",label:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",width:"<?"},controller:function(){var e={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1};this.$onInit=function(){_.defaultsDeep(this,e)}}}),angular.module("classy").component("emailField",{template:'\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label"\n      id="{{:: $ctrl.name }}_id">{{:: $ctrl.label }}</form-label>\n\n      <div ng-if="$ctrl.hasToolTip" style="height: 50%;"\n      data-sc-tooltip-class="admin-campaign-tooltip"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n      data-sc-tooltip="\'This field is locked at the template level\'"\n      class="admin-body__tooltip-element"\n      class="admin-body__tooltip-element locked-field-overlay"\n      ></div>\n\n      <div class="form__text-input__outer" data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }">\n        <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n        ></div>\n\n      <input class="form__text-input--dark"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-disabled="$ctrl.disabled"\n      ng-required="$ctrl.required"\n      sc-validity-reporter\n      sc-validity-classes\n      type="text"\n      name="{{:: $ctrl.name }}"\n      ng-pattern="$ctrl.emailValidationPattern"\n      placeholder="{{::$ctrl.placeholder}}"\n      autocomplete="{{::$ctrl.autocomplete}}"\n      _spec="input"\n      aria-labelledby="{{:: $ctrl.name }}_id"/>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{model:"=",errorMessages:"<?",getterSetter:"<?",label:"<?",name:"<?",disabled:"<?",placeholder:"<?",required:"<?",autocomplete:"@?"},controller:["$attrs",function(e){var n,t,a,i,o=this,r={errorMessages:{required:"This field is required.",pattern:"Please enter in the format: name@domain.com"},getterSetter:!1,placeholder:"Email",required:!1,emailValidationPattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};SC.campaign&&SC.campaign.campaignTemplateData&&(i=window.location.pathname.split("/"),n=i[i.length-2],t=0,SC.campaign.campaignTemplateData.component_set_instances.forEach(function(e,n){e.campaign_id===SC.campaign.id&&(t=n)}),(a=_.filter(SC.campaign.campaignTemplateData.component_set_instances[t].component_instances.message,function(e){return e.id===n}))&&a[0]&&a[0].component_item_id&&(i=_.filter(SC.campaign.campaignTemplateData.components.message.component_items,function(e){return e._id===a[0].component_item_id.$oid}),"message.reply_to[0]"===e.model)&&(this.lockField=_.get(i[0],"item_attributes.reply_to.locked",!1)),SC.campaign.campaignTemplateData)&&"campaign.current.contact_email"===e.model&&_.get(SC.campaign.campaignTemplateData,"components.campaign.component_items[0].item_attributes.contact_email.locked",!1)&&(this.disabled=!0,this.hasToolTip=!0),this.$onInit=function(){_.defaultsDeep(o,r)}}]}),angular.module("classy").component("froalaField",{template:'\n    <div class="froala-field form_field full">\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <div class="form__sublabel"\n      ng-if="$ctrl.sublabel">\n        {{::$ctrl.sublabel}}\n      </div>\n\n      <div class="{{:: $ctrl.wrapperClass }}"\n      sc-error-class="$ctrl.name"\n      _spec="wrapper" data-ng-class="{ \'admin-body__lock-field form__text-input__outer\': $ctrl.lockField }" >\n      <div ng-if="$ctrl.lockField"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n      ></div>\n\n        <textarea\n        data-ng-model="$ctrl.modelGetterSetter"\n        ng-model-options="{ getterSetter: true }"\n        data-parse-merge-tags="$ctrl.parseMergeTags"\n        data-alt-ng-model="$ctrl.altModel"\n        ng-required="$ctrl.required"\n        sc-validity-reporter\n        sc-validity-classes\n        data-froala="$ctrl.froalaOptions"\n        name="{{:: $ctrl.name }}"\n        ng-change="$ctrl.onChange()"\n        qa-id="{{:: $ctrl.scQaId.textAreaField }}"\n        _spec="input"></textarea>\n\n        \x3c!-- Merge Tag Tooltip Template --\x3e\n        <div ng-if="$ctrl.parseMergeTags" class="mergeTagStaging">\n          <merge-tag-tooltip message="$ctrl.mergeTagMsg"></merge-tag-tooltip>\n        </div>\n      </div>\n\n      <div data-ng-class="{ \'admin-body__lock-field form__text-input__outer\': $ctrl.lockCheckboxField }">\n      <div data-ng-style="{width: $ctrl.customStyle}" ng-if="$ctrl.lockCheckboxField"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg lock-tooltip-top-froala"\n          data-sc-tooltip-position="right"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n      ></div>\n      <checkbox-control ng-if="$ctrl.checkboxModel !== undefined"\n        ng-model="$ctrl.checkboxModel"\n        flipped="$ctrl.checkboxFlipped">{{:: $ctrl.checkboxLabel }}</checkbox-control>\n      </div>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    </div>\n    ',bindings:{froalaOptions:"<",label:"<",model:"=",name:"<",onChange:"&?",errorMessages:"<?",required:"<?",wrapperClass:"<?",lockField:"<?",sublabel:"<?",checkboxLabel:"<?",checkboxFlipped:"<?",checkboxModel:"=?",parseMergeTags:"<?",mergeTagMsg:"=?",altModel:"=?"},controller:["scQaId","$element","$attrs","$window","scCampaignsTemplateService","$stateParams",function(e,l,c,d,u,m){var g=this,p={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1},f=void 0;this.scQaId=e,this.$onInit=function(){var n,t,a,e,i,o,r,s;g.lockField=g.lockField||!1,g.lockCheckboxField=!1,g.customStyle="","$ctrl.campaign.classy_mode_appeal"===c.model&&(g.lockField=u.getCampaignCustomizationLock("classy_mode_appeal")),SC.campaign&&SC.campaign.campaignTemplateData&&("thisBlock.properties.preheaderText__withMergeTag"===c.model&&(g.lockField=_.get(SC.campaign.campaignTemplateData,"components.message.component_items[0].item_attributes.blocks[0].locked",!1),e=window.location.pathname.split("/"),n=e[e.length-2],t=0,SC.campaign.campaignTemplateData.component_set_instances.forEach(function(e,n){e.campaign_id===SC.campaign.id&&(t=n)}),a=_.filter(SC.campaign.campaignTemplateData.component_set_instances[t].component_instances.message,function(e){return e.id===n}))&&a[0]&&a[0].component_item_id&&(e=_.filter(SC.campaign.campaignTemplateData.components.message.component_items,function(e){return e._id===a[0].component_item_id.$oid}),"message.template_properties.subject__withMergeTags"===c.model)&&(g.lockField=_.get(e[0],"item_attributes.template_properties.subject.locked",!1)),e=u.fetchCurrentBlockId(d),("thisBlock.properties.text__withMergeTags"===c.model||"thisBlock.properties.helpText__withMergeTags"===c.model||"thisBlock.properties.textBlock__withMergeTags"===c.model||"thisBlock.properties.appealMessage__withMergeTags"===c.model||"thisBlock.properties.message__withMergeTags"===c.model)&&(r=null,s=u.getEmailComponent(e),r=u.getActiveEmail(s))&&(s=u.combineBlocks(r),_.forEach(s,function(e){e.blockProp&&"commitment-achieved"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"chargeback"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"commitment-updated"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"fundraising-commitment-waived"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"p2p-body"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"text"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"heading"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"rwf-claim"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"rwf-receipt"===e.blockProp.name&&(g.lockField=e.locked),e.blockProp&&"rwf-receipt-summary"===e.blockProp.name&&(g.lockField=e.locked)})),("thisBlock.properties.supportingMessage__withMergeTags"===c.model||"thisBlock.properties.headline__withMergeTags"===c.model)&&(r=null,s=u.getEmailComponent(e),r=u.getActiveEmail(s))&&(s=u.combineBlocks(r),_.forEach(s,function(e){e.blockProp&&"heading"===e.blockProp.name&&(g.lockField=e.locked)})),"message.template_properties.subject__withMergeTags"===c.model&&(r=u.getEmailComponent(e),s=u.getActiveEmail(r))&&(g.lockField=s.item_attributes.template_properties.subject.locked),(e=_.find(SC.blocks,{id:m.blockId}))?(r=e.type,(r=u.getBlockByType(r))&&(s=c.model.split(".").splice(-1)[0],_.includes(["headline","content","cta","subheadline","supportersHeadline","description"],s)?g.lockField=r.item_attributes[s]&&r.item_attributes[s].locked:"block['supporting-message']"===c.model&&(g.lockField=r.item_attributes["supporting-message"]&&r.item_attributes["supporting-message"].locked))):m.step&&("landing"===(e=m.step)&&(i=u.getBlockByType("crowdfunding"),o=u.getBlockByType("about"),i&&"crowdfundingBlock.current.headline"===c.model&&(g.lockField=i.item_attributes.headline.locked),i&&"crowdfundingBlock.current.hideHeadline"===c.checkboxModel&&(g.lockCheckboxField=i.item_attributes.hideHeadline.locked,g.customStyle="28%"),o)&&"aboutBlock.current.content"===c.model&&(g.lockField=o.item_attributes.content.locked),"donation"===e&&((i=u.getBlockByType("donation"))&&"DonationBlock.current['headline']"===c.model&&(g.lockField=i.item_attributes.headline.locked),i&&"DonationBlock.current.description"===c.model&&(g.lockField=i.item_attributes.description.locked),i)&&"campaign.current.classy_mode_appeal"===c.model&&(g.lockField=u.getCampaignCustomizationLock("classy_mode_appeal")),"thank-you"===e)&&((o=u.getBlockByType("thank-you"))&&"ThankYouBlock.current['headline']"===c.model&&(g.lockField=o.item_attributes.headline.locked),o)&&"ThankYouBlock.current['supporting-message']"===c.model&&(g.lockField=o.item_attributes["supporting-message"].locked),"fundraiser"===m.step&&"campaign.current.default_page_post_body"===c.model?g.lockField=u.getCampaignSettingLock("default_page_post_body"):"team"===m.step&&"campaign.current.default_team_post_body"===c.model&&(g.lockField=u.getCampaignSettingLock("default_team_post_body"))),g.lockField&&(f=g.model),_.defaultsDeep(g,p),g.element=l.find("textarea").data(),g.init=1},this.$doCheck=function(){1===g.init&&_.get(g.element,"$ngModelController",!1)&&(g.element.$ngModelController.$pristine=!1,--g.init),0===g.init&&g.element.$ngModelController.$modelValue===g.modelGetterSetter&&(g.element.$ngModelController.$setPristine(),--g.init)},this.modelGetterSetter=function(e){return arguments.length?(this.lockField?f=e:this.model=e,null):this.lockField?f:this.model}}]}),angular.module("classy").component("inputField",{template:'\n      <form-label      \n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label"\n      id="{{ $ctrl.name}}_id">\n        {{ $ctrl.label }}\n      </form-label>\n\n      <span class="form__label--spacer"\n      ng-if="!$ctrl.label && !$ctrl.noSpacer"></span>      \n\n      <div class="form__text-input__outer" data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }">\n        <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n        ></div>\n        <input \n          class="form__text-input--dark {{$ctrl.styleClass}}"\n          ng-model="$ctrl.model"\n          ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n          ng-required="$ctrl.required"\n          sc-retain-focus-validity\n          sc-validity-reporter\n          sc-validity-classes\n          pattern="{{:: $ctrl.pattern}}"\n          ng-pattern="$ctrl.pattern"\n          maxlength="{{:: $ctrl.maxlength }}"\n          ng-maxlength="{{:: $ctrl.maxlength }}"\n          minlength="{{:: $ctrl.minlength }}"\n          ng-minlength="{{:: $ctrl.minlength }}"\n          type="{{:: $ctrl.type }}"\n          name="{{:: $ctrl.name }}"\n          aria-label="{{:: $ctrl.ariaLabel }}"\n          autocomplete="{{:: $ctrl.autocomplete}}"\n          ng-disabled="$ctrl.disableFlag"\n          ng-change="$ctrl.onChange()"\n          placeholder="{{ $ctrl.placeholder }}"\n          qa-id="{{:: $ctrl.scQaId.singleLineTextInput }}"\n          _spec="input"\n          aria-labelledby="{{ $ctrl.name }}_id"\n        />\n        <span class="form__text-input__counter" ng-if="$ctrl.maxlength && $ctrl.counter && $ctrl.inputLength()">\n          <span data-ng-bind="$ctrl.inputLength()"></span>/{{::$ctrl.maxlength}}\n        </span>\n      </div>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{model:"=",label:"<?",pattern:"=?",name:"<",maxlength:"<?",minlength:"<?",errorMessages:"<?",getterSetter:"<?",placeholder:"<?",required:"<?",type:"@?",disableFlag:"=?",counter:"<?",noSpacer:"<?",onChange:"&?",styleClass:"<?",ariaLabel:"@?",autocomplete:"@?",lockField:"<?"},controller:["scQaId","$element","scCampaignsTemplateService","$stateParams","$attrs",function(e,l,c,d,u){var m={errorMessages:{required:"This field is required.",url:"Please provide a valid url",pattern:"Please enter valid "+this.label,maxlength:"Please limit your answer to "+u.maxlength+" characters or less"},getterSetter:!1,placeholder:"",maxlength:!1,minlength:!1,required:!1,type:"text",counter:!1,noSpacer:!0};this.scQaId=e,this.inputLength=function(){var e=this.model instanceof Function?this.model():this.model;return e?e.length:null},this.$onInit=function(){var n,t,a,e,i,o,r,s=this;void 0===this.lockField&&SC.campaign&&SC.campaign.campaignTemplateData&&((o=_.find(SC.blocks,{id:d.blockId}))?(o=o.type,s.lockField=!1,(o=c.getBlockByType(o))&&(r=u.model.split(".").splice(-1)[0],_.includes(["dateAndTime","venueLocation","headline","venueAddress","subheading"],r))&&(s.lockField=o.item_attributes[r]&&o.item_attributes[r].locked)):"donation"===d.step&&(o=c.getBlockByType("donation"))&&"DonationBlock.current['submit-button-text']"===u.model&&(this.lockField=o.item_attributes["submit-button-text"].locked),"team"===d.step?("campaign.current.default_team_appeal"===u.model&&(this.lockField=c.getCampaignSettingLock("default_team_appeal")),"campaign.current.default_team_post_title"===u.model&&(this.lockField=c.getCampaignSettingLock("default_team_post_title"))):"fundraiser"===d.step&&("campaign.current.default_page_appeal"===u.model&&(this.lockField=c.getCampaignSettingLock("default_page_appeal")),"campaign.current.default_page_post_title"===u.model)&&(this.lockField=c.getCampaignSettingLock("default_page_post_title")),r=c.getCampaignLock("name"),o=c.getCampaignLock("internal_name"),e=c.getCampaignLock("venue"),i=_.get(SC.campaign.campaignTemplateData,"components.theme.component_items[0].item_attributes.styles.registerBtnText.locked",!1),"theme.styles.registerBtnText"===u.model&&i&&(this.lockField=!0,this.disableFlag=!0),r&&"campaign.current.name"===u.model&&(this.lockField=!0,this.disableFlag=!0),o&&"campaign.current.internal_name"===u.model&&(this.lockField=!0,this.disableFlag=!0),e&&"campaign.current.venue"===u.model&&(this.lockField=!0,this.disableFlag=!0),i=window.location.pathname.split("/"),o=24===(n=i[i.length-2]).length?n:i[i.length-3],t=0,SC.campaign.campaignTemplateData.component_set_instances.forEach(function(e,n){e.campaign_id===SC.campaign.id&&(t=n)}),(a=_.filter(SC.campaign.campaignTemplateData.component_set_instances[t].component_instances.message,function(e){return e.id===n}))&&a[0]&&a[0].component_item_id&&(e=_.filter(SC.campaign.campaignTemplateData.components.message.component_items,function(e){return e._id===a[0].component_item_id.$oid}),"message.from"===u.model)&&(this.lockField=_.get(e[0],"item_attributes.from.locked",!1)),("thisBlock.properties.altText"===u.model||"thisBlock.properties.primaryButtonLink"===u.model||"thisBlock.properties.primaryButtonText"===u.model||"thisBlock.properties.secondaryButtonLink"===u.model||"thisBlock.properties.secondaryButtonText"===u.model)&&(i=null,e=c.getEmailComponent(o),i=c.getActiveEmail(e))&&(e=c.combineBlocks(i),_.forEach(e,function(e){e.blockProp&&"image"===e.blockProp.name&&(s.lockField=e.locked),e.blockProp&&"chargeback"===e.blockProp.name&&(s.lockField=e.locked),e.blockProp&&"button-group"===e.blockProp.name&&(s.lockField=e.locked)})),"thisBlock.properties.buttonText"===u.model)&&(i=null,e=c.getEmailComponent(o),i=c.getActiveEmail(e))&&(o=c.combineBlocks(i),_.forEach(o,function(e){e.blockProp&&"commitment-achieved"===e.blockProp.name&&(s.lockField=e.locked),e.blockProp&&"commitment-updated"===e.blockProp.name&&(s.lockField=e.locked),e.blockProp&&"fundraising-commitment-waived"===e.blockProp.name&&(s.lockField=e.locked),e.blockProp&&"p2p-body"===e.blockProp.name&&(s.lockField=e.locked)})),_.defaultsDeep(this,m),this.maxlength&&l.find(".form__text-input--dark").attr("maxlength",this.maxlength),this.pattern=this.pattern||".*"}}]}),angular.module("classy").component("numberField",{template:'\n      <form-label\n      ng-if="$ctrl.label"\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n      <div class="form__text-input__outer" data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }">\n\n        <div ng-if="$ctrl.lockField"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n        ></div>\n\n        <input class="form__text-input--dark"\n          aria-label="{{:: $ctrl.label || $ctrl.ariaLabel }}"\n          ng-disabled="$ctrl.disableFlag || false"\n          ng-model="$ctrl.model"\n          ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n          ng-change="$ctrl.onChange()"\n          ng-required="$ctrl.required"\n          ng-max="$ctrl.max"\n          ng-min="$ctrl.min"\n          sc-retain-focus-validity\n          sc-validity-reporter\n          sc-validity-classes\n          type="number"\n          name="{{:: $ctrl.name }}"\n          placeholder="{{:: $ctrl.placeholder }}"\n          _spec="input"\n        />\n          <form-error\n          name="$ctrl.name"\n          messages="$ctrl.errorMessages"\n          _spec="errors"\n        ></form-error>\n        \n      </div>\n    ',bindings:{model:"=",disableFlag:"=",label:"<?",name:"<",min:"<?",max:"<?",onChange:"&?",errorMessages:"<?",getterSetter:"<?",placeholder:"<?",required:"<?",ariaLabel:"@?",lockField:"<?"},controller:function(){this.$onInit=function(){_.defaultsDeep(this,function(){return{errorMessages:{required:"This field is required.",number:"Please enter a number.",min:"Please enter a number greater than or equal to "+this.min+".",max:"Please enter a number smaller than or equal to "+this.max+"."},getterSetter:!1,placeholder:"",required:!1}}.call(this))}}}),angular.module("classy").component("percentageField",{template:'\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <div class="form__text-input__outer" data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }">\n        <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n        ></div>\n\n      <input class="form__text-input--dark"\n        ng-model="$ctrl.model"\n        ng-model-options="{getterSetter: $ctrl.getterSetter}"\n        ng-change="$ctrl.onChange()"\n        ng-required="$ctrl.required"\n        sc-validity-reporter="$ctrl.name"\n        sc-validity-classes\n        sc-percentage-display\n        ng-disabled="$ctrl.disableFlag"\n        max="$ctrl.max"\n        min="$ctrl.min"\n        type="text"\n        name="{{:: $ctrl.name }}"\n        placeholder="{{:: $ctrl.placeholder }}"\n        ng-focus="$ctrl.onFocus = true"\n        ng-blur="$ctrl.onFocus = false"\n        qa-id="{{:: $ctrl.scQaId.singleLineTextInput }}"\n        _spec="input"\n        aria-label="Percentage field" />\n\n      <form-error\n      ng-if="!$ctrl.customErrors"\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    </div>\n    ',bindings:{model:"=",getterSetter:"<?",disableFlag:"=?",name:"<",label:"<",onChange:"&?",placeholder:"<?",errorMessages:"<?",customErrors:"<?",max:"<?",min:"<?",required:"<?",onFocus:"=?",lockField:"=?"},controller:["scQaId",function(e){var n=this;this.scQaId=e,this.$onInit=function(){_.defaultsDeep(n,function(){return{disabled:!1,min:"classyMode"===this.name?1:0,max:100,errorMessages:{min:"classyMode"===this.name?"Please enter a number greater than or equal to "+(this.min||1):"Please enter a number greater than or equal to "+(this.min||0),max:"Please enter a number smaller than or equal to "+(this.max||100)+".",required:"Please enter an amount.",parse:"Please enter a valid percentage amount."},customErrors:!1,required:!1}}.call(n))}}]}),angular.module("classy").component("phoneField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <div ng-if="$ctrl.hasToolTip" style="height: 50%;"\n      data-sc-tooltip-class="admin-campaign-tooltip"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n      data-sc-tooltip="\'This field is locked at the template level\'"\n      class="admin-body__tooltip-element"\n      class="admin-body__tooltip-element locked-field-overlay"\n      ></div>\n\n      <input class="form__text-input--dark"\n      aria-label="{{:: $ctrl.label }}"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      ng-disabled="$ctrl.disabled"\n      ng-required="$ctrl.required"\n      sc-validate-phone\n      sc-validity-reporter\n      sc-validity-classes\n      type="text"\n      name="{{:: $ctrl.name }}"\n      placeholder="{{::$ctrl.placeholder}}"\n      qa-id="{{:: scQaId.singleLineTextInput }}"\n      _spec="input" />\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{model:"=",errorMessages:"<?",getterSetter:"<?",label:"<?",name:"<?",placeholder:"<?",required:"<?"},controller:["scQaId","$attrs",function(e,n){var t=this,a={errorMessages:{required:"This field is required.",phoneNumber:"Please enter a phone number with area code."},getterSetter:!1,label:"Phone",name:"phone",placeholder:"Phone",required:!1};this.scQaId=e,SC.campaign&&SC.campaign.campaignTemplateData&&"campaign.current.contact_phone"===n.model&&_.get(SC.campaign.campaignTemplateData,"components.campaign.component_items[0].item_attributes.contact_phone.locked",!1)&&(this.disabled=!0,this.hasToolTip=!0),this.$onInit=function(){_.defaultsDeep(t,a)}}]}),angular.module("classy").component("prefixField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <select-field\n        aria-label="prefix"\n        name="$ctrl.name"\n        class-prop="form__select--light"\n        options="$ctrl.prefixOptions"\n        model="$ctrl.model"\n        placeholder="\'Select a prefix\'"\n        getter-setter="$ctrl.getterSetter"\n        required="$ctrl.required"\n      ></select-field>\n    ',bindings:{model:"=",label:"<",name:"<",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",options:"<?"},controller:function(){var e=this,n={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,label:"Prefix (Mr., Mrs., etc.)",options:[]};this.$onInit=function(){_.defaultsDeep(e,n),e.prefixOptions=e.options.map(function(e){return{label:e,value:e}})}}}),(()=>{function e(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").component("programDesignationField",{template:'\n      <div class="program-designation-field form_field {{ $ctrl.fieldOptionSettings.containerClass || \'full\' }}">\n        <label class="form__label" _spec=\'label\'>\n          <i\n            class="form_label-icon-ok fa fa-check-circle"\n            data-ng-if="$ctrl.fieldOptionSettings.check.enabled"\n            data-ng-show="{{ $ctrl.fieldOptionSettings.check.condition }}"\n          ></i>\n          {{::$ctrl.fieldOptionSettings.label }}\n          <span class="form_label-required" data-ng-if="$ctrl.fieldOptionSettings.required"></span>\n        </label>\n  \n        <p class="form__sublabel--shifted"\n           _spec=\'sublabel\'>\n          {{::$ctrl.fieldOptionSettings.sublabel }}\n        </p>\n        \n        <typeahead-dropdown-control               \n          ng-if="$ctrl.selected"\n          fetch-action="$ctrl.getDesignations"\n          selected-item="$ctrl.selected"\n          element-index="{{::$ctrl.elementIndex}}"\n          on-item-selected="$ctrl.onItemSelected(item, model, label)"\n          on-scroll-to-bottom="$ctrl.onScrollToBottom()"\n          show-group-names="$ctrl.entity.display_group_name"\n        ></typeahead-dropdown-control>\n      </div>\n    ',bindings:{fieldOptionSettings:"=",model:"=",selectedId:"=?",entity:"=",onChange:"<",elementIndex:"@"},controller:["scCampaignsService","designationsService",function(n,t){var a=this;this.sort=null,this.page=1,this.maxPage=!1,this.searchTerm="",this.isLoading=!1,this.designations={},this.selectDesignation=function(e,n){a.selected={label:n,value:e},a.selectedId=e,a.model=e},this.getDesignations=function(e){return(e!==a.searchTerm||1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&(a.page=1,a.maxPage=!1,a.designations={},a.searchTerm=e&&e.trim()),a.maxPage?Promise.resolve(a.buildTypeaheadItems()):(e=a.searchTerm?"name*="+a.searchTerm+",is_active=true":"is_active=true",e=a.isCampaignContext?a.getCampaignDesignationItems(e):a.getOrganizationDesignationItems(e),a.isLoading=!0,e.then(function(e){return _.isEmpty(e)&&(a.maxPage=!0),a.addDesignationsByGroup(e),a.isLoading=!1,a.buildTypeaheadItems()}))},this.onItemSelected=function(n){a.selectDesignation(n.id,n.name),Object.keys(a.designations).forEach(function(e){e=a.designations[e].find(function(e){return e.id===n.id});e&&a.onChange(e)})},this.onScrollToBottom=e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.maxPage||a.isLoading)return e.abrupt("return");e.next=2;break;case 2:a.page+=1;case 3:case"end":return e.stop()}},e,a)})),this.$onInit=function(){return a.searchTerm="",a.onChange=a.onChange||function(){},a.isCampaignContext=Object.prototype.hasOwnProperty.call(a.entity,"classy_mode_enabled"),a.isCampaignContext&&(a.displayGroupNames=a.entity.display_group_name,a.designationSortOrder=_.get(n,"active.current.sort_designation_by"),a.sort=t.parseSortOrder(a.designationSortOrder)),a.fieldOptionSettings&&(a.fieldOptionSettings.forceRefresh=a.forceRefresh.bind(a)),a.initializedesignations()},this.initializedesignations=function(){var e=a.model||a.selectedId;return a.isCampaignContext?t.getCampaignDesignations(a.entity.id,{filter:"id="+e}).then(function(e){if(e.data.data[0])a.selectDesignation(e.data.data[0].id,e.data.data[0].name);else{e=n.active.current.designation;if(!a.isCampaignContext||!e.id)return a.getDesignations().then(function(e){e=e.find(function(e){return!e.isGroupItem});a.selectDesignation(e.id,e.name)});a.selectDesignation(e.id,e.name)}}):t.getOrganizationDesignations(a.entity.id,1,1,e?"id="+e:"is_default=true").then(function(e){a.selectDesignation(e.data.data[0].id,e.data.data[0].name)})},this.buildDesignationsByGroup=function(e){var n={};return e.forEach(function(e){0<e.designations.length&&(n[e.name]=e.designations)}),n},this.buildUngroupedDesignations=function(e){var n={};return n[""]=e,n},this.addDesignationsByGroup=function(t){Object.keys(t).forEach(function(e){var n=t[e];a.designations[e]||(a.designations[e]=[]),a.designations[e]=_.union(a.designations[e],n),a.designations[e]=_.uniqBy(a.designations[e],"id")})},this.buildTypeaheadItems=function(){var n=[];return Object.keys(a.designations).forEach(function(e){""!==e&&n.push({isGroupItem:!0,label:e}),n=_.union(n,a.designations[e])}),n},this.forceRefresh=function(){a.designationSortOrder=a.entity.sort_designation_by,a.sort=t.parseSortOrder(a.designationSortOrder),a.getDesignations("",!0)},this.getCampaignDesignationItems=function(e){return t.getGroupedCampaignDesignations(a.entity.id,{filter:e,per_page:100,page:a.page,sort:a.sort}).then(function(e){return a.buildDesignationsByGroup(e)})},this.getOrganizationDesignationItems=function(e){return t.getOrganizationDesignations(a.entity.id,100,a.page,e).then(function(e){return a.buildUngroupedDesignations(e.data.data)})}}]})})(),angular.module("classy").component("pronounField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <select-field\n        aria-label="Please select a pronoun"\n        name="$ctrl.name"\n        class-prop="form__select--light"\n        options="$ctrl.pronounOptions"\n        model="$ctrl.model"\n        placeholder="\'Select a choice\'"\n        required="$ctrl.required"\n        getter-setter="$ctrl.getterSetter"\n      ></select-field>\n    ',bindings:{model:"=",label:"<",name:"<",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",options:"<?"},controller:function(){var e=this,n={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,label:"Pronouns",options:[]};this.$onInit=function(){_.defaultsDeep(e,n),e.pronounOptions=e.options.map(function(e){return{label:e,value:e}})}}}),angular.module("classy").component("selectField",{template:'\n      <form-label\n        required="$ctrl.required"\n        ng-if="$ctrl.label"\n        _spec="label"\n        id="form_label_id">\n          {{:: $ctrl.label }}\n      </form-label>\n\n      <div ng-if="$ctrl.lockField" data-ng-style="{ width: customStyle, height: customHeight }"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="{{customStyle ? \'right\' : \'center\'}}"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element fundraisingSelectLock"\n      ></div>\n\n      <select class="{{:: $ctrl.classProp }}"\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        ng-options="{{ $ctrl.customOptions || \'opt.value as opt.label disable when opt.disable for opt in $ctrl.options\' }}"\n        sc-validity-reporter\n        sc-validity-classes\n        ng-required="$ctrl.required"\n        ng-class="$ctrl.classes"\n        ng-disabled="$ctrl.disabled"\n        name="{{:: $ctrl.name }}"\n        aria-label="{{:: $ctrl.ariaLabel }}{{:: $ctrl.differentiatorForMultipleFields}}"\n        role="listbox"\n        aria-haspopup="listbox"\n        aria-expanded="false"\n        _spec="input"\n        aria-labelledby="form_label_id">\n          <option ng-if="$ctrl.placeholder" value="" ng-selected="$ctrl.getterSetter ? !($ctrl.model && $ctrl.model()) : !this.model" disabled>{{::$ctrl.placeholder}}</option>\n      </select>\n\n      <form-error\n        name="$ctrl.name"\n        messages="$ctrl.errorMessages"\n        _spec="errors">\n      </form-error>\n    ',bindings:{model:"=",options:"<",label:"<",name:"<",classes:"@?",customOptions:"<?",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",disabled:"<?",classProp:"@?",differentiatorForMultipleFields:"<?",ariaLabel:"@?"},controller:["$attrs","$window","scCampaignsTemplateService",function(a,i,o){var r={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,classProp:"form__select--dark"};this.$onInit=function(){var e,n,t=this;_.defaultsDeep(this,r),SC.campaign&&SC.campaign.campaignTemplateData&&(e=_.get(SC.campaign.campaignTemplateData,"components.campaign.component_items[0].item_attributes.default_team_appeal_email.locked",!1),"$ctrl.setting"===a.model&&e&&(this.disabled=!0,this.lockField=!0,this.customHeight="10%"),"thisBlock.properties.textAlign"===a.model)&&(e=o.fetchCurrentBlockId(i),n=null,e=o.getEmailComponent(e),n=o.getActiveEmail(e))&&(e=o.combineBlocks(n),_.forEach(e,function(e){e.blockProp&&"text"===e.blockProp.name&&(t.lockField=e.locked,t.disabled=e.locked),e.blockProp&&"heading"===e.blockProp.name&&(t.lockField=e.locked,t.disabled=e.locked)})),this.placeholder&&!this.model&&(this.model=null)}}]}),angular.module("classy").component("selectPaginationField",{template:'\n      <div class="form_field {{ $ctrl.fieldOptions.containerClass || \'full\' }}">\n        <label class="form__label" _spec=\'label\'>\n\n          <i class="form_label-icon-ok fa fa-check-circle"\n          data-ng-if="$ctrl.fieldOptions.check.enabled"\n          data-ng-show="{{ $ctrl.fieldOptions.check.condition }}"></i>\n\n          {{:: $ctrl.fieldOptions.label }}\n\n          <span class="form_label-required" data-ng-if="$ctrl.fieldOptions.required"></span>\n        </label>\n\n        <p class="form__sublabel--shifted"\n          _spec=\'sublabel\'\n          ng-if="$ctrl.fieldOptions.sublabel">\n          {{:: $ctrl.fieldOptions.sublabel }}\n        </p>\n        \n        <dropdown-control\n          ng-model="$ctrl.model"\n          selected="$ctrl.selected"\n          options="$ctrl.options"\n          name="{{:: $ctrl.fieldOptions.fieldName}}"\n          _spec=\'input\'></dropdown-control>\n      </div>\n    ',bindings:{fieldOptions:"=",model:"=",selected:"=",form:"<",offset:"<?",paginationFunction:"&"},controller:["$element","$log",function(t,a){this.$onInit=function(){var n=this;this.options=[],this.currentPage=0,this.paginate=!1,this.selected&&(this.selectedCopy=Object.assign({},this.selected)),this.offset||(this.offset=0),this.currentPage+=1,this.paginationFunction({page:this.currentPage}).then(function(e){n.lastPage=e.last_page,n.getPage(e),n.dropdownElement=angular.element(t.find(".form__dropdown-dropdown")[0]),n.dropdownElement.on("scroll",function(){n.handlePagination()})})},this.getPage=function(e){var n=_.get(this.fieldOptions,"valueKey","value"),t=_.get(this.fieldOptions,"labelKey","label"),e=_.map(e.data,function(e){return{value:e[n],label:e[t]}});this.options=this.options.concat(e),this.paginate=this.currentPage<this.lastPage},this.handlePagination=function(){var n=this;this.paginate&&this.dropdownElement[0].scrollTop+this.dropdownElement[0].clientHeight>=this.dropdownElement[0].scrollHeight-this.offset&&(this.paginate=!1,this.currentPage+=1,this.paginationFunction({page:this.currentPage}).then(function(e){return n.getPage(e),e}).catch(function(e){a.error(e)}))},this.$postLink=function(){this.selectedCopy&&(this.selected=Object.assign({},this.selectedCopy))}}]}),angular.module("classy").component("suffixField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n      \n      <select-field\n        aria-label="suffix"\n        name="$ctrl.name"\n        class-prop="form__select--light"\n        options="$ctrl.suffixOptions"\n        model="$ctrl.model"\n        placeholder="\'Select a suffix\'"\n        getter-setter="$ctrl.getterSetter"\n        required="$ctrl.required"\n      ></select-field>\n    ',bindings:{model:"=",label:"<",name:"<",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",options:"<?"},controller:function(){var e=this,n={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,label:"Suffix (Jr., Sr., II, etc.)"};this.suffixOptions=[{label:"Sr.",value:"Sr."},{label:"Jr.",value:"Jr."},{label:"II",value:"II"},{label:"III",value:"III"},{label:"IV",value:"IV"},{label:"V",value:"V"}],this.$onInit=function(){_.defaultsDeep(e,n)}}}),angular.module("classy").component("teamNameField",{require:{form:"^form"},template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <div class="form__input-wrapper">\n        <input class="form__text-input--dark counter"\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        data-name-required="false"\n        sc-validate-team-name="$ctrl.campaignId"\n        sc-validity-reporter\n        sc-validity-classes\n        ng-disabled="$ctrl.disableFlag"\n        count="$ctrl.count"\n        type="text"\n        name="{{:: $ctrl.name }}"\n        placeholder="{{:: $ctrl.placeholder }}"\n        ng-required="$ctrl.required"\n        maxlength="{{::$ctrl.maxlength}}"\n        _spec="input"\n        aria-label="Name your team"/>\n\n        <i class="fa fa-check-circle form__async-validation-icon--valid"\n        data-ng-class="{ visible: $ctrl.teamNameValid() }"\n        _spec="valid"></i>\n\n        <i class="fa fa-times-circle form__async-validation-icon--invalid"\n        data-ng-class="{ visible: $ctrl.teamNameInvalid() }"\n        _spec="invalid"></i>\n\n        <span class="form__text-input__counter counter" ng-if="$ctrl.maxlength && $ctrl.counter">\n          <span data-ng-bind="$ctrl.model.length || $ctrl.count || 0"></span>/{{::$ctrl.maxlength}}\n        </span>\n      </div>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{campaignId:"<",model:"=",errorMessages:"<?",getterSetter:"<?",label:"<?",name:"<?",required:"<?",disableFlag:"=?"},controller:function(){var e={errorMessages:{required:"Please enter a team name",teamNameInvalidChars:"Commas are not allowed in team names.",teamNameAvailable:"Sorry, that team name is already taken."},getterSetter:!1,label:"Team name",name:"teamName",placeholder:"Name your team",required:!0,counter:!0,maxlength:127};this.$onInit=function(){_.defaultsDeep(this,e)},this.teamNameValid=function(){return _.get(this.form,[this.name,"$modelValue"])&&!_.get(this.form,[this.name,"$pending","teamNameAvailable"])&&!_.get(this.form,[this.name,"$error","teamNameAvailable"])&&!_.get(this.form,[this.name,"$pristine"])},this.teamNameInvalid=function(){return _.get(this.form,[this.name,"$error","teamNameAvailable"])}}}),angular.module("classy").component("textareaField",{template:'\n      <form-label\n      required="$ctrl.required"\n      ng-if="$ctrl.label"\n      _spec="label">        \n        {{:: $ctrl.label }}      \n      </form-label>\n\n      <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        data-sc-tooltip="\'This field is locked at the template level\'"\n        class="admin-body__tooltip-element locked-field-overlay"\n      ></div>\n\n      <div class="form__text-input__outer">\n        <textarea class="form__text-area"\n          ng-model="$ctrl.model"\n          ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n          ng-required="$ctrl.required"\n          sc-validity-reporter\n          sc-validity-classes\n          maxlength="{{ $ctrl.maxlength }}"\n          ng-maxlength="{{ $ctrl.maxlength }}"\n          ng-disabled="$ctrl.disabled"\n          name="{{:: $ctrl.name }}"\n          placeholder="{{:: $ctrl.placeholder }}"\n          qa-id="{{:: $ctrl.scQaId.textAreaField }}"\n          _spec="input"\n          aria-label="{{:: $ctrl.name |replaceUnderscoreWithBlank}} field">\n        </textarea>\n\n        <span class="form__text-area__counter" ng-if="$ctrl.maxlength">\n          <span data-ng-bind="$ctrl.inputLength()"></span>/{{::$ctrl.maxlength}}\n        </span>\n      </div>\n\n      <p class="form__helper" ng-if="$ctrl.description"\n      ng-bind="::$ctrl.description"></p>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{model:"=",label:"<",name:"<",errorMessages:"<?",getterSetter:"<?",description:"<?",placeholder:"<?",required:"<?",disabled:"<?",maxlength:"<?",lockField:"<?"},controller:["scQaId","$attrs",function(e,n){var t={errorMessages:{required:"This field is required.",maxlength:"Please limit your answer to "+n.maxlength+" characters or less"},getterSetter:!1,placeholder:"",maxlength:!1,required:!1};this.scQaId=e,this.inputLength=function(){var e=this.model instanceof Function?this.model():this.model;return e?e.length:0},void 0===this.lockField&&SC.campaign&&SC.campaign.campaignTemplateData&&_.get(SC.campaign.campaignTemplateData,"components.campaign.component_items[0].item_attributes.location_details.locked",!1)&&"locationBlock.current.content"===n.model&&(this.disabled="true",this.lockField=!0),this.$onInit=function(){_.defaultsDeep(this,t)}}]}),angular.module("classy").component("ticketTypesSelectField",{template:'\n    <form-label\n      required="$ctrl.required"\n      data-ng-if="$ctrl.label"\n      _spec="label">\n      {{:: $ctrl.label }}\n    </form-label>\n\n    <dropdown-control\n      data-ng-model="$ctrl.model"\n      data-ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      data-options="$ctrl.options">\n    </dropdown-control>\n    ',controller:["scCampaignsService",function(e){var n=this;this.options=[],this.model={},e.active.getTicketTypes().then(function(e){e=e.data.data;_.forEach(e,function(e){n.options.push({value:e.id,label:e.name})})})}],bindings:{model:"=",options:"<",name:"<",label:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",width:"<?"}}),angular.module("classy").component("toggle",{template:'\n    <span>\n      <input id="toggle_{{$ctrl.scName}}"\n        name="toggle_{{$ctrl.scName}}"\n        class="form_toggle"\n        type="checkbox"\n        ng-checked="$ctrl.checked"\n        ng-click="$ctrl.toggleSelectionClick()"\n        ng-disabled="$ctrl.disabled">\n      <label for="toggle_{{$ctrl.scName}}"\n        class="form_toggle-label"\n        ng-style="{\'cursor\': $ctrl.disabled ? \'not-allowed\' : \'default\' }"\n        tabindex="0" ng-keydown="!$ctrl.disabled && $ctrl.onKeyDown($event)"\n      ></label>\n    </span>\n  ',bindings:{initialValue:"<",disabled:"<",scName:"<",toggleClick:"&"},controller:["accessibilityService",function(n){this.$onInit=function(){this.checked=!!this.initialValue},this.toggleSelectionClick=function(){this.checked=!this.checked,this.toggleClick({checked:this.checked})},this.onKeyDown=function(e){e&&n.isValidKeyBoardEvent(e)&&this.toggleSelectionClick()}}]}),angular.module("classy").component("toggleField",{template:'\n    <div class="toggle-field_container" ng-class="{ \'toggle-field_container-reverse\': $ctrl.reverseOrientation, \'admin-body__lock-field\':$ctrl.lockField }">\n      <div class="form_togglegroup" ng-if="$ctrl.reverseOrientation">\n        <toggle sc-name="$ctrl.name"\n          initial-value="$ctrl.initialValue"\n          toggle-click="$ctrl.onToggleClick(checked)"\n          disabled="$ctrl.disabled || $ctrl.lockField"\n          class="form_togglegroup-toggle"\n        ></toggle>\n      </div>\n      \n      <div class="form__label"\n        required="$ctrl.required"\n        ng-if="$ctrl.label"\n        ng-class="{\'inline\': !$ctrl.sublabel}"\n        _spec="label"\n        ng-bind="::$ctrl.label"\n      ></div>\n  \n      <span class="form__sublabel"\n        ng-if="$ctrl.sublabel"\n        ng-bind="::$ctrl.sublabel"\n      ></span>\n  \n      <div class="form_togglegroup" ng-if="!$ctrl.reverseOrientation" ng-class="{\'form__text-input__outer\':$ctrl.lockField}">\n        <label class="form_togglegroup-element"\n          for="$ctrl.name"\n          ng-if="$ctrl.noLabel">{{ ::$ctrl.noLabel }}</label>\n\n          <div ng-if="$ctrl.lockField"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="left"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="form_togglegroup-toggle admin-body__tooltip-element"></div>\n    \n          <span class="form_togglegroup-toggle"\n            data-sc-toggle="$ctrl.model"\n            data-callback-fn="$ctrl.callbackFn()"\n            data-sc-disabled="$ctrl.disabled || $ctrl.lockField"\n            data-sc-name="{{$ctrl.name}}"\n            data-sc-flipped="$ctrl.flipped"\n            data-sc-label="{{$ctrl.toggleLabel}}"\n          ></span>\n  \n        <label class="form_togglegroup-element"\n          for="$ctrl.name"\n          ng-if="$ctrl.yesLabel"\n        >{{::$ctrl.yesLabel}}</label>\n      </div>\n    \n    </div>\n  ',bindings:{model:"=",disabled:"=?",label:"<?",sublabel:"<?",noLabel:"<?",yesLabel:"<?",name:"<",required:"<?",errorMessages:"<?",getterSetter:"<?",flipped:"=?",reverseOrientation:"<",initialValue:"<",toggleClick:"&",toggleLabel:"@",callbackFn:"&?"},controller:["$attrs","$window","$stateParams","scCampaignsTemplateService",function(i,o,r,s){var n=this,l={errorMessages:{required:"This field is required."},getterSetter:!1,placeholder:"",required:!1,flipped:!1};this.$onInit=function(){var e,n,t,a=this;_.defaultsDeep(this,l),this.lockField=!1,this.getLockedField=function(e){var n=i.model.split(".").splice(-1)[0];return _.includes(["teams_can_set_appeal","teams_can_set_goal","pages_can_set_appeal","pages_can_set_goal"],n)?s.getCampaignSettingLock(n):(e=s.getBlockByType(e))&&e.item_attributes[n]&&e.item_attributes[n].locked},SC.campaign&&SC.campaign.campaignTemplateData&&(e=s.fetchCurrentBlockId(o),("holding.showCustomQuestions"===i.model&&"'Show custom question block'"===i.label||"thisBlock.properties.showTaxDeductible"===i.model)&&(n=null,t=s.getEmailComponent(e),n=s.getActiveEmail(t))&&(t=s.combineBlocks(n),_.forEach(t,function(e){e.blockProp&&"donation-receipt"===e.blockProp.name&&(a.lockField=e.locked),e.blockProp&&"rwf-receipt"===e.blockProp.name&&(a.lockField=e.locked),e.blockProp&&"rwf-receipt-summary"===e.blockProp.name&&(a.lockField=e.locked)})),"holding.showBlock"===i.model&&"'Show manage donation block'"===i.label&&(n=null,t=s.getEmailComponent(e),n=s.getActiveEmail(t))&&(t=s.combineBlocks(n),_.forEach(t,function(e){e.blockProp&&"manage-donation"===e.blockProp.name&&(a.lockField=e.locked)})),"holding.showBlock"===i.model&&"'Event block'"===i.label&&(n=null,t=s.getEmailComponent(e),n=s.getActiveEmail(t))&&(t=s.combineBlocks(n),_.forEach(t,function(e){e.blockProp&&"event"===e.blockProp.name&&(a.lockField=e.locked)})),("thisBlock.properties.showImage"===i.model&&"'Background image'"===i.label||"holding.showBlock"===i.model&&"'Show custom question block'"===i.label)&&(n=null,t=s.getEmailComponent(e),n=s.getActiveEmail(t))&&(t=s.combineBlocks(n),_.forEach(t,function(e){e.blockProp&&"image"===e.blockProp.name&&(a.lockField=e.locked),e.blockProp&&"rwf-custom-questions"===e.blockProp.name&&(a.lockField=e.locked)})),"holding.showBlock"===i.model)&&"'Contact block'"===i.label&&(n=null,t=s.getEmailComponent(e),n=s.getActiveEmail(t))&&(e=s.combineBlocks(n),_.forEach(e,function(e){e.blockProp&&"contact-support"===e.blockProp.name&&(a.lockField=e.locked)})),this.getLockedFieldForSetUp=function(e){var n,t;"landing"===e&&(e=s.getBlockByType("fundraisers"),n=s.getBlockByType("crowdfunding"),t=i.model.split(".").splice(-1)[0],e&&_.includes(["showLeaderboard","showTeams","showIndividuals"],t)&&(a.lockField=e.item_attributes[t]&&e.item_attributes[t].locked),n)&&"replaceHeadline"===t&&(a.lockField=n.item_attributes[t]&&n.item_attributes[t].locked)},SC.campaign&&SC.campaign.campaignTemplateData&&((t=_.find(SC.blocks,{id:r.blockId}))?this.lockField=this.getLockedField(t.type):this.getLockedFieldForSetUp(r.step))},this.onToggleClick=function(e){n.toggleClick({checked:e})}}]}),angular.module("classy").component("vanityUrlField",{require:{form:"^form"},template:'\n      <div class="vanity-url-field__label">\n        <form-label\n        required="$ctrl.required"\n        _spec="label">\n          {{:: $ctrl.label }}\n          <div class="form__label url-preview">\n            <span class="domain" ng-bind="$ctrl.previewUrl()"></span><span class="vanity" ng-hide="$ctrl.model">ExampleShortUrl</span><span class="vanity" ng-show="$ctrl.model" ng-bind="$ctrl.model"></span>\n          </div>\n        </form-label>\n      </div>\n\n      <div class="form__input-wrapper">\n\n        <input class="form__text-input--dark"\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        ng-required="$ctrl.required"\n        sc-vanity\n        sc-vanity-type="{{:: $ctrl.entityType }}"\n        sc-validity-reporter\n        sc-validity-classes\n        ng-disabled="$ctrl.disableFlag"\n        type="text"\n        name="{{:: $ctrl.name }}"\n        placeholder="{{:: $ctrl.placeholder }}"\n        id="vanityUrlField"\n        _spec="input"\n        aria-label="Set your vanity URL"/>\n\n        <i class="fa fa-check-circle form__async-validation-icon--valid"\n        data-ng-class="{ visible: $ctrl.urlValid() }"\n        _spec="valid"></i>\n\n        <i class="fa fa-times-circle form__async-validation-icon--invalid"\n        data-ng-class="{ visible: $ctrl.urlInvalid() }"\n        _spec="invalid"></i>\n\n      </div>\n\n      <form-error\n      name="$ctrl.name"\n      messages="$ctrl.errorMessages"\n      _spec="errors"></form-error>\n    ',bindings:{campaignId:"<",entityType:"<",model:"=",errorMessages:"<?",getterSetter:"<?",label:"<?",name:"<?",required:"<?",disableFlag:"=?"},controller:["CLASSY_DOMAINS","CLASSY_GIVE_DOMAIN",function(e,t){var n=this,a={errorMessages:{required:"This field is required.",slugAvailable:"Sorry, that URL is not available."},getterSetter:!1,label:"Set your vanity URL",name:"vanityUrl",placeholder:"Start typing",required:!1};this.$onInit=function(){_.defaultsDeep(n,a)},this.urlValid=function(){return _.get(this.form,[this.name,"$modelValue"])&&!_.get(this.form,[this.name,"$pending","slugAvailable"])&&!_.get(this.form,[this.name,"$error","slugAvailable"])&&!_.get(this.form,[this.name,"$pristine"])},this.urlInvalid=function(){return _.get(this.form,[this.name,"$error","slugAvailable"])},this.previewUrl=function(){var n=document.location.origin;return _.has(SC,"organization.domain_mask.value")?"https://"+SC.organization.domain_mask.value+"/":(n=e.some(function(e){return n.includes(e)})?SC.shortUrlHost?"https://"+SC.shortUrlHost:""+t:n)+"/"}}]}),angular.module("classy").component("waiverField",{template:'\n      <form-label \n        required="$ctrl.required"\n        _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <div class="form__waiver"\n        ng-bind-html="$ctrl.waiver | nl2br"\n        _spec="waiver"\n      ></div>\n\n      <checkbox-control\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        ng-required="$ctrl.required"\n        sc-validity-reporter\n        sc-validity-classes\n        name="{{:: $ctrl.name }}"\n        _spec="input">\n        {{:: $ctrl.checkboxLabel }}\n      </checkbox-control>\n\n      <form-error \n        name="$ctrl.name" \n        messages="$ctrl.errorMessages"\n        _spec="errors"\n      ></form-error>\n    ',bindings:{model:"=",waiver:"<",name:"<",checkboxLabel:"<?",errorMessages:"<?",getterSetter:"<?",label:"<?",required:"<?"},controller:function(){var e={checkboxLabel:"I accept the waiver agreement.",errorMessages:{required:"This field is required."},getterSetter:!1,label:"Event Waiver",required:!1};this.$onInit=function(){_.defaultsDeep(this,e)}}}),angular.module("classy").component("infiniteScroller",{template:'\n      <div class="infinite-scroller">\n        <div class="infinite-scroller__content" ng-transclude>\n        </div>\n      </div>\n    ',bindings:{fetchFunction:"&",offset:"<?",stopGap:"<"},transclude:!0,controller:["$element","$log",function(n,t){this.fetch=!1,this.handleFetching=function(){var e=this;this.fetch&&this.scrollingElement[0].scrollTop+this.scrollingElement[0].clientHeight>=this.scrollingElement[0].scrollHeight-this.offset&&(this.fetch=!1,this.fetchFunction().then(function(){e.fetch=!e.stopGap}).catch(function(e){t.error(e)}))},this.$onInit=function(){var e=this;this.offset||(this.offset=0),this.fetch=!this.stopGap,this.scrollingElement=angular.element(n.find(".infinite-scroller__content")[0]),this.scrollingElement.on("scroll",_.throttle(function(){e.handleFetching()},100))}}]}),angular.module("classy").component("mapMarkerPicker",{template:'\n      <input\n        type="text"\n        name="map-search"\n        model="$ctrl.search"\n        value="{{:: $ctrl.search }}"\n        placeholder="Search for a location"\n        ng-class="{\'map-field-disable\': !$ctrl.markerEnabled}"\n        class="form__text-input--dark picker__autocomplete"\n        ng-disabled="$ctrl.lockField"></input>\n      <div ng-class="{\'map-field-disable\': !$ctrl.markerEnabled}"\n        class="map-marker-picker"></div>\n      <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="map-tooltip admin-body__tooltip-element"></div>\n      <checkbox-control\n        ng-click="$ctrl.disableMarker()"\n        ng-model="$ctrl.markerEnabled"\n        disabled="$ctrl.lockField">\n        Use custom marker</checkbox-control>\n    ',bindings:{model:"=",zoom:"="},controller:["$scope","$element","$attrs","$stateParams","scCampaignsTemplateService","loadGoogleMapsAPI",function(t,a,n,e,i,o){this.lockField=!1,this.getLockedField=function(e){e=i.getBlockByType(e);return e&&n.model.includes("customMarker")&&e.item_attributes.map.markerEnabled&&e.item_attributes.map.markerEnabled.locked},SC.campaign.campaignTemplateData&&(e=_.find(SC.blocks,{id:e.blockId}))&&(this.lockField=this.getLockedField(e.type)),this.coordinatesRegex=new RegExp(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)\s*,\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/);var r=this.zoom;this.$doCheck=function(){this.map&&null!=this.zoom&&this.zoom!==r&&(r=this.zoom,this.map.getZoom()!==this.zoom)&&this.map.setZoom(this.zoom)},this.$onInit=function(){var e=this;this.model.lat&&this.model.lng?(this.markerEnabled=!0,this.search=this.model.lat+", "+this.model.lng):(this.markerEnabled=!1,this.search=""),this.markerEnabled?this.defaultZoom=this.zoom||12:this.defaultZoom=2,o.then(function(){e.init()})},this.init=function(){var n=this,e=(this.mapElement=a.find(".map-marker-picker")[0],this.autocompleteElement=a.find(".picker__autocomplete")[0],this.autocomplete=new google.maps.places.SearchBox(this.autocompleteElement),this.getOptions());this.map=new google.maps.Map(this.mapElement,e),this.markerEnabled?this.initialLocation({lat:this.model.lat,lng:this.model.lng}):(this.geocoder=new google.maps.Geocoder,this.geocoder.geocode({address:"US"},function(e){n.initialLocation(e[0].geometry.location)}))},this.initialLocation=function(e){this.map.setCenter(e),this.markerEnabled&&this.adjustMarker(e),this.map.addListener("click",this.markerHandler.bind(this)),this.autocomplete.addListener("places_changed",this.autocompleteHandler.bind(this)),this.map.addListener("zoom_changed",this.zoomHandler.bind(this))},this.adjustMarker=function(e){var n=this;this.marker?(this.marker.getVisible()||this.marker.setVisible(!0),this.marker.setPosition(e)):this.marker=new google.maps.Marker({position:e,map:this.map}),t.$evalAsync(function(){n.model={lat:n.marker.getPosition().lat(),lng:n.marker.getPosition().lng()}})},this.disableMarker=function(){var e=this;this.markerEnabled||(this.marker.setVisible(!1),t.$evalAsync(function(){e.model={lat:null,lng:null}}))},this.zoomHandler=function(){this.zoom=this.map.getZoom()},this.markerHandler=function(e){this.markerEnabled&&this.adjustMarker(e.latLng)},this.autocompleteHandler=function(){var e,n=angular.element(this.autocompleteElement).val();this.coordinatesRegex.test(n)?(n=n.split(/\s*,\s*/),e=parseFloat(n[0]),n=parseFloat(n[1]),this.map.setCenter({lat:e,lng:n}),this.adjustMarker({lat:e,lng:n})):(this.places=this.autocomplete.getPlaces(),this.place=this.places[0],this.places.length&&this.places[0].geometry&&(this.place.geometry.viewport?this.map.fitBounds(this.place.geometry.viewport):(this.map.setCenter(this.place.geometry.location),this.map.setZoom(17)),this.adjustMarker(this.place.geometry.location)))},this.getOptions=function(){return{zoom:this.defaultZoom,gestureHandline:"cooperative",draggable:!0,disableDefaultUI:!0,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]}}}]}),angular.module("classy").component("modalFrame",{template:'<div class="{{:: $ctrl.className }}" _spec="modalFrame" data-ng-transclude></div>',transclude:!0,bindings:{theme:"<?"},controller:function(){var e=this;this.$onInit=function(){e.className="modal__frame",e.theme&&(e.className+="--"+e.theme)}}}),angular.module("classy").component("modalSubmit",{transclude:!0,require:{form:"^form"},template:'\n      <button class="modal__submit"\n      type="submit"\n      ng-disabled="!$ctrl.form.$valid"\n      ng-style="{ \'background-color\': $ctrl.primaryColor }"\n      ng-transclude></button>\n    ',bindings:{primaryColor:"<"}}),angular.module("classy").component("modalSubtitle",{template:'<p class="modal__subtitle" data-ng-transclude></p>',transclude:!0}),angular.module("classy").component("modalTitle",{template:'<h2 class="modal__title" data-ng-transclude></div>',transclude:!0}),angular.module("classy").component("panel",{template:'\n    <div class="panel"\n      ng-transclude\n      ng-style="$ctrl.style">\n    </div>',transclude:!0,bindings:{customStyle:"=?"},controller:function(){this.style=this.customStyle||{}}}),angular.module("classy").component("panelSection",{template:'<section class="panel__section" data-ng-transclude></section>',transclude:!0}),angular.module("classy").component("panelSectionBanner",{template:'\n      <header data-ng-class="::$ctrl.className">\n        <h2 ng-if= "!$ctrl.pageHeadline" class="panel__section-headline" data-ng-transclude="headline"></h2>\n        <h1 ng-if= "$ctrl.pageHeadline" class="panel__section-headline" data-ng-transclude="headline"></h1>\n        <p class="panel__section-subheading" data-ng-transclude="subheader"></p>\n      </header>\n    ',bindings:{theme:"<?",pageHeadline:"<?"},transclude:{headline:"cptHeadline",subheader:"?cptSubheader"},controller:function(){this.$onInit=function(){var e="panel__section-banner";this.theme&&(e+="--"+this.theme),this.className=e}}}),angular.module("classy").component("panelSectionBody",{template:'<div class="panel__section-body" role="group" aria-labelledby="attendee" data-ng-transclude></div>',transclude:!0}),angular.module("classy").component("panelSectionSeal",{template:'\n      <span class="panel__section-seal">\n        <i data-ng-class="::$ctrl.className"></i>\n      </span>\n    ',bindings:{icon:"<"},transclude:!0,controller:function(){this.$onInit=function(){this.className=this.icon+" panel__section-seal-icon"}}}),angular.module("classy").component("permissionDeniedMessage",{template:'<div class="permission-denied-message">\n    <img class="permission-denied-message__hero-img" src="/static/global/images/teamwork.svg"/>\n    <h1 class="permission-denied-message__header">{{ $ctrl.header}}</h1>\n    <p class="permission-denied-message__subheader" data-ng-bind-html="$ctrl.subheader"></p>\n    </div>',bindings:{header:"<?",subheader:"<?"},controller:["COPY",function(e){this.header||(this.header=e.PERMISSIONS.permissionDeniedHeader),this.subheader||(this.subheader=e.PERMISSIONS.permissionDeniedSubheader)}]}),angular.module("classy").component("proLogo",{template:'\n    <svg width="158" height="28" viewBox="0 0 158 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <title>GoFundme Pro Logo</title>\n      <path\n        d="M101.799 7.16492C100.387 7.16492 98.858 7.83156 97.7756 9.20373C97.6743 9.33211 97.48 9.32151 97.3916 9.18488C96.5283 7.84805 95.2492 7.16492 93.9783 7.16492C92.7075 7.16492 91.2387 8.08126 90.3966 9.20373C90.3082 9.32151 90.121 9.23788 90.1469 9.09301L90.373 7.8139C90.4048 7.63369 90.2658 7.46879 90.0833 7.46879H86.1623C85.9998 7.46879 85.869 7.60071 85.869 7.76207V20.2576C85.869 20.4201 85.9998 20.5509 86.1623 20.5509H89.989C90.1516 20.5509 90.2823 20.4189 90.2823 20.2576V13.0599C90.2823 11.8574 91.0844 11.0423 92.102 11.0423C93.1197 11.0423 93.9065 11.8432 93.9065 13.0599V20.2588C93.9065 20.4213 94.0384 20.552 94.1998 20.552H98.0241C98.1867 20.552 98.3174 20.4201 98.3174 20.2588V13.0611C98.3174 11.8585 99.1195 11.0435 100.137 11.0435C101.155 11.0435 101.943 11.8444 101.943 13.0611V20.2599C101.943 20.4225 102.075 20.5532 102.236 20.5532H106.06C106.223 20.5532 106.354 20.4213 106.354 20.2599V12.2107C106.354 8.934 104.133 7.16727 101.798 7.16727V7.16492H101.799Z"\n        fill="#2D6339" />\n      <path\n        d="M83.8444 0.578552H79.9411C79.8009 0.578552 79.6867 0.692801 79.6867 0.832962V9.08949C79.6867 9.25909 79.47 9.32859 79.371 9.1896C78.5524 8.04005 77.0931 7.15433 75.4595 7.16493C71.8777 7.18731 69.4997 10.477 69.4997 14.0116C69.4997 17.5462 71.8824 20.6663 75.4595 20.8512C77.331 20.9478 78.7998 19.8324 79.6725 18.6805C79.7373 18.5957 79.8716 18.6546 79.8527 18.7594L79.5972 20.2069C79.5654 20.3871 79.7043 20.552 79.8869 20.552H83.8444C83.9845 20.552 84.0988 20.4378 84.0988 20.2976V0.832962C84.0988 0.692801 83.9845 0.578552 83.8444 0.578552ZM76.5713 16.9738C74.9342 16.9738 73.6056 15.6558 73.6056 14.0081C73.6056 12.3603 74.933 11.0435 76.5713 11.0435C78.2097 11.0435 79.5371 12.3615 79.5371 14.0081C79.5371 15.6547 78.2097 16.9738 76.5713 16.9738Z"\n        fill="#2D6339" />\n      <path fill-rule="evenodd" clip-rule="evenodd"\n        d="M22.7249 7.16492C18.8322 7.16492 15.6815 9.93986 15.6815 14.0081C15.6815 18.0763 18.8322 20.8512 22.7249 20.8512C26.6176 20.8512 29.8248 18.0492 29.8248 14.0081C29.8248 9.96695 26.6329 7.16492 22.7249 7.16492ZM22.7532 16.9738C21.116 16.9738 19.7874 15.6558 19.7874 14.0081C19.7874 12.3603 21.1148 11.0435 22.7532 11.0435C24.3915 11.0435 25.7189 12.3615 25.7189 14.0081C25.7189 15.6547 24.3915 16.9738 22.7532 16.9738Z"\n        fill="#2D6339" />\n      <path\n        d="M14.5991 7.76796C14.5991 7.59953 14.4625 7.46408 14.2952 7.46408H10.3872C10.2046 7.46408 10.0657 7.62897 10.0975 7.80918L10.3212 9.07534C10.346 9.21903 10.1634 9.30266 10.0727 9.18841C9.28123 8.18962 7.82309 7.07658 5.95978 7.16491C2.38155 7.33216 0 10.4687 0 14.0045C0 17.5403 2.37802 20.8512 5.95978 20.8512C7.57339 20.8512 9.06098 20.0279 9.92903 18.7405C10.0068 18.6251 10.187 18.6781 10.187 18.8183V21.0809C10.187 22.9442 9.00798 24.0466 7.36963 24.0466C6.10818 24.0466 4.9068 23.2646 4.49574 21.8253C4.43921 21.6297 4.22956 21.5214 4.03757 21.592C3.22487 21.8877 1.30974 22.5849 0.624245 22.8346C0.479373 22.8876 0.405171 23.0431 0.449928 23.1903C1.37216 26.2103 4.19775 28.0006 7.34136 28.0006C11.3318 28.0006 14.5991 25.367 14.5991 21.0809V7.76913V7.76796ZM7.07164 16.9726C5.43447 16.9726 4.10589 15.6546 4.10589 14.0081C4.10589 12.3615 5.43329 11.0423 7.07164 11.0423C8.70999 11.0423 10.0374 12.3603 10.0374 14.0081C10.0374 15.6558 8.70999 16.9726 7.07164 16.9726Z"\n        fill="#2D6339" />\n      <path\n        d="M45.7889 20.8559C47.0834 20.8559 48.5038 19.949 49.3424 18.8242C49.4308 18.7064 49.618 18.7888 49.5933 18.9349L49.3672 20.2163C49.3354 20.3965 49.4744 20.5614 49.6569 20.5614L53.5755 20.5555C53.7381 20.5555 53.8688 20.4236 53.8688 20.2623V7.76441C53.8688 7.60187 53.7369 7.47113 53.5755 7.47113H49.7511C49.5886 7.47113 49.4579 7.60305 49.4579 7.76441V14.7842C49.4579 16.0586 48.5839 16.9597 47.4803 16.9597C46.3767 16.9597 45.5027 16.0869 45.5027 14.7842V7.76441C45.5027 7.60187 45.3708 7.47113 45.2095 7.47113H41.3851C41.2225 7.47113 41.0918 7.60305 41.0918 7.76441V15.7712C41.0918 19.1198 43.3556 20.8582 45.7901 20.8582V20.8559H45.7889Z"\n        fill="#2D6339" />\n      <path fill-rule="evenodd" clip-rule="evenodd"\n        d="M117.29 16.1659C117.152 16.1152 117.002 16.1765 116.931 16.3037C116.465 17.1175 115.47 17.5451 114.509 17.5451C113.226 17.5451 112.125 16.6971 111.653 15.4203C111.619 15.3273 111.687 15.2295 111.785 15.2295H120.961C121.108 15.2295 121.233 15.12 121.253 14.9739C121.296 14.6606 121.318 14.3391 121.318 14.0093C121.318 9.82095 118.008 7.16614 114.481 7.16614C110.588 7.16614 107.437 9.94108 107.437 14.0093C107.437 18.0775 110.588 20.8524 114.481 20.8524C117.018 20.8524 119.253 19.6699 120.509 17.7359C120.615 17.5722 120.539 17.3508 120.356 17.2836L117.291 16.1682V16.1659H117.29ZM114.508 10.3651C115.848 10.3651 116.821 11.1436 117.292 12.2967C117.33 12.3898 117.263 12.4922 117.161 12.4922H111.854C111.753 12.4922 111.686 12.3898 111.723 12.2967C112.195 11.1448 113.167 10.3651 114.508 10.3651Z"\n        fill="#2D6339" />\n      <path\n        d="M63.7178 7.16965C62.4234 7.16965 61.0029 8.07658 60.1643 9.2014C60.076 9.31918 59.8887 9.23673 59.9134 9.09068L60.1396 7.80921C60.1714 7.629 60.0324 7.46411 59.8498 7.46411L55.9312 7.47C55.7687 7.47 55.6379 7.60191 55.6379 7.76328V20.2611C55.6379 20.4237 55.7699 20.5544 55.9312 20.5544H59.7556C59.9181 20.5544 60.0489 20.4225 60.0489 20.2611V13.2413C60.0489 11.9669 60.9228 11.0659 62.0264 11.0659C63.1301 11.0659 64.004 11.9387 64.004 13.2413V20.2611C64.004 20.4237 64.1359 20.5544 64.2973 20.5544H68.1217C68.2842 20.5544 68.4149 20.4225 68.4149 20.2611V12.2543C68.4149 8.90576 66.1512 7.1673 63.7166 7.1673V7.16965H63.7178Z"\n        fill="#2D6339" />\n      <path\n        d="M39.6184 7.4688H37.0472C36.9494 7.4688 36.8705 7.38988 36.8705 7.29212V6.417C36.8705 4.76099 38.3381 3.64912 39.9964 4.18503C40.1637 4.23921 40.3392 4.1285 40.3698 3.95536L40.9799 0.529075C41.007 0.373602 40.9069 0.225197 40.7538 0.189862C36.4854 -0.799507 32.4596 2.17802 32.4596 6.78802V7.29095C32.4596 7.38871 32.3806 7.46762 32.2829 7.46762H30.3218C30.1593 7.46762 30.0285 7.59954 30.0285 7.7609V10.7467C30.0262 10.9092 30.1581 11.0411 30.3206 11.0411H32.2805C32.3783 11.0411 32.4572 11.12 32.4572 11.2178V20.2517C32.4572 20.4142 32.5891 20.545 32.7505 20.545H36.576C36.7386 20.545 36.8693 20.4131 36.8693 20.2517V11.2178C36.8693 11.12 36.9482 11.0411 37.046 11.0411H39.6172C39.7797 11.0411 39.9105 10.9092 39.9105 10.7479V7.76208C39.9105 7.59954 39.7785 7.4688 39.6172 7.4688H39.6184Z"\n        fill="#2D6339" />\n      <path fill-rule="evenodd" clip-rule="evenodd"\n        d="M151.144 7.15424C147.357 7.15424 144.288 10.2236 144.288 14.0103C144.288 17.797 147.357 20.8664 151.144 20.8664C154.931 20.8664 158 17.797 158 14.0103C158 10.2236 154.931 7.15424 151.144 7.15424ZM151.144 18.6156C148.601 18.6156 146.539 16.5532 146.539 14.0103C146.539 11.4674 148.601 9.40505 151.144 9.40505C153.687 9.40505 155.749 11.4674 155.749 14.0103C155.749 16.5532 153.687 18.6156 151.144 18.6156Z"\n        fill="#4A9D44" />\n      <path\n        d="M127.662 7.46637H122.968C122.811 7.46637 122.685 7.5924 122.685 7.74905V20.2681C122.685 20.4248 122.811 20.5508 122.968 20.5508H124.655C124.811 20.5508 124.937 20.4248 124.937 20.2681V16.9832H127.756C130.353 16.9832 132.464 14.9031 132.513 12.3178C132.564 9.65005 130.329 7.46637 127.662 7.46637ZM127.696 14.7312H125.102C125.012 14.7312 124.937 14.657 124.937 14.5663V9.88326C124.937 9.79257 125.012 9.71836 125.102 9.71836H127.756C129.17 9.71836 130.312 10.8903 130.261 12.3166C130.213 13.6747 129.055 14.7323 127.696 14.7323V14.7312Z"\n        fill="#4A9D44" />\n      <path\n        d="M141.255 16.2564C142.596 15.4143 143.488 13.9208 143.486 12.2201C143.483 9.60529 141.26 7.46637 138.645 7.46637H133.939C133.783 7.46637 133.657 7.5924 133.657 7.74905V20.2681C133.657 20.4248 133.783 20.5508 133.939 20.5508H135.626C135.783 20.5508 135.909 20.4248 135.909 20.2681V17.1481C135.909 17.0574 135.983 16.9832 136.074 16.9832H138.675C138.781 16.9832 138.879 17.0409 138.932 17.1327L140.772 20.4036C140.82 20.4884 140.91 20.5414 141.008 20.5414H143.198C143.4 20.5414 143.525 20.3211 143.42 20.148L141.198 16.4814C141.151 16.4037 141.177 16.3036 141.254 16.2553H141.255V16.2564ZM138.667 14.7312H136.074C135.983 14.7312 135.909 14.657 135.909 14.5663V9.88326C135.909 9.79257 135.983 9.71836 136.074 9.71836H138.727C140.142 9.71836 141.283 10.8903 141.233 12.3166C141.182 13.743 140.026 14.7323 138.667 14.7323V14.7312Z"\n        fill="#4A9D44" />\n      <path fill-rule="evenodd" clip-rule="evenodd"\n        d="M155.807 4.08484L156.516 6.16605L157.22 4.08484H157.695V6.54649H157.376V5.09305C157.376 5.04241 157.376 4.95996 157.379 4.84453C157.383 4.72793 157.383 4.60308 157.383 4.47116L156.678 6.54766H156.347L155.637 4.47116V4.54654C155.637 4.60661 155.64 4.69848 155.642 4.82215C155.645 4.94583 155.645 5.03652 155.645 5.09423V6.54766H155.327V4.08602H155.806L155.807 4.08484ZM155.031 4.08484V4.37812H154.2V6.54531H153.863V4.37812H153.033V4.08484H155.031Z"\n        fill="#4A9D44" />\n      </svg>\n    '}),angular.module("classy").component("summaryAmount",{template:'<p class="donation-summary-amount">\n                <span class="sr-only">your currently selected donation amount is </span>\n                <span class="donation-summary-amount-label" aria-hidden="true" ng-if="!$ctrl.preventRecurringFrequency">{{$ctrl.frequencyText | capitalize}} donation</span>\n                <span class="donation-summary-amount-label" aria-hidden="true" ng-if="$ctrl.preventRecurringFrequency">Amount:</span>\n                <span class="donation-summary-amount-amount" data-ng-class="{ processing: $ctrl.feeprocessing }">\n\n                    {{ ($ctrl.amount || 0) | scFormatCurrency:$ctrl.currency:2 }}<span ng-if="$ctrl.preventRecurringFrequency">{{ $ctrl.frequencyText }}</span>\n\n                    <span class="donation-summary-amount-currency">{{$ctrl.currency}}</span>\n\n                    <span class="donation-summary-amount-processing">\n                    <span class="donation-summary-amount-processing-spinner"></span>\n                    </span>\n\n                </span>\n                <span class="donation-summary-amount-date-text" ng-if="!$ctrl.preventRecurringFrequency && $ctrl.recurUntil">Ending </span>\n                <span class="donation-summary-amount-date" ng-if="!$ctrl.preventRecurringFrequency">{{$ctrl.recurUntil | date:\'MM/dd/yyyy\'}}</span>\n\n                <span class="donation-summary-amount-charged-amount" ng-if="$ctrl.taxCompliance">\n                    You will be charged {{ $ctrl.estimatedCharge.amount | scFormatCurrency:$ctrl.estimatedCharge.currency:2:\'code\' }}{{ $ctrl.frequencyText\n                    }}\n                </span>\n            </p>',bindings:{amount:"<",feeprocessing:"<",estimatedcharge:"<",recurUntil:"<",frequency:"<",currency:"<",taxcompliance:"<"},controller:["scOrganizationsService",function(e){var n=this;this.preventRecurringFrequency=e.active.preventRecurringFrequencies(),this.$onChanges=function(){n.preventRecurringFrequency?n.frequencyText="recurring"===n.frequency?"/month":"":n.frequencyText="semi-annually"===n.frequency?"semi-annual":n.frequency}}]}),angular.module("classy").component("teamLeaderboard",{template:'\n\n    <div class="team-leaderboard__container">\n      <img class="team-leaderboard__loading"\n      ng-if="!$ctrl.leaders.length"\n      sc-cdn-src="/static/global/images/preloader.gif" />\n\n      <div class="team-leaderboard">\n        <div data-ng-repeat="(key, value) in $ctrl.leaders track by $index"\n          data-sc-supporter-leader="value"\n          data-leaderboard="true"\n          data-theme="theme"\n          data-bc="team-block"\n          data-mobile="isMobile"\n          placeholder="value.placeholder"\n          data-img-size="$ctrl.leaderImgSize">\n        </div>\n      </div>\n    </div>\n  ',bindings:{team:"=",styleClass:"<?",demo:"<?",updateTotalMembers:"&?"},controller:["$window","$q","$http","teamBlockDemoData",function(e,n,o,t){var r=this;this.$onInit=function(){Modernizr.prefixed("matchMedia",window)?r.isMobile=Modernizr.mq("(max-width: 568px)"):r.isMobile=angular.element(e).width()<=568,r.leaderImgSize=r.isMobile?60:108,r.pageCountPromise=n.defer(),r.totalMembers=0,r.leaders=[],r.generateLeaders()},this.generateLeaders=function(){r.demo?r.leaders=t.leaders:(r.getTopPages(),r.getWeeklyWinner(),r.getMostActive())},this.getTopPages=function(){var a={title:"Most Raised",type:"fundraiser",measure:"$",metric:"Raised"},i={title:"Most Donors",type:"fundraiser",measure:"",metric:"Donors"};o.get("frs-api/fundraising-teams/"+r.team.id+"/top-pages").then(function(e){var e=e.data,n=e.total,e=e.data,t=e.mostRaised,e=e.mostDonations,n=(r.totalMembers=n,r.updateTotalMembers&&r.updateTotalMembers({totalMembers:n}),r.pageCountPromise.resolve(),e.transactions_count),e=Object.assign(e,{placeholder:!n}),n=(r.leaders.push(Object.assign({logo:{cdn_url:e.fundraiser_profile_image}},e,i)),t.total_raised_raw),e=Object.assign(t,{placeholder:!n});r.leaders.push(Object.assign({logo:{cdn_url:e.fundraiser_profile_image}},e,a))}).catch(function(){r.pageCountPromise.resolve(),r.totalMembers||(r.leaders.push(Object.assign({},a)),r.leaders.push(Object.assign({},i)))})},this.getMostActive=function(){var t={title:"Most Activity",type:"fundraiser",measure:"",placeholder:!0};o.get("/frs-api/fundraising-teams/"+r.team.id+"/most-active-page").then(function(e){var n,e=e.data;e&&!_.isEmpty(e.mostActive)&&(n=1===e.mostActive.total_comments?"Comment":"Comments",Object.assign(t,e.mostActive,{placeholder:!1,metric:n,logo:{cdn_url:e.mostActive.logo_url}})),r.leaders.push(t)}).catch(function(){r.leaders.push({title:"Most Activity",type:"fundraiser",measure:"",metric:"Comments",placeholder:!0})})},this.getWeeklyWinner=function(){o.get("/frs-api/fundraising-teams/"+r.team.id+"/top-page/week").then(function(e){var e=e.data,n={title:"Weekly Winner",type:"fundraiser",measure:"$",metric:"raised this week",placeholder:!0};e&&!_.isEmpty(e.topPage)&&Object.assign(n,e.topPage,{placeholder:!1,weekly_raised:e.topPage.total_raised_in_interval,logo:{cdn_url:e.topPage.logo_url}}),r.leaders.push(n)}).catch(function(){r.leaders.push({title:"Weekly Winner",type:"fundraiser",measure:"$",metric:"raised this week",placeholder:!0})})}}]}),(()=>{var o;function n(e){this.mode=r.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var n=0,t=this.data.length;n<t;n++){var a=[],i=this.data.charCodeAt(n);65536<i?(a[0]=240|(1835008&i)>>>18,a[1]=128|(258048&i)>>>12,a[2]=128|(4032&i)>>>6,a[3]=128|63&i):2048<i?(a[0]=224|(61440&i)>>>12,a[1]=128|(4032&i)>>>6,a[2]=128|63&i):128<i?(a[0]=192|(1984&i)>>>6,a[1]=128|63&i):a[0]=i,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function l(e,n){this.typeNumber=e,this.errorCorrectLevel=n,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}angular.module("classy").directive("cryptoGivingQrCode",["CryptoGivingPaths",function(e){return{restrict:"EA",scope:{text:"@",width:"@",height:"@"},templateUrl:e.directives.qrCode,controller:["$scope","$element",function(n,t){var a=this,i={text:"",width:164,height:164,colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.CorrectLevel.H};this.init=function(e){a.qrCode=new o(t[0],_.extend({},i,e)),n.$on("$destroy",a.destroy)},this.destroy=function(){}}],link:function(n,e,t,a){var i={};n.$on("crypto-giving:qr-code:update",function(){var e=n.$eval(t.text);a.qrCode?(a.qrCode.clear(),a.qrCode.makeCode(e)):a.init({text:e})}),n.text&&(i.text=n.text),+n.width&&(i.width=+n.width),+n.height&&(i.height=+n.height),a.init(i)}}}]),n.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var n=0,t=this.parsedData.length;n<t;n++)e.put(this.parsedData[n],8)}},l.prototype={addData:function(e){e=new n(e);this.dataList.push(e),this.dataCache=null},isDark:function(e,n){if(e<0||this.moduleCount<=e||n<0||this.moduleCount<=n)throw new Error(e+","+n);return this.modules[e][n]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[t][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,n){for(var t=-1;t<=7;t++)if(!(e+t<=-1||this.moduleCount<=e+t))for(var a=-1;a<=7;a++)n+a<=-1||this.moduleCount<=n+a||(this.modules[e+t][n+a]=0<=t&&t<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==t||6==t)||2<=t&&t<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var e=0,n=0,t=0;t<8;t++){this.makeImpl(!0,t);var a=h.getLostPoint(this);(0==t||a<e)&&(e=a,n=t)}return n},createMovieClip:function(e,n,t){var a=e.createEmptyMovieClip(n,t);this.make();for(var i=0;i<this.modules.length;i++)for(var o=+i,r=0;r<this.modules[i].length;r++){var s=+r;this.modules[i][r]&&(a.beginFill(0,100),a.moveTo(s,o),a.lineTo(1+s,o),a.lineTo(1+s,1+o),a.lineTo(s,1+o),a.endFill())}return a},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var n=8;n<this.moduleCount-8;n++)null==this.modules[6][n]&&(this.modules[6][n]=n%2==0)},setupPositionAdjustPattern:function(){for(var e=h.getPatternPosition(this.typeNumber),n=0;n<e.length;n++)for(var t=0;t<e.length;t++){var a=e[n],i=e[t];if(null==this.modules[a][i])for(var o=-2;o<=2;o++)for(var r=-2;r<=2;r++)this.modules[a+o][i+r]=-2==o||2==o||-2==r||2==r||0==o&&0==r}},setupTypeNumber:function(e){for(var n=h.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var a=!e&&1==(n>>t&1);this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=a}for(t=0;t<18;t++){a=!e&&1==(n>>t&1);this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=a}},setupTypeInfo:function(e,n){for(var n=this.errorCorrectLevel<<3|n,t=h.getBCHTypeInfo(n),a=0;a<15;a++){var i=!e&&1==(t>>a&1);a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(a=0;a<15;a++){i=!e&&1==(t>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,n){for(var t=-1,a=this.moduleCount-1,i=7,o=0,r=this.moduleCount-1;0<r;r-=2)for(6==r&&r--;;){for(var s,l,c=0;c<2;c++)null==this.modules[a][r-c]&&(s=!1,o<e.length&&(s=1==(e[o]>>>i&1)),l=h.getMask(n,a,r-c),this.modules[a][r-c]=s=l?!s:s,-1==--i)&&(o++,i=7);if((a+=t)<0||this.moduleCount<=a){a-=t,t=-t;break}}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,n,t){for(var a=b.getRSBlocks(e,n),i=new y,o=0;o<t.length;o++){var r=t[o];i.put(r.mode,4),i.put(r.getLength(),h.getLengthInBits(r.mode,e)),r.write(i)}for(var s=0,o=0;o<a.length;o++)s+=a[o].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;;){if(i.getLengthInBits()>=8*s)break;if(i.put(l.PAD0,8),i.getLengthInBits()>=8*s)break;i.put(l.PAD1,8)}return l.createBytes(i,a)},l.createBytes=function(e,n){for(var t=0,a=0,i=0,o=new Array(n.length),r=new Array(n.length),s=0;s<n.length;s++){var l=n[s].dataCount,c=n[s].totalCount-l,a=Math.max(a,l),i=Math.max(i,c);o[s]=new Array(l);for(var d=0;d<o[s].length;d++)o[s][d]=255&e.buffer[d+t];t+=l;var l=h.getErrorCorrectPolynomial(c),u=new v(o[s],l.getLength()-1).mod(l);r[s]=new Array(l.getLength()-1);for(d=0;d<r[s].length;d++){var m=d+u.getLength()-r[s].length;r[s][d]=0<=m?u.get(m):0}}for(var g=0,d=0;d<n.length;d++)g+=n[d].totalCount;for(var p=new Array(g),f=0,d=0;d<a;d++)for(s=0;s<n.length;s++)d<o[s].length&&(p[f++]=o[s][d]);for(d=0;d<i;d++)for(s=0;s<n.length;s++)d<r[s].length&&(p[f++]=r[s][d]);return p};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},a=0,i=1,s=2,d=3,u=4,m=5,g=6,p=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var n=e<<10;0<=h.getBCHDigit(n)-h.getBCHDigit(h.G15);)n^=h.G15<<h.getBCHDigit(n)-h.getBCHDigit(h.G15);return(e<<10|n)^h.G15_MASK},getBCHTypeNumber:function(e){for(var n=e<<12;0<=h.getBCHDigit(n)-h.getBCHDigit(h.G18);)n^=h.G18<<h.getBCHDigit(n)-h.getBCHDigit(h.G18);return e<<12|n},getBCHDigit:function(e){for(var n=0;0!=e;)n++,e>>>=1;return n},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,n,t){switch(e){case a:return(n+t)%2==0;case i:return n%2==0;case s:return t%3==0;case d:return(n+t)%3==0;case u:return(Math.floor(n/2)+Math.floor(t/3))%2==0;case m:return n*t%2+n*t%3==0;case g:return(n*t%2+n*t%3)%2==0;case p:return(n*t%3+(n+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var n=new v([1],0),t=0;t<e;t++)n=n.multiply(new v([1,f.gexp(t)],0));return n},getLengthInBits:function(e,n){if(1<=n&&n<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(n<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(n<41))throw new Error("type:"+n);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var n=e.getModuleCount(),t=0,a=0;a<n;a++)for(var i=0;i<n;i++){for(var o=0,r=e.isDark(a,i),s=-1;s<=1;s++)if(!(a+s<0||n<=a+s))for(var l=-1;l<=1;l++)i+l<0||n<=i+l||0==s&&0==l||r==e.isDark(a+s,i+l)&&o++;5<o&&(t+=3+o-5)}for(a=0;a<n-1;a++)for(i=0;i<n-1;i++){var c=0;e.isDark(a,i)&&c++,e.isDark(a+1,i)&&c++,e.isDark(a,i+1)&&c++,e.isDark(a+1,i+1)&&c++,0!=c&&4!=c||(t+=3)}for(a=0;a<n;a++)for(i=0;i<n-6;i++)e.isDark(a,i)&&!e.isDark(a,i+1)&&e.isDark(a,i+2)&&e.isDark(a,i+3)&&e.isDark(a,i+4)&&!e.isDark(a,i+5)&&e.isDark(a,i+6)&&(t+=40);for(i=0;i<n;i++)for(a=0;a<n-6;a++)e.isDark(a,i)&&!e.isDark(a+1,i)&&e.isDark(a+2,i)&&e.isDark(a+3,i)&&e.isDark(a+4,i)&&!e.isDark(a+5,i)&&e.isDark(a+6,i)&&(t+=40);for(var d=0,i=0;i<n;i++)for(a=0;a<n;a++)e.isDark(a,i)&&d++;return t+=10*(Math.abs(100*d/n/n-50)/5)}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)f.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)f.EXP_TABLE[e]=f.EXP_TABLE[e-4]^f.EXP_TABLE[e-5]^f.EXP_TABLE[e-6]^f.EXP_TABLE[e-8];for(e=0;e<255;e++)f.LOG_TABLE[f.EXP_TABLE[e]]=e;function v(e,n){if(null==e.length)throw new Error(e.length+"/"+n);for(var t=0;t<e.length&&0==e[t];)t++;this.num=new Array(e.length-t+n);for(var a=0;a<e.length-t;a++)this.num[a]=e[a+t]}function b(e,n){this.totalCount=e,this.dataCount=n}function y(){this.buffer=[],this.length=0}v.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var n=new Array(this.getLength()+e.getLength()-1),t=0;t<this.getLength();t++)for(var a=0;a<e.getLength();a++)n[t+a]^=f.gexp(f.glog(this.get(t))+f.glog(e.get(a)));return new v(n,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var n=f.glog(this.get(0))-f.glog(e.get(0)),t=new Array(this.getLength()),a=0;a<this.getLength();a++)t[a]=this.get(a);for(a=0;a<e.getLength();a++)t[a]^=f.gexp(f.glog(e.get(a))+n);return new v(t,0).mod(e)}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(e,n){var t=b.getRsBlockTable(e,n);if(null==t)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+n);for(var a=t.length/3,i=[],o=0;o<a;o++)for(var r=t[3*o+0],s=t[3*o+1],l=t[3*o+2],c=0;c<r;c++)i.push(new b(s,l));return i},b.getRsBlockTable=function(e,n){switch(n){case c.L:return b.RS_BLOCK_TABLE[4*(e-1)+0];case c.M:return b.RS_BLOCK_TABLE[4*(e-1)+1];case c.Q:return b.RS_BLOCK_TABLE[4*(e-1)+2];case c.H:return b.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},y.prototype={get:function(e){var n=Math.floor(e/8);return 1==(this.buffer[n]>>>7-e%8&1)},put:function(e,n){for(var t=0;t<n;t++)this.putBit(1==(e>>>n-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var k=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(){var e=!1,n=navigator.userAgent;return e=/android/i.test(n)&&(e=!0,n=n.toString().match(/android ([0-9]\.[0-9])/i))&&n[1]?parseFloat(n[1]):e}t.prototype.draw=function(e){var n=this._htOption,t=this._el,a=e.getModuleCount();Math.floor(n.width/a),Math.floor(n.height/a);function i(e,n){var t,a=document.createElementNS("http://www.w3.org/2000/svg",e);for(t in n)n.hasOwnProperty(t)&&a.setAttribute(t,n[t]);return a}this.clear();var o=i("svg",{viewBox:"0 0 "+String(a)+" "+String(a),width:"100%",height:"100%",fill:n.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.appendChild(o),o.appendChild(i("rect",{fill:n.colorLight,width:"100%",height:"100%"})),o.appendChild(i("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<a;r++)for(var s,l=0;l<a;l++)e.isDark(r,l)&&((s=i("use",{x:String(l),y:String(r)})).setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(s))},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)};var C=t;function t(e,n){this._el=e,this._htOption=n}var S="svg"===document.documentElement.tagName.toLowerCase()?C:"undefined"==typeof CanvasRenderingContext2D?($.prototype.draw=function(e){for(var n=this._htOption,t=this._el,a=e.getModuleCount(),i=Math.floor(n.width/a),o=Math.floor(n.height/a),r=['<table style="border:0;border-collapse:collapse;">'],s=0;s<a;s++){r.push("<tr>");for(var l=0;l<a;l++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+o+"px;background-color:"+(e.isDark(s,l)?n.colorDark:n.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),t.innerHTML=r.join("");var t=t.childNodes[0],c=(n.width-t.offsetWidth)/2,d=(n.height-t.offsetHeight)/2;0<c&&0<d&&(t.style.margin=d+"px "+c+"px")},$.prototype.clear=function(){this._el.innerHTML=""},$):function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}var d,u;this&&this._android&&this._android<=2.1&&(d=1/window.devicePixelRatio,u=CanvasRenderingContext2D.prototype.drawImage,CanvasRenderingContext2D.prototype.drawImage=function(e,n,t,a,i,o,r,s,l){if("nodeName"in e&&/img/i.test(e.nodeName))for(var c=arguments.length-1;1<=c;c--)arguments[c]=arguments[c]*d;else void 0===s&&(arguments[1]*=d,arguments[2]*=d,arguments[3]*=d,arguments[4]*=d);u.apply(this,arguments)});function n(e,n){this._bIsPainted=!1,this._android=w(),this._htOption=n,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=n.width,this._elCanvas.height=n.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null}return n.prototype.draw=function(e){var n=this._elImage,t=this._oContext,a=this._htOption,i=e.getModuleCount(),o=a.width/i,r=a.height/i,s=Math.round(o),l=Math.round(r);n.style.display="none",this.clear();for(var c=0;c<i;c++)for(var d=0;d<i;d++){var u=e.isDark(c,d),m=d*o,g=c*r;t.strokeStyle=u?a.colorDark:a.colorLight,t.lineWidth=1,t.fillStyle=u?a.colorDark:a.colorLight,t.fillRect(m,g,o,r),t.strokeRect(Math.floor(m)+.5,Math.floor(g)+.5,s,l),t.strokeRect(Math.ceil(m)-.5,Math.ceil(g)-.5,s,l)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&!function(e,n){var t=this;t._fFail=n,t._fSuccess=e,null===t._bSupportDataURI?((n=document.createElement("img")).onabort=e=function(){t._bSupportDataURI=!1,t._fFail&&t._fFail.call(t)},n.onerror=e,n.onload=function(){t._bSupportDataURI=!0,t._fSuccess&&t._fSuccess.call(t)},n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="):!0===t._bSupportDataURI&&t._fSuccess?t._fSuccess.call(t):!1===t._bSupportDataURI&&t._fFail&&t._fFail.call(t)}.call(this,e)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(e){return e&&Math.floor(1e3*e)/1e3},n}();function $(e,n){this._el=e,this._htOption=n}function T(e,n){for(var t,a=1,i=(e=e,(t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(t.length!=e?3:0)),o=0,r=k.length;o<=r;o++){var s=0;switch(n){case c.L:s=k[o][0];break;case c.M:s=k[o][1];break;case c.Q:s=k[o][2];break;case c.H:s=k[o][3]}if(i<=s)break;a++}if(k.length<a)throw new Error("Too long data");return a}(o=function(e,n){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:c.H},n="string"==typeof n?{text:n}:n)for(var t in n)this._htOption[t]=n[t];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(S=C),this._android=w(),this._el=e,this._oQRCode=null,this._oDrawing=new S(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new l(T(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},o.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},o.prototype.clear=function(){this._oDrawing.clear()},o.CorrectLevel=c})(),angular.module("classy").factory("CryptoGivingCoin",["$http","$q","$filter","CG_COIN_DIGITS",function(a,i,n,t){function e(e){this.symbol=e.symbol,this.name=e.name,this.usdValue=e.usdValue,this.usdValueTimeStamp=e.usdValueTimeStamp,this.depositAddress=e.depositAddress,this.$$isCreatingDepositAddress=!1,this.$$isFetchingMarketData=!1}return e.prototype.getMarketData=function(){return this.usdValue?i.when(this):this.fetchMarketData()},e.prototype.convertUSD=function(e){return this.usdValue?Math.round(e/this.usdValue*t)/t:""},e.prototype.convertCoin=function(e){return this.usdValue?n("currency")(Math.round(e*this.usdValue*t)/t):""},e.prototype.convertCoinRaw=function(e){return this.usdValue?Math.round(e*this.usdValue*100)/100:0},e.prototype.fetchMarketData=function(){var n,e,t=i.defer();return this.$$isFetchingMarketData||(this.$$isFetchingMarketData=!0,e="/frs-api/crypto-giving/"+(n=this).symbol+"/USD/market-data",a.get(e).then(function(e){e=e.data||{};n.usdValue=e.amount,n.usdValueTimeStamp=+new Date,t.resolve(n)}).finally(function(){n.$$isFetchingMarketData=!1})),t.promise},e}]),angular.module("classy").service("CryptoGivingCampaignUtil",["CG_DONATION_AMOUNTS","scBlocksService",function(t,n){this.campaign=null,this.blocks=null,this.donationBlock=null,this.donationAmounts=null,this.init=function(e){e&&!_.isEmpty(e)&&(this.campaign=e,this.campaign&&(this.blocks=n.blocks,_.isEmpty(this.blocks)||(e=_.find(this.blocks,function(e){return e.current&&"donation"===e.current.type}))&&(this.donationBlock=e.current),this.donationBlock||(this.blocks=this.campaign.defaultBlocks,this.donationBlock=this.blocks.donation.current,this.donationBlock)||(this.donationBlock=this.blocks.donation.defaults)),this.setDonationAmounts(this.donationBlock))},this.setDonationAmounts=function(e){var n=void 0;e&&e["donation-levels"]&&(n=e["donation-levels"].filter(function(e){return"Custom"!==e.amount})),this.donationAmounts=n||t}}]),angular.module("classy").service("CryptoGivingDAL",["$http","$q","scCampaignsService","scOrganizationsService","CryptoGiving",function(o,r,s,l,c){var d=this;this.cache={checkout:{symbol:null,amount:null,opt_in:null,opt_in_wording:null,member_first_name:null,member_last_name:null,member_email_address:null,billing_postal_code:null,application_id:null},depositAddresses:{}},this.updateCache=function(e){d.cache=_.extend({},d.cache,e)},this.getMarketData=function(e){return e?e.getMarketData():r.reject('[CryptoGivingDAL:getMarketData] @param "coin" required.')},this.checkout=function(e){var n,t,a,i;return _.isEmpty(e)?r.reject("[crypto-giving.services.dal:checkout] Payload required."):(n=c.getCoin(e.symbol))?(t=d,a="/frs-api/campaign/"+s.active.current.id+"/cg-checkout",i=_.extend({application_id:l.getTag("classyPayApplicationId")},e),d.cache.depositAddresses[i.symbol]?r.when(d.cache.depositAddresses[i.symbol]):(d.updateCache({checkout:i}),o.post(a,i).then(function(e){e=(e.data||{}).depositAddress;return e?(t.cache.depositAddresses[i.symbol]=e,n.depositAddress=e):r.reject()}).then(function(e){return e}))):r.reject("[crypto-giving.services.dal:checkout] Invalid coin.")}}]),angular.module("classy").service("CryptoGivingPaths",function(){var e="global/crypto-giving/views/",n="/static/global/images/crypto-giving/";this.views={toggle:e+"crypto-giving.views.toggle",checkout:e+"crypto-giving.views.checkout",checkoutContact:e+"crypto-giving.views.checkout-contact",checkoutDonation:e+"crypto-giving.views.checkout-donation",checkoutWallet:e+"crypto-giving.views.checkout-wallet",welcome:"global/objects/scBlock/types/frs-donation/components/welcome/template"},this.images={arrows:n+"crypto-giving-arrows.svg",coins:{bitcoin:n+"crypto-giving-coin-bitcoin.svg",ethereum:n+"crypto-giving-coin-ethereum.svg",usdc:n+"crypto-giving-coin-usdc.svg"}},this.directives={qrCode:"global/crypto-giving/views/directives/crypto-giving.views.directives.qr-code"},this.checkout=this.views.checkout,this.toggle=this.views.toggle}),angular.module("classy").service("CryptoGivingUtil",function(){this.getAnalyticsEventData=function(){return{organizationId:SC.organization.id,campaignType:SC.campaign.type,campaignId:SC.campaign.id}}}),angular.module("classy").service("CryptoGivingWallet",["$log","$q","CryptoGivingCoin",function(a,t,i){this.coins=[],this.__coins={},this.init=function(e){return this.__initCoins((e||{}).coins),this},this.__initCoins=function(e){if(e&&e.length){this.coins=[],this.__coins={};for(var n,t=0;t<e.length;t+=1)n=new i(e[t]),this.coins.push(n),this.__coins[n.symbol]=n}else a.warn("[CryptoGivingWallet:__initCoins] required coins not provided.")},this.getCoin=function(e){return this.__coins&&this.__coins[e]},this.getCoinMarketData=function(e){var n=this.getCoin(e);return n?n.getMarketData():(a.warn("[CryptoGivingWallet:getMarketDataBySymbol] coin [",e,"] is not supported."),t.reject())},this.createCoinDepositAddress=function(e){var n=this.getCoin(e);return n?n.getMarketData():(a.warn("[CryptoGivingWallet:getMarketDataBySymbol] coin [",e,"] is not supported."),t.reject())}}]),(()=>{function e(a,i,o){return{template:'\n      <div class="status-banner animate-show" ng-show="visible" ng-class="banner.type" ng-style="banner.color && {\'background-color\': banner.color}" aria-live="assertive">\n        <div role="alert" aria-atomic="true">\n          <span class="status-banner_msg" ng-bind-html="banner.msg | scTrustedHtml"></span>\n          <span class="sr-only" ng-bind-html="banner.msgAccessibility | scTrustedHtml"></span>\n        </div>\n        <button class="status-banner_close {{banner.type}}"\n        type="button"\n        data-ng-click="close()"\n        data-ng-if="banner && banner.type!==\'success\'">\n          <i class="fa fa-times status-banner_icon"></i>\n          <span class="status-banner_close-msg">Close</span>\n        </button>\n      </div>\n    ',scope:{},replace:!0,link:function(t){var e={status:{banner:{type:"",msg:"",msgAccessibility:"",timeout:!0,timeoutLength:3e3,color:null}}};i.SC=i.SC?_.merge(i.SC,e):e,t.banner=i.SC.status.banner,t.visible=!1,t.close=function(){i.SC.status.banner.onClose&&i.SC.status.banner.onClose(),t.visible=!1,i.SC.status.banner={}},i.$watch("SC.status.banner",function(e,n){_.isEqual(e,{})&&t.close(),e!=n&&0<_.size(e)&&(_.isUndefined(i.SC.status.banner.timeout)&&(i.SC.status.banner.timeout=!0),_.isUndefined(i.SC.status.banner.timeoutLength)&&(i.SC.status.banner.timeoutLength=3e3),t.visible=!0,t.banner=i.SC.status.banner,"success"===e.type?o():"error"===e.type&&_.isUndefined(i.SC.status.banner.timeout)&&(i.SC.status.banner.timeout=!1),t.banner.timeout)&&a(function(){t.close()},t.banner.timeoutLength)},!0)}}}e.$inject=["$timeout","$rootScope","$anchorScroll"],angular.module("classy").directive("scStatusBanner",e)})(),angular.module("classy").directive("scAutofocus",function(){return{require:["ngModel","^form"],link:function(e,n,t,a){var i=a[0],o=a[1],r=_.parseInt(t.scAutofocus);o.$autofocus=function(e){var n=e;_.isString(e)&&(n=o.$autofocusFields[e]),_.isNumber(n)&&((e=angular.element("[sc-autofocus="+n+"]")).focus(),e.is("input"))&&(n=e.val().length,e[0].setSelectionRange(n,n))},o.$autofocusFields=o.$autofocusFields||{},o.$autofocusFields[i.$name]=r,i.$viewChangeListeners.push(function(){i.$valid&&i.$dirty&&o.$autofocus(r+1)})}}}),angular.module("classy").directive("scBirthday",function(){return{replace:!0,template:'<span class="birthday"><select class="form_select desktop-quarter mobile-ls-third month" ng-model="birthMonth" ng-options="month for month in months"><option value="" selected>Birthday Month</option></select><select class="form_select desktop-quarter mobile-ls-third" ng-model="birthDate" ng-options="date for date in dates"><option value="" selected>Birthday Day</option></select><select class="form_select desktop-quarter mobile-ls-third" ng-model="birthYear" ng-options="year for year in years"><option value="" selected>Birthday Year</option></select></span>',scope:{scBirthday:"="},link:function(e){e.months=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],e.dates=[];for(var n=1;n<=31;n+=1)e.dates.push(n);e.years=[];for(var t,a=2014;1904<=a;--a)e.years.push(a);function i(){e.scBirthday=new Date(e.birthMonth+" "+e.birthDate+","+e.birthYear),"Invalid Date"==e.scBirthday&&delete e.scBirthday}e.$watch("birthMonth",i),e.$watch("birthDate",i),e.$watch("birthYear",i),e.scBirthday&&0<e.scBirthday.length&&0<e.scBirthday.indexOf("-")&&(t=e.scBirthday.split("-"),e.birthYear=parseInt(t[0],10),e.birthDate=parseInt(t[2],10),e.birthMonth=e.months[t[1]-1])}}}),(()=>{function e(i){return{require:"?ngModel",link:function(e,n,t,a){a&&(n.on("focus",function(){n.addClass("has-focus"),i.$$phase||e.$apply(function(){a.hasFocus=!0})}),n.on("blur",function(){n.removeClass("has-focus"),n.addClass("has-visited"),e.$apply(function(){a.hasFocus=!1,a.hasVisited=!0})}))}}}e.$inject=["$rootScope"],angular.module("classy").directive("scBlurFocus",e)})(),(()=>{function e(r){return{require:"form",link:function(a,e,n,i){i.$visibleErrors=[],a.$watch(function(){var e=[],n=(!function t(a,i,e){var o=2<arguments.length&&void 0!==e?e:"";_.forEach(a.$error,function(e,n){_.forEach(e,function(e){e instanceof r[0].controller?t(e,i,e.$name+"."):!a.$submitted&&(e.$pristine||e.$untouched||e.$validOnFocus)||(i.push(o+e.$name),i.push(o+e.$name+"|"+n))})})}(i,e),e=_.uniq(e),_.difference(i.$visibleErrors,e)),t=_.difference(e,i.$visibleErrors);_.forEach(n,function(e){e=e.split("|");a.$broadcast("VALIDATION_CHANGE:"+e[0],e[1],!0)}),_.forEach(t,function(e){e=e.split("|");a.$broadcast("VALIDATION_CHANGE:"+e[0],e[1],!1)}),i.$visibleErrors=e})}}}e.$inject=["formDirective"],angular.module("classy").directive("scBroadcastFormErrors",e)})(),angular.module("classy").directive("scCharLimit",function(){return function(e,n,t){var a=t.suffix||"";e.$watch(t.scCharLimit,function(e){e?t.countTyped?n.text(e.length+" "+a):n.text(t.count-e.length+" "+a):n.text(t.count+" "+a)})}}),(()=>{function e(a){return{require:{ngModelCtrl:"ngModel"},bindToController:{},controllerAs:"scContentEditableCtrl",controller:["$element",function(t){this.$onInit=function(){var e=this;this.ngModelCtrl.$setPristine(),this.ngModelCtrl.$setUntouched(),this.ngModelCtrl.$render=function(){return e.render()}},this.$postLink=function(){var e=this;t.on("input",function(){return e.read()}),t.on("focus",function(){return e.select()}),this.ngModelCtrl.$render()},this.read=function(){this.ngModelCtrl.$setViewValue(t[0].textContent),this.ngModelCtrl.$setDirty()},this.render=function(){t[0].textContent=this.ngModelCtrl.$viewValue},this.select=function(){var e=document.createRange(),n=(e.selectNodeContents(t[0]),a.getSelection());n.removeAllRanges(),n.addRange(e),this.ngModelCtrl.$setTouched()}}]}}e.$inject=["$window"],angular.module("classy").directive("scContentEditable",e)})(),(()=>{var s=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=n,a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")};angular.module("classy").directive("scDateDropdown",function(){return{replace:!0,require:["ngModel","^?form"],scope:{classStem:"="},template:'<span class="{{::classStem}}"><select name="scDateDropdownMonth" class="{{::classStem}}_select {{::classStem}}_select-month" data-ng-options="month.value as month.name for month in months" data-ng-model="month" aria-label="month"></select><select name="scDateDropdownDay" class="{{::classStem}}_select {{::classStem}}_select-day" data-ng-options="day.value as day.name for day in days" data-ng-model="day" aria-label="day"></select><select name="scDateDropdownYear" class="{{::classStem}}_select {{::classStem}}_select-year" data-ng-options="year.value as year.name for year in years" data-ng-model="year" aria-label="year"></select></span>',link:function(t,e,n,a){for(var a=s(a,2),i=a[0],a=a[1],a=(a&&(a.$removeControl(a.scDateDropdownMonth),a.$removeControl(a.scDateDropdownDay),a.$removeControl(a.scDateDropdownYear)),t.month="",t.day="",t.year="",t.months=[{name:"Month",value:""},{name:"January",value:"January"},{name:"February",value:"February"},{name:"March",value:"March"},{name:"April",value:"April"},{name:"May",value:"May"},{name:"June",value:"June"},{name:"July",value:"July"},{name:"August",value:"August"},{name:"September",value:"September"},{name:"October",value:"October"},{name:"November",value:"November"},{name:"December",value:"December"}],t.fillDays=function(e){t.days=[{name:"Day",value:""}];for(var n=1;n<=e;n+=1)t.days.push({name:n.toString(),value:n.toString()})},t.fillDays(31),t.years=[{name:"Year",value:""}],moment().format("YYYY")),a=parseInt(a,10),o=a-120,r=a;o<=r;--r)t.years.push({name:r.toString(),value:r.toString()});t.populateDays=function(){var e=t.month?Date.getMonthNumberFromName(t.month):0,e=t.year?Date.getDaysInMonth(parseInt(t.year,10),e):Date.getDaysInMonth(e);t.fillDays(e)},t.parseDate=function(e){var n=e[0],t=parseInt(e[1],10),e=parseInt(e[2],10),a=!n&&!t&&!e;return i.$setValidity("monthRequired",a||!!n),i.$setValidity("dayRequired",a||!!t),i.$setValidity("yearRequired",a||!!e),(n||t||e)&&i.$setTouched(),!!(n&&t&&e)&&(i.$setDirty(),(a=Date.parse(n+" "+t+", "+e))instanceof Date)&&a},t.$watchGroup(["month","day","year"],function(e){t.populateDays();e=t.parseDate(e)||null;i.$setViewValue(e)})}}})})(),angular.module("classy").directive("scDollar",function(){return{require:"?ngModel",link:function(e,t,n,a){n.$set("pattern","[0-9]*"),a.$parsers.unshift(function(e){return""===e||angular.isUndefined(e)||/^(\d*\.\d{1,2}|\d+)$/.test(e)?(a.$setValidity("dollar",!0),e):void a.$setValidity("dollar",!1)}),t.on("keydown",function(e){var n=t.val();46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||13==e.keyCode||(65==e.keyCode||86==e.keyCode)&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=39||(190==e.keyCode||110==e.keyCode)&&n.indexOf(".")<0||(e.shiftKey||(e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)||!angular.isUndefined(n.split(".")[1])&&1<n.split(".")[1].length)&&e.preventDefault()})}}}),(()=>{function e(r){return{require:"^form",link:function(e,n,t,a){var i,o=a[r(t.scErrorClass)(e)];o&&(i=o.$retainFocusValidity?"$uiInvalid":"$invalid",e.$watch(function(){return _.get(o,i)},function(e){e?n.addClass("ui-invalid"):n.removeClass("ui-invalid")}))}}}e.$inject=["$parse"],angular.module("classy").directive("scErrorClass",e)})(),(()=>{e.$inject=["$location"];var d=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=n,a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")};function e(c){return{replace:!0,require:["ngModel","^?form"],scope:{classStem:"="},template:'\n      <span>\n        <span class="form-table__column--two">\n          <select class="form__select--dark"\n          name="scExpirationDateMonth"\n          data-ng-options="month.number as month.label for month in months"\n          data-ng-model="month">\n            <option value="" selected>Month</option>\n          </select>\n        </span>\n        <span class="form-table__column--two">\n          <select class="form__select--dark expiration-"\n          name="scExpirationDateYear"\n          data-ng-options="year for year in years"\n          data-ng-model="year">\n            <option value="" selected>Year</option>\n          </select>\n        </span>\n      </span>\n    ',link:function(n,e,t,a){for(var a=d(a,2),i=a[0],a=a[1],o=(a&&(a.$removeControl(a.scExpirationDateMonth),a.$removeControl(a.scExpirationDateYear)),moment().year()),r=moment().month()+1,s=(n.month="",n.year="",n.months=[{number:"01",label:"01 - January"},{number:"02",label:"02 - February"},{number:"03",label:"03 - March"},{number:"04",label:"04 - April"},{number:"05",label:"05 - May"},{number:"06",label:"06 - June"},{number:"07",label:"07 - July"},{number:"08",label:"08 - August"},{number:"09",label:"09 - September"},{number:"10",label:"10 - October"},{number:"11",label:"11 - November"},{number:"12",label:"12 - December"}],n.years=[],o+12),l=o;l<=s;l+=1)n.years.push(l.toString());n.parseDate=function(e){var n;return!c.absUrl().includes("/manage/event")&&(n=e[0],e=e[1],i.$setValidity("monthRequired",!!n),i.$setValidity("yearRequired",!!e),n&&e?+e<o||+e===o&&+n<r?(i.$setValidity("isExpired",!1),!1):(i.$setValidity("isExpired",!0),i.$setTouched(),i.$setDirty(),{month:n,year:e}):(i.$setValidity("isExpired",null),!1))},n.$watchGroup(["month","year"],function(e){e=n.parseDate(e)||null;i.$setViewValue(e)})}}}angular.module("classy").directive("scExpirationDate",e)})(),(()=>{function e(i){var u=/^(show|hide|highlight) if (.*?) fails\s?(.*?)?$/;return function(e,o,r){var n=r.scFormError,n=u.exec(n);if(n){var t=n[1],a=n[2],s=n[3],a=a.match(/\[.*\]/)?(a=a.replace(/[[\]\s]/g,"")).split(","):[a],l={},c=(_.forEach(a,function(e){l[e]=!0}),_.noop);switch(t){case"show":o.hide(),c=function(e){i(function(){return e?o.hide():o.show()})};break;case"hide":c=function(e){i(function(){return e?o.show():o.hide()})};break;case"highlight":c=function(e){i(function(){return e?o.removeClass("sc-form-error"):o.addClass("sc-form-error")})}}_.forEach(a,function(i){d(o[0])&&r.$set("aria-invalid",!1),e.$on("VALIDATION_CHANGE:"+i,function(e,n,t){var a;s===n&&(l[i]=t,c((a=l,Object.keys(a).every(function(e){return a[e]})))),d(o[0])&&r.$set("aria-invalid",!t)})})}function d(e){return"span"!==e.localName&&"label"!==e.localName}}}e.$inject=["scRequestAnimationFrame"],angular.module("classy").directive("scFormError",e)})(),(()=>{function e(i){return{require:"?ngModel",link:function(t,e,a){t.$watch(a.ngModel,function(e){var n;e&&(n=(e=new Date(e)).getDate(),n=e.getMonth()+1+"/"+n+"/"+e.getFullYear(),i(a.ngModel).assign(t,n))})}}}e.$inject=["$parse"],angular.module("classy").directive("scFormatDate",e)})(),(()=>{function e(i){return{require:"?ngModel",link:function(e,n,t,a){e.$watch(t.scIsExpired,function(e){var n=parseInt(i("date")(new Date,"MM"),10),t=parseInt(i("date")(new Date,"yyyy"),10);parseInt(e.year,10)<t||parseInt(e.year,10)==t&&parseInt(e.month,10)<n?a.$setValidity("isExpired",!1):a.$setValidity("isExpired",!0)},!0)}}}e.$inject=["$filter"],angular.module("classy").directive("scIsExpired",e)})(),(()=>{function e(a,i){return{requires:"?ngModel",link:function(n,e,t){n.parsed=!1,i(function(){n.$watch(t.ngModel,function(e){"false"!==t.scMirrorModel&&(n.parsed=!0,a(t.scMirrorModel).assign(n,e))})})}}}e.$inject=["$parse","$timeout"],angular.module("classy").directive("scMirrorModel",e)})(),angular.module("classy").directive("scPattern",function(){return{require:"ngModel",link:function(e,n,t,a){a.$validators.scPattern=function(e,n){return new RegExp(t.scPattern).test(e||n)}}}}),(()=>{function e(l){return{require:"ngModel",link:function(e,i,o,r){var s=r.$viewValue||"";r.$parsers.push(function(e){var n=new RegExp(o.scRestrictInput);if(!e||!_.isString(e)||n.test(e))return s=e;r.$setViewValue(s),r.$render();try{var t=document.createRange(),a=(t.setStartAfter(i[0].childNodes[0]),t.setEndAfter(i[0].childNodes[0]),l.getSelection());a.removeAllRanges(),a.addRange(t)}catch(e){}return s})}}}e.$inject=["$window"],angular.module("classy").directive("scRestrictInput",e)})(),(()=>{function e(i){return{require:"ngModel",link:function(e,n,t,a){a.$focus=function(){i(function(){a.$validOnFocus=a.$valid||a.$pristine||a.$untouched})},a.$blur=function(){i(function(){a.$validOnFocus=null})},n.on("focus",a.$focus),n.on("blur",a.$blur)}}}e.$inject=["$timeout"],angular.module("classy").directive("scRetainFocusValidity",e)})(),(()=>{function e(i,o,r,s){return{require:"?ngModel",replace:!0,template:'<select ng-options="country.value as country.label disable when country.disable for country in countries" qa-id="{{ scQaId.selectField }}"><option value="">Please Select</option></select>',link:function(n,e,t){n.scQaId=r,s.getCountryBlockedList().then(function(e){n.countries=e});var a,t=i(t.ngModel);t(n)||(a=o.getBrowserLocale()||"US",t.assign(n,a))}}}e.$inject=["$parse","scCurrencyService","scQaId","countryBlockService"],angular.module("classy").directive("scSelectCountries",e)})(),(()=>{function e(o,r){return{require:"?ngModel",replace:!0,template:'<select ng-options="month.val as month.val for month in months"></select>',link:function(e,n,t){var a=o(t.ngModel)(e);e.months=[];for(var i=1;i<=12;i+=1)e.months.push({val:i<10?"0"+i:""+i});angular.isUndefined(a)&&(a=(a=parseInt(r("date")(new Date,"MM"),10))<10?"0"+a:""+a,o(t.ngModel).assign(e,a))}}}e.$inject=["$parse","$filter"],angular.module("classy").directive("scSelectExpirationMonths",e)})(),(()=>{function e(s,l){return{require:"?ngModel",replace:!0,template:'<select ng-options="year.val as year.val for year in years"></select>',link:function(e,n,t){e.years=[];var a=s(t.ngModel)(e),i=parseInt(l("date")(new Date,"yyyy"),10);if(!angular.isUndefined(a)&&a)for(var o=a;o<=a+12;o+=1)e.years.push({val:o});else{for(var r=i;r<=i+12;r+=1)e.years.push({val:r});s(t.ngModel).assign(e,i)}}}}e.$inject=["$parse","$filter"],angular.module("classy").directive("scSelectExpirationYears",e)})(),(()=>{function e(n){return{replace:!0,template:'<select ng-options="province.value as province.label for province in provinces"><option value="">Please Select</option></select>',link:function(e){e.provinces=_.cloneDeep(n)}}}e.$inject=["CA_PROVINCE_LIST"],angular.module("classy").directive("scSelectProvinces",e)})(),(()=>{function e(a,i){return{replace:!0,template:'<select ng-options="state.value as state.label for state in states" qa-id="{{ scQaId.selectField }}" aria-label="state"><option value="">Please Select</option></select>',link:function(e,n,t){e.scQaId=i,e.states=_.cloneDeep(a),t.onlyStates&&(e.states=_.filter(e.states,function(e){return!e.canadian})),setTimeout(function(){"Please Select"!==n.children()[0].innerText&&$(n.children()[0]).remove()},0)}}}e.$inject=["US_STATE_LIST","scQaId"],angular.module("classy").directive("scSelectStates",e)})(),(()=>{function e(c,n,d,e,u,m,g){return{require:"^form",scope:{scSubmit:"&",showFormErrors:"=?scSubmitErrorFunction",useStatusBanner:"=?",waitOnPending:"<?"},replace:!1,link:function(a,i,o,r){a.noScroll=!!o.noScroll,r.scSubmit=t,_.isUndefined(a.useStatusBanner)&&(a.useStatusBanner=!0);var s=void 0;function t(){if(r.$pending&&a.waitOnPending){var n=a.$watch(function(){return r.$pending},function(e){if(!e)return n(),l()});e(function(){return n(),l()},2e3)}else{if(!r.$pending||a.waitOnPending)return l();e(function(){return l()},2e3)}}a.showFormErrors=function(e){return e?!!(e=_.get(r,e))&&(e.$pending||e.$invalid)&&(r.$submitted||e.$dirty&&e.$touched):(r.$pending||r.$invalid)&&r.$submitted},a.$on("sc-form-submit",function(e,n){s=_.merge({fromScFormSubmit:!0},n.options),o.scSubmit=n.onSubmit||o.scSubmit,r.$name===n.formName&&t()}),i.on("submit",function(){var e=-1!==window.location.search.substr(1).indexOf("campaign-templating-view=true"),n=document.getElementsByClassName("status-banner")[0];e&&n&&(n.style.marginTop="24px",n.style.marginBottom="24px"),m.isPreviewing&&u.$broadcast("eg-disable-form"),a.$apply(t)});var l=function(){var e=s,t=(s={},[]);return _.forEach(r,function(e,n){void 0!==e&&(e.$invalid||e.$pending)&&(t.push(n),a.noScroll||(n=!!i.find(".ng-pending, .sc-invalid:first, .ng-invalid:first").offset()&&i.find(".ng-pending, .sc-invalid:first, .ng-invalid:first").offset().top,c.scrollTo(0,n-100)),a.useStatusBanner)&&(e.$invalid&&e.$invalid.required?g("Oops! Please complete the required fields.","error"):g("Oops! Please fix the invalid fields.","error"))}),r.$valid&&!r.$pending&&t.length<=0?(function e(n){if(!n.$$parentForm)return;n.$setPristine();n.$setUntouched();e(n.$$parentForm)}(r),n(o.scSubmit)(a.$parent,{submitOptions:e})):(r.$setSubmitted(),r.$valid=!1,r.$invalid=!0,d.resolve())}}}}e.$inject=["$window","$parse","$q","$timeout","$rootScope","EmbeddedGiving","scBanner"],angular.module("classy").directive("scSubmit",e)})(),(()=>{function e(i,o){return{replace:!0,template:'\n    <span role="button" aria-label="{{ scLabel }}">\n      <input id="toggle_{{scName}}"\n        name="toggle_{{scName}}"\n        class="form_toggle"\n        type="checkbox"\n        ng-model="scToggle"\n        ng-disabled="disabled"\n        data-ng-change="toggle()"\n        data-ng-true-value="{{ scFlipped ? false : true }}" data-ng-false-value="{{ scFlipped ? true : false }}">\n        <label for="toggle_{{scName}}"\n          class="form_toggle-label"\n          qa-id="{{ scQaId.toggleField }}"\n          tabindex="0" ng-keydown="!disabled && onKeyDown($event)"></label>\n      </span>\n    ',scope:{scToggle:"=",scName:"@",scDisabled:"=",scFlipped:"=?",scLabel:"@",disabled:"<?",callbackFn:"&?"},link:function(n,e,t){n.scQaId=i;var a=angular.element("[name=editForm]").controller("form");_.isUndefined(t.name)&&(t.scName=(new Date).getTime()),n.scToggle=!!n.scToggle,n.toggle=function(){n.callbackFn&&n.callbackFn()},n.disabled=e.hasClass("disabled")||n.scDisabled,n.onKeyDown=function(e){e&&o.isValidKeyBoardEvent(e)&&(n.scToggle=!n.scToggle,a&&a.$setDirty(),n.toggle())}}}}e.$inject=["scQaId","accessibilityService"],angular.module("classy").directive("scToggle",e)})(),(()=>{function e(t,a){return{require:"ngModel",link:function(e,n){t({method:"GET",url:"/frs-api/checkout/token-ex"}).then(function(e){n.html(e.data)}).catch(function(){a.error("Failed to load TokenEx iframe.")})}}}e.$inject=["$http","$log"],angular.module("classy").directive("scTokenEx",e)})(),angular.module("classy").directive("scValidateEmailAddress",function(){return{require:"ngModel",link:function(e,n,t,a){var i=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.$validators.emailAddress=function(e,n){e=e||n;return!e||i.test(e)}}}}),angular.module("classy").directive("scValidatePhone",function(){return{require:"?ngModel",link:function(e,n,t,a){a.$validators.phoneNumber=function(e,n){e=e||n;return!e||9<=e.replace(/[^\d]/g,"").length}}}}),(()=>{function e(r,s,l){return{require:"ngModel",scope:{promoCodeError:"=?"},link:function(t,e,n,a){var i=!1;function o(){return t.code?l.checkCodeAvailability({promoCode:t.code}).then(function(e){e=e.state;return"invalid"==e||"expired"==e?(t.promoCodeError.state=e,s.reject(e)):s.resolve()}):s.resolve()}a.$asyncValidators.promoCodeValid=function(e,n){return t.code=e||n,r.cancel(i),i=r(o,400)}}}}e.$inject=["$timeout","$q","scPromoCodeService"],angular.module("classy").directive("scValidatePromoCodeInput",e)})(),(()=>{function e(r,s,l,c){return{require:"ngModel",scope:{campaignId:"=scValidateTeamName",nameRequired:"=?",count:"=?"},link:function(t,e,n,a){var i=!1;function o(){var n=_.get(c,"active.current",!1),e=encodeURIComponent("name="+t.currentName);return t.nameRequired||t.currentName?r.get("/frs-api/campaign/"+t.campaignId+"/fundraising-teams",{params:{filter:e}}).then(function(e){return e.data.data}).then(function(e){return 1<e.length?(a.duplicate=n&&e[0].id===n.id?e[1]:e[0],t.count=e[0].name.length,s.reject()):1!==e.length||n&&e[0].id===n.id?s.resolve():(a.duplicate=e[0],t.count=e[0].name.length,s.reject())}):s.resolve()}a.$asyncValidators.teamNameAvailable=function(e){return t.currentName=e,l.cancel(i),i=l(o,400)},a.$validators.teamNameInvalidChars=function(e){return t.currentName=e,!(t.currentName&&_.isString(t.currentName)&&t.currentName.match(/,/gi)&&(l.cancel(i),1))}}}}e.$inject=["$http","$q","$timeout","scFundraisingTeamsService"],angular.module("classy").directive("scValidateTeamName",e)})(),(()=>{function e(i){return{require:"ngModel",link:function(e,n,t,a){a.$validators.videoUrl=function(e,n){e=e||n;return!e||i.validate(e)}}}}e.$inject=["scVideoSvc"],angular.module("classy").directive("scValidateVideoUrl",e)})(),(()=>{function e(e,i){return{require:"^scModalLink",replace:!0,templateUrl:"global/directives/modal/scModal",transclude:!0,scope:{modalClass:"@",modalTitle:"@",closeCallback:"&",hideOverlay:"=?",contentMarginTop:"@?"},controller:["$scope","$element",function(n,t){n.modalContentStyle=function(){var e=t.find(".modal-content"),e=n.contentMarginTop||(angular.element(i).innerHeight()-e.height()-120)/2;return{"margin-top":parseInt(e,10)}},this.closeModal=function(){n.closeModal()},n.closeModal=function(){n.hideCloseButton||(e.modal.isOpen=!1,n.closeCallback(),this.show=!1,n.unbindEscape(),e.$$phase)||n.$apply(),angular.element("body").removeClass("hide-overflow")}}],link:function(e,n,t,a){a.addModal(e),e.hideCloseButton=!!a.disableClose,e.unbindEscape=a.unbindEscape;a=n.find(".modal-content");e.contentMarginTop=e.contentMarginTop||(i.innerHeight-a.height()-120)/2,e.$on("modal-reset",function(){var e=n.find("form").eq(0).controller("form");n.find("form").removeClass("submitted"),e.$setPristine()}),e.$on("sc-close-modal",function(){e.closeModal()})}}}e.$inject=["$rootScope","$window"],angular.module("classy").directive("scModal",e)})(),(()=>{function e(e,t){return{replace:!0,templateUrl:"global/directives/modal/scModalLink",transclude:!0,scope:{scModalLink:"@",linkClass:"@",linkId:"@",linkColor:"=?",hideButton:"=?",ngDisabled:"=?ngDisabled",openCallback:"&",opened:"=?",disableClose:"=?"},controller:["$scope",function(n){this.scope=n,this.disableClose=n.disableClose,this.addModal=function(e){n.modal=e},t.modal={isOpen:!1};function e(e){27===e.keyCode&&t.$broadcast("sc-close-modal")}this.bindEscape=function(){angular.element(document).on("keyup",e)},n.bindEscape=this.bindEscape,this.unbindEscape=function(){angular.element(document).off("keyup",e)}}],link:function(n){n.open=function(){var e=n.openCallback();(e=angular.isUndefined(e)?!0:e)&&(n.openModal(),t.modal.isOpen=!0)},n.openModal=function(){if(n.ngDisabled)return!1;e(function(){n.modal.show=!0,angular.element("body").addClass("hide-overflow")}),n.disableClose||n.bindEscape()},n.$watch("opened",function(e){e?n.openModal():t.$broadcast("sc-close-modal")}),n.disableClose&&n.modal&&(n.modal.disableClose=n.disableClose)}}}e.$inject=["$timeout","$rootScope"],angular.module("classy").directive("scModalLink",e)})(),(()=>{function e(u,m,g,p){return{restrict:"AE",scope:{amount:"=",trailColor:"=?",color:"=?",animation:"=?"},transclude:!0,replace:!0,template:'\n      <div class="progress-circle">\n        <ng-transclude class="progress-circle__transcluded-content"></ng-transclude>\n      </div>\n    ',link:function(e,n,t){var a=!1,i=new g.Circle(n[0],{color:e.color||"#555",trailColor:e.trailColor||"#f4f4f4",strokeWidth:p.isIE()&&6<t.strokeWidth?6:t.strokeWidth||1,fill:t.fill||"transparent",trailWidth:p.isIE()&&6<t.trailWidth?6:t.trailWidth||1,text:t.text||null,easing:t.easing||"easeInOut",duration:t.duration||1400,svgStyle:t.svgStyle||null}),o=!!e.trailColor,r=(e.$watch("trailColor",function(e,n){e==n&&!o||(o=!0,$(".progress-circle svg").attr("aria-hidden","true"),$("svg path:first-child").attr("stroke",e))}),!!e.color),s=(e.$watch("color",function(e,n){e==n&&r||(r=!0,$("svg path:nth-child(2)").attr("stroke",e))}),e.$watch("amount",function(e,n){e!==n&&(i.animate(Math.min(100,e)/100),a=!0)}),e.animation||(i.animate(Math.min(100,e.amount)/100),a=!0),angular.element(u)),l=angular.element(n),c=s.height()/1.2;function d(){$.contains(document.documentElement,l.get(0))&&s.scrollTop()>l.offset().top-c&&!a&&(i.animate(Math.min(100,e.amount)/100),a=!0)}s.on("scroll wheel",function(){d();m(d,10)})}}}e.$inject=["$window","$timeout","ProgressBar","scUserAgent"],angular.module("classy").directive("progressCircle",e)})(),(()=>{function e(n){return{scope:{amountPresets:"=scButtonAmount",buttonSettings:"="},templateUrl:"global/directives/scButtonAmount/index",link:function(e){e.buttonStyles=function(){return{"background-color":SC.campaign.theme.primaryColor}},e.dropdownStyles=function(){return{"background-color":new n(SC.campaign.theme.primaryColor).darkerColor(.2)}},e.selectedPreset=e.amountPresets[0]}}}e.$inject=["RGB"],angular.module("classy").directive("scButtonAmount",e)})(),(()=>{function e(a,i,o){return{scope:{entity:"=",active:"=?",hasStatsHidden:"=?",hasRaisedHidden:"=?",endsAt:"=?",supporters:"=?",enableSupporters:"=?",btnColor:"=?",barColor:"=?",backgroundColor:"=",campaignType:"=",styleClass:"@?",isEndedAtHidden:"=?",isPercentHidden:"=?",enableProgressBar:"=?"},template:'<div ng-include="getTemplateUrl()"></div>',link:function(t){function e(e){var n=void 0,n=e&&null!=e.classy_mode_enabled?i.getCampaignProgress(e):i.getEntityProgress(e);t.currency=n.currency,o.isMobile()&&"USD"===t.currency?t.rawGoalAmount="$"+a("friendlyShortNumber")(n.goal):t.rawGoalAmount=a("scFormatCurrency")(n.goal,t.currency,0),t.total_raised=n.totalRaised,t.percentRaised=a("scPercent")(n.percentToGoal,0,"")}e(t.entity),t.active&&t.active.registerObserverCallback&&t.active.registerObserverCallback(e),t.getTemplateUrl=function(){var e=void 0;switch(t.campaignType){case"p2p":e="global/directives/scCampaignProgress/p2p/template";break;case"crowdfunding":e="global/directives/scCampaignProgress/crowdfunding/template";break;default:e="global/directives/scCampaignProgress/template"}return e}}}}e.$inject=["$filter","scProgressDataFactory","scUserAgent"],angular.module("classy").directive("scCampaignProgress",e)})(),angular.module("classy").directive("scCopyright",function(){return{scope:{termsLink:"@",privacyLink:"@"},templateUrl:"global/directives/scCopyright/scCopyright",link:function(e){e.termsLink||(e.termsLink="https://www.gofundme.com/c/terms"),e.privacyLink||(e.privacyLink="https://www.gofundme.com/c/privacy"),e.year=(new Date).getFullYear(),window.airgap&&window.airgap.getRegimes().has("CPRA")&&((e=document.getElementById("cpra_button")).onclick=function(){window.transcend.showConsentManager({viewState:"DoNotSellExplainer"})},e.style.display="inline")}}}),(()=>{e.$inject=["$state","$filter","$location","scCurrencyService","scCampaignsService","scThemesService","scOrganizationsService"];var w=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=n,a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")};function e(p,f,h,v,b,y,k){return{templateUrl:"global/directives/scCurrencyPicker/scCurrencyPicker",scope:{entity:"=?currencyEntity",model:"=?currencyModel",editable:"<?",disabled:"<?",selected:"<?"},link:function(n,e,t){var o="[scCurrencyPicker]",a=["RUB","BYN","CLF"];function r(e){return e?e.split("\n").slice(1,5).map(function(e){e=e.trim().match(/at (\S+) \(([^)]+)\)/);return e&&3===e.length?e[1]+" ("+e[2]+")":"Anonymous"}).join(" -> "):"No stack trace available"}function s(e,n){console.log(o+" "+e,1<arguments.length&&void 0!==n?n:{})}function i(e,n){console.warn(o+" "+e,1<arguments.length&&void 0!==n?n:{})}function l(e,n){n=1<arguments.length&&void 0!==n?n:{};console.trace("[Currency Debug] "+e+":",n),window.newrelic&&window.newrelic.log("currency_"+e.toLowerCase().replace(/\s+/g,"_"),{level:"trace",customAttributes:Object.assign({},n,{stack:r((new Error).stack),url:window.location.href})})}n.isCurrencySelectionDisabled=function(){return"reg_w_fund"===b.active.current.type||"ticketed"===b.active.current.type||b.active.multiCurrencyDisabled()||k.active.multiCurrencyDisabled()};var c=p.params.currency;n.$watch("currency",function(e,n){var t,a,i;n&&e&&(n=n.currency||"undefined",e=e.currency||"undefined",a=r(t=(new Error).stack),console.group(o+" Currency changed from "+n+" to "+e),console.log("Change Source: "+a),console.trace("Change Source Trace:"),console.groupEnd(),s("Currency changed from "+n+" to "+e,{changeSource:a,stack:t}),i="currency_change_detected",n={old_currency:n,new_currency:e,source_trace:a,stack:t,url:window.location.href,session_id:window.heap?window.heap.userId:void 0,referrer:document.referrer},window.newrelic)&&"function"==typeof window.newrelic.addPageAction&&window.newrelic.addPageAction(i,Object.assign({},n,{level:"trace"}))}),n.$watchGroup(["showDropdown","disabled"],function(e){e=w(e,2);s("Dropdown visibility: "+e[0]+" Disabled state: "+e[1])}),n.optionSwap=function(){n.isCurrencySelectionDisabled()&&window.newrelic&&window.newrelic.log("currency_donor_selection",{level:"trace",customAttributes:{currency:n.currency.currency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),console.group(o+" Option Swap Triggered"),console.log("Setting model to "+n.currency.currency),console.trace("Option Swap Trace:"),console.groupEnd(),s("Option Swap Triggered",{newModel:n.currency.currency,stack:(new Error).stack}),n.model=n.currency.currency},n.pickedCurrency=function(){n.currency=_.filter(n.currencyOptions,function(e){return e.currency==n.entityCurrency})[0]||n.currencyOptions[0],_.get(n,"currency.fullSymbol",!1)||(n.currency.fullSymbol=v.getCurrencySymbol(n.entityCurrency)),console.group(o+" Picked Currency"),console.log("Currency set to "+n.currency.currency),console.trace("Picked Currency Trace:"),console.groupEnd(),s("Picked Currency",{selectedCurrency:n.currency.currency,stack:(new Error).stack}),n.model=n.currency.currency},n.changeSpanStyle=function(){return{color:"#fff","background-color":y.active.current.styles.primaryColor,"background-image":n.showDropdown?"url(/static/global/images/dropdown-arrow.svg)":"","border-radius":0}},n.defaultStyle=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=f("adjustColorOpacity")(y.active?y.active.current.styles.primaryColor:"rgba(0,0,0,0.6)",.12),t={"border-color":n};return e&&(t["background-color"]=n),t},n.changeWrapperStyle=function(){return{"border-color":y.active.current.styles.primaryColor}},n.$watch("editable",function(e){_.isUndefined(e)||s("Editable changed: "+(n.showDropdown=e),{stack:(new Error).stack})}),_.isUndefined(n.editable)?b.active?n.showDropdown=!b.active.multiCurrencyDisabled():n.showDropdown=["crowdfunding","p2p","donation"].includes(p.params.campaignType)&&!k.active.multiCurrencyDisabled():n.showDropdown=n.editable,s("showDropdown: "+n.showDropdown,{stack:(new Error).stack}),n.currencyOptions=v.currencies,l("Currency Picker Initialization",{entityCurrency:n.entityCurrency,currentModel:n.model,defaultCurrency:v.getDefaultCurrency(),currencyOptionsCount:_.size(n,"currencyOptions")});try{var d,u=h.path(),m=(b.active&&b.active.current&&"reg_w_fund"!==b.active.current.type&&"ticketed"!==b.active.current.type&&u.includes("manage")&&b.active.getOverview().then(function(e){0<e.transactions_count&&(n.disabled=!0,n.tooltipText="Goal currency cannot be changed after a campaign has received its first donation.",s("Currency selection disabled due to transactions_count > 0",{transactions_count:e.transactions_count}))}),n.model||v.localeCurrency);n.currencyOptions=v.currencies,a.includes(m)&&(window.newrelic&&window.newrelic.log("unset_blacklisted_currency",{level:"trace",customAttributes:{blacklisted_currency:m,urlParam:c?c.toLocaleUpperCase():"N/A",url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),i("Blacklisted currency detected: "+m,{attemptedCurrency:m,fallbackCurrency:"USD"}),m="USD"),"donation"===n.entity&&(n.currencyOptions=n.currencyOptions.filter(function(e){return!a.includes(e.currency)}),s("Filtered blacklisted currencies for donation entity",{currencyOptions:n.currencyOptions.map(function(e){return e.currency})})),c&&n.isCurrencySelectionDisabled()&&(window.newrelic&&window.newrelic.log("currency_url_param",{level:"trace",customAttributes:{urlParam:c.toLocaleUpperCase(),url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),s("Currency URL param is present but selection is disabled: "+c.toLocaleUpperCase())),!n.isCurrencySelectionDisabled()&&c&&n.currencyOptions.length&&n.currencyOptions.find(function(e){return e.currency===c.toLocaleUpperCase()})?(n.entityCurrency=c.toLocaleUpperCase(),s("Setting entityCurrency based on currencyParam",{currencyParam:n.entityCurrency}),n.pickedCurrency()):(d=v.getDefaultCurrency(),n.showDropdown?"campaign"!=n.entity||n.model||_.get(b,"active",!1)?"donation"!=n.entity?n.model||_.get(n,"entity.id",!1)?n.model?n.entityCurrency=n.model:n.entityCurrency=v.getEntityCurrency(n.entity):n.entityCurrency=m||v.getEntityCurrency(n.entity):-1<p.current.name.indexOf("setup")||-1<p.current.name.indexOf("create")||-1<p.current.name.indexOf("design")||SC.preview?(n.entityCurrency=v.getEntityCurrency(b.active.current),s("Setting entityCurrency based on campaign default currency",{entityCurrency:n.entityCurrency})):(n.currencyOptions.length||(n.showDropdown=!1,n.currencyOptions=[{currency:d,meta:{code:d,symbol:v.getCurrencySymbol(d)}}],i("No currency options available, setting to default currency",{defaultCurrency:d})),n.entityCurrency=m||d,s("Setting entityCurrency to model or default currency",{entityCurrency:n.entityCurrency})):n.entityCurrency=m||v.getDefaultCurrency():(n.entityCurrency=n.model||d,s("Setting entityCurrency to model or default currency (no dropdown)",{entityCurrency:n.entityCurrency})),n.pickedCurrency(),s("Currency Picker Initialized",{entityCurrency:n.entityCurrency,model:n.model,showDropdown:n.showDropdown}))}catch(e){!function(e,n){console.error(o+" "+e,1<arguments.length&&void 0!==n?n:{})}("Currency Picker Initialization Error",{error:e.message,stack:r(e.stack)})}var g=[t.$on("$stateChangeSuccess",function(){l("Route Change Detected")}),t.$on("currencyUpdate",function(e,n){l("Currency Update Event",{data:n})})],u=(n.$on("$destroy",function(){g.forEach(function(e){return e()}),l("Directive Destroyed")}),e.find("select"));n.isCurrencySelectionDisabled()&&u.length&&u.on("change keydown focus blur",function(e){l("Select Event Triggered",{type:e.type,targetValue:e.target.value,isVisible:$(e.target).is(":visible")})})}}}angular.module("classy").directive("scCurrencyPicker",e)})(),(()=>{function e(o,n,r,s,l,c,d,u,m,g){return{scope:{donationFeedItem:"=scDonationFeedItem",theme:"=",block:"=",me:"="},templateUrl:"global/directives/scDonationFeedItems/template",link:function(t){var e=_.get(u.active||d.active,"current",null);function a(){return s.post("/frs-api/transaction/"+t.donationFeedItem.linkable_id+"/acknowledgements",{fundraising_entity_id:e.id,fundraising_entity_type:t.isTeam?"fundraising_team":"fundraising_page"}).then(function(e){return t.donationFeedItem.acknowledgement=e.data,e.data}).catch(function(){i("Sorry, your acknowledgement could not be posted. Please try again.")})}function i(e,n){l.SC.status.banner={type:n||"error",msg:e}}t.commentForm={body:""},t.feedItemOpen=!1,t.isTeam=(()=>-1<r.current.name.indexOf("frs.team"))(),t.closeFeedItem=function(){t.feedItemOpen=!1},t.getActionText=c,t.goToActivity=function(){-1<r.current.name.indexOf("fundraiser")?r.go("frs.fundraiser.index"):-1<r.current.name.indexOf("team")&&r.go("frs.team.index")},t.markThanked=function(){a().then(function(){t.feedItemOpen=!1;var e={first_name:t.donationFeedItem.member_name};l.$broadcast("sc-donor-thanked",{options:t.donationFeedItem,notification:{msg:"Donor marked as thanked!",link_text:"Undo",fundraisers:[e]}})})},t.openFeedItem=function(){t.feedItemOpen=!0,t.focusCommentInput=!0,t.commentForm.body=""},t.submitComment=function(){var e=s.post("/frs-api/feed-items/"+t.donationFeedItem.id+"/comments",{body:t.commentForm.body}).then(function(e){return t.donationFeedItem.fundraiserComment=e.data,e.data}).catch(function(){i("Sorry, your comment could not be posted. Please try again.")}),n=a();o.all([e,n]).then(function(){t.feedItemOpen=!1;var e={first_name:t.donationFeedItem.member_name};l.$broadcast("sc-donor-thanked",{options:t.donationFeedItem,notification:{msg:"Donor thanked!",link:t.goToPage,fundraisers:[e]}})})},t.me=m.active.current,t.getFeedItemAmount=g,t.getMemberFirstInitial=m.getMemberFirstInitial,t.goToPage=function(){u.active?r.go("frs.fundraiser.index"):d.active?r.go("frs.team.index"):n.error("Error loading fundraiser info.")}}}}e.$inject=["$q","$log","$state","$http","$rootScope","scFeedItemText","scFundraisingTeamsService","scFundraisingPagesService","scMembersService","scFeedItemAmount"],angular.module("classy").directive("scDonationFeedItem",e)})(),(()=>{function e(i,n,o){return function(a,e){return n(e,{scope:!0,precompile:{context:a,contextName:"options",templateUrl:"global/directives/scField/"+a+"/template"},link:{post:function(e,t){var n;i(function(){var n=t.closest("form").controller("form");t.find("[ng-model], [data-ng-model]").each(function(){var e=angular.element(this).controller("ngModel");_.isUndefined(n)||n.$addControl(e)})}),SC.campaign&&SC.campaign.campaignTemplateData&&"scImgListField"===a&&(n=_.get(SC.campaign.campaignTemplateData,"components.block.component_items",[])).length&&(n=n.find(function(e){return"team"===e.value.type}))&&(e.lockBgImgField=n.item_attributes.background.locked),e._=_,e.scQaId=o}}})}}e.$inject=["$timeout","decorateDirective","scQaId"],angular.module("classy").factory("scField",e)})(),(()=>{function e(t,e,r){var s={};return e.ezModal=function(e){var n=s[e];n?r.open(e,n):t.warn('No modal with id "'+e+'" found.')},{compile:function(e){var o=[];return e.find("section").each(function(){o.push(angular.element(this))}),o.length||o.push(e),e.remove(),function(n,e,t){var a=t.ezModal,i=o.map(function(e){return{id:e.attr("id"),context:n,template:e.html(),maxWidth:+e.attr("max-width")||+t.maxWidth||480}}),i=(r.register(a,n,i),{closable:"false"!==t.closable,animate:"false"!==t.animate});s[a]=i}}}}e.$inject=["$log","$rootScope","scFlowModalService"],angular.module("classy").directive("ezModal",e)})(),(()=>{function e(t,a,i){return{scope:{},replace:!0,templateUrl:"global/directives/scFlowModal/template",link:function(e,n){t.$overlay=n.find(".sc-flow-modal_overlay"),t.$viewport=n.find(".sc-flow-modal_viewport"),t.$views=n.find(".sc-flow-modal_views"),t.$close=n.find(".sc-flow-modal_close"),t.$staging=n.find(".sc-flow-modal_staging"),a.isIOS11()&&(n.find(".sc-flow-modal_overlay").css({position:"absolute","min-height":"100vh"}),i.onOpen(function(){return window.scrollTo(0,0)}))}}}e.$inject=["scFlowModalElements","scUserAgent","scFlowModalService"],angular.module("classy").directive("scFlowModal",e)})(),(()=>{function e(e){this.padding={top:25,right:50,bottom:25,left:50},this.border={top:0,right:0,bottom:0,left:0},this.window={width:0,height:0},this.available={width:0,height:0},this.update=function(){this.window.width=angular.element(e).width(),this.window.height=angular.element(e).height(),this.available.width=this.window.width-this.padding.left-this.padding.right-this.border.left-this.border.right,this.available.width<.8*this.window.width&&(this.available.width=this.window.width-30),this.available.height=this.window.height-this.padding.top-this.padding.bottom-this.border.top-this.border.bottom,this.available.height<.8*this.window.height&&(this.available.height=this.window.height-30)},this.update()}e.$inject=["$window"],angular.module("classy").service("scFlowModalDimensions",e)})(),angular.module("classy").value("scFlowModalElements",{$viewport:null,$views:null,$close:null,$staging:null,$overlay:null}),(()=>{function e(i,o){return function(e,n,t){var a=this;this.name=t,this.views=[],this.layout=function(){return i(function(){_.forEach(a.views,function(e){e.stage(),e.getDimensions(),e.unstage()})})},this.merge=function(e){this.views=_.union(this.views,e.views),this.name=e.name},_.forEach(e,function(e){a.views.push(new o(e,n))})}}e.$inject=["$timeout","scFlowModalView"],angular.module("classy").factory("scFlowModalGroup",e)})(),(()=>{e.$inject=["$q","$rootScope","$state","$timeout","$window","scFlowModalGroup","scFlowModalView","scFlowModalDimensions","scFlowModalElements","scRequestAnimationFrame","accessibilityService"];var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function e(c,s,d,o,e,u,r,n,t,l,m){var g=this,a=n,p=t;this.deferred=null,this.groupDefs={},this.activeGroup=null,this.activeView=null,this.defaultContext=s,this.debounceReLayout=_.noop,this.viewportPhase="static",this.openHandlers=[],this.ui={visible:!1,closable:!0,closeButtonStyles:{},closeOnClickOut:!0,onClose:null,blur:!1,shadow:!0,matte:"#ffffff",overlay:"rgba(0,0,0,0.4)",transitionWhitelist:[],returnState:"",returnParams:{},spinner:!1},this.delayedPull=!1,this.register=function(e,n,t){return this.groupDefs[e]={views:t,context:n},n.$on("$destroy",function(){delete g.groupDefs[e]}),g},this.open=function(e){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.animate||!1,a=n.startingView||0,o=(g.elementToFocusOnClose=n.elementToFocusOnClose,g.ui.visible||(g.ui.returnState=d.current.name,g.ui.returnParams=d.params),_.forEach(["blur","closable","closeButtonStyles","closeOnClickOut","onClose","matte","overlay","shadow","transitionWhitelist","returnState","returnParams","spinner"],function(e){_.isUndefined(n[e])||(g.ui[e]=n[e])}),g.ui.spinner&&p.$views.addClass("view-loading"),void 0),r=void 0,s=void 0;switch(void 0===e?"undefined":f(e)){case"string":r=this.groupDefs[o=e].views,s=this.groupDefs[e].context;break;case"array":r=e,s=this.defaultContext;break;case"object":r=[e],s=this.defaultContext}angular.element("body").css("overflow","hidden");var l=new u(r,s,o);return l.layout().then(function(){g.ui.visible?(g.activeGroup.merge(l),g.to(a)):(g.activeGroup=l,g.getView(a).then(function(e){(g.activeView=e).eventBeacon&&e.eventBeacon(),g.load(g.activeView),g.update(),g.ui.visible=!0,angular.element(document).ready(function(){g.enter(t)})}))}),this.deferred=c.defer(),this.deferred.caught=!1,this.deferred.promise.catch=function(){for(var e,n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];return i.deferred.caught=!0,(e=i.deferred.promise.catch).bind.apply(e,[i.deferred.promise].concat(t))},this.openHandlers.forEach(function(e){return e()}),this.deferred.promise},this.close=function(e,n,t){t&&"click"!==t.type&&!m.isValidKeyBoardEvent(t)||(t&&t.preventDefault(),g.deferred&&(t=void 0,angular.element("body").css("overflow",""),angular.element("body").removeClass("hide-overflow"),"return"===g.ui.onClose?(g.ui.transitionWhitelist.push(g.ui.returnState),d.go(g.ui.returnState,g.ui.returnParams)):_.isFunction(g.ui.onClose)&&(t=g.ui.onClose()),(t=t&&_.isFunction(t.then)?t:c.resolve()).then(function(){g.ui.blur=!1,g.ui.closable=!0,g.ui.closeOnClickOut=!0,g.ui.closeButtonStyles={},g.ui.onClose=null,g.ui.matte="#ffffff",g.ui.overlay="rgba(0,0,0,0.4)",g.ui.shadow=!0,g.ui.transitionWhitelist=[],g.ui.returnState="",g.ui.returnParams={},g.ui.spinner=!1,g.ui.visible=!1,g.unload(g.activeView),g.activeView=null,g.activeGroup=null,_.isUndefined(e)||e?g.deferred.resolve(n):g.deferred.caught&&g.deferred.reject(n),g.elementToFocusOnClose&&$(g.elementToFocusOnClose).focus()},function(){})))},this.clearFocus=function(){g.elementToFocusOnClose&&(g.elementToFocusOnClose=null)},this.userClose=function(){g.ui.closable&&g.close(!1,{closeByUser:!0})},this.adjust=function(e,n){g.ui.visible&&(g.activeView.getDimensions(),g.update(e,n))},this.to=function(e,a,i,o,n){var r;n&&!m.isValidKeyBoardEvent(n)||(r=this.activeView,this.getView(e).then(function(e){(g.activeView=e).eventBeacon&&e.eventBeacon();var n=i||e.defaults.duration,t=(TweenMax.killTweensOf(p.$viewport[0]),TweenMax.killTweensOf(e.$frame[0]),TweenMax.killTweensOf(r.$frame[0]),g.load(e),s.$broadcast("flowModal.transitionStart"),g.viewportPhase="change",TweenMax.to(p.$viewport[0],n/1e3,{transform:"translateY("+e.dim.frame.top+"px) translateX("+e.dim.frame.left+"px)",width:e.dim.frame.width,height:e.dim.frame.height,ease:Power4.easeInOut,onComplete:function(){"change"===g.viewportPhase&&(g.viewportPhase="static")}}),g.getTweenConfig(e,r,a||null,o||null));TweenMax.from(e.$frame[0],n/1e3,t.enterFrom),TweenMax.to(r.$frame[0],n/1e3,t.exitTo)}))},this.whitelist=function(e){g.ui.transitionWhitelist.push(e)},this.getView=function(e){var n,t=c.defer();if(_.isNumber(e))t.resolve(g.activeGroup.views[e]);else if(_.isString(e))for(var a=0;a<g.activeGroup.views.length;a+=1){var i=g.activeGroup.views[a];i.id===e&&t.resolve(i)}else e instanceof r?t.resolve(e):_.isPlainObject(e)&&(n=new r(e,this.defaultContext),o(function(){n.stage(),n.getDimensions(),n.unstage(),t.resolve(n)}));return t.promise},this.load=function(e){e.$frame.appendTo(p.$views),TweenMax.set(e.$frame[0],{clearProps:"transform, opacity, rotation"}),e.loaded=!0,s.$broadcast("flowModal.load")},this.unload=function(e){e&&(e.$frame.detach(),e.loaded=!1)},this.update=function(e,n){e=e||window.Linear.easeOut,n=n?n/1e3:0;TweenMax.to(p.$viewport[0],n,{transform:"translateY("+g.activeView.dim.frame.top+"px) translateX("+g.activeView.dim.frame.left+"px)",width:g.activeView.dim.frame.width,height:g.activeView.dim.frame.height,ease:e}),TweenMax.to(g.activeView,n,{width:g.activeView.dim.frame.width,height:g.activeView.dim.frame.height,ease:e})},this.enter=function(e){g.viewportPhase="enter",TweenMax.from(p.$viewport[0],e?.6:0,{transform:"translateY("+a.window.height+"px) translateX("+g.activeView.dim.frame.left+"px)",ease:Elastic.easeOut.config(1,1),onComplete:function(){"enter"===g.viewportPhase&&(g.viewportPhase="static",g.delayedPull&&(g.delayedPull=!1,g.update()),m.initiateModalFocus(g,p.$overlay))}})},this.exit=function(){},this.getTweenConfig=function(e,n,t,a){var a=a||e.ease||e.defaults.ease,i=void 0,o=void 0;switch(t||e.transition||e.defaults.transition){case"slideLeft":i={transform:"translateX("+n.dim.frame.width+"px)"},o={transform:"translateX(-"+n.dim.frame.width+"px)"};break;case"slideRight":i={transform:"translateX(-"+e.dim.frame.width+"px)"},o={transform:"translateX("+e.dim.frame.width+"px)"};break;case"slideDown":i={transform:"translateY(-"+n.dim.frame.height+"px)"},o={transform:"translateY("+e.dim.frame.height+"px)"};break;case"slideUp":i={transform:"translateY("+n.dim.frame.height+"px)"},o={transform:"translateY(-"+e.dim.frame.height+"px)"};break;case"fade":i={opacity:0},o={opacity:0};break;case"flipX":i={rotationX:"180_ccw"},o={rotationX:"180_cw"};break;case"flipY":i={rotationY:"180_cw"},o={rotationY:"180_cw"}}return i.ease=a,o.ease=a,o.onComplete=function(){g.unload(n),s.$broadcast("flowModal.transitionEnd")},{enterFrom:i,exitTo:o}},angular.element(e).on("resize orientationchange",function(){a.update()}),angular.element("body").on("mousedown touchstart",function(e){"touchstart"===e.type&&angular.element("body").off("mousedown"),angular.element(e.target).closest(p.$viewport).length||("touchstart"===e.type&&angular.element("body").off("mousedown"),angular.element(e.target).closest("body").length&&g.ui.visible&&g.ui.closeOnClickOut&&s.$apply(function(){g.userClose(!1)}))}),angular.element("body").on("keydown",function(e){27===e.keyCode&&g.ui.visible&&o(function(){g.userClose(!1)})}),s.$on("$stateChangeStart",function(e,n){g.ui.visible&&-1===g.ui.transitionWhitelist.indexOf(n.name)&&g.close(!1)}),s.$on("flowModal.transitionEnd",function(){m.initiateModalFocus(g,p.$overlay)}),s.$on("flowModal.load",function(){l(function e(){var n,t,a,i,o;g.ui.visible&&(t=(n=g.activeView).dim.frame.height,a=n.dim.frame.width,i=n.dim.frame.left,o=n.dim.frame.top,n.getDimensions(),t===n.dim.frame.height&&a===n.dim.frame.width||(TweenMax.isTweening(p.$viewport[0])&&"change"===g.viewportPhase?TweenMax.getTweensOf(p.$viewport[0])[0].updateTo({css:{transform:"translateY("+n.dim.frame.top+"px) translateX("+n.dim.frame.left+"px)",width:n.dim.frame.width,height:n.dim.frame.height}}):"static"===g.viewportPhase?g.update():"enter"===g.viewportPhase&&(g.delayedPull=!0)),document.getElementById("endDate")&&(document.getElementById("endDate").readOnly=!0),"static"!==g.viewportPhase||i===n.dim.frame.left&&o===n.dim.frame.top||g.update()),l(e)})}),s.$on("flowModal.viewReady",function(){p.$views.removeClass("view-loading")}),this.onOpen=function(e){if("function"!=typeof e)throw new Error("opOpen handler must be a function");this.openHandlers.push(e)},s.flowModal=g}angular.module("classy").service("scFlowModalService",e)})(),(()=>{function e(a,i,o,r,s){return function(e,n){var t=this,n=(this.template="",this.templateUrl="",this.context=n,this.maxWidth=480,this.id=null,this.$frame=null,this.$content=null,this.defaults={transition:"slideLeft",duration:400,ease:Power4.easeInOut},this.dim={content:{width:0,height:0},frame:{width:0,height:0,top:0,left:0}},this.staged=!1,this.loaded=!1,_.isString(e)?this.templateUrl=e:_.isPlainObject(e)&&_.merge(this,e),this.templateUrl?i.get(this.templateUrl):this.template),e=o(n)(this.context).wrapAll("<div></div>").parent();this.$frame=angular.element("<section>").addClass("sc-flow-modal_frame"),this.$content=angular.element("<div>").addClass("sc-flow-modal_content").appendTo(this.$frame).append(e),this.stage=function(){this.$content.css("max-width",this.maxWidth),this.$content.appendTo(s.$staging),this.staged=!0},this.unstage=function(){t.$content.appendTo(t.$frame),t.staged=!1},this.getDimensions=function(){t.dim.content.width=Math.min(r.available.width,t.maxWidth),t.$content.width(t.dim.content.width),t.$content.children().first().outerHeight()&&(t.dim.content.height=t.$content.children().first().outerHeight()),t.$content.css("min-height",t.dim.content.height),t.dim.frame.width=t.dim.content.width,t.dim.frame.height=Math.min(t.dim.content.height,r.available.height),25<t.dim.frame.width&&25<t.dim.frame.height&&(a.$broadcast("flowModal.viewReady"),s.$views.addClass("view-ready")),t.dim.frame.left=Math.round((r.window.width-t.dim.frame.width)/2),t.dim.frame.top=Math.round((r.window.height-t.dim.frame.height)/2),t.$frame.width(t.dim.frame.width),t.dim.content.height<=t.dim.frame.height?t.$frame.addClass("vcenter"):t.$frame.removeClass("vcenter")}}}e.$inject=["$rootScope","$templateCache","$compile","scFlowModalDimensions","scFlowModalElements"],angular.module("classy").factory("scFlowModalView",e)})(),angular.module("classy").directive("scGoalSelect",function(){return{scope:{goals:"=scGoalSelect",goalAmount:"=ngModel"},templateUrl:"global/directives/scGoalSelect/tpl/scGoalSelect",link:function(n){n.selected=function(e){return{selected:!e||e.amount==n.goalAmount}},n.selectGoal=function(e){n.goalAmount=e.amount}}}}),angular.module("classy").directive("scLockField",function(){return{scope:{locked:"=?scLockField",tooltipText:"<?",opacity:"<?",cursor:"<?",handleUnlock:"<?"},link:function(t,a,i){t.$watch("locked",function(){var e,n;t.locked&&(e=i.sclockedClass,n=t.opacity||"0.5",a.css({opacity:n,cursor:t.cursor||"not-allowed"}),a.prop("disabled",!0),a.attr("aria-disabled",!0),a.qtip({content:{text:function(){return t.tooltipText||"This field is locked at the template level"}},style:{classes:"qtip-plain qtip-dark admin-campaign-tooltip lock-tooltip-msg "+e},position:{my:"bottom center",at:"top center",target:a},show:{delay:90,event:"mouseenter"},hide:{event:"mouseleave",delay:90,fixed:!0}})),t.handleUnlock&&!t.locked&&(n=t.opacity||"1.0",a.css({opacity:n,cursor:t.cursor||"allowed"}),a.prop("disabled",!1),a.attr("aria-disabled",!1),a.qtip("destroy",!0))})}}}),(()=>{function e(n){return{scope:{scMap:"=",model:"=ngModel",mapOptions:"=?",scMapCampaign:"="},replace:!0,templateUrl:"global/directives/scMap/scMap",link:function(o,e){var r=e.find(".sc-map_map")[0],s=e.find(".sc-map_autocomplete")[0],l={streetNumber:"street_number",street:"route",city:"locality",state:"administrative_area_level_1",country:"country",postalCode:"postal_code",postalCodeSuffix:"postal_code_suffix"},c=angular.element(s).val();function t(e){var n,t=new google.maps.Map(r,o.mapOptions),a=new google.maps.Marker({map:t,anchorPoint:new google.maps.Point(0,-29)}),i=new google.maps.places.Autocomplete(s,{types:[]});e?(t.setCenter(e.location),t.fitBounds(e.viewport),a.setPosition(e.location),a.setVisible(!0)):(t.fitBounds(d()),n=google.maps.event.addListener(t,"idle",function(){t.setZoom(1),google.maps.event.removeListener(n)})),i.bindTo("bounds",t),i.addListener("place_changed",function(){a.setVisible(!1);var n=i.getPlace();n.geometry&&(n.geometry.viewport?t.fitBounds(n.geometry.viewport):(t.setCenter(n.geometry.location),t.setZoom(15)),a.setPosition(n.geometry.location),a.setVisible(!0),o.$apply(function(){c=angular.element(s).val();e=n.address_components,a={},angular.forEach(e,function(t){angular.forEach(l,function(e,n){-1<_.indexOf(t.types,e)&&(a[n]="country"==n||"state"==n?t.short_name:t.long_name)})});var a,e=a;o.scMap={parsed:e,entered:angular.element(s).val()}}))}),angular.element(s).on("keydown",function(e){13==e.keyCode&&e.preventDefault()}),angular.element(s).on("keyup",function(){c!==angular.element(s).val()&&a.setVisible(!1),(c=angular.element(s).val())!==o.scMap.entered&&o.$apply(function(){o.scMap={parsed:null,entered:angular.element(s).val()},t.fitBounds(d()),t.setZoom(1)})})}function d(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(85,-180),new google.maps.LatLng(-85,180)),n=e.getNorthEast().lat()-5,t=e.getNorthEast().lng()-5,a=e.getSouthWest().lat()+5,e=e.getSouthWest().lng()+5,n=new google.maps.LatLng(n,t),t=new google.maps.LatLng(a,e);return new google.maps.LatLngBounds(t,n)}o.scMap=_.merge({},o.scMap),n.then(function(){var n,e;o.model?(n=new google.maps.Geocoder,e=o.scMapCampaign,n.geocode({address:e.venue},function(e){e&&e.length?t(e[0].geometry):n.geocode({address:o.model},function(e){e&&e.length?t(e[0].geometry):t()})})):t()})}}}e.$inject=["loadGoogleMapsAPI"],angular.module("classy").directive("scMap",e)})(),(()=>{function e(a,n,t){return{replace:!0,templateUrl:"global/directives/scMobileMenu/template",controller:["$scope",function(e){e.build={userImage:function(){return t.active.current.id?t.active.current.thumbnail_large:"/static/global/images/user-icon.png"},userGreeting:function(){return t.active.current.id?t.active.current.first_name+" "+t.active.current.last_name:"Hey there!"}},e.api=n.init()}],link:function(n,e){a.enabled(e,!1);var t=angular.element('\n        <div class="mobile-menu_overlay"></div>\n      ');t.on("touchstart touchmove",function(e){e.target===t[0]&&n.$apply(n.api.close)}),e.prepend(t)}}}e.$inject=["$animate","mobileMenuAPI","scMembersService"],angular.module("classy").directive("scMobileMenu",e)})(),angular.module("classy").directive("scModalGroup",function(){return{restrict:"A",scope:!0,controller:["$scope","$rootScope",function(a,i){var o=void 0;a.modalData={},this.setFilterClass=function(e){a.filterClass=e},this.addModal=function(e){o=e},this.openModal=function(e,n){a.active=jQuery(n).parent("."+a.filterClass);var n=a.active.nextAll("."+a.filterClass),t=a.active.prevAll("."+a.filterClass);n[0]?a.nextElem=angular.element(n[0]).children("[sc-modal-group-opener], [data-sc-modal-group-opener]"):a.nextElem=!1,t[0]?a.prevElem=angular.element(t[0]).children("[sc-modal-group-opener], [data-sc-modal-group-opener]"):a.prevElem=!1,a.modalData=e,i.$$phase||a.$apply(),o.open()}}],link:function(e,n,t,a){a.setFilterClass(t.filterClass),e.closeModal=function(){a.closeModal()}}}}),angular.module("classy").directive("scModalGroupContent",function(){return{restrict:"A",link:function(e,n){n.hide()}}}),(()=>{function e(i){return{restrict:"A",require:["^?scModalGroup","scModalGroupDisplay"],controller:[function(){}],link:function(e,t,n,a){e.open=function(){var e=t.find("[sc-modal-link] > a, [sc-classy-modal-link] > a, [data-sc-modal-link] > a, [data-sc-classy-modal-link] > a"),n=t.find(".sc-modal, .classy-modal");i(function(){angular.element(n).removeClass("ng-cloak"),angular.element(e).trigger("click")})},e.close=function(){$rootScope.$broadcast("sc-close-modal")},e.next=function(){e.nextElem&&e.nextElem.trigger("click")},e.prev=function(){e.prevElem&&e.prevElem.trigger("click")},a[0].addModal(e)}}}e.$inject=["$timeout"],angular.module("classy").directive("scModalGroupDisplay",e)})(),(()=>{function e(r){return{restrict:"A",require:["^?scModalGroup","scModalGroupOpener"],scope:!0,controller:["$scope",function(e){e.data={}}],link:function(a,i,e,o){e=e.trigger||"click";i.on(e,function(){var e=i.children("[data-sc-modal-group-content], [sc-modal-group-content]").children();e.length||(e=i.parent().children("[data-sc-modal-group-content], [sc-modal-group-content]").children()),angular.forEach(e,function(e){var e=angular.element(e),n=angular.element(e[0]).attr("data-obj"),t=e.html(),e=e.attr("class");n&&(n=(n=JSON.parse(JSON.stringify(n))).replace(/^[\s\r\n]*/g,"").replace(/[\s\r\n]*$/g,""),n=JSON.parse(n)),a.data[e]={json:n,html:r.trustAsHtml(t)},o[0].openModal(a.data,i)})})}}}e.$inject=["$sce"],angular.module("classy").directive("scModalGroupOpener",e)})(),(()=>{function e(n,t,a,i,o){return{scope:{organization:"=?"},replace:!0,templateUrl:"global/directives/scNpoHeader/template",transclude:!0,link:function(e){e.members=t,e.hasCampaign=!_.isUndefined(a.active),e.hasOrg=!_.isUndefined(i.active),e.scAuth=n,"sso_reset_password_link"===o.search().source&&n.resetPasswordByLink()}}}e.$inject=["scAuth","scMembersService","scCampaignsService","scOrganizationsService","$location"],angular.module("classy").directive("scNpoHeader",e)})(),(()=>{function e(a,i,e,n){return{scope:{resource:"=scPaging",model:"=ngModel",perPage:"=?",sort:"=?",customParams:"=?",fields:"=?",filter:"=?",withRelation:"=?with",loading:"=?",formatFn:"&?format",query:"=?"},templateUrl:function(e,n){return n.templateUrl||"global/directives/scPaging/template"},link:function(o){function t(e){var n=(()=>{var e=!o.sort||_.isEmpty(o.sort)?null:_.map(o.sort,function(e,n){return n+":"+e}),n=o.filter,t=(o.query&&o.query.searchString&&_.each(o.query.fields,function(e){n[e]={operand:"*=",value:o.query.searchString}}),null),a=(!o.filter&&_.isEmpty(o.filter)||(t=[],_.each(o.filter,function(e,n){0<e.length?_.each(e,function(e){t.push(n+e.operand+e.value)}):t.push(n+e.operand+e.value)})),e=e&&e.length?e.join(","):null,t=t&&t.length?t.join(","):null,o.fields&&o.fields.length?o.fields.join(","):null),i=o.withRelation&&o.withRelation.length?o.withRelation.join(","):null;return(e={sort:e,fields:a,filter:t,with:i}).per_page=o.perPage,e=o.customParams?_.merge({},e,o.customParams):e})(),n=(n.page=e,o.page=e,o.loading=!0,o.query&&(n.q=o.query),i({method:"GET",url:"/frs-api"+o.resource,params:n}).then(function(e){var e=e.data,n=e.data,t=e.total,n=(o.formatFn?o.model=o.formatFn({items:n}):o.model=n,o.size=t,Math.ceil(o.size/o.perPage)),t=(o.totalPages=Math.max(n,1),1),t=(o.page>=n-1&&(t=3-(n-o.page)),Math.max(o.page-t,1)),a=n<(a=t+4)?n+1:a;o.pageRange=_.range(t,a),o.loading=!1,o.ui.fetchComplete(e)}).catch(function(e){a.error(e),o.loading=!1,o.failure=e}));o.ui.setCurrentPage(e),o.ui.fetchStarted(n)}o.page=1,o.ui=o.ui||new n({currentPage:o.page,perPage:o.perPage,onPageSelect:t}),Modernizr.prefixed("matchMedia",window)?o.isMobile=Modernizr.mq("(max-width: 568px)"):o.isMobile=angular.element(e).width()<=568,o.$watch("query",_.debounce(function(e,n){e!=n&&t(1)},200)),o.$watch("resource",function(e,n){e!=n&&t(1)}),o.$watch("[customParams, sort, fields, filter, withRelation]",function(){t(1)},!0),o.$on("sc-paging-resource-deleted",function(){var e=Math.max(Math.ceil((o.size-1)/o.perPage),1);o.page>e?t(Math.max(o.page-1,1)):t(o.page)})}}}e.$inject=["$log","$http","$window","scPagingButtonsAPI"],angular.module("classy").directive("scPaging",e)})(),(()=>{function e(e){return{scope:{api:"=scPagingButtons"},templateUrl:function(e,n){return n.templateUrl||"global/directives/scPagingButtons/template"},controller:["$scope",function(a){a.api=a.api||new e,a.state={loading:!1},a.get={summary:function(){return"Page "+a.api.currentPage+" of "+a.api.totalPages},disabled:function(e){return!!a.state.loading||e<1||e>a.api.totalPages||e===a.api.currentPage},fivePageRange:function(){var e,n;return a.api.pageRange.length<=5?a.api.pageRange:a.api.currentPage<3?a.api.pageRange.slice(0,5):a.api.totalPages-a.api.currentPage<2?a.api.pageRange.slice(-5):(e=a.api.currentPage-3,n=a.api.currentPage+2,a.api.pageRange.slice(e,n))},ellipsis:function(){return!(a.api.pageRange.length<=6||a.api.totalPages-a.api.currentPage<=3)},tail:function(){return!(a.api.pageRange.length<=5||a.api.totalPages-a.api.currentPage<=2)},itemsSummary:function(){var e,n,t=a.api.totalResults;return 0===t?"0 of 0":(n=a.api.perPage,(e=(a.api.currentPage-1)*n+1)+" - "+(n=t<(n=e+(e=n<(e=t<n?t%n:n)?t%e:e)-1)?t%n:n)+" of "+t)}},a.prev=function(){var e=a.api.currentPage-1;a.api.pageSelected(e)},a.next=function(){var e=a.api.currentPage+1;a.api.pageSelected(e)},a.select=function(e){a.api.pageSelected(e)},a.first=function(){a.api.pageSelected(1)},a.last=function(){a.api.pageSelected(a.api.totalPages)},a.api.onFetchStart(function(){a.state.loading=!0}),a.api.onFetchComplete(function(){a.state.loading=!1})}]}}e.$inject=["scPagingButtonsAPI"],angular.module("classy").directive("scPagingButtons",e)})(),(()=>{function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=o,t=[{key:"setPerPage",value:function(e){this.perPage=e}},{key:"setCurrentPage",value:function(e){this.currentPage=e}},{key:"setLastPage",value:function(e){var n=this;this.totalPages=e,this.pageRange.length=0,_.times(e,function(e){return n.pageRange.push(e+1)})}},{key:"setTotal",value:function(e){this.totalResults=e}},{key:"onPageSelect",value:function(e){this.pageSelectListener=e}},{key:"pageSelected",value:function(e){this.currentPage=e,this.pageSelectListener(e)}},{key:"onFetchStart",value:function(e){this.fetchStartListener=e}},{key:"fetchStarted",value:function(e){this.fetchStartListener(e)}},{key:"onFetchComplete",value:function(e){this.fetchCompleteListener=e}},{key:"fetchComplete",value:function(e){e&&(this.setTotal(e.total),this.setCurrentPage(e.current_page),this.setLastPage(e.last_page)),this.fetchCompleteListener(e)}}],a=void 0,i=(t&&e(n.prototype,t),a&&e(n,a),o);function o(e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");void 0!==e&&(this.perPage=e.perPage||0,this.currentPage=e.currentPage||1,this.totalPages=e.lastPage||1,this.totalResults=e.total||0,this.pageSelectListener=e.onPageSelect||_.noop,this.fetchStartListener=e.onFetchStart||_.noop,this.fetchCompleteListener=e.onFetchComplete||_.noop,this.pageRange=[])}angular.module("classy").factory("scPagingButtonsAPI",function(){return i})})(),angular.module("classy").directive("scPaymentTypes",function(){return{replace:!0,templateUrl:"global/directives/scPaymentTypes/template",transclude:!1,scope:{scPaymentTypes:"=",paypal:"&",paypalSubmit:"&"},link:function(e){e.cardClass=function(e){return{visa:"Visa"===e,mastercard:"MasterCard"===e,amex:"American Express"===e,discover:"Discover"===e}}}}}),(()=>{function e(t,a,i,o,r,s,l,c,d){return{restrict:"A",scope:{campaign:"="},templateUrl:"global/directives/scPublish/scPublish",link:function(e){var n=e.campaign.current.type;e.publishEnabled=r.publishable(n),e.tooltipStyle={mimic:"top center",width:12},e.tooltipMessage=a(n),e.permissionDeniedMessage=d.PERMISSIONS.permissionDenied,e.publishModal=function(){i.open({templateUrl:"global/directives/scPublish/modal-confirm-publish",context:e,maxWidth:520},{animate:!0})},e.publishCampaign=function(){e.campaign.current.timezone_identifier?!_.isUndefined(e.pendingPublish)&&0===e.pendingPublish.$$state.status||(e.pendingPublish=e.campaign.publish().then(function(){l&&l.active&&l.active.getCampaignChannel&&l.active.getCampaignChannel(c.FRAPI).then(function(e){var n=_.get(e,"[0].status",!1),t=_.get(e,"[0].id",null),e=_.get(e,"[0].metadata.external_fundraiser_id");n&&!e&&l.active.putCampaignChannel(n,t).then(function(e){console.log("putCampaignChannelResponse: ",e)},function(e){console.log("putCampaignChannelResponse error: ",e)})}),e.publishNotify=!0,i.close(),o.rescrape("campaign",!0),t(function(){e.publishNotify=!1},3e3)},function(){i.close()})):s("Please provide a timezone value.","error")},e.unpublishModal=function(){i.open({templateUrl:"global/directives/scPublish/modal-confirm-unpublish",context:e,maxWidth:520},{animate:!0})},e.unpublishCampaign=function(){!_.isUndefined(e.pendingUnpublish)&&0===e.pendingUnpublish.$$state.status||(e.pendingUnpublish=e.campaign.unpublish().then(function(){e.unpublishNotify=!0,i.close(),t(function(){e.unpublishNotify=!1},3e3)},function(){i.close()}))}}}}e.$inject=["$timeout","scPublishMessageService","scFlowModalService","scAppealSetService","scOrganizationsService","scBanner","scCampaignsService","CHANNEL","COPY"],angular.module("classy").directive("scPublish",e)})(),angular.module("classy").directive("scSimpleProgress",function(){return{replace:!0,scope:{goal:"=",raised:"=",goalColor:"=?",raisedColor:"=?",bc:"=?",height:"=?"},templateUrl:"global/directives/scSimpleProgress/template",link:function(t){t.bc=t.bc||"sc",t.height=t.height||"",t.goalColor=t.goalColor||"",t.raisedColor=t.raisedColor||"",t.percentage=0,t.$watch("[goal, raised]",function(e){var n=e[0];t.percentage=n?Math.min(100,parseInt(e[1]||0,10)):0})}}}),(()=>{n.$inject=["$compile"];var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(a){return e(n,[{key:"init",value:function(e){this.slides=e,this.initialized=!0,this.emit("init",e)}},{key:"on",value:function(e,n){var t=this.listeners[e]||[];t.push(n),this.listeners[e]=t,"init"===e&&this.initialized&&n.call(this,this.slides)}},{key:"emit",value:function(e){for(var n=this,t=arguments.length,a=Array(1<t?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];e=this.listeners[e]||[];_.forEach(e,function(e){return e.apply(n,a)})}},{key:"compile",value:function(e){var n=void 0;switch(e){case"next":n=this.nextIndex;break;case"prev":n=this.prevIndex;break;default:n=e}var t=this.slides[n];return a(t.tpl)(t.ctx).wrapAll('<div class="slideshow_slide"></div>').parent()}},{key:"update",value:function(i){var a=this.slides,o=(this.slides=i,this.emit("slides_updated",i,a),[]),r=(_.forEach(i,function(e){var n=e.key,t=!1;_.forEach(a,function(e){e.key===n&&(t=!0)}),t||o.push(e)}),o.length&&this.emit("slide_added",o[0]),[]);_.forEach(a,function(e,n){var t=e.key,a=!1;_.forEach(i,function(e){e.key===t&&(a=!0)}),a||r.push(n)}),r.length&&this.emit("slide_removed",r[0])}},{key:"setActiveIndex",value:function(e){this.activeIndex=e}},{key:"setActiveSlide",value:function(e){this.activeSlide=e}},{key:"finalIndex",get:function(){return this.slides.length-1}},{key:"nextIndex",get:function(){return this.activeIndex===this.finalIndex?0:this.activeIndex+1}},{key:"prevIndex",get:function(){return 0===this.activeIndex?this.finalIndex:this.activeIndex-1}}]),n;function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.activeIndex=-1,this.activeSlide=null,this.initialized=!1,this.listeners={init:[],slide_added:[],slide_removed:[],slides_updated:[]},this.slides=[],e&&this.init(e)}}angular.module("classy").factory("SlideshowAPI",n)})(),(()=>{function e(o,m,g,p,f){return{replace:!0,scope:{hideControls:"=?hideControls",interval:"=?interval",api:"=scSlideshow"},templateUrl:"global/directives/scSlideshow/template",link:function(r,n){o.enabled(n,!1);var s=.3,l=Power4.easeOut,c=(r.api=r.api||new p,r.api),d=angular.element('<div class="slideshow_content"></div>'),u={disabled:!1,auto:null,drag:{prev:null,next:null,active:!1,start:null,frameRequested:!1,width:null}};function t(e,n,t){t&&r.pause();var a=c.activeSlide,i=c.compile(e),o=(c.setActiveIndex(e),c.setActiveSlide(i),d.outerWidth());switch(d.append(i),n){case"slideLeft":TweenMax.from(i[0],s,{transform:"translateX("+o+"px)",ease:l}),a&&TweenMax.to(a[0],s,{transform:"translateX(-"+o+"px)",ease:l,onComplete:function(){return a.remove()}});break;case"slideRight":TweenMax.from(i[0],s,{transform:"translateX(-"+o+"px)",ease:l}),a&&TweenMax.to(a[0],s,{transform:"translateX("+o+"px)",ease:l,onComplete:function(){return a.remove()}});break;case"none":a&&a.remove()}}function e(e){u.disabled||(u.drag.start=e.originalEvent.touches[0].pageX,u.drag.active=!0,u.drag.width=d.outerWidth(),u.drag.intent="none",e=c.compile("prev"),(u.drag.prev=e).appendTo(d),TweenMax.set(e[0],{transform:"translateX(-"+u.drag.width+"px)"}),e=c.compile("next"),(u.drag.next=e).appendTo(d),TweenMax.set(e[0],{transform:"translateX("+u.drag.width+"px)"}),r.$apply(function(){r.pause()}))}function a(s){u.drag.frameRequested||(u.drag.frameRequested=!0,g(function(){var e,n,t,a,i,o,r;u.drag.frameRequested=!1,u.drag.active&&(e=c.activeSlide,n=u.drag.prev,t=u.drag.next,i=(a=s.originalEvent.touches[0].pageX-u.drag.start)+-1*u.drag.width,r=(o=a)+u.drag.width,TweenMax.set(n[0],{transform:"translateX("+i+"px)"}),TweenMax.set(e[0],{transform:"translateX("+o+"px)"}),TweenMax.set(t[0],{transform:"translateX("+r+"px)"}),a>u.drag.width/10?u.drag.intent="prev":a<u.drag.width/-10?u.drag.intent="next":u.drag.intent="none")}))}function i(){if(u.drag.active){var e=c.activeSlide,n=u.drag.prev,t=u.drag.next;switch(u.drag.active=!1,u.drag.prev=null,u.drag.next=null,u.drag.intent){case"none":TweenMax.to(n[0],s,{transform:"translateX(-"+u.drag.width+"px)",ease:l,onComplete:function(){return n.remove()}}),TweenMax.to(e[0],s,{transform:"translateX(0px)",ease:l}),TweenMax.to(t[0],s,{transform:"translateX("+u.drag.width+"px)",ease:l,onComplete:function(){return t.remove()}});break;case"prev":TweenMax.to(n[0],s,{transform:"translateX(0px)",ease:l}),TweenMax.to(e[0],s,{transform:"translateX("+u.drag.width+"px)",ease:l,onComplete:function(){return e.remove()}}),t.remove(),r.$apply(function(){c.setActiveIndex(c.prevIndex),c.setActiveSlide(n)});break;case"next":n.remove(),TweenMax.to(e[0],s,{transform:"translateX(-"+u.drag.width+"px)",ease:l,onComplete:function(){return e.remove()}}),TweenMax.to(t[0],s,{transform:"translateX(0px)",ease:l}),r.$apply(function(){c.setActiveIndex(c.nextIndex),c.setActiveSlide(t)})}}}r.ui=u,r.mobileDevice=f.isMobile(),r.show={controls:function(){return 1<c.slides.length&&!r.hideControls}},r.prev=function(e){var n;u.disabled||(n=c.prevIndex)!==c.activeIndex&&t(n,"slideRight",e)},r.next=function(e){var n;u.disabled||(n=c.nextIndex)!==c.activeIndex&&t(n,"slideLeft",e)},r.goto=function(e,n){u.disabled||e!==c.activeIndex&&t(e,c.activeIndex-e<0?"slideLeft":"slideRight",n)},r.pause=function(){m.cancel(u.auto)},c.on("init",function(e){d.prependTo(n),e.length&&(e=c.compile(0),d.append(e),c.setActiveIndex(0),c.setActiveSlide(e),u.disabled=c.slides.length<2)}),c.on("slide_added",function(){u.disabled=c.slides.length<2,t(c.finalIndex,"slideLeft")}),c.on("slide_removed",function(e){var n;c.slides.length?(u.disabled=c.slides.length<2,n=Math.min(c.activeIndex,c.finalIndex),e!==c.activeIndex?c.setActiveIndex(n):e>c.finalIndex?t(n,"slideRight"):t(n,"slideLeft")):(c.activeSlide.remove(),c.setActiveSlide(null),c.setActiveIndex(-1))}),r.$watch("interval",function(e){_.parseInt(e)?u.auto=m(r.next,e):r.pause()}),n.on("touchstart",e),n.on("touchmove",a),n.on("touchend",i),r.$on("$destroy",function(){n.off("touchstart",e),n.off("touchmove",a),n.off("touchend",i)})}}}e.$inject=["$animate","$interval","scRequestAnimationFrame","SlideshowAPI","scUserAgent"],angular.module("classy").directive("scSlideshow",e)})(),(()=>{function e(i,s,l,c,d,u,m,g,p,f){return{scope:{},link:function(o,r,e){o.twitterUrl="",o.mailToUrl="",o.smsUrl="",o.instagramUrl="",o.instagramDataId=c.url().includes("thank")&&"thankyou-share-meta_ig",o.cta=s(e.callToAction)(o),o.mode=s(e.scSocialButtons)(o),o.modeClass=function(){return o.mode+"-mode"};var n=l.get("global/directives/scSocialButtons/template"),t=null;switch(o.mode){case"tooltip":var a=d({element:r,template:n,scope:o,event:"click",width:140,scroll:!1,bg:"#F8F8F8"});o.open=a.open,o.close=a.close;break;case"overlay":o.open=function(){var e;1!=g.isOn()&&((t=i(n)(o)).appendTo("body").attr("tabindex","0").focus(),g.On(),p.is("frs.fundraiser.index")&&(e=document.querySelector("#social-dropdown-menu")).addEventListener(f.CONSTANTS.KEYDOWN_EVENT,o.handleKeyEvents(e)),document.querySelector(".public-page").setAttribute("aria-hidden","true"))},o.close=function(){g.Off(),document.querySelector(".public-page").removeAttribute("aria-hidden"),r.focus(),t&&t.remove()},r.on("click",o.open),o.$on("scSocialButtons.open",o.open),o.$on("$destroy",function(){r.off("click",o.open)});break;case"icons":(t=i(n)(o)).appendTo(r)}o.previousUrl=m.getShareableUrl(),u.getSocialData().then(function(n){o.twitterUrl=n.twitter_link,o.mailToUrl=n.email_link,o.smsUrl=n.sms_link,o.fbShare=n.facebook_share,u.getInstagramLink().then(function(e){e=Object.assign({},n,e);o.twitterUrl=e.twitter_link,o.mailToUrl=e.email_link,o.smsUrl=e.sms_link,o.fbShare=e.facebook_share,o.instagramUrl=e.instagram_link})}),o.isPreview=function(){return!(!p.is("admin.manage.campaign.step.setup")&&!p.is("admin.manage.campaign.step.design.views.content-blocks"))},o.setCancelButton=function(e){!e||e.keyCode!==f.CONSTANTS.ENTER_KEY&&e.keyCode!==f.CONSTANTS.SPACE_KEY||this.close()},o.handleKeyEvents=function(i){return function(e){var n=i.querySelectorAll(f.CONSTANTS.ELEMENTS_TO_FOCUS),t=n[0],a=n[n.length-1];switch(e.keyCode){case f.CONSTANTS.TAB_KEY:1===n.length?e.preventDefault():e.shiftKey?document.activeElement===t&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),t.focus());break;case f.CONSTANTS.ESC_KEY:o.close(),r.focus()}}}}}}e.$inject=["$compile","$parse","$templateCache","$location","linkBigTip","scSocialShareLinks","scPagesService","scSingleShareService","$state","accessibilityService"],angular.module("classy").directive("scSocialButtons",e)})(),angular.module("classy").directive("scBackgroundImageSpin",function(){return{scope:{customSpinnerOpts:"=?",page:"="},link:function(e,n){var t=/null/,a=(e.$watch("page.bgImg.src",function(e){t.test(e)?s(!0):s(!1)}),{lines:12,length:14,width:7,radius:20,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner-two",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"}),n=n[0].getAttribute("id"),i=e.customSpinnerOpts,e=e.customSpinnerOpts?_.extend(a,i):a,o=document.getElementById(n),r=new Spinner(e).spin(o);function s(e){!(0<arguments.length&&void 0!==e)||e?r.spin(o):$(".spinner-two").fadeOut(function(){r.stop()})}}}}),angular.module("classy").directive("scSimpleSpinner",function(){return{scope:{customSpinnerOpts:"=?",show:"="},link:function(e,n){e.$watch("show",function(e){!function(){0<arguments.length&&void 0!==arguments[0]&&!arguments[0]?$(".spinner").fadeOut(function(){o.stop()}):o.spin(i)}(e)});var t={lines:20,length:0,width:1,radius:1.5,scale:3,corners:1,speed:1.2,rotate:0,animation:"spinner-line-shrink",direction:1,color:"#ffffff",fadeColor:"transparent",top:"48%",left:"50%",shadow:"",zIndex:2e9,className:"spinner",position:"relative"},n=n[0].getAttribute("id"),a=e.customSpinnerOpts,e=e.customSpinnerOpts?_.extend(t,a):t,i=document.getElementById(n),o=new Spinner(e)}}}),angular.module("classy").directive("scUsSpinner",function(){return{scope:{scUsSpinner:"=?",buttonText:"=?",spinTheme:"@?",disabled:"<?"},replace:!0,transclude:!0,template:'<div ng-click="clickElement()" class="admin-button_wrap" ng-style="{cursor: disabled ? \'default\': \'pointer\'}">\n        <span us-spinner spinner-theme="{{ spinTheme }}" ng-show="scUsSpinner && readyToSpin"></span>\n        <ng-transclude></ng-transclude>\n      </div>',link:function(t,e){t.spinTheme=t.spinTheme||"mediumWhite",t.readyToSpin=!1;var a=e.find(".submit-button"),n=t.buttonText;function i(e){e.is("input")?e.attr("disabled","disabled").val(""):e.attr("disabled","disabled").text("")}function o(e){e.is("input")?e.val(n):e.text(n)}o(a),t.clickElement=function(){t.readyToSpin=!0},t.$watch("scUsSpinner",function(e,n){e!=n&&(t.readyToSpin&&t.scUsSpinner?i(a):t.scUsSpinner||o(a))}),t.$watch("readyToSpin",function(e,n){e!=n&&t.scUsSpinner&&t.readyToSpin&&i(a)})}}}),(()=>{function e(n,t,a){return{scope:{bc:"@",supporter:"=",theme:"=",barColor:"=",type:"@"},replace:!0,templateUrl:"global/directives/scSupporter/template",link:function(e){e.progressData=a.getEntityProgress(e.supporter),e.bc=e.bc||"sc-supporter_",e.percentRaised=function(){return Math.round(100*e.progressData.percentToGoal)+"%"},e.getImage=function(){return"fundraiser"===e.type?n.getPagePhoto(e.supporter):"team"===e.type?t.getTeamPhoto(e.supporter):"/static/global/images/individual_default_image.png"},e.getName=function(){return _.isUndefined(e.supporter.alias)?e.supporter.name:e.supporter.alias},e.getCount=function(){return _.get(e,"supporter.total_fundraisers",_.get(e,"supporter.pages_count_active",_.get(e,"supporter.pages_count",0)))}}}}e.$inject=["scFundraisingPagesService","scFundraisingTeamsService","scProgressDataFactory"],angular.module("classy").directive("scSupporter",e)})(),(()=>{function e(g,p,f,h,v){return function(e,n){var o=90,r=150,t="sc-svg_bg-"+Date.now()+e.$id,i="sc-svg_pattern-"+Date.now()+e.$id,s={x:0,y:0,width:r,height:o},a=Chartist.Svg(n[0]),l=Chartist.Svg(n.closest("svg")[0]).elem("defs",{},"",!0),c=l.elem("g",{id:t}),d=a.attr({"xlink:href":g.absUrl()+"#"+t}).attr(s);function u(e){var n=[],t=[],e=(e.image&&("tile"===e.preset?t:n).push(e),e=n,n=c.querySelectorAll(".sc-svg_bg-image"),e.map(m).forEach(c.append.bind(c)),n&&n.svgElements.forEach(function(e){e.remove()}),t),n=c.querySelectorAll(".sc-svg_bg-pattern"),t=l.querySelectorAll("#"+i);e.forEach(function(e){var n,t,a;c.elem("rect",_.merge({fill:"url("+g.absUrl()+"#"+i+")"},s),"sc-svg_bg-pattern"),c.append((n=e,t=Chartist.Svg("pattern",{id:i,patternUnits:"userSpaceOnUse",x:0,y:0}),a=t.elem("image"),p.all([n.image.getDimensions(),n.image.on("save")]).then(function(){var e={width:n.image.asset.width,height:n.image.asset.height},e=v.resizeRelative(e,{width:r,height:o},"natural","left","top");t.attr({width:e.width,height:e.height}),a.attr({"xlink:href":n.image.tn(300),width:e.width,height:e.height,x:e.x,y:e.y,opacity:n.imageOpacity/100})}),t))}),n&&n.svgElements.forEach(function(e){e.remove()}),t&&t.svgElements.forEach(function(e){e.remove()})}function m(a){var i=Chartist.Svg("image",{},"sc-svg_bg-image");return p.all([a.image.getDimensions(),a.image.on("save")]).then(function(){var e={width:a.image.asset.width,height:a.image.asset.height},n={width:r,height:o},t=(e=>{switch(e.preset){case"center":return{resizeMode:"natural",alignX:"center",alignY:"middle"};case"tile":return{resizeMode:"natural",alignX:"left",alignY:"top"};default:return{resizeMode:"cover",alignX:"center",alignY:"middle"}}})(a),e=v.resizeRelative(e,n,t.resizeMode,t.alignX,t.alignY);i.attr({"xlink:href":a.image.tn(300),width:e.width,height:e.height,x:e.x,y:e.y,opacity:a.imageOpacity/100})}),i}e.$watchCollection("block.current.background",function(e){var n=e,t=c.querySelectorAll(".sc-svg_bg-color");n&&c.elem("rect",_.merge({fill:n.color,opacity:n.colorOpacity/100},s),"sc-svg_bg-color"),t&&t.svgElements.forEach(function(e){e.remove()}),u(e)}),e.$watch(function(){return h.isInstance(e.block.current.background.image)?e.block.current.background.image.tn(300):null},function(){u(e.block.current.background)}),e.$on("$stateChangeSuccess",function(){f(function(){d.attr({"xlink:href":g.absUrl()+"#"+t}),u(e.block.current.background)})})}}e.$inject=["$location","$q","$timeout","scImg","scSvgUtils"],angular.module("classy").directive("scSvgBlockBg",e)})(),angular.module("classy").directive("scSvgFill",function(){return function(e,n,t){e.$watch(t.scSvgFill,function(e){n[0].setAttribute("fill",e)})}}),(()=>{function e(g,p,f,h){return function(n,e,t){var a=_.uniqueId(),i=t.scSvgImage,o=t.mode,r=t.alignX||"left",s=t.alignY||"middle",l={width:t.width,height:t.height},c=Chartist.Svg(e[0]),d=Chartist.Svg(e.closest("svg")[0]).elem("defs",{},"",!0).elem("g",{id:"IMAGE_"+a});function u(e){c.attr({"xlink:href":g.absUrl()+"#IMAGE_"+a});var n=d.querySelectorAll(".sc-svg-image-"+a);e.map(m).forEach(d.append.bind(d)),n&&n.svgElements.forEach(function(e){e.remove()})}function m(n){var t=Chartist.Svg("image",{},"sc-svg-image-"+a);return p.all([n.getDimensions(),n.on("save")]).then(function(){var e={width:n.asset.width,height:n.asset.height},e=h.resizeRelative(e,l,o,r,s);t.attr({"xlink:href":n.src,width:e.width,height:e.height,x:e.x,y:e.y})}),t}n.$watch(function(){return f.isInstance(_.get(n,i))?_.get(n,i).src:null},function(e){u(null===e?[]:[_.get(n,i)])})}}e.$inject=["$location","$q","scImg","scSvgUtils"],angular.module("classy").directive("scSvgImage",e)})(),angular.module("classy").service("scSvgUtils",function(){this.resizeRelative=function(e,n,t,a,i){var o=void 0,r=void 0,s=void 0,l=void 0,c=parseInt(e.height,10),d=parseInt(e.width,10),u=parseInt(n.height,10),m=parseInt(n.width,10),g=c/d,p=u/m<g;switch(t){case"cover":p?(s=m,l=parseInt(s*g,10)):(l=u,s=parseInt(l/g,10));break;case"natural":l=parseInt(.107*c,10),s=parseInt(.107*d,10);break;default:p?(l=u,s=parseInt(l/g,10)):(s=m,l=parseInt(s*g,10))}switch(a){case"left":o=0;break;case"right":o=m-s;break;default:o=parseInt((m-s)/2,10)}switch(i){case"top":r=0;break;case"bottom":r=u-l;break;default:r=parseInt((u-l)/2,10)}return{x:o,y:r,width:s,height:l}}}),(()=>{function e(t,a,i,o,r){return{scope:!0,link:function(e,n){e.scAuth=i,e.members=o,e.organization=r.active;n=a({element:n,template:t.get("global/directives/scUserDropdown/template"),scope:e,event:"click",width:200,scroll:!1,bg:"#F8F8F8"});e.open=n.open,e.close=n.close}}}e.$inject=["$templateCache","linkBigTip","scAuth","scMembersService","scOrganizationsService"],angular.module("classy").directive("scUserDropdown",e)})(),(()=>{function e(g,p,f,h,v){return{scope:{video:"=scVideo",loop:"=",fullWidth:"=",thumbnail:"=?",type:"=?"},link:function(t,a,i){var n=void 0,o=void 0,e=void 0,r=angular.element(".slideshow_pager"),e=t.thumbnail?'<div style="background-image: url({{thumbnail}})" ng-if="iframeSrc" class="embed-responsive-img" data-video="{{iframeSrc}}"><div id="player" data-vimeo-url="'+i.url+'"></div></div>':'<iframe src="{{iframeSrc}}" ng-if="iframeSrc" class="embed-responsive-item" type="text/html" frameborder="0" wmode="transparent"></iframe>',s=v.isMobile();function l(e){angular.element(e).remove(),r.removeClass("hide")}var c=void 0,d=void 0;function u(e){var n;s||(n=Math.floor(t.seconds)||0,d.seekTo(n),e.target.playVideo())}function m(){h(function(){2!=d.getPlayerState()&&0!=d.getPlayerState()||(t.seconds=0==d.getPlayerState()?0:d.getCurrentTime(),d.destroy(),r.removeClass("hide"))},500)}angular.element(a).on("click",function(){var e,n;r.addClass("hide"),"vimeo"==t.type?(t.thumbnail&&(e='<iframe src="'+t.iframeSrc+(t.seconds?"#t="+t.seconds:"")+'" class="embed-responsive-item" type="text/html" frameborder="0" wmode="transparent" allow="autoplay"></iframe>',angular.element(a).append(e)),n=document.querySelector("iframe"),(c=new Vimeo.Player(n)).ready().then(function(){s||c.play()}),c.on("pause",function(e){t.seconds=e.seconds,l(n)}),c.on("ended",function(){t.seconds=0,l(n)})):"youtube"==t.type&&(e=i.url,e=g.getVideoId(e),d=new YT.Player("player",{videoId:e,enablejsapi:1,events:{onReady:u,onStateChange:m}}))}),t.$watchCollection("[video, loop, fullWidth]",function(e){void 0!==e&&(n=g.getType(t.video),o=g.getVideoId(t.video),t.createIframeUrl())}),t.createIframeUrl=function(){var e=void 0;"youtube"==n?(e="//www.youtube.com/embed/"+(t.id=o)+"?theme=dark",t.loop&&(e+="&loop=1&playlist="+o)):"vimeo"==n&&(e="https://player.vimeo.com/video/"+o+"?badge=0&autoplay=1",v.isIOSx())&&(e+="&muted=1"),t.iframeSrc=f.trustAsResourceUrl(e)};e=p(e)(t);a.append(e)}}}e.$inject=["scVideoSvc","$compile","$sce","$timeout","scUserAgent"],angular.module("classy").directive("scVideo",e)})(),(()=>{function e(o,e){return{scope:{scrollTarget:"@",scrollClassToggle:"@",scrollClassTarget:"@"},controller:["$scope",function(t){var a=$(t.scrollTarget),i=t.scrollClassToggle;function o(e){e=e;var e=(e=document.getElementById(e))?e.offsetTop+50:0,n=angular.element(".edit-design_aside");s&&n.animate({scrollTop:e},300,function(){r=!1}),s=!1}var r=!1,s=void 0;this.scrollTo=function(n){r||(s=r=!0,e(function(){var e;$(t.scrollClassTarget).hasClass(i)?o(n):(e=a.offset().top,$("body, html").animate({scrollTop:e},200,function(){o(n),$(t.scrollClassTarget).addClass(i)}))},100))}}],link:function(e){var n=$(e.scrollTarget),t=$(e.scrollClassTarget),a=e.scrollClassToggle,i=_.debounce(function(){var e=Math.round($(window).scrollTop());Math.round(n.offset().top)<=e?t.hasClass(a)||t.addClass(a):t.hasClass(a)&&(t.removeClass(a),$(".edit-design_aside, .edit-design_aside-page-content, .edit-design_preview-wrapper, .edit-design_preview").scrollTop(0),t.removeClass(a))},10);angular.element(o).bind("scroll",i),angular.element(o).on("resize",i),e.$on("$destroy",function(){t.removeClass(a),angular.element(o).off("scroll",i),angular.element(o).off("resize",i)})}}}e.$inject=["$window","$timeout"],angular.module("classy").directive("scDesignerScrollingPanes",e)})(),(()=>{function e(c,t,a){return{scope:{offset:"=",fixOn:"&",fixOff:"&"},link:function(i,o){var r=o.parent(),s=o.siblings(".fix-neat_placeholder"),l=void 0;function e(){var e=i.offset||0,n=r.offset().top+r.height(),t=o.height()+e,e=l-e,a=angular.element(c).scrollTop();n<=t?(o.removeClass("fixed"),o.addClass("absolute"),s.height(0),i.fixOff()):e<=a?(o.addClass("fixed"),o.removeClass("absolute"),s.height(o.outerHeight()),i.fixOn()):(o.removeClass("fixed"),o.removeClass("absolute"),s.height(0),i.fixOff())}function n(){var e={};return a.includes("admin")||(e.width=s[0].getBoundingClientRect().width),e}t(function(){l=o.offset().top}),angular.element(c).bind("scroll",function(){e()}),e(),angular.element(c).on("resize",function(){o.css(n())}),t(function(){o.css(n())})}}}e.$inject=["$window","$timeout","$state"],angular.module("classy").directive("scFixNeat",e)})(),(()=>{function e(t,a){return function(i,o){var e=angular.element(t),r=115,s=90,l=void 0;function n(){var e=angular.element(o).width(),e=(i.publicFacing||(l=.625*e-r,o.height(l)),l||i.windowHeight-r),n=o.find(".crowdfunding_featured").outerHeight(),t=o.find(".crowdfunding_header-title").height()+s+n,a=o.find(".crowdfunding_header"),t=(o.height(e<t?t:e),o.height()-n);a.outerHeight(t)}i.publicFacing=i.$parent.public,i.$watch(function(){return{h:e.height(),w:e.width()}},function(e){i.windowHeight=e.h,i.windowWidth=e.w,n()},!0),e.bind("scHeroResize",function(){i.$apply()}),i.$parent.$watchGroup(["block.useFeatured","block.featuredImage","block.featuredVideo","block.featuredType"],function(){a(function(){n()},100)})}}e.$inject=["$window","$timeout"],angular.module("classy").directive("scHeroResize",e)})(),angular.module("classy").directive("scInfiniteScrollContent",function(){return{require:"^scInfiniteScrollViewport",link:function(e,n,t,a){a.setContent(n)}}}),(()=>{function e(o){return{scope:{callback:"&scInfiniteScrollViewport"},controller:["$scope",function(n){n.content=null,this.setContent=function(e){n.content=e}}],link:function(t,a){var i=void 0;function e(){o.cancel(i);var e=a,n=t.content;return n.offset().top+n.outerHeight()-(e.offset().top+e.outerHeight())<=10&&(t.$apply(function(){t.callback()}),!0)}a.on("scroll wheel",function(){t.content&&!e()&&(i=o(e,10))})}}}e.$inject=["$timeout"],angular.module("classy").directive("scInfiniteScrollViewport",e)})(),(()=>{function e(a,o){return function(e,i){function n(){var e=i,n=i.parent(),t=e.outerWidth(),n=n.width(),a=Math.round(n/t*1e3)/1e3;e.css({"-webkit-transform":"scale("+a+")","-moz-transform":"scale("+a+")","-ms-transform":"scale("+a+")","-o-transform":"scale("+a+")",transform:"scale("+a+")"}),o(function(){e.parent().height(i.height()*a)})}var t=_.debounce(n,50);angular.element(a).on("resize orientationchange",t),e.$watch("divHeight",t),e.$on("scaleToContainer",t),e.$watch(function(){e.divHeight=i.height()}),n()}}e.$inject=["$window","$timeout"],angular.module("classy").directive("scScaleToContainer",e)})(),angular.module("classy").directive("scScrollToTop",function(){return{link:function(e,n){var t=e.$parent.public;n.on("click",function(){t&&$("html, body").animate({scrollTop:0},400)})}}}),(()=>{var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(s,e){return s.module("angularSpinner",[]).constant("SpinJSSpinner",e).provider("usSpinnerConfig",function(){var n={},t={};return{setDefaults:function(e){n=e||n},setTheme:function(e,n){t[e]=n},$get:function(){return{config:n,themes:t}}}}).factory("usSpinnerService",["$rootScope",function(n){var e={spin:function(e){n.$broadcast("us-spinner:spin",e)},stop:function(e){n.$broadcast("us-spinner:stop",e)}};return e}]).directive("usSpinner",["SpinJSSpinner","usSpinnerConfig",function(o,r){return{scope:!0,link:function(t,n,a){function i(){t.spinner&&t.spinner.stop()}t.spinner=null,t.key=!!s.isDefined(a.spinnerKey)&&a.spinnerKey,t.startActive=s.isDefined(a.spinnerStartActive)?t.$eval(a.spinnerStartActive):!t.key,t.spin=function(){t.spinner&&t.spinner.spin(n[0])},t.stop=function(){t.startActive=!1,i()},t.$watch(a.usSpinner,function(e){i(),e=s.extend(r.config,r.themes[a.spinnerTheme],e),t.spinner=new o(e),t.key&&!t.startActive||a.spinnerOn||t.spinner.spin(n[0])},!0),a.spinnerOn&&t.$watch(a.spinnerOn,function(e){e?t.spin():t.stop()}),t.$on("us-spinner:spin",function(e,n){n===t.key&&t.spin()}),t.$on("us-spinner:stop",function(e,n){n===t.key&&t.stop()}),t.$on("$destroy",function(){t.stop(),t.spinner=null})}}}])}"object"===("undefined"==typeof module?"undefined":e(module))&&module.exports?module.exports=n(require("angular"),require("spin.js")):"function"==typeof define&&define.amd?define(["angular","spin"],n):n(angular,Spinner)})(),angular.module("classy").directive("scTip",function(){return function(e,n,t){angular.isUndefined(t.title)||(t=t.title,n.append('<div class="balloon">'+t+"</div>"))}}),(()=>{function e(s,l){return{scope:{text:"=?scTooltip",displayOnLoad:"<?",showEvent:"<?",hideEvent:"<?",scTooltipTipStyle:"<?",fixedTooltip:"<?",disableTooltip:"<?"},link:function(e,n,t){var a=e.text||n.text(),i=t.scTooltipClass,o=void 0,r=void 0,o=t.scTooltipHideDelay?{event:e.hideEvent||!1,inactive:parseInt(t.scTooltipHideDelay,10)||!1}:t.fixedTooltip?{event:e.hideEvent||!1,delay:t.scTooltipDelay||90,fixed:!0}:{event:e.hideEvent||"unfocus click keydown"},r=e.displayOnLoad?{delay:t.scTooltipDelay||90,ready:e.displayOnLoad}:{delay:t.scTooltipDelay||90,event:e.showEvent||"click keydown"};e.disableTooltip||n.qtip({content:{text:function(){return s(a)(e.$parent)}},style:{classes:"qtip-plain qtip-dark "+i,tip:e.scTooltipTipStyle||void 0},position:{at:t.scTooltipPosition||void 0,my:t.scTooltipPositionTip||void 0},show:r,events:{show:function(e){e.keyCode!==l.CONSTANTS.ENTER_KEY&&"click"!==e.originalEvent.type&&"mouseover"!==e.originalEvent.type&&e.keyCode!==l.CONSTANTS.SPACE_KEY&&e.preventDefault()},hide:function(e){e.keyCode!==l.CONSTANTS.ENTER_KEY&&"click"!==e.originalEvent.type&&"mousedown"!==e.originalEvent.type&&"mouseout"!==e.originalEvent.type&&e.keyCode!==l.CONSTANTS.TAB_KEY&&e.keyCode!==l.CONSTANTS.SPACE_KEY&&e.preventDefault()}},hide:o}),e.text||n.empty(),n.keyup(function(e){e.originalEvent.keyCode===l.CONSTANTS.TAB_KEY&&n.trigger("click")})}}}e.$inject=["$interpolate","accessibilityService"],angular.module("classy").directive("scTooltip",e)})(),angular.module("classy").controller("EmbeddedGivingDonationCtrl",["$scope","$timeout",function(n,e){e(function(){n.FORM.$setPristine()}),n.processKeydownEventDonationRoot=function(e){13===(e&&e.keyCode)&&(e.stopPropagation(),e.preventDefault(),1<n.getDonationAmountRaw())&&(n.shouldShowRecurringNudge()?n.goDonationRecurringNudge():n.goDonationOptions())}}]).controller("EmbeddedGivingDonationOptionsCtrl",["$scope",function(n){n.processKeydownEventDonationOptions=function(e){13===(e&&e.keyCode)&&(e.stopPropagation(),e.preventDefault(),e=document.activeElement)&&("eg-btn-donation-options"===e.id?n.goDonationContact():(e.querySelector("[data-ng-click]")||e).click())}}]).controller("EmbeddedGivingDonationRecurringNudgeCtrl",["$scope",function(t){t.$on("recurring-nudge-event",function(e,n){switch(n){case"accept":case"reject":t.goDonationOptions();break;case"back":t.goDonationRoot()}})}]).controller("EmbeddedGivingDonationContactCtrl",["$scope",function(t){t.isPhoneNumberRequired=(()=>{var n=!1,e=t.campaign.current&&t.campaign.current.questions;return!_.isEmpty(e)&&e.optional&&e.optional.forEach(function(e){"homephone"===e.tag&&e.is_required&&(n=!0)}),n})(),t.isAnonymousDonationEnabled=t.campaign.current&&!t.campaign.current.hide_anonymous_donations,t.showCustomQuestions=function(){var e,n=t.campaign.current&&t.campaign.current.questions;return!_.isEmpty(n)&&(e=!!n.custom.length,n=!!n.optional.filter(function(e){return"homephone"!==e.tag}).length,e||n)},t.isValidContact=function(){var e=t.FORM;return!!e&&!(!e.member_first_name||!e.member_first_name.$valid||!(e.member_last_name&&e.member_last_name.$valid&&e.member_email_address&&e.member_email_address.$valid&&(!t.isPhoneNumberRequired||e.member_phone&&e.member_phone.$valid)))},t.isValidOptionalQuestions=function(){var e=t.campaign.current.questions;return!e||!e.optional||e.optional.filter(function(e){return"homephone"!==e.tag}).reduce(function(e,n){return e&&(n=t.FORM[n.id])&&n.$valid},!0)},t.isValidCustomQuestions=function(){var e=t.campaign.current.questions;return!e||!e.custom||e.custom.reduce(function(e,n){return e&&(n=t.FORM["cq_"+n.id])&&n.$valid},!0)},t.isValid=function(){return t.isValidContact()&&t.isValidOptionalQuestions()&&t.isValidCustomQuestions()},t.processKeydownEventDonationContact=function(e){13===(e&&e.keyCode)&&(e.stopPropagation(),e.preventDefault(),t.isValid())&&t.goDonationPaymentMethods()}}]).controller("EmbeddedGivingDonationDoubleTheDonationCtrl",["$scope","$window",function(n,e){n.eg.dtd.isEnabled&&e.doublethedonation.plugin.load_streamlined_input(),n.eg.dtd.toggle=function(){n.eg.dtd.isActive=!n.eg.dtd.isActive},n.$on("$destroy",function(){var e=document.getElementsByName("doubledonation_company_name");e.length&&(n.eg.dtd.companyName=e[0].value)})}]).controller("EmbeddedGivingDonationCommentCtrl",["$scope",function(n){n.egDonationComment={show:n.campaign.current&&!n.campaign.current.hide_donation_comments,changes:n.MODEL.comment,preview:function(){var e=n.MODEL.comment;return e?45<=(e=e.split("<p>").join("").split("</p>").join("").substring(0,45)).length?e+"...":e:""},isDrawerOpen:!1,openDrawer:function(){n.egDonationComment.isDrawerOpen=!0},closeDrawer:function(){n.egDonationComment.isDrawerOpen=!1},cancelChanges:function(){n.egDonationComment.closeDrawer(),n.egDonationComment.changes=n.MODEL.comment},saveChanges:function(){n.egDonationComment.closeDrawer(),n.MODEL.comment=n.egDonationComment.changes}}}]).controller("EmbeddedGivingDonationConfirmationCtrl",["$scope",function(n){n.getConfirmationTermsUrl=function(){var e=SC.organization;return e&&(e.privacy_policy_url||e.url)||!1},n.processKeydownEventDonationConfirmation=function(e){13===(e&&e.keyCode)&&(e.stopPropagation(),e.preventDefault(),n.embeddedGivingCheckout())}}]),angular.module("classy").controller("EmbeddedGivingFAQCtrl",["$scope",function(n){n.ActiveFAQs=[],n.ActiveFAQ=null,n.setActiveFAQs=function(e){n.ActiveFAQs=e,n.ActiveFAQs&&1<=n.ActiveFAQs.length&&n.ActiveFAQs.length<=4&&(n.ActiveFAQ=n.ActiveFAQs[0])},n.setActiveFAQ=function(e){n.ActiveFAQ&&n.ActiveFAQ.id===e.id?n.ActiveFAQ=null:n.ActiveFAQ=e},n.setActiveFAQs(_.get(n,"campaign.current.faqs.data"))}]),(()=>{function P(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}angular.module("classy").controller("EmbeddedGivingCtrl",["CHANNEL","EG_EVENTS","cpConstants","$log","$sce","$scope","$rootScope","$timeout","scSourceCodes","$q","$window","bugsnagClient","PayPalSDK","formDirective","cpIntelligentAsk","scAnalytics","scBanner","scCampaignsService","scDigitalWalletsService","recaptchaService","EmbeddedGiving","EmbeddedGivingAnalytics","EmbeddedGivingColors","EmbeddedGivingDAL","EmbeddedGivingLocations","EmbeddedGivingMessenger","EmbeddedGivingPaths","EmbeddedGivingRecurringNudge","EmbeddedGivingUtil",function(e,n,t,s,a,g,l,c,d,i,u,o,m,p,r,f,h,v,b,y,k,w,C,S,T,E,x,D,A){E.init(g,g.$state),C.init(g.theme),g.EmbeddedGivingDAL=S,g.EmbeddedGivingPaths=x,g.IntelligentAsk=r,g.eg={activeView:k.activeView.path,donationStep:"root",primaryColor:C.getPrimary(),accentColor:C.getAccent(),logoUrl:function(){return A.getLogoUrl(g.page,g.theme)},isPreviewing:k.isPreviewing,isCheckingOut:!1,isFOTEnabled:v.active.current.classy_mode_enabled||v.active.current.dcf_enabled,isDCFEnabled:v.active.current.dcf_enabled,isRequiredFullAddress:k.opts.eg.fullAddress,isRequiredRecurringNudge:k.opts.eg.recurringNudge,isAnonymousDonationAmountsEnabled:g.campaign.current.hide_donation_amounts,isBillingAddressAutocompleteEnabled:g.block&&g.block.billing_address_autocomplete,isValidPayment:!1,faqOverlay:{isOpen:!1,isOpened:function(){return g.eg.faqOverlay.isOpen}},dtd:{enabled:!1,active:!1},dcfMessage:function(){return a.trustAsHtml(g.campaign.current.classy_mode_appeal)},showAchTerms:function(){return g.API.getPaymentMethod()===t.PAYMENT_METHODS.ACH},showDonationConfirmation:!1,showIsCompanyCard:function(){return v.active.current.corporate_donation_enabled&&(g.API.getPaymentMethod()===t.PAYMENT_METHODS.STRIPE||g.API.getPaymentMethod()===t.PAYMENT_METHODS.CC)}},S.initCache({amount:1,isFeeOnTopEnabled:null}),g.getHeadlineTrustedHtml=function(){return a.trustAsHtml(g.block.headline)},g.getLogoUrl=function(){return A.getLogoUrl(g.page,g.theme)},g.getPrimaryColor=function(){return C.getPrimary()},g.getDonationAmountRaw=function(){var e=void 0;return e=(e=g.MODEL&&g.MODEL.items&&g.MODEL.items.length?g.MODEL.items[0].raw_final_price:e)&&"Custom"!==e?e:0},g.getFOTAmount=function(){var e=0;return e=g.MODEL&&g.MODEL.fee_on_top_amount?g.MODEL.fee_on_top_amount:e},g.setActiveView=function(e){k.hasView(e)&&(g.eg.activeView=e.path)},g.setIsValidPayment=function(e){g.eg.isValidPayment=!!e},E.postMessageAbTesting();function M(){g.FORM&&g.FORM.$$controls&&_.forEach(g.FORM.$$controls,function(e){e&&e.$name&&g.FORM.$removeControl(e)})}g.runPreflight=function(){try{var t={};return _.forEach(g.PREFLIGHT,function(e,n){t[n]=e()}),i.all(t)}catch(e){return o.notify(e,{metaData:{userData:_.omit(g.MODEL,"payment")}}),i.reject({status:500,e:e})}},g.submitDigitalWallets=function(e){var m;m=e,c(function(){b.onDigitalWalletsSubmit();var e=m.payerName,n=m.payerEmail,t=m.paymentMethod,a=t.billing_details,i=a.name,a=a.address,o=a.city,r=a.state,s=a.line1,l=a.line2,a=a.postal_code,c=e.split(" "),d=c[0],u=c[c.length-1];g.META.member_first_name||(g.META.member_first_name=d),g.META.member_last_name||(g.META.member_last_name=u),g.MODEL.member_name||(g.MODEL.member_name=e),g.MODEL.member_email_address||(g.MODEL.member_email_address=n),i&&(d=(c=i.split(" "))[0],u=c[c.length-1],g.MODEL.billing_first_name=d,g.MODEL.billing_last_name=u),g.MODEL.billing_address1=s,g.MODEL.billing_address2=l,g.MODEL.billing_city=o,g.MODEL.billing_postal_code=a,g.MODEL.billing_state=r,g.MODEL.payment.stripe.source=t,g.FORM.$setSubmitted()}).then(function(){return c(function(){})}).then(function(){e.complete&&e.complete("success"),g.goDonationConfirmation()})},m.setAutoSubmitPayPalCommerceHandler(function(){c(function(){}).then(function(){g.FORM.$setSubmitted(),g.embeddedGivingCheckout()})}),g.embeddedGivingCheckout=function(){if(!g.globalState.processing){if(g.eg.showAchTerms()&&_.get(g,"MODEL.payment.ach")&&(g.MODEL.payment.ach.achTermsAccepted=!0),!g.organization.preventRecurringFrequencies()){var e=g.block["donation-levels"],n=e.some(function(e){return"Custom"===e.amount&&e.display_on_page});if(g.getDonationAmountRaw()<1&&!n)return n=e.filter(function(e){return e.display_on_page}),$("#D-A"+n[0].amount).focus(),!1}if(g.FORM.amount&&1<g.getDonationAmountRaw()&&g.META.fixedDonationAmount&&!g.preventRecurringFrequency&&(g.FORM.amount.$setValidity("required",!0),g.FORM.amount.$setValidity("min",!0),g.FORM.amount.$setValidity("max",!0)),Object.keys(g.FORM).filter(function(e){return g.FORM[e]instanceof p[0].controller}).forEach(function(e){g.FORM[e].$setSubmitted()}),!k.isRequiredFullAddress){var e=g.FORM.$error,t=["billing_country","billing_state","billing_city","billing_address1"],a=e&&e.required,i=[];if(a&&a.length)for(var o=0;o<a.length;o+=1)t.indexOf(a[o].$name)<0&&i.push(a[o]);i.length?e.required=i:delete e.required}if(!_.isEmpty(g.FORM.$error)){var r=["token","expirationMonth","expirationYear","securityCode"],n=A.getFormErrorCount(g.FORM);if(g.META.errorList=n.filter(function(e){return!_.includes(r,e.$name)}),g.META.errorList.length!==n.length&&g.META.errorList.push({$name:"credit card",$element:$("#cc-entry-el")}),!b.isDigitalWalletSubmission&&!m.isPayPalCommerceSubmission||!A.hasValidDigitalWalletErrors(g.META.errorList))return c(function(){g.META.errorList.find(function(e){return"amount"===e.$name})&&(g.organization.preventRecurringFrequencies()&&$("#D-AOther")[0].click(),$('input[name="amount"]').focus()),g.META.focusFormErrorsLink=!0}),void b.setIsDigitalWalletsSubmission(!1)}g.META.numberOfErrors=0,g.eg.isCheckingOut=!0,angular.element("[sc-autofocus]").removeAttr("sc-autofocus"),g.runPreflight().then(function(){return y.createToken("DONATE")}).then(function(e){if(!e)return Promise.reject("RECAPTCHA");if(g.MODEL.recur_until&&(g.MODEL.recur_until=moment(g.MODEL.recur_until).format("YYYY-MM-DD")),g.eg.dtd.isActive&&u.doublethedonation)try{var n,t,a=localStorage.getItem("doublethedonation"),i=a?JSON.parse(a):null;i&&"found"===i.doublethedonation_status?(n=i.doublethedonation_company_id,o=g.eg.dtd.companyName,t=i.doublethedonation_entered_text,g.MODEL.employer_match={employer_id:n,employer_name:o,employer_search_text:t},SC.organization.doubleTheDonationChannel.companyId=n):(g.MODEL.employer_match=i.doublethedonation_entered_text?{employer_search_text:i.doublethedonation_entered_text}:null,SC.organization.doubleTheDonationChannel.companyId=null)}catch(e){}g.MODEL.answers=[].concat(P(g.campaign.current.questions.optional.filter(function(e){return"homephone"!==e.tag}).map(function(e){var n=g.FORM[e.id],n=n&&n.$modelValue;return{question_id:e.id,question_type:e.type,answer:n}})),P(g.campaign.current.questions.custom.map(function(e){var n=g.FORM["cq_"+e.id],n=n&&n.$modelValue;return"text"===e.type&&(n=A.parseFroalaText(n)),{question_id:e.id,question_type:e.type,answer:n}}))).filter(function(e){return null!=e.answer&&""!==e.answer}),g.MODEL.comment=A.parseFroalaText(g.MODEL.comment);var a=d.newData,o=((a.c_src||a.c_src2)&&(g.MODEL.c_src=[a]),Object.assign(g.MODEL,{token:e}));return S.checkout(g.campaign.current.id,o)}).then(function(e){E.postMessageDonationComplete();var n=e.data,t=(g.globalState.redirecting=!0,g.globalState.submitDisabled=!0,b.setIsLoaded(!1),b.setIsDigitalWalletsSubmission(!1),n.payment_type=A.getPaymentTypeFromCheckoutResponse(n),f.track("transaction",{transaction:n}),{amount:n.total_gross_amount,transactionId:n.id,raw_currency_code:n.raw_currency_code,digitalWalletsPresent:g.META.digitalWalletsEnabled,digitalWalletType:g.META.digitalWalletType,paymentSource:n.payment_source});"one-time"!==g.MODEL.frequency?f.track("recurring-donation/create/complete",t):f.track("donation/create/complete",t),l.$broadcast("donation.success",e.status),202===e.status&&s.warn(e.data),S.updateCache({email:n.member_email_address,currency:n.raw_currency_code,frequency:n.frequency,dedication:g.MODEL.dedication,checkoutTotal:t.amount,transactionId:t.transactionId,rawAmount:g.getDonationAmountRaw(),fotAmount:g.getFOTAmount()}),c(function(){g.goThankYou(),g.eg.isCheckingOut=!1})}).catch(function(e){b.setIsDigitalWalletsSubmission(!1),_.get(e,"data.fixed_fot_percent",!1)&&l.$broadcast("donation.failure",400),e.status&&504!==e.status?h(e.data||"Sorry, something went wrong","error",!1):e.message?h(e.message,"error",!1):h("Your request timed out. Please try again soon.","error",!1),l.$broadcast("donation.failure",e.status),s.error(e.data||e.message),c(function(){g.eg.isCheckingOut=!1})})}},g.goView=function(e){k.hasView(e)&&(T.updateParam(e.param),g.setActiveView(e))},g.goDonation=function(){g.eg.showDonationConfirmation=!1,g.goView(k.views.donation)},g.goDonationRoot=function(){g.eg.donationStep="root",g.META.showPaymentDetails=!1,g.eg.showDonationConfirmation=!1,g.goDonation()},g.goDonationRecurringNudge=function(){w.track(n.recurringNudge,A.getAnalyticsEventData(g.MODEL)),g.eg.donationStep="recurringNudge",g.META.showPaymentDetails=!1,g.goDonation()},g.goDonationOptions=function(){g.shouldShowDonationOptions()?(w.track(n.donationOptions,A.getAnalyticsEventData(g.MODEL)),g.eg.donationStep="donationOptions",g.META.showPaymentDetails=!1,g.goDonation(),c(function(){var e=$("#eg-btn-donation-options");$("#eg-btn-donation-options")&&e.focus()})):"root"===g.eg.donationStep||"recurringNudge"===g.eg.donationStep?g.goDonationContact():g.goDonationRoot()},g.goDonationContact=function(){w.track(n.contact,A.getAnalyticsEventData(g.MODEL)),g.eg.donationStep="contact",g.META.showPaymentDetails=!0,g.goDonation(),c(function(){var e=$("#eg-btn-donation-contact");e&&e.focus()})},g.goDonationAddress=function(){w.track(n.fullAddress,A.getAnalyticsEventData(g.MODEL)),g.eg.donationStep="address",g.META.showPaymentDetails=!0,g.goDonation()},g.goDonationPaymentMethods=function(){w.track(n.donationList,A.getAnalyticsEventData(g.MODEL)),g.eg.donationStep="paymentMethods",g.setIsValidPayment(!1),g.META.showPaymentDetails=!1,g.goDonation()},g.goDonationPaymentDetails=function(){g.eg.donationStep="paymentDetails",g.META.showPaymentDetails=!0,g.goDonation()},g.goDonationConfirmation=function(){w.track(n.donationConfirmation,A.getAnalyticsEventData(g.MODEL)),g.eg.donationStep="paymentDetails",g.META.showPaymentDetails=!0,g.goDonation(),g.eg.showDonationConfirmation=!0},g.goThankYou=function(){w.track(n.thankYou,A.getAnalyticsEventData(g.MODEL)),g.goView(k.views["thank-you"])},g.goFAQ=function(){w.track(n.faq,A.getAnalyticsEventData(g.MODEL)),g.goView(k.views.faq)},g.openFAQOverlay=function(){w.track(n.faq,A.getAnalyticsEventData(g.MODEL)),g.eg.faqOverlay.isOpen=!0},g.closeFAQOverlay=function(){g.eg.faqOverlay.isOpen=!1},g.shouldShowRecurringNudge=function(){var e,n,t,a;return!!g.eg.isRequiredRecurringNudge&&(e=g.MODEL&&g.MODEL.frequency,n=A.getDonationAmountMax(g.block),t=A.getDonationAmountMin(g.block),a=g.getDonationAmountRaw(),!!D.isShowable(e,a,n,t))},g.shouldShowDonationOptions=function(){var e=g.campaign.current&&!g.campaign.current.hide_donation_comments,n=g.eg.dtd.isEnabled,t=g.campaign.current&&!g.campaign.current.hide_dedications,a=v.active.DESIGNATIONS_ENABLED&&1<v.active.current.designations_count;return n||e||t||a},g.shouldShowDonationConfirmation=function(){return g.eg&&g.eg.showDonationConfirmation&&g.META&&g.META.showPaymentDetails},g.openLink=function(e,n){u.open(e,n)},g.$on("eg.donation-payment.is-valid",function(e,n){c(function(){g.setIsValidPayment(n&&n.isValid)})}),g.$on("eg.donation-payment.external-digital-wallet",function(e,n){g.submitDigitalWallets(n)}),g.$on("eg-disable-form",M),g.$on("sc-form-submit",M),A.hasDoubleTheDonation()&&v.active.getCampaignChannel(e.DTD).then(function(e){e=e&&e[0]&&e[0].metadata||{};g.eg.dtd.isEnabled=!!e.employer_match_on_donation_page,g.eg.dtd.isActive=!!e.employer_match_preselect}).catch(function(){}),k.isPreviewing||(x=T.getViewByParam(),g.setActiveView(x)),g.processKeyEvent=function(e){s.debug(e.keyCode)},g.$on("$destroy",function(){E.postMessageDonationState(),f.destroy()})}])})(),angular.module("classy").controller("EmbeddedGivingThankYouCtrl",["$scope","cpIntelligentAsk","EmbeddedGivingDAL","scSocialShareLinks",function(n,e,t,a){n.ActiveSocials={facebook:null,twitter:null,email:null},n.openSocialFacebook=function(){n.ActiveSocials.facebook&&n.ActiveSocials.facebook()},n.openSocialTwitter=function(){n.openLink(n.ActiveSocials.twitter,"Share with Twitter")},n.openSocialEmail=function(){n.openLink(n.ActiveSocials.email,"Share with email")},n.setActiveSocials=function(e){_.isEmpty(e)||(n.ActiveSocials.facebook=e.facebook,n.ActiveSocials.twitter=e.twitter,n.ActiveSocials.email=e.email)},a.getSocialData().then(function(e){n.setActiveSocials({facebook:e.facebook_share,twitter:e.twitter_link,email:e.email_link})}),e.isInit&&e.sendHeapEvent("thank-you",n.MODEL,{transactionId:t.getCached("transactionId"),amount:t.getFullCachedAmount(),frequency:t.getCached("frequency")})}]),angular.module("classy").directive("egResizer",["$window",function(c){return{restrict:"EA",link:function(e,i){var n=angular.element(c),o=592,r=480,s=472,l=320;function t(){var e=void 0,n=void 0,t=c.innerHeight,a=c.innerWidth,e=o<t?o:t<s?s:t,n=r<a?r:a<l?l:a;i.css({height:e,width:n})}t(),n.on("resize",t),e.$on("$destroy",function(){n.off("resize",t)})}}}]),angular.module("classy").service("EmbeddedGivingPay",["EmbeddedGivingPayDAL",function(e){var n=this;this.paymentGateway={},this.paymentProcessors={},this.paymentMethods={},this.init=function(){return this.paymentMethods=e.getPaymentMethods(),e.getPaymentProcessors().then(function(e){return n.paymentProcessors=e,n})},this.getPaymentProcessors=function(){return e.getPaymentProcessors()},this.serializePayment=function(){var e=this.paymentGateway.serialize(),n=function(){var t={};return _.forEach(this.paymentMethod,function(e,n){t[n]=e.serialize()}),t}();return _.extend({},{raw_currency_code:"USD",gateway:e},n)},this.syncPaymentMethodStatuses=function(t){return _.forEach(this.paymentMethods,function(e,n){n=t[n.toLowerCase()];n&&n.status?e.setStatus(n.status):e.setStatus("inactive")}),this.paymentMethods}}]),angular.module("classy").service("EmbeddedGivingAnalytics",["$log","scAnalytics",function(a,i){var o=this;this.campaign=null,this.init=function(e){o.campaign=e},this.track=function(e,n){if(o.campaign)if(e){var t=null;switch(o.campaign.getEmbeddedGiving()){case"modal":t=e.modal;break;case"inline":case"nested":t=e.inline;break;default:return void a.warn("[EmbeddedGivingAnalytics:track] default case")}a.debug("[EmbeddedGivingAnalytics:track] track: ",t),i.track(t,n)}else a.debug("[EmbeddedGivingAnalytics:track] no EG event present");else a.debug("[EmbeddedGivingAnalytics:track] no campaign present")}}]),angular.module("classy").service("EmbeddedGivingBridgeGA4",["$log","$stateParams","$window","EmbeddedGivingUtil",function(t,e,n,a){var i=this,o="early-access:eg2-ga4",r=(this.INIT_KEY="embedded-giving:bridge:ga4:init",!(this.EVENT_KEY="embedded-giving:bridge:ga4:event"));function s(e){n.parent?e&&!_.isEmpty(e)&&e.key?(t.log("[EGBridge:GA4:postMessage] posting!!! ",e),n.parent.postMessage(e,"*")):t.debug("[EGBridge:GA4:postMessage] invalid msg"):t.warn("[EGBridge:GA4:postMessage] no parent window")}this.init=function(){i.canInit()&&(i.hasDomainMask()?s({key:i.INIT_KEY,config:{id:SC.clientGA4Id,domainMask:SC.organization.domain_mask.parent_domain}}):s({key:i.INIT_KEY,config:{id:SC.clientGA4Id}}),r=!0)},this.isInit=function(){return r},this.canInit=function(){return i.hasClientGA4Id()?i.hasOrgTag()?i.hasUrlParam()?!!a.isInIframe()||(t.debug("[EGBridge:GA4:canInit] not in an iframe"),!1):(t.debug('[EGBridge:GA4:canInit] url param "egga4" required'),!1):(t.debug("[EGBridge:GA4:canInit] org tag "+o+" required"),!1):(t.debug("[EGBridge:GA4:canInit] SC.clientGA4Id required"),!1)},this.hasClientGA4Id=function(){return SC&&SC.clientGA4Id},this.hasDomainMask=function(){return SC&&SC.organization&&SC.organization.domain_mask&&SC.organization.domain_mask.parent_domain},this.hasOrgTag=function(){return SC&&SC.organization&&SC.organization.tags&&SC.organization.tags.length&&SC.organization.tags.includes(o)},this.hasUrlParam=function(){return!!e.egga4},this.track=function(e,n){e?s({key:i.EVENT_KEY,event:e,data:n}):t.debug("[EGBridge:GA4:track] param eventName required")}}]),angular.module("classy").service("EmbeddedGivingColors",["$log","$filter",function(a,n){var i=this,o="rgba(0,0,0,1.0)";this.theme=null,this.primary=null,this.accent=null,this.accentOpaque=null,this.init=function(e){e?(this.theme=e,this.primary=this.getPrimary(),this.accent=this.getAccent(),this.accentOpaque=this.getAccentOpaque()):a.warn("[EmbeddedGivingColors:init] no theme present")},this.getPrimary=function(e){return e||i.theme?_.get(i.theme,"current.styles.primaryColor")||o:(a.warn("[EmbeddedGivingColors:getPrimary] no theme present"),o)},this.getAccent=function(e){var n,t,e=e||i.theme;return e?(n="rgba(0,0,0,.12)",(e=i.getPrimary(e))&&(-1!==e.indexOf("rgba")?((t=e.split(","))[t.length-1]=".12)",n=t.join(",")):-1!==e.indexOf("rgb")&&((t=e.split(")"))[t.length-1]=".12)",n=t.join(","))),n):(a.warn("[EmbeddedGivingColors:getAccent] no theme present"),o)},this.getAccentOpaque=function(e){var e=e||i.theme;return e?(e=i.getPrimary(e)).match?n("adjustColorOpacity")(e,".12").split("'").join(""):e:(a.warn("[EmbeddedGivingColors:getAccentOpaque] no theme present"),o)}}]),angular.module("classy").service("EmbeddedGivingDAL",["$http",function(t){var n=this;this.cache={dateLastCached:null,amount:1,rawAmount:1,fotAmount:0,currency:"USD",frequency:"one-time",dedication:null,isFeeOnTopEnabled:null,zipCode:null,email:null,firstName:null,lastName:null,isContactMeEnabled:null,checkoutTotal:1,transactionId:null},this.initCache=function(e){e=e||{};e.dateLastCached=+new Date,n.updateCache(e)},this.getCached=function(e){return n.cache[e]},this.updateCache=function(e){n.cache=_.extend({},n.cache,e)},this.resetCache=function(){n.cache={dateLastCached:null,donation:{},contact:{},transaction:{}}},this.getFullCachedAmount=function(){return n.getCached("rawAmount")+n.getCached("fotAmount")},this.checkout=function(e,n){return t.post("/frs-api/campaign/"+e+"/eg-checkout",n)},this.ia=function(e){var n={screen_height:screen.height||0,screen_width:screen.width||0};return t.get("/frs-api/campaigns/"+e+"/intelligent-ask",{params:n})}}]),angular.module("classy").service("EmbeddedGivingLocations",["$location","$state","EmbeddedGiving",function(t,n,a){this.getViewByParam=function(){var e=t.search().egp,n=null;return n=(n=e?a.getViewByParam(e):n)||a.defaultView},this.updateParam=function(e){t.search().egp!==e&&n.go("frs.donation.checkout",{egp:e},{notify:!1})}}]),angular.module("classy").service("EmbeddedGivingMessenger",["$log","$timeout","$window","$location","cpIntelligentAsk","scAnalytics","scOrganizationsService",function(d,u,t,m,g,p,f){var h=this,v="embedded-giving",b="donation:set",y="open",k="track-event",w="navigate";function a(e){if(e&&e.data){e=e.data||"";if(_.isString(e)&&0<=e.indexOf(v))if(e&&_.isString(e))if(0<=e.indexOf(k)){var n=e,t=(d.debug("[EmbeddedGivingMessenger:__handleEventMessage] event message: ",n),m.search().eid);n.endsWith(y+":"+t)&&(d.debug("[EmbeddedGivingMessenger:__handleEventMessage] open event: ",n),SC.heapId&&p.initHeap(),f.getTag("early-access:ab-testing",!0)&&p.initOptimizely(),h.campaign)&&h.campaign.hasIntelligentAsk()&&g.init(h.campaign),d.debug("[EmbeddedGivingMessenger:__handleEventMessage] event message: ",n),p.track(n)}else if(0<=e.indexOf(w)){var a,t=e;d.debug("[EmbeddedGivingMessenger:__handleNavigateMessage] navigate message: ",t),t&&t.length?(t=t.split(":"))&&t.length<=2?d.debug("[EmbeddedGivingMessenger:__handleNavigateMessage] (invalid dest): ",t):(t=t.slice(2),(n=t&&t.length&&t[0])?"faq"===n?(a=1===t.length,u(function(){var e;e=a,h.$scope&&_.isFunction(h.$scope.openFAQOverlay)&&_.isFunction(h.$scope.closeFAQOverlay)?e?(d.debug("[EmbeddedGivingMessenger:navigateFAQ] opening FAQ"),h.$scope.openFAQOverlay()):(d.debug("[EmbeddedGivingMessenger:navigateFAQ] closing FAQ"),h.$scope.closeFAQOverlay()):d.debug("[EmbeddedGivingMessenger:navigateFAQ] required $scope not present")})):"do"===n&&u(function(){h.$scope&&_.isFunction(h.$scope.goDonationRoot)?(d.debug("[EmbeddedGivingMessenger:navigateDonationRoot] navigating donation root"),h.$scope.goDonationRoot()):d.debug("[EmbeddedGivingMessenger:navigateDonationRoot] required $scope not present")}):d.debug("[EmbeddedGivingMessenger:__handleNavigateMessage] (empty destination)")):d.debug("[EmbeddedGivingMessenger:__handleNavigateMessage] (invalid - empty)")}else if(0<=e.indexOf(b)){d.debug("[EmbeddedGivingMessenger:__handleDonationMessage] message: ",e);var i=e.split("?");if(i&&2!==!i.length){i=i[1].split("&");for(var o={currency:null,recurring:null,amount:null,zip:null,email:null,first:null,last:null},r=void 0,s=void 0,l=void 0,c=0;c<i.length;c+=1)r=i[c].split("="),s=r[0],l=r[1],_.has(o,s)&&(o[s]=l);u(function(){o.currency&&(h.$scope.MODEL.payment.raw_currency_code=o.currency),h.$scope.MODEL.frequency=+o.recurring?"monthly":"one-time",o.amount&&(h.$scope.MODEL.items[0].raw_final_price=+o.amount),o.zip&&(h.$scope.MODEL.billing_postal_code=o.zip),o.email&&(h.$scope.MODEL.member_email_address=o.email),o.first&&(h.$scope.META.member_first_name=o.first),o.last&&(h.$scope.META.member_last_name=o.last)})}else d.debug("[EmbeddedGivingMessenger:__handleDonationMessage] invalid message: ",e)}}else d.debug("[EmbeddedGivingMessenger:processMessage] (invalid - empty)")}function i(e){t.parent?(d.debug("[EmbeddedGivingMessenger:postMessage] posting message to parent window: ",e),t.parent.postMessage(e,"*")):d.warn("[EmbeddedGivingMessenger:postMessage] no parent window")}this.stripePublishableKey=SC.stripe_publishable_key,this.hasSDK=!1,this.init=function(e,n){e?(this.$scope=e,this.$state=n,this.campaign=e.campaign,this.model=e.MODEL,this.meta=e.META,h.$scope.$watchGroup(["MODEL.payment.raw_currency_code","MODEL.frequency","META.summaryAmount","MODEL.billing_postal_code","META.member_first_name","META.member_last_name","MODEL.member_email_address"],function(){h.postMessageDonationState()}),t.addEventListener("message",a),this.$scope.$on("$destroy",function(){t.removeEventListener("message",a),delete h.$scope,delete h.$state})):d.warn("[EmbeddedGivingMessenger:init] $scope is required")},this.postMessage=i,this.postMessageDebounce=_.debounce(i,500),this.postMessageDonationState=function(){var e,n,t,a,i,o,r,s,l;this.campaign&&this.campaign.current&&this.campaign.current.id?(e=v+":"+this.campaign.current.id+":donation:modal:state?",n=[],t=this.model.payment.raw_currency_code,a=this.model.frequency,i=_.get(this.model,"items[0].raw_final_price"),o=this.model.billing_postal_code,r=this.model.member_email_address,s=this.meta.member_first_name,l=this.meta.member_last_name,t&&n.push("currency="+t),a&&n.push("monthly"===a?"recurring=1":"recurring=0"),i&&n.push("amount="+i),o&&n.push("zip="+o),r&&n.push("email="+r),s&&n.push("first="+s),l&&n.push("last="+l),this.postMessageDebounce(e+n.join("&"))):d.warn("[EmbeddedGivingMessenger:postMessageDonationState] no campaign")},this.postMessageDonationComplete=function(){this.campaign&&this.campaign.current&&this.campaign.current.id?this.postMessage(v+":"+this.campaign.current.id+":donation:modal:complete"):d.warn("[EmbeddedGivingMessenger:postMessageDonationComplete] campaign not present")},this.postMessageAbTesting=function(){this.postMessage({ab_testing:SC.ab_testing,type:"ab_testing_data"})},this.postMessageIframeLoad=function(){var e=m.search().eid,n=(d.debug("[EmbeddedGivingMessenger:postMessageIframeLoad] posting message to parent window: ",e),i({type:"embedded-giving:iframe:loaded",eid:e}),t.addEventListener("message",function(e){"embedded-giving:iframe:loaded:ack"===e.data&&(u.cancel(n),g.hasEmbeddedSDK=!0)}),u(function(){g.hasEmbeddedSDK=!1},3e3))}}]),angular.module("classy").service("EmbeddedGivingPaths",["EmbeddedGivingPayPaths",function(e){var n="global/embedded-giving/",t=n+"components/",a=n+"views/partials/",i="/static/global/images/embedded-giving/";this.root=n+"views/eg.views",this.views={donatingMask:n+"views/eg.views.donating-mask",donation:n+"views/eg.views.donation",faq:n+"views/eg.views.faq",preview:n+"views/eg.views.preview",thankYou:n+"views/eg.views.thank-you"},this.partials={donationRoot:a+"eg.views.partials.donation-root",donationOptions:a+"eg.views.partials.donation-options",donationPaymentMethods:a+"eg.views.partials.donation-payment-methods",donationRecurringNudge:a+"eg.views.partials.donation-recurring-nudge",donationBillingAddress:a+"eg.views.partials.donation-billing-address",donationContact:a+"eg.views.partials.donation-contact",donationDtD:a+"eg.views.partials.donation-dtd",donationConfirmation:a+"eg.views.partials.donation-confirmation",comment:a+"eg.views.partials.donation-comment",faqOverlay:a+"eg.views.partials.faq-overlay"},this.pay=e.views,this.images={recurringNudge:i+"embedded-giving-recurring-nudge.svg",achLogo:i+"embedded-giving-logo-ach.svg",amexLogo:i+"embedded-giving-logo-amex.svg",discoverLogo:i+"embedded-giving-logo-discover.svg",mastercardLogo:i+"embedded-giving-logo-mastercard.svg",visaLogo:i+"embedded-giving-logo-visa.svg",shieldIcon:i+"embedded-giving-shield-icon.svg",comment:i+"embedded-giving-comment.svg",dedication:i+"embedded-giving-dedication.svg",designation:i+"embedded-giving-designation.svg",employeeMatching:i+"embedded-giving-employee-matching.svg"},this.components={campaignWhitelisting:t+"campaign-whitelisting/eg.components.campaign-whitelisting",donationCurrency:t+"donation-currency/eg.components.donation-currency",donationDedication:t+"donation-dedication/eg.components.donation-dedication"}}]),angular.module("classy").service("EmbeddedGivingUtil",["EG_EVENTS","$window",function(i,t){var a=this;this.parseFroalaText=function(e){return e&&e.split("<p>").join("").split("</p>").join("")},this.getPrimaryColorFromTheme=function(e){return _.get(e,"current.styles.primaryColor")||"rgba(0,0,0,1.0)"},this.getBackgroundColorFromTheme=function(e){var n,e=a.getPrimaryColorFromTheme(e),t="rgba(0,0,0,.12)";return e&&(-1!==e.indexOf("rgba")?((n=e.split(","))[n.length-1]=".12)",t=n.join(",")):-1!==e.indexOf("rgb")&&((n=e.split(")"))[n.length-1]=".12)",t=n.join(","))),t},this.getLogoUrl=function(e,n){var t=null,e=_.find(e.block_sections,{name:"header"});return e&&e.blocks&&(e=e.blocks[0]),_.get(e,"logo.src")||_.get(e,"logo.asset.src")?t=_.get(e,"logo.src")||_.get(e,"logo.asset.src"):_.get(n,"current.styles.headerLogo.src")&&(t=n.current.styles.headerLogo.src),t},this.getPaymentTypeFromCheckoutResponse=function(e){var n="";return"Dwolla"!==e.payment_gateway&&"Stripe"!==e.payment_gateway||!n.account_number?"BrainTree"!==e.payment_gateway||e.card_last_four?e.card_last_four?n="Credit Card":"Classy Pay"===e.payment_gateway&&"PAYPAL"===e.payment_source&&(n="PayPal Commerce"):n="PayPal":n="ACH",n},this.getDonationAmountMax=function(e){var e=e&&e["donation-levels"],n=0;return e&&e.length&&_.forEach(e,function(e){e.display_on_page&&"Custom"!=e.amount&&e.amount>n&&(n=e.amount)}),n},this.getDonationAmountMin=function(e){var e=e&&e["donation-levels"],n=1e21;return e&&e.length&&_.forEach(e,function(e){e.display_on_page&&"Custom"!=e.amount&&e.amount<n&&(n=e.amount)}),n},this.getIntelligentAskEventData=function(e,n){var t,a,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{oneTime:[],recurring:[]},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r={};return _.isEmpty(e)||(r={organizationId:SC.organization.id,campaignId:SC.campaign.id,campaignType:SC.campaign.type,eg:e.getEmbeddedGiving()},_.isEmpty(n)||(n.items&&n.items.length&&(r.default_value=n.items[0].raw_final_price),n.payment&&n.payment.raw_currency_code&&(r.currencyCode=n.payment.raw_currency_code),r.dcf_enabled=!!n.fee_on_top),i.defaultFrequency&&(r.default_frequency=i.defaultFrequency),i.urlAmount&&(r.url_amount_used=i.urlAmount),i.amount&&(r.amount=i.amount),i.transactionId&&(r.transactionId=i.transactionId),i.frequency&&(r.frequency=i.frequency),i.oneTime&&i.oneTime.length&&(t=[],angular.forEach(i.oneTime,function(e){t.push(e.amount)}),t)&&t.length&&(r.amounts_onetime=t.toString()),i.recurring&&i.recurring.length&&(a=[],angular.forEach(i.recurring,function(e){a.push(e.amount)}),a)&&a.length&&(r.amounts_recurring=a.toString()),r.iaa_enabled_onetime=e.hasIntelligentAskOneTime(),r.iaa_enabled_recurring=e.hasIntelligentAskRecurring(),r.iaa_amount_onetime=o.oneTime,r.iaa_amount_recurring=o.recurring,o.grid=o.grid||{},r.iaa_amounts_onetime=(o.grid.oneTime||[]).toString(),r.iaa_amounts_recurring=(o.grid.recurring||[]).toString()),r},this.getAnalyticsEventData=function(e){var n={eg:!0,organizationId:SC.organization.id,campaignType:SC.campaign.type,campaignId:SC.campaign.id};return _.isEmpty(e)||(e.items&&e.items.length&&(n.donationAmount=e.items[0].raw_final_price),e.payment&&e.payment.raw_currency_code&&(n.currencyCode=e.payment.raw_currency_code)),n},this.getGTMEventLabelMapper=function(){for(var e,n=_.values(i),t={},a=0;a<n.length;a+=1)e=n[a],_.forEach(e,function(e){t[e]=e});return t},this.getFormErrorCount=function(e){var n=[];return e&&e.$$controls&&e.$$controls.length&&e.$$controls.forEach(function(e){e.$$controls&&e.$$controls.length?n.push.apply(n,(e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(a.getFormErrorCount(e))):e.$invalid&&n.push({$name:e.$name.replace(/_/g," "),$element:e.$$element})}),n},this.hasDoubleTheDonation=function(){return SC&&SC.organization&&SC.organization.has_double_the_donation_employer_match},this.hasValidDigitalWalletErrors=function(e){var n=0;return e.find(function(e){return"credit card"===e.$name})&&(n+=1),e.find(function(e){return"billing address auto"===e.$name})&&(n+=1),e.find(function(e){return"honoree first name"===e.$name})&&(n+=1),e.find(function(e){return"honoree last name"===e.$name})&&(n+=1),e.length===n},this.isInIframe=function(){return t.parent&&t.location!==t.parent.location},this.isIframeWhitelisted=function(e){var n;return!(!e||!e.hasWhitelistedUrl()||!a.isInIframe())&&(n=t.parent.location&&t.parent.location.origin,e.hasUrlWhitelisted(n))}}]),(()=>{function e(l,c,d,u,m,g,p,f,h,v,b,y,k,w,C,S,$,T,E,x,D,A,M,P,I,O,F,L,q,R,B,N,U,j,V,G){return function(e,n){var o=(n||d).$new();if(e&&e.fundraisingPages&&(o.lastPageOfFundraisers=_.get(e.fundraisingPages,"data.last_page",1),o.fundraisingPagesList=_.get(e.fundraisingPages,"data.data",[])),!u.includes("**.create-fundraising-page")){n={options:e,returnAddr:{state:u.current.name,params:u.params,url:g.location.href}};if(B.set("createFundraisingPageFlowConfig",n),e&&e.teamId)return void u.go("frs.team.index.create-fundraising-page",{campaignId:E.active.current.id,fundraisingTeamId:e.teamId});if(o.multipleFundraisingCurrentPage=1,!e||!e.startingView){try{u.go("frs.landing.name.campaign.create-fundraising-page",{campaignId:E.active.current.id,amount:Math.round(e.goal)})}catch(e){g.location.assign(L.getUrl({pageType:"campaign"}).url+"/fundraiser/create")}return}}o.optIn={opt_in_wording:_.get(x.active,"current.opt_in_wording","It's okay to contact me in the future."),opted_in:!1},p.track("fundraising-page/create/begin");var t=B.get("createFundraisingPageFlowConfig")||{},a=Object.assign({},e,t.options);function i(e){e=0<arguments.length&&void 0!==e?e:1;return _.get(F,"active.current.id")?l({method:"GET",url:"/frs-api/campaign/"+E.active.current.id+"/fundraising-pages",params:{filter:"member_id="+F.active.current.id,status:"active",page:""+e,per_page:5,aggregates:!0}}):c.reject()}o.options=a,o.campaign=E.active,o.block=T.getBlockByType("fundraiser"),o.team=P.active,_.isNumber(u.params.amount)||(u.params.amount=o.campaign.current.default_page_goal),M.active=new A,o.fundraiser=M.active,o.fundraiser.current={goal:a.goal||u.params.amount||o.campaign.current.default_page_goal,intro_text:o.campaign.current.default_page_appeal,fundraising_team_id:a.teamId||null,logo:o.block.current.defaultFundraiserLogo,alias:"",campaign_id:o.campaign.current.id,designation_id:o.campaign.current.designation_id},o.list={questions:[],answers:{}},o.ui={primaryColor:_.get(q,"active.current.styles.primaryColor","#36bff7"),processing:!1,questionsLoading:!0,submitted:!1,currentView:null,isFinalView:null,previousView:null},o.getPages=function(e){return i(e)};var r={closeOnClickOut:!(o.hideCustomQ=function(){var e=_.find(o.list.questions,function(e){return"text_opt_in"==e.tag}),n=_.find(o.list.questions,function(e){return"cellphone"==e.tag});return!(!e||n||1!=o.list.questions.length)}),startingView:"indiv.details",animate:!0,onClose:function(){if("indiv.success"===o.ui.currentView)d.$broadcast("bring_home_the_bacon");else if("indiv.exit"===o.ui.currentView||"indiv.auth.switch"===o.ui.currentView)o.flow.abort(),o.closeOutPromise&&o.closeOutPromise.resolve();else if("indiv.existing-page"!==o.ui.currentView&&"indiv.join-team.success"!==o.ui.currentView&&"indiv.welcome-back"!==o.ui.currentView)return o.ui.previousView=o.ui.currentView,o.flow.to("indiv.exit"),o.closeOutPromise=c.defer(),o.closeOutPromise.promise},transitionWhitelist:["frs.fundraiser.index","frs.team.index"],matte:"#f5f5f5"};function s(){F.active.current.id?(r.startingView=o.flow.getStartingView(),D.open("createFundraisingPageFlow",r),"indiv.auth.switch"==o.ui.currentView&&o.flow.to("indiv.logo")):(o.ui.currentView="indiv.auth.switch",r.startingView="indiv.auth.switch",D.open("createFundraisingPageFlow",r))}return o.authOptions={callback:function(){i().then(function(e){var n,t=null;e&&e.data.total&&(t=e.data.data.find(function(e){return"active"===e.status}),o.lastPageOfFundraisers=e.data.last_page,o.fundraisingPagesList=e.data.data),t?(a&&a.teamId&&!E.active.current.allow_duplicate_fundraisers?(e=a.teamId,n=t.fundraising_team_id,o.fundraisingPage=t,o.newTeam=_.get(P,"teams["+e+"].current",{}),o.teamId=e,o.currentTeam=_.get(P,"teams["+n+"].current",{}),n&&n==e?(u.go("frs.team.index",{fundraisingTeamId:e}),o.flow.to("indiv.join-team.success","slideLeft")):(o.ui.currentView="indiv.join-team",r.startingView="indiv.join-team",D.open("createFundraisingPageFlow",r))):E.active.current.allow_duplicate_fundraisers?(o.ui.currentView="indiv.multiple-pages",r.startingView="indiv.multiple-pages",D.open("createFundraisingPageFlow",r)):(u.go("frs.fundraiser.index",{fundraisingPageId:t.id}),p.addEventProperties({existing_fundraiser:!0}),o.flow.to("indiv.existing-page")),_.forEach(M.userFundraisers,function(e){e.current.id!==t.id&&(e=e.current.id,delete M.fundraisers[e])})):(o.ui.currentView="indiv.details",r.startingView="indiv.details",D.open("createFundraisingPageFlow",r))}).catch(function(){o.ui.currentView="indiv.logo",o.flow.to("indiv.logo")})},exitModal:!0},o.flow={views:[],addView:function(e){return o.flow.views.push(e),this},template:function(e){return"global/flows/create-fundraising-page/views/"+e+"/template"},getStartingView:function(){return a&&a.startingView?a.startingView:F.active.current.id?"indiv.details":void 0},getNextView:function(){switch(o.ui.currentView){case"indiv.details":return"indiv.logo";case"indiv.logo":return o.ui.questionsLoading?"indiv.wait":!o.hideCustomQ()&&!!o.list.questions.length&&"indiv.questions";case"indiv.success":case"indiv.existing-page":case"indiv.join-team":case"indiv.exit":return!1;default:return!1}},isFinalView:function(){return!o.flow.getNextView()},to:function(e,n,t,a,i){D.to(e,n,t,a,i),o.ui.currentView=e,o.ui.isFinalView=o.flow.isFinalView()},next:function(){var e=o.flow.getNextView();e?o.flow.to(e):o.flow.end()},end:function(){var n,e;o.flow.to("indiv.wait"),n=a,o.ui.submitted||(o.ui.submitted=!0,o.ui.processing=!0,o.fundraiser.current.started_at=R.justDate(new Date,{inclusive:!1}),o.fundraiser.current.endDate&&(o.fundraiser.current.ended_at=R.justDate(o.fundraiser.current.endDate,{inclusive:!1,campaignTime:!0})),e=F.active.current,o.fundraiser.current.member_id=e.id,o.fundraiser.current.is_tribute||(o.fundraiser.current.alias=e.first_name+" "+e.last_name),o.fundraiser.current.title=e.first_name+" "+e.last_name,o.fundraiser.current.answers=[],_.forEach(o.list.answers,function(e,n){var t=n.substring(4),n=e;null!=e&&o.list.questions.length&&null!==(n=_.find(o.list.questions,function(e){return e.id==t&&"text"===e.type})?e.replace(/<\/?p>|&nbsp;/g,"").trim()||null:n)&&o.fundraiser.current.answers.push({question_id:t,answer:n})}),(()=>o.fundraiser.current.logo?o.fundraiser.current.logo.isProfileImg?l.get("/frs-api/asset/profile").then(function(e){e=O.hydrate(e.data);o.fundraiser.current.logo=new I(e)}):o.fundraiser.current.logo.on("save"):c.resolve())().then(function(){return V.createToken("CREATEFUNDRAISINGPAGE")}).then(function(e){return e?(e={campaignId:o.campaign.current.id,token:e},o.fundraiser.current.logo_id=_.get(o,"fundraiser.current.logo.assetId",null),n.teamId&&(e.team=!0,e.teamId=n.teamId),o.fundraiser.create(e,o.optIn)):Promise.reject("RECAPTCHA")}).then(function(e){o.custom_url&&N.postSlug("fundraising-pages",e.data.id,o.custom_url),p.eventBeacon({category:"frs "+o.campaign.current.type,action:"creation",label:"New Fundraising Page",meta:U.getLatest(o.campaign.current.id),entity_id:M.active.current.id,fundraiser:M.active.current}),p.track("fundraising-page/create/complete"),o.flow.success(e)}).catch(function(){o.ui.processing=!1,o.ui.error="Sorry, your page could not be created right now. Please try again later.",G(o.ui.error,"error"),o.flow.abort()}))},success:function(e){M.add(e.data),o.ui.processing=!1,o.flow.to("indiv.success"),u.go("frs.fundraiser.index",{fundraisingPageId:e.data.id,is_new:!0})},abort:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(M.active=null,delete M.userFundraisers[void 0],void 0),n=_.isEmpty(e)?t.returnAddr:e;if(e&&e.state&&D.whitelist(e.state),n)if("frs.landing.name.campaign"===n.state||"frs.team.index"===n.state)g.location.assign("/campaign/c"+o.campaign.current.id);else try{u.go(n.state,n.params)}catch(e){g.location.assign(n.url)}else u.includes("frs.landing")||u.includes("frs.team")||u.includes("frs.fundraiser")?(D.whitelist(u.$current.parent.name),u.go("^")):g.location.assign("/campaign/c"+o.campaign.current.id)}},o.flow.addView(new h(o)).addView(new v(o)).addView(new b(o)).addView({id:"indiv.wait",templateUrl:o.flow.template("wait"),maxWidth:300}).addView(new C(o)).addView(new k(o)).addView(new w(o)).addView(new y(o)).addView(new S(o)).addView(new $(o)).addView(new f(o)),o.ui.currentView=o.flow.getStartingView(),o.ui.isFinalView=o.flow.isFinalView(),D.register("createFundraisingPageFlow",o,o.flow.views),m(function(){j.checkOrganizationRestrictions(s)}),o.fundraiser}}e.$inject=["$http","$q","$rootScope","$state","$timeout","$window","scAnalytics","CFPAuthSwitchView","CFPDetailsView","CFPLogoView","CFPQuestionsView","CFPSuccessView","CFPExistingPageView","CFPExitView","CFPJoinTeamView","CFPMultiplePagesView","CFPWelcomeBackView","scBlocksService","scCampaignsService","scOrganizationsService","scFlowModalService","scFundraisingPageModel","scFundraisingPagesService","scFundraisingTeamsService","scImg","scImgAssetsService","scMembersService","scPagesService","scThemesService","scTimeMachineService","scTransientsService","scDomainsService","scSourceCodes","countryBlockService","recaptchaService","scBanner"],angular.module("classy").factory("createFundraisingPageFlow",e)})(),(()=>{function e(o,r,s,l,c,d,u,m,g,p,f,h,v,b){return function(e,n){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=c.$new(),i=(a.authFlow=e,a.orgId=_.get(m,"active.current.id",null),a.campaignId=_.get(u,"active.current.id",null),a.original_url=d.location.href,a.password_reset_code=r.search().password_reset_code,a.is_angularjs_mode=!0,a.member_id=r.search().member_id,a.state="{}",_.isEmpty(SC.member)||(a.orgId=m.active.current.id,a.campaignId=u.active.current.id,a.ui={isCampaign:function(){return u.active},campaignImg:function(){return _.get(p,"active.current.headerLogo.src",null)}}),a.reroute=function(){_.isFunction(n)?(a.hardExit=!0,n()):_.isString(n)?(g.close(),n!=d.location.href?d.location.href=n:d.location.reload()):"/oops/"===r.path().substring(0,6)&&n?d.location.href="/profile":g.close()},a.sso=function(){Classy.ready(function(){Classy.parseDom(function(e){var n;e.authorization_code?(n={},"development"===SC.env&&(n={xhrFields:{withCredentials:!0}}),o(Object.assign({method:"GET",url:"/oauth2/iframe_callback?code="+e.authorization_code},n)).then(function(e){s.log("SSO success: "),s.log(r.search().redirect,e.data);var n=e.data.member.created_at;moment().diff(n,"seconds")<5?h.eventBeacon({category:"frs",action:"completion",label:"Sign Up"}):h.eventBeacon({category:"frs",action:"completion",label:"Sign in"});try{__adroll.record_user({adroll_segments:"member"})}catch(e){}e.data.member&&f.initMember(e.data.member),s.log("rerouting"),a.reroute()})):e.idp_url?d.top.location.assign(e.idp_url):(s.log("SSO failed: "+e.error),c.SC.status.banner={type:"error",msg:"I'm sorry, there was a problem signing you in."})})})},a.flow={template:function(e){return"global/flows/create-fundraising-page/views/"+e+"/template"},abort:function(){var e=new URLSearchParams(window.location.search);e.delete("source"),e.delete("password_reset_code"),d.location.assign(window.location.href.split("?")[0]+"?"+e.toString())},to:function(e){g.to(e),a.ui.currentView=e}},g.register("auth",a,[{id:"auth",templateUrl:"global/flows/auth/views/template",maxWidth:380},Object.assign(new v(a),{id:"auth.exit"})]),a.ui={currentView:"auth",primaryColor:_.get(p,"active.current.styles.primaryColor","#36bff7")},g.open("auth",{closeOnClickOut:!1,startingView:"auth"}).then(function(){if(t&&!a.hardExit&&"auth"===a.ui.currentView)return a.ui.previousView="auth",a.flow.to("auth.exit"),a.closeOutPromise=l.defer(),a.closeOutPromise.promise;a.closeOutPromise&&a.closeOutPromise.resolve(),b(function(){a.flow.abort()})}).catch(function(){}),g.deferred.caught=!0,a.$on("flowModal.load",function(){a.sso(),a.$on("flowModal.transitionStart",i())}))}}e.$inject=["$http","$location","$log","$q","$rootScope","$window","scCampaignsService","scOrganizationsService","scFlowModalService","scThemesService","scSsoService","scAnalytics","CFPExitView","$timeout"],angular.module("classy").factory("authFlow",e)})(),(()=>{function F(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(u,m,g,p,f,h,v,b,y,k,w,C,S,$,T,E,x,D,A,M,P,I,O){return function(r){var s=g.$new(),e=[],n="global/flows/create-fundraising-team/views",t=_.get(r,"goal",!1),l=(s.campaign=y.active,s.block=b.getBlockByType("team"),s.campaign.current.type),a=(s.custom_url=null,$.active=new S({},!1),s.team=$.active,s.team.current={description:s.campaign.current.default_team_appeal,goal:t||s.campaign.current.default_team_goal,logo:s.block.current.defaultTeamLogo,campaign_id:s.campaign.current.id,team_lead_id:null},s.displaySubteamOptions=A.active.current.tags.some(function(e){return"allow-subteams"===e}),s.designationOptions={fieldName:"program",valueKey:"id",labelKey:"name",required:!1,check:{enabled:!0,condition:"$scope.form.program.$dirty && $scope.form.program.$valid && $scope.form.program.$touched"}},s.optIn={opt_in_wording:_.get(A.active,"current.opt_in_wording","It's okay to contact me in the future."),opted_in:!1},s.team.current.team_policy={allow_subteams:s.displaySubteamOptions},s.showQuestions=function(){return!1},s.ui={processing:!1,primaryColor:_.get(E,"active.current.styles.primaryColor","#36bff7"),questionsLoading:!0,questionsPromise:null,inputFocus:!1},e.push({id:"team.details",templateUrl:n+"/details",maxWidth:400,context:s.$new(),eventBeacon:function(){D.eventBeacon({category:"frs "+l,action:"triggers",label:"Create Your Team"})}}),s.froalaOptions=w({type:"textarea"},{charCounterCount:!0,charCounterMax:O.DEFAULT_PAGE_APPEAL}),e.push({id:"team.logo",templateUrl:n+"/logo",maxWidth:385,context:s.$new(),eventBeacon:function(){D.eventBeacon({category:"frs "+l,action:"triggers",label:"Choose Team Photo"})}}),e.push({id:"team.logo.switch",templateUrl:n+"/logo-switch",maxWidth:415}),s.getFacebookProfilePic=function(){v.initFacebook(_.get(SC,"organization.domain_mask.facebook_app_id",0)||_.get(SC,"fbid",0)).then(function(e){e.getAuthResponse(function(){})})},e.push({id:"team.logo.mediaManager",template:"<div data-sc-media-manager='mmOptions'></div>",maxWidth:980,context:s.$new()}),s.mmOptions={title:"Choose your photo",image:{model:"team.current.logo",minWidth:300,minHeight:300,crop:{width:250,height:250,title:"Crop your image",blockClass:"fundraising-page-logo-crop",cancel:"team.logo.mediaManager"},guide:{title:"Team photo",message:"This will appear on your team page and in search results.",size:"300x300"}},buttons:{custom:{action:"mmCancel()",text:"Cancel"},submit:{action:"mmSubmit($images)"}},userAccess:"userAccess"},m.defer()),i=(s.userAccess=a.promise,s.$watch(function(){return _.get(C,"active.current.id")},function(e){e&&a.resolve()}),s.mmCancel=function(){k.to("team.logo","slideRight")},s.mmSubmit=function(e){s.team.current.logo=e[0],k.to("team.logo","slideRight")},s.displaySubteamOptions&&e.push({id:"team.subteams",templateUrl:n+"/subteams",maxWidth:415,context:s.$new()}),s.allTeams=[],s.campaign.getFundraisingTeams("?with=team_policy").then(function(e){s.allTeams=e.data.data.filter(function(e){return e.team_policy&&e.team_policy.allow_subteams})}),s.$new()),o=(e.push({id:"team.questions",templateUrl:n+"/questions",maxWidth:460,context:i,eventBeacon:function(){D.eventBeacon({category:"frs "+l,action:"triggers",label:"Complete Custom Questions"})}}),e.push({id:"team.fundraising-page.questions",templateUrl:n+"/fundraising-page-questions",maxWidth:460,context:i,eventBeacon:function(){D.eventBeacon({category:"frs "+l,action:"triggers",label:"Complete Required Fundraising Page Questions"})}}),s.questions=[],s.answers={},s.fundraising_page_answers={},e.push({id:"team.fundraising-page.program-designation",templateUrl:n+"/select-program-designation",maxWidth:460}),0);function c(){switch(s.ui.currentView){case"team.details":case"team.auth.switch":return"team.logo";case"team.logo":return s.displaySubteamOptions?"team.subteams":s.ui.questionsLoading?"team.wait":s.questions.length||s.showQuestions()?"team.questions":s.fundraisingPageQuestions.length?"team.fundraising-page.questions":1<s.campaign.current.designations_count?"team.fundraising-page.program-designation":null;case"team.subteams":return s.ui.questionsLoading?"team.wait":s.questions.length||s.showQuestions()?"team.questions":s.fundraisingPageQuestions.length?"team.fundraising-page.questions":1<s.campaign.current.designations_count?"team.fundraising-page.program-designation":null;case"team.questions":return s.fundraisingPageQuestions.length?"team.fundraising-page.questions":1<s.campaign.current.designations_count?"team.fundraising-page.program-designation":null;case"team.wait":case"team.fundraising-page.questions":return 1<s.campaign.current.designations_count?"team.fundraising-page.program-designation":null;default:return null}}!function n(){s.ui.questionsPromise=u({method:"GET",url:"/frs-api/campaign/"+s.campaign.current.id+"/questions"}).then(function(e){var n=m.defer();return f(function(){n.resolve(e)},1e4),n.promise}).then(function(e){s.fundraisingPageQuestions=_.filter(_.get(e,"data.data",[]),{location:"page_creation"}),s.allQuestions=_.filter(_.get(e,"data.data",[]),{location:"team_creation"}),s.customQuestions=_.sortBy(_.filter(s.allQuestions,{tag:null}),"weight"),s.questions=_.reject(s.allQuestions,{tag:null}),(e=s.questions).push.apply(e,(e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(s.customQuestions)),s.ui.questionsLoading=!1,"team.wait"===s.ui.currentView&&(s.questions.length||s.showQuestions()?(k.to("team.questions"),s.ui.currentView="team.questions",s.ui.isFinalView=!c()):s.fundraisingPageQuestions.length?(k.to("team.fundraising-page.questions"),s.ui.currentView="team.fundraising-page.questions",s.ui.isFinalView=!c()):s.next())}).catch(function(e){e.message+="| Questions could not be loaded",bugsnagClient.notify(e),o<1?setTimeout(n,500):s.ui.questionsLoading=!1,o+=1})}(),s.clientQuestionsTpl=null,i.questionsDisabled=function(e){var n=!0;if(_.get(s,"questions.length"))return _.forEach(s.questions,function(e){"date"!==e.type||!0!==e.is_required||!1!==e.is_deleted||s.answers["qid_"+e.id]||(n=!1)}),"page"===e?i.create_fundraising_page_questions.$invalid||!n:i.create_team_questions.$invalid||!n},e.push({id:"team.wait",templateUrl:n+"/wait",maxWidth:300}),e.push({id:"team.success",templateUrl:n+"/success",maxWidth:460}),s.authOptions={callback:function(){s.ui.currentView="team.details",d.startingView="team.details",k.open("createFundraisingTeamFlow",d),k.whitelist("frs.team.index")}},s.flow={template:function(e){return"global/flows/create-fundraising-page/views/"+e+"/template"},abort:function(){},to:function(e){k.to(e),s.ui.currentView=e}},e.push(new P(s)),e.push(new I(s)),s.next=function(){var e=c();e?(k.to(e),s.ui.currentView=e,s.ui.isFinalView=!c()):function(){var i,n,o=this;s.ui.processing||(s.ui.processing=!0,i=C.you.current,s.team.current.team_lead_id=i.id,s.team.current.team_lead=i,s.team.current.answers=[],s.team.current.fundraising_page_answers=[],s.team.current.user_agent=navigator.userAgent,_.forEach(s.answers,function(e,n){var t=n.substring(4),n=e;null!=e&&s.questions.length&&null!==(n=_.find(s.questions,function(e){return e.id==t&&"text"===e.type})?e.replace(/<\/?p>|&nbsp;/g,"").trim()||null:n)&&""!=n&&s.team.current.answers.push({question_id:+t,answer:n})}),_.forEach(s.fundraising_page_answers,function(e,n){var t=n.substring(4),n=e;null!=e&&s.fundraisingPageQuestions.length&&null!==(n=_.find(s.fundraisingPageQuestions,function(e){return e.id==t&&"text"===e.type})?e.replace(/<\/?p>|&nbsp;/g,"").trim()||null:n)&&""!=n&&s.team.current.fundraising_page_answers.push({question_id:+t,answer:n})}),(s.team.current.logo?s.team.current.logo.on("save"):m.resolve()).then(function(){return s.team.current.logo_id=_.get(s,"team.current.logo.assetId",null),s.team.current.parent_id=_.get(r,"parentId",null),s.team.create(s.campaign.current.id,s.optIn)}).then((n=F(regeneratorRuntime.mark(function e(n){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.get("$http").remove("/frs-api/campaign/"+y.active.current.id+"/fundraising-teams?aggregates=true&filter=team_lead_id="+i.id),h.get("$http").remove("/frs-api/campaign/"+y.active.current.id+"/fundraising-pages?aggregates=true&filter=member_id="+i.id),r&&r.fundraiser)return e.next=5,T.active.joinTeam(n.data.id);e.next=5;break;case 5:s.ui.processing=!1,t=n.data.id,s.custom_url&&x.postSlug("fundraising-teams",t,s.custom_url),$.add(n.data),p.go("frs.team.index",{fundraisingTeamId:t,is_new:!0}),a=s.$on("$stateChangeSuccess",function(){D.eventBeacon({category:"frs "+l,action:"creation",label:"New Team",meta:M.getLatest(s.campaign.current.id),entity_id:$.active.current.id,team:$.active.current}),k.to("team.success"),f(function(){k.close(!0),a()},4e3)});case 11:case"end":return e.stop()}},e,o)})),function(e){return n.apply(this,arguments)})).catch(function(){s.ui.processing=!1,s.ui.error="Sorry, your team could not be created right now. Please try again later."}))}()},s.ui.currentView="team.details",s.ui.isFinalView=!c(),k.register("createFundraisingTeamFlow",s,e);var d={startingView:s.ui.currentView,animate:!0,closable:!0,closeOnClickOut:!1,matte:"#f5f5f5",onClose:function(){if(c())return s.ui.previousView=s.ui.currentView,s.flow.to("indiv.exit"),s.closeOutPromise=m.defer(),s.closeOutPromise.promise}};return"frs.team.index"!==k.ui.returnState&&(d.returnState="frs.landing.name.campaign",d.returnParams={campaignId:y.active.current.id}),f(function(){C.active.current.id?(k.open("createFundraisingTeamFlow",d),k.whitelist("frs.team.index")):(s.ui.currentView="indiv.auth.switch",d.startingView="indiv.auth.switch",k.open("createFundraisingTeamFlow",d))}),s.team}}e.$inject=["$http","$q","$rootScope","$state","$timeout","$cacheFactory","scFacebookSDKService","scBlocksService","scCampaignsService","scFlowModalService","scFroalaOptions","scMembersService","scFundraisingTeamModel","scFundraisingTeamsService","scFundraisingPagesService","scThemesService","scDomainsService","scAnalytics","scOrganizationsService","scSourceCodes","CFPAuthSwitchView","CFPExitView","CHAR_LIMITS"],angular.module("classy").factory("createFundraisingTeamFlow",e)})(),(()=>{function e(s,l,c,d,u,m,g,p,f,h,v,b,y,k,w,C){return function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=l.$new(),e=[],n="global/flows/fundraise-switch/views",o=u.active.current;i.campaign=o,i.scQaId=w,i.ui={primaryColor:_.get(g,"active.current.styles.primaryColor","#36bff7"),switching:!1,disableIndividual:"required"==o.team_membership_policy,disableCreateTeam:0==o.allow_team_fundraising||"prohibited"==o.team_membership_policy,disableJoinTeam:"prohibited"==o.team_membership_policy},_.merge(i.ui,a),i.createIndiv=function(){i.ui.switching||(i.ui.switching=!0,b(a),i.beginCheckout())},i.browseTeams=function(){i.ui.browsing=!0,m.to("browse-teams","slideLeft"),i.beginCheckout()},i.createTeam=function(){i.ui.switching||(i.ui.switching=!0,y(a),i.beginCheckout())},i.beginCheckout=function(){var e=f.getEntityCampaignCurrency(o);k.eventBeacon({label:"Begin Checkout",action:"checkout",currency:e,items:[{item_id:o.id,item_name:o.name,item_category:o.type,currency:e}]})},i.getTeamImage=h.getTeamPhoto,i.joinTeam=function(e){var n,t;i.ui.switching||(i.ui.switching=!0,_.get(v,"active.current.id",!1)?(n=Object.values(p.userFundraisers)||[],t=null,!o.allow_duplicate_fundraisers&&n.length?(t=n[n.length-1],i.teamName=e.name,i.teamId=e.id,i.newTeam=e,i.fundraisingPage=t.current,i.currentTeam=_.get(h,"teams["+t.current.fundraising_team_id+"].current",{}),b(Object.assign({startingView:"indiv.join-team"},a),i)):o.allow_duplicate_fundraisers&&n.length?b(Object.assign({startingView:"indiv.multiple-pages",teamId:e.id},a),i):n.length||b(Object.assign({},a,{teamId:e.id}),i)):b(Object.assign({},a,{teamId:e.id})))},i.teamSearchOptions=[{label:"Team",value:"team"},{label:"Team Captain",value:"team-captain"}],i.selectedOption="team",i.$watch("selectedOption",function(){i.clearTeamQuery()}),i.ui.disableJoinTeam&&i.ui.disableCreateTeam?i.createIndiv():(t=i.ui.disableCreateTeam&&i.ui.disableIndividual,_.get(a,"browseTeams",!1)||t||e.push({id:"mode",templateUrl:n+"/mode",maxWidth:640}),e.push({id:"browse-teams",templateUrl:n+"/browse-teams",maxWidth:550,eventBeacon:function(){k.eventBeacon({category:"frs "+i.campaign.type,action:"triggers",label:"Join a Team"})}})),_.merge(i.ui,{totalTeams:0,totalPages:0,currentPage:1,nextPageUrl:null,prevPageUrl:null,teamsLoading:!1}),i.teams=[],i.clearTeamQuery=function(){i.teamQuery={queryString:""},i.captainFirstNameQuery={queryString:""},i.captainLastNameQuery={queryString:""}},i.clearTeamQuery(),i.filter={},i.$watch("teamQuery.queryString",function(e){i.filter=""!==e&&null!=e?{name:[{operand:"*=",value:e}]}:{}}),i.$watchGroup(["captainFirstNameQuery.queryString","captainLastNameQuery.queryString"],function(e){e[0]||e[1]?(i.filter={},e[0]&&(i.filter["primary_captain.first_name"]=[{operand:"*=",value:e[0]}]),e[1]&&(i.filter["primary_captain.last_name"]=[{operand:"*=",value:e[1]}])):i.filter={}}),i.getTeamsEndpoint="/campaign/"+o.id+"/joinable-teams",i.$watch("teams",function(e){_.isEmpty(e)||_.forEach(e,function(n){r(n).then(function(e){n.captain_name=e})})}),i.getTeamProgress=function(e){return Math.round(100*C.getEntityProgress(e).percentToGoal)},i.getTeamGoal=function(e){return C.getEntityProgress(e).goal};var t,r=function(e){var n=d.defer(),t="";return s({url:"/frs-api/fundraising-teams/"+e.id+"/fundraising-pages",method:"GET",params:{filter:"team_role=primary-captain"}}).then(function(e){t=e.data.data.length?(e=e.data.data[0]).alias||e.title:"No current captain",n.resolve(t)}),n.promise};return _.isEmpty(e)||(m.register("fundraiseSwitchFlow",i,e),c(function(){m.open("fundraiseSwitchFlow",{animate:!1!==a.animate,closable:!0,transitionWhitelist:["frs.landing.name.campaign.create-fundraising-page","frs.team.index.create-fundraising-page","frs.landing.name.campaign.create-fundraising-team"],elementToFocusOnClose:".p2p-crowdfunding_button.join"}),k.eventBeacon({category:"frs "+i.campaign.type,action:"pops up",label:"Fundraiser Sign Up Modal"})})),i}}e.$inject=["$http","$rootScope","$timeout","$q","scCampaignsService","scFlowModalService","scThemesService","scFundraisingPagesService","scCurrencyService","scFundraisingTeamsService","scMembersService","createFundraisingPageFlow","createFundraisingTeamFlow","scAnalytics","scQaId","scProgressDataFactory"],angular.module("classy").factory("fundraiseSwitchFlow",e)})(),(()=>{function e(t,a,i,o,r,s,l,c){return function(){var n=i.$new(),e=(n.state={query:{type:"name",types:[{name:"name",label:"Donors"},{name:"email",label:"Email"}],name:"",emailAddress:""},entityType:null,entityId:null,selectAll:!1,currentPage:0,totalPages:0,loading:!1,debouncer:null,primaryColor:c.active.current.styles.primaryColor},n.setup={entity:function(){_.get(s,"active.current.id")?(n.state.entityType="page",n.state.entityId=s.active.current.id):(n.state.entityType="team",n.state.entityId=l.active.current.id)}},n.build={filter:function(){var e="is_anonymous=false,status=success,";return"page"===n.state.entityType?e+="fundraising_page_id="+n.state.entityId:e+="fundraising_team_id="+n.state.entityId,"name"===n.state.query.type?n.state.query.name&&(e+=",member_name*="+n.state.query.name):n.state.query.emailAddress&&(e+=",member_email_address*="+n.state.query.emailAddress),e},updateCount:function(){n.selectCount=n.list.items.filter(function(e){return e.selected}).length},emailList:function(){return n.list.items.filter(function(e){return e.selected}).map(function(e){return e.emailAddress}).join(", ").trim()}},n.selectCount=0,n.list={items:[],emails:[]},n.show={nameQuery:function(){return"name"===n.state.query.type}},n.nextPage=function(){n.state.currentPage+=1,n.state.locked=!0,t.get("/frs-api/fundraising-"+n.state.entityType+"s/"+n.state.entityId+"/feed-item-donations",{params:{page:n.state.currentPage,sort:"created_at:desc",per_page:100,filter:"linkable_type=donation",with:"linkable"}}).then(function(e){n.state.totalPages=e.data.last_page,_.forEach(e.data.data,function(e){e.linkable&&e.linkable.member_email_address&&!e.linkable.is_anonymous&&"success"==e.linkable.status&&n.list.items.push({amount:e.linkable.donation_gross_amount,name:e.linkable.member_name,emailAddress:e.linkable.member_email_address})})}).catch(function(e){a.error(e)})},n.debounce=function(e){o.cancel(n.state.debouncer),n.state.debouncer=o(e,500)},n.handleQuery=function(){n.list.items=[],n.state.currentPage=0,n.state.totalPages=0,n.state.loading=!0,n.debounce(n.nextPage)},n.clear=function(){n.list.items.forEach(function(e){return delete e.selected}),n.selectCount=0},n.assemble=function(){r.to("recipient-picker.copy","slideLeft")},[]);e.push({id:"recipient-picker.search",templateUrl:"global/flows/recipient-picker/views/search/template",maxWidth:663,context:n}),e.push({id:"recipient-picker.wait",templateUrl:"global/flows/recipient-picker/views/wait/template",maxWidth:300,context:n}),e.push({id:"recipient-picker.copy",templateUrl:"global/flows/recipient-picker/views/copy/template",maxWidth:456,context:n}),n.setup.entity(),n.$watch("state.query",n.handleQuery,!0),r.register("recipientPickerFlow",n,e),r.open("recipientPickerFlow",{startingView:"recipient-picker.search",animate:!0,matte:"#f5f5f5"})}}e.$inject=["$http","$log","$rootScope","$timeout","scFlowModalService","scFundraisingPagesService","scFundraisingTeamsService","scThemesService"],angular.module("classy").factory("recipientPickerFlow",e)})(),(()=>{function e(i,o,r,s,l,c){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=(window.localStorage.removeItem("reg-cart-team"),i.$new()),t=r.active.current,a=(n.registrationEntity={team_id:null,team_name:null,team_answers:[]},n.campaignId=t.id,n.teamsCanSetGoal=t.teams_can_set_goal,n.teamsCanSetAppeal=t.teams_can_set_appeal,n.primaryColor=c.active.current.styles.primaryColor,n.allQuestions=_.filter(r.active.current.questions,{location:"team_creation"}),n.customQuestion=_.sortBy(_.filter(n.allQuestions,{tag:null}),"weight"),n.questions=_.reject(n.allQuestions,{tag:null}),(a=n.questions).push.apply(a,(e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(n.customQuestion)),n.disableCurrencyDropdown=function(){return 0<s.active.current.transactions_count||0<s.active.current.soft_credits_count||0<s.active.current.percent_to_goal},n.joinTeam=function(e){n.registrationEntity.team_id=e.id,n.registrationEntity.team_answers=null,window.localStorage.setItem("reg-cart-team",angular.toJson({id:e.id,name:e.name})),n.goToCheckout()},n.goToCheckout=function(){o.go("frs.landing.name.campaign.registration.new.tickets",n.registrationEntity)},n.goToBrowse=function(){l.to("browse")},n.goToCreate=function(){n.registrationEntity.team_goal=t.default_team_goal,n.registrationEntity.team_description=t.default_team_appeal||"",l.to("team_details")},n.goToQuestions=function(){n.questions.length?l.to("team_questions"):n.goToCheckout()},n.disableTeamCreate=function(){return 0==t.allow_team_fundraising||"prohibited"==t.team_membership_policy},n.disableTeamJoin=function(){return"prohibited"==t.team_membership_policy},n.disableIndividualFundraising=function(){return"required"==t.team_membership_policy},("ticketed"==t.type||n.disableTeamJoin()&&n.disableTeamCreate())&&(n.goToCheckout(),n.noModal=!0),[]);return n.disableTeamCreate()&&n.disableIndividualFundraising()||a.push({id:"switch",template:'\n             <registration-entity-switch\n             model="registrationEntity"\n             go-to-checkout="goToCheckout()"\n             go-to-browse="goToBrowse()"\n             go-to-create="goToCreate()"\n             disable-individual-fundraising="disableIndividualFundraising()"\n             disable-team-join="disableTeamJoin()"\n             disable-team-create="disableTeamCreate()">\n             </registration-entity-switch>\n           ',maxWidth:640}),a.push({id:"browse",template:'\n          <registration-entity-browse\n          model="registrationEntity"\n          go-to-create="goToCreate()"\n          join-team="joinTeam(team)"\n          primary-color="primaryColor"\n          campaign-id="campaignId">\n          </registration-entity-browse>\n        ',maxWidth:640},{id:"team_details",template:'\n          <registration-entity-team-details\n          model="registrationEntity"\n          go-to-questions="goToQuestions()"\n          teams-can-set-goal="teamsCanSetGoal"\n          teams-can-set-appeal="teamsCanSetAppeal"\n          primary-color="primaryColor"\n          campaign-id="campaignId">\n          </registration-entity-team-details>\n        ',maxWidth:400}),n.questions.length&&a.push({id:"team_questions",template:'\n            <registration-entity-team-questions\n            model="registrationEntity"\n            questions="questions"\n            go-to-checkout="goToCheckout()"\n            primary-color="primaryColor"\n            campaign-id="campaignId">\n            </registration-entity-team-questions>\n          '}),n.noModal||(l.register("regEntitySwitchFlow",n,a),l.open("regEntitySwitchFlow",{animate:!0,closable:!0,elementToFocusOnClose:e})),n}}e.$inject=["$rootScope","$state","scCampaignsService","scFundraisingTeamsService","scFlowModalService","scThemesService"],angular.module("classy").factory("registrationEntityFlow",e)})(),angular.module("classy").directive("scCropModal",function(){return{restrict:"A",replace:!1,templateUrl:"global/media/scCropModal/index",scope:{config:"=scCropModal"},controller:["$scope",function(e){_.defaults(e.config,{width:150,height:150,shape:"rectangle",title:"Edit Thumbnail",blockClass:"sc-crop"}),e.bc=e.config.blockClass,e.title=e.config.title,e.ready=!1}],link:function(o,e){var n=void 0,t=void 0,a=void 0,i=void 0,r=void 0,s=void 0,l=void 0,c=void 0,d=void 0,u=void 0,m=void 0,g=void 0,p=void 0,f=void 0,h=void 0,v=void 0,b=void 0,y=void 0,_=void 0,k=void 0,w=void 0,C=void 0,S=void 0,$=void 0,T=void 0,E=void 0,x=void 0,D=void 0,A=void 0,M=void 0,P=void 0;function I(){E(function(){switch(d.clearRect(0,0,i,r),d.globalCompositeOperation="source-over",d.fillStyle="rgba(0,0,0,0.5)",d.fillRect(0,0,i,r),d.save(),d.globalCompositeOperation="destination-out",d.fillStyle="#000",o.config.shape){case"rectangle":d.beginPath(),d.fillRect(C,S,k,w);break;case"circle":d.beginPath(),d.arc(l,c,Math.floor(w/2),0,2*Math.PI),d.fill()}var e,n,t,a;d.restore(),m&&(t=(l-v)/(e=f),a=(c-b)/(n=h),e=(f=g*T||1)-e,v-=e*t,b-=((h=f*y)-n)*a,d.save(),d.globalCompositeOperation="destination-over",d.drawImage(m,v,b,f,h),d.restore())})}function L(){_.on("dblclick",R),_.on("mousedown touchstart",q),jQuery(document).on("mousemove touchmove",O),jQuery(document).on("mouseup touchend",F),jQuery("body").on("mouseleave",F),o.$on("$destroy",function(){jQuery("document").off("mousemove touchmove",O),jQuery(document).off("mouseup touchend",F),jQuery("body").off("mouseleave",F)}),o.cancel=function(){o.$emit("scCropCancel")},o.save=function(){var e=void 0,n=document.createElement("canvas"),t=(n.width=k,n.height=w,n.getContext("2d")),a=(t.fillStyle="#000",t.fillRect(0,0,k,w),v-C),i=b-S;t.drawImage(m,a,i,f,h);try{e=n.toDataURL("image/jpeg",1)}catch(e){}t=C-v,a=S-b,i={transformQueue:[{operation:"scale",args:{width:parseInt(f,10),height:parseInt(h,10)}},{operation:"crop",args:{x:parseInt(t,10),y:parseInt(a,10),width:parseInt(k,10),height:parseInt(w,10)}}],preview:e},o.$emit("scCropSave",i)}}function q(e){e.preventDefault(),x=!0,M=v,P=b,D=("touchstart"===e.type?e.originalEvent.changedTouches[0]:e).clientX,A=("touchstart"===e.type?e.originalEvent.changedTouches[0]:e).clientY}function O(e){var n;x&&(e.preventDefault(),jQuery("body, #sc-crop-viewfinder").css("cursor","-webkit-grabbing"),n=("touchmove"===e.type?e.originalEvent.changedTouches[0]:e).clientX,e=("touchmove"===e.type?e.originalEvent.changedTouches[0]:e).clientY,v=M+(n-D),b=P+(e-A),I())}function F(){x&&(x=!1,A=D=null,M=v,P=b,jQuery("body, #sc-crop-viewfinder").css("cursor",""))}function R(){T=Math.min(1,T+.33),u.val(1e3*T),I()}n=e.find("#sc-crop-modal"),t=e.find("#sc-crop-loading"),a=e.find("#sc-crop-canvas"),u=e.find("#sc-crop-range"),_=e.find("#sc-crop-viewfinder"),i=Math.max(350,o.config.width+50+50),r=o.config.height+40+40+15+15,s=r/i,k=o.config.width,w=o.config.height,$=w/k,C=Math.floor((i-k)/2),S=55,l=Math.floor(i/2),c=Math.floor(r/2),a[0].height=r,a[0].width=i,n.css({top:(jQuery(window).innerHeight()-n.outerHeight())/2,width:i}),t.css({top:0,width:"100%",height:200}),_.css({top:S,left:C,width:k,height:w}),d=a[0].getContext("2d"),o.$watch("config.image",function(e){e?(m=o.config.image,g=m.width,$==(y=(p=m.height)/g)?(f=Math.min(k,g),h=Math.min(w,p),v=Math.max(C,C+(k-g)/2),b=Math.max(S,S+(w-p)/2)):y<s?(f=Math.min(g,i),h=Math.floor(f*y),v=Math.max(0,(i-g)/2),b=Math.floor((r-h)/2)):(h=Math.min(p,r),f=Math.floor(h/y),b=Math.max(0,(r-p)/2),v=Math.floor((i-f)/2)),T=f/g,E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},u[0].disabled=!1,u[0].min=0,u[0].max=1e3,u.val(1e3*T),u.on("input change",function(){T=u.val()/1e3,I()}),L(),I(),o.ready=!0):(d.clearRect(0,0,i,r),m=null)})}}}),(()=>{function e(l,c,d,n,u){function m(e,n){var t=void 0,a=void 0;return m.isInstance(e)?e.clone():(Modernizr.filereader&&e instanceof Blob?t=u.build(e):m.isAsset(e)?t=e:_.isObject(e)&&_.isFunction(e.then)?t=u.build(e,n):m.isDefinition(e)?(t=u.get(e.assetId,e.origin),a=e):t=_.isString(e)?(n=/^\d.*/.test(e)?"upload":"static",u.get(e,n)):_.isNumber(e)?u.get(e,"upload"):u.NULL_ASSET,m.instantiate(t,a))}function a(){var e=_.cloneDeep(this);return m.instantiate(this.asset,e)}function i(e){return m.isInstance(e)&&e.asset===this.asset}function o(e,n){return this.asset.on(e,n)}function r(e){return this.asset.tn(e)}function s(e,n){return this.asset.download(e,n)}function g(){return this.asset.getDimensions()}function p(e){var n=this,i=void 0,t=void 0,a=void 0,o=void 0;function r(){i.reject(),s()}function s(){document.body.contains(t)&&document.body.removeChild(t),o.cancel(),o.save(),a.$destroy()}return i=l.defer(),t=jQuery("<div data-sc-crop-modal='cropConfig'></div>")[0],(a=c.$new()).cropConfig=e||{},a.cropConfig.image=null,o={cancel:a.$on("scCropCancel",r),save:a.$on("scCropSave",function(e,n){s();var n=u.transform(this.asset,n.transformQueue,n.preview),t=_.cloneDeep(this),a=m.instantiate(n,t);n.deferred.src.promise.then(function(){i.resolve(a)},function(){r()})}.bind(this))},this.download().then(function(){a.cropConfig.image=n.cache.full}),d(t)(a),document.body.appendChild(t),i.promise}function f(){return{__media:"image",origin:this.origin,assetId:this.assetId,title:this.title,alt:this.alt,width:this.width,height:this.height,options:_.get(this,"options",null),meta:_.get(this,"meta",null),cropData:_.get(this,"cropData",null)}}return m.instantiate=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};function t(){this.options=_.cloneDeep(_.get(e,"options",{})),this.meta=_.cloneDeep(_.get(e,"meta",{}))}_.isEmpty(n.options)&&(n.options={}),_.isEmpty(n.meta)&&(n.meta={}),(t.prototype=Object.create(e)).constructor=m,t.prototype.asset=e,t.prototype.clone=a,t.prototype.is=i,t.prototype.on=o,t.prototype.tn=r,t.prototype.download=s,t.prototype.getDimensions=g,t.prototype.crop=p,t.prototype.toJSON=f;n=_.assign(new t,n);return n.asset=e,n},m.isInstance=function(e){return e&&_.isObject(e)&&e.constructor===m},m.isDefinition=function(e){return e&&_.isPlainObject(e)&&"image"===_.get(e,"__media")},m.isAsset=function(e){return e&&_.isObject(e)&&e.constructor===n},m.dedupe=function(e,n){var t=[],e=_.filter(e,function(e){return m.isInstance(e)}),e=_.uniq(e,function(e){return e.assetId});return n?_.forEach(e,function(e){t.push(e.clone())}):e},m.search=function(e){var t=[];return t.all=function(n,e){var t,a=l.defer();return e&&a.promise.then(e),this.length?(t=[],_.forEach(this,function(e){t.push(e.on(n))}),l.all(t).then(function(){a.resolve()},function(e){a.reject(e)})):a.resolve(),a.promise},function n(e){_.forEach(e,function(e){m.isInstance(e)?t.push(e):(_.isPlainObject(e)||_.isArray(e))&&n(e)})}(e),t},m.fromURL=function(e,n){var t=l.defer(),a=new XMLHttpRequest;return a.open("get",e,!0),a.responseType="blob",a.onload=function(){a.response?(a.response.name=n||"Downloaded Image",t.resolve(a.response)):t.reject()},a.send(),new m(t.promise)},m}e.$inject=["$q","$rootScope","$compile","scImgAsset","scImgAssetsService"],angular.module("classy").factory("scImg",e)})(),(()=>{function e(t,a,e){e.add(function(e){var n=t.defer();return a.search(e).all("save",function(){n.resolve()}),n.promise})}e.$inject=["$q","scImg","scPreflight"],angular.module("classy").run(e)})(),(()=>{function e(s,l,u,c,d,m,t,a,i,g){return{templateUrl:"global/media/scImgList/template",replace:!0,require:"ngModel",transclude:!0,scope:{userModel:"=scImgList",showCount:"=?",sortable:"=?",reUpload:"=?",options:"=?",preview:"=?",customHeight:"=?",preset:"=?",bc:"=?blockClass",mmConfig:"=?",description:"@?",persistControls:"=?",addVideo:"=?",lockField:"<?"},controller:["$scope","$attrs",function(c,d){var e,n;c.addVideo=c.addVideo||!1,c.scQaId=t,void 0===c.lockField&&SC.campaign.campaignTemplateData&&((n=_.find(SC.blocks,{id:i.blockId}))?(n=n.type,void 0!==c.lockField?c.lockField:(n=a.getBlockByType(n))&&(n=n.item_attributes,d.scImgList.includes("image")?c.lockField=n.background.locked||n.background.image.locked:d.scImgList.includes("logo")?c.lockField=n.logo&&n.logo.locked:d.scImgList.includes("defaultTeamLogo")?c.lockField=n.defaultTeamLogo.locked:d.scImgList.includes("defaultFundraiserLogo")&&(c.lockField=n.defaultFundraiserLogo.locked))):i.step&&("landing"===(n=i.step)&&(e=a.getBlockByType("header"))&&"headerBlock.current.logo"===d.scImgList&&(c.lockField=e.item_attributes.logo.locked),"team"===n&&(e=a.getBlockByType("team"))&&"teamBlock.current.background.image"===d.scImgList&&(c.lockField=e.item_attributes.background.image.locked),"fundraiser"===n&&(e=a.getBlockByType("fundraiser"))&&"fundraiserBlock.current.background.image"===d.scImgList&&(c.lockField=e.item_attributes.background.locked||e.item_attributes.background.image.locked),"donation"===n&&(e=a.getBlockByType("donation"))&&"DonationBlock.current.background.image"===d.scImgList&&(c.lockField=e.item_attributes.background.image.locked),"thank-you"===n)&&(e=a.getBlockByType("thank-you"))&&"ThankYouBlock.current.background.image"===d.scImgList&&(c.lockField=e.item_attributes.background.image.locked)),c.util={initImg:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=void 0;if("undefined"!=typeof Blob&&e instanceof Blob&&/^image\/*/.test(e.type))a=new m(e);else{if(!(m.isInstance(e)||e&&"video"==e.type))return null;a=e}return d.scImgInit&&u(d.scImgInit)(c.$parent,{$scImg:a,$isNew:n,$isPreset:t}),a}},this.add=function(e,n){var t=_.isPlainObject(n)?n:{};if(e){for(var a=_.isArray(e)?e:[e],n=c.limit-c.imgBucket.length,i=Math.min(n,a.length),o=0;o<i;o+=1){var r=c.imgBucket.length,s=c.util.initImg(a[o],!0,!1);s?c.imgBucket[r]=s:i+=1}switch(c.mode){case"multiple":_.isArray(c.userModel)||(c.userModel=[]);for(var l=c.userModel.length;l<c.imgBucket.length;l+=1)c.userModel[l]=c.imgBucket[l];break;case"select":d.selectOnAdd&&!1!==t.select&&c.select(c.imgBucket.length-1);break;case"single":c.userModel=c.imgBucket[0]}}},c.add=this.add,this.remove=function(e){switch(c.imgBucket.splice(e,1),c.mode){case"multiple":c.userModel=c.imgBucket.map(function(e){return e});break;case"select":c.selection.active===e?c.selection.active=null:c.selection.active>e&&--c.selection.active;break;case"single":c.userModel=null}},c.remove=this.remove,this.change=function(e,n){var t=n;if(_.isArray(n)&&(l.warn("scImgList.change should not be called with an array"),t=n[0]),!(e>=c.imgBucket.length)){var a=c.util.initImg(t,!0,!1);if(a)switch(c.imgBucket[e]=a,c.mode){case"multiple":c.userModel[e]=a;break;case"select":e===c.selection.active&&(c.userModel=a);break;case"single":c.userModel=a}}},c.change=this.change,this.select=function(e){c.selection.active=e},c.select=this.select}],link:function(i,e,n,a){switch(s.enabled(e,!1),i.mode=n.mode||"multiple",i.limit=n.limit||1,i.minWidth=n.minWidth||null,i.minHeight=n.minHeight||null,i.customPreviewHeight="",i.customHeight&&(i.customPreviewHeight='{ "max-height":"'+i.customHeight+'px"}'),i.mode){case"multiple":i.userModel=_.isArray(i.userModel)?i.userModel:[],i.imgBucket=i.userModel.slice(0,i.limit).map(function(e){return i.util.initImg(e,!1,!1)}).filter(function(e){return e});break;case"select":var t=i.util.initImg(i.userModel,!1),o=(i.imgBucket=t?[t]:[],i.selection={},i.selection.active=t?0:null,i.uniquePresets=m.dedupe(i.preset,!0),i.limit+=i.uniquePresets.length,i.uniquePresets.map(function(e){return i.util.initImg(e,!1,!0)}).filter(function(e){return!t||!t.is(e)}).reverse());Array.prototype.unshift.apply(i.imgBucket,o),t&&(i.selection.active+=o.length),i.$watch("selection.active",function(e){i.userModel=null===e?null:i.imgBucket[e]}),i.sortable=!1;break;case"single":o=i.util.initImg(i.userModel,!1);i.imgBucket=o?[o]:[],i.limit=1,i.showCount=!1,i.sortable=!1}switch(i.mode){case"multiple":i.$watchCollection("userModel",function(e,n){e!==n&&(n=_.isArray(e)?e:[],i.imgBucket=n.slice(0,i.limit).filter(function(e){return e}))});break;case"select":i.$watch("userModel",function(t,e){var a;t!==e&&(t?(a=!1,_.forEach(i.imgBucket,function(e,n){e.is(t)&&(i.imgBucket[n]=t,i.selection.active=n,a=!0)}),a||"static"===t.origin||(i.imgBucket.push(t),i.selection.active=i.imgBucket.length-1)):i.selection.active=null)});break;case"single":i.$watch("userModel",function(e,n){e!==n&&(e?i.imgBucket[0]=e:i.imgBucket.splice(0,1))})}i.bc=i.bc||"img-list",i.mmConfig=i.mmConfig||{},i.previewSize=_.isFinite(i.preview)?i.preview:550,i.isPreset=function(n){var t=!1;return _.forEach(i.uniquePresets,function(e){n.is(e)&&(t=!0)}),t},i.toggleSelect=function(e,n){"select"===i.mode&&"INPUT"!==e.target.tagName&&"I"!==e.target.tagName&&(i.selection.active===n?i.selection.active=null:i.selection.active=n)},i.ui={add:function(){var e=Object.assign({title:"Add an image",image:{minWidth:i.minWidth,minHeight:i.minHeight}},i.mmConfig);d({scope:i,config:e}).then(function(e){var n,t;e&&(e.images.length||e.video)&&(n=e.video,(t=[]).push(e.images[0]),t[0]||n?(n?i.add([{url:n,type:"video"}]):i.add(t,{}),a.$setDirty()):l.warn("Media manager returned a null asset"))})},change:function(n){var e=Object.assign({title:"Replace image",image:{model:"imgBucket["+n+"]",minWidth:i.minWidth,minHeight:i.minHeight}},i.mmConfig);d({scope:i,options:e}).then(function(e){e.images.length?(e=e.images[0])?(i.change(n,e),a.$setDirty()):l.warn("Media manager returned a null image"):i.remove(n)})},remove:function(e){i.remove(e),a.$setDirty()},select:function(){a.$setDirty()}},i.$on("themeUploadButton",function(){i.ui.add()});var r=void 0;i.sortableOptions={handle:".fa-bars",start:function(e,n){r=n.item.index()},stop:function(e,n){n=n.item.index();r!=n&&i.$apply(function(){i.userModel=i.imgBucket.map(function(e){return e})})}},i.setOption=function(e,n,t,a){a.stopPropagation(),e.options[n]=t},a.$asyncValidators.uploaded=function(e){var n,t;return e?"multiple"===i.mode?(t=[],_.forEach(e,function(e){e.saved||("video"==e.type?(e.saved=!0,t.push(e)):t.push(e.on("save")))}),c.all(t)):e.on("save"):(n=(e=c.defer()).promise,e.resolve(),n)},"multiple"===i.mode?(a.$isEmpty=function(e){return _.isEmpty(e)},i.$watchCollection("userModel",function(){a.$validate()})):i.$watch("userModel",function(){a.$validate()}),n.scImgListInit&&u(n.scImgListInit)(i.$parent,{$list:i.imgBucket,$add:i.add,$remove:i.remove,$change:i.change,$select:i.select}),i.onKeyDown=function(e){e&&g.isValidKeyBoardEvent(e)&&i.ui.add()},i.onkeydownClose=function(e,n){e&&g.isValidKeyBoardEvent(e)&&i.ui.remove(n)}}}}e.$inject=["$animate","$log","$parse","$q","launchMediaManager","scImg","scQaId","scCampaignsTemplateService","$stateParams","accessibilityService"],angular.module("classy").directive("scImgList",e)})(),(()=>{function e(s,a,n,t,i,o,r,l){var c="/static/global/images/null.png",d={title:null,alt:null,size:null,content_type:null,type:null,created_by:null,created_at:null,sizes:{full:c}};function e(e,n,t,a){var i=this;this.assetId=e,this.origin=n,this.contentType=null,this.role=null,this.createdBy=null,this.createdAt=null,this.title=null,this.alt=null,this.weight=null,this.width=null,this.height=null,this.sizes={full:null},this.deferred={},this.promises={},this.src=c,this.deferred.src=s.defer(),this.promises.src=this.deferred.src.promise,this.downloads=[],this.loaded=!1,this.deferred.load=s.defer(),this.promises.load=this.deferred.load.promise,this.cache={},this.on("load",function(){i.loaded=!0}),this.saved=!1,this.uploadProgress=0,this.deferred.save=s.defer(),this.promises.save=this.deferred.save.promise,this.on("save",function(){i.saved=!0}),Modernizr.filereader&&t instanceof Blob?this.fileInit(t):_.isFunction(t.then)?this.deferredInit(t,a):this.objInit(t)}return e.prototype.objInit=function(e){e=_.defaultsDeep(_.cloneDeep(e),d);this.title=e.title,this.alt=e.alt,this.weight=e.size,this.contentType=e.content_type,this.role=e.type,this.createdBy=e.created_by,this.createdAt=e.created_at,this.sizes=e.sizes,this.src=_.get(e,"sizes.full",""),this.uploadProgress=100,this.deferred.src.resolve(),this.deferred.save.resolve()},e.prototype.fileInit=function(e){var n=l.Modernizr.filereader?t:i;this.title=e.name.replace(/.(jpg|jpeg|gif|png)$/,""),this.weight=parseInt(e.size,10),n(e).then(function(e){this.assetId=e.id,this.alt=e.alt_text,this.contentType=e.content_type,this.role=e.type,this.createdBy=e.created_by,this.createdAt=e.created_at,this.sizes.full=e.cdn_url,this.src===c&&(this.src=e.cdn_url,this.deferred.src.resolve()),this.deferred.save.resolve()}.bind(this),function(e){r.log(e)}.bind(this),function(e){_.get(e,"progress")&&(this.uploadProgress=e.progress)}.bind(this)),this.buildPreview(e)},e.prototype.deferredInit=function(e,n){_.isPlainObject(n)&&_.merge(this.sizes,n),e.then(function(e){e instanceof Blob?this.fileInit(e):(this.assetId=e.id,this.origin="upload",this.objInit(e))}.bind(this),function(e){r.log(e)})},e.prototype.buildPreview=function(e){l.Modernizr.filereader&&n.dataUrl(e).then(function(e){this.src===c&&(this.sizes.full=e,this.src=e,this.deferred.src.resolve())}.bind(this))},e.prototype.on=function(e,n){return _.indexOf(["load","src","save"],e)<0?(r.error("Invalid property "+e+"passed to scImgAsset.on!"),s.defer().promise):(_.isFunction(n)&&this.promises[e].then(n),this.promises[e])},e.prototype.getSrc=function(){var e,n=this,t=s.defer();return this.src?(e=this.src,"static"==this.origin&&(e=document.location.origin+this.src),t.resolve(e)):a.get("/frs-api/asset/"+this.assetId).then(function(e){n.src=_.get(e,"data.cdn_url",!1),t.resolve(n.src)},function(){t.reject("could not retrieve a src")}),t.promise},e.prototype.createThumbnail=function(e,n,t,a){return o(e,[{operation:"scale",args:{width:parseInt(n,10),height:parseInt(n/t*a,10)}}])},e.prototype.getThumbnailSrc=function(e){var n=this,t=s.defer(),a=parseInt(e,10),i=a.toString();return this.getDimensions().then(function(e){n.sizes[i]?t.resolve(n.sizes[i]):n.createThumbnail(n.assetId,a,e.width,e.height).then(function(e){t.resolve(e.data.cdn_url)},function(e){t.reject(e)})}),t.promise},e.prototype.tn=function(e){function n(){"upload"===i.origin&&(i.sizes[a]="PENDING",s.all([i.getDimensions(),i.promises.save]).then(function(){return this.createThumbnail(this.assetId,o,this.width,this.height)}.bind(i)).then(function(e){this.sizes[a]=_.get(e,"data.cdn_url","FAILURE")}.bind(i),function(){this.sizes[a]="FAILURE"}.bind(i)))}function t(){var t=i.src,a=1e6;return _.forEach(i.sizes,function(e,n){"full"!==n&&"PENDING"!==e&&"FAILURE"!==e&&parseInt(n,10)>=o&&parseInt(n,10)<a&&(t=e,a=n)}),t}var i=this,o=parseInt(e,10),a=o.toString();var r=_.get(this,["sizes",a],!1);switch(r){case!1:return n(),t();case"PENDING":case"FAILURE":return t();default:return r}},e.prototype.getDimensions=function(){function e(){t.resolve({width:n.width,height:n.height})}var n=this,t=s.defer();return this.width&&this.height?e():this.download("full",!1).then(e),t.promise},e.prototype.download=function(e,n){var t=this,a=void 0,i=s.defer(),o=_.isUndefined(e)?"full":e.toString(),r=!!_.isUndefined(n)||!!n;return o in this.downloads?this.downloads[o]:(this.downloads[o]=i.promise,(a=document.createElement("img")).onload=function(){r&&(this.cache[o]=a),"full"===o&&(this.width=a.width,this.height=a.height,this.deferred.load.resolve()),i.resolve()}.bind(this),this.on("src",function(){a.src=_.get(t.sizes,o,t.sizes.full)}),i.promise)},e}e.$inject=["$q","$http","Upload","scImgAssetClientUpload","scImgAssetExpressUpload","scImgAssetProcess","$log","$window"],angular.module("classy").factory("scImgAsset",e)})(),(()=>{function e(o,r,s,l){return function(n){var e,t=o.defer(),a=void 0,i=void 0;return e=l.you.current.id,(e=r.post("/frs-api/asset/url",{memberId:e})).then(function(e){a=e.data.id,i=e.data.presigned_put_url}).catch(function(){}),e.then(function(){var e=s.http({url:i,method:"PUT",headers:{"Content-Type":n.type},data:n});return e.then(function(){t.notify({progress:100})},null,function(e){t.notify({progress:parseInt(100*e.loaded/e.total,10)})}).catch(function(){}),e}).then(function(){var e=r.put("/frs-api/asset/save",{assetId:a});return e.then(function(e){t.resolve(e.data)}).catch(function(){}),e}).catch(function(e){t.reject(e)}),t.promise}}e.$inject=["$q","$http","Upload","scMembersService"],angular.module("classy").factory("scImgAssetClientUpload",e)})(),(()=>{function e(a,i,o){return function(e){var n=a.defer(),t=o.you.current.id;return i.upload({url:"/frs-api/asset",data:{file:e,memberId:t}}).then(function(e){n.notify({progress:100}),n.resolve(e.data)},function(e){n.reject(e)},function(e){n.notify({progress:parseInt(100*e.loaded/e.total,10)})}),n.promise}}e.$inject=["$q","Upload","scMembersService"],angular.module("classy").factory("scImgAssetExpressUpload",e)})(),(()=>{function e(m,g,p,f,h){return function(i){function n(){return["toolbarButtons","toolbarButtonsMD","toolbarButtonsSM","toolbarButtonsXS"].some(function(e){return(i.opts[e]||"").includes("scImgAssetFroalaUpload")})}function e(e,n){var t=/(.*)\[(.*?)\]$/.exec(e);return t?(n=g(t[2])(n),t[1]+"['"+n+"__froalaAssets']"):e+"__froalaAssets"}function t(){var n=i.$oel.scope(),t=e(i.$oel.data("ngModel"),n);return{model:t,value:g(t)(n),assign:function(e){return g(t).assign(n,e),g(t)(n)}}}function a(){var e=t();e.value||e.assign({assets:{__media:"assetList",list:[]}})}function o(){var e=t().value;return _.get(e,"assets.list")}function r(){var t,a=i.html.get();a&&(t=o())&&t.forEach(function(e,n){a.indexOf(e)<0&&t.splice(n,1)})}function s(){p(function(){var e=i.html.get(),e=m("scImgAssetRef")(e);i.html.set(e)},2e3)}function l(){return i.scImgAssetUploader=jQuery("<input type='file' accept='image/*' style='display:none;'/>").appendTo("body").on("change",function(){var e;jQuery(this)[0].files.length&&(e=jQuery(this)[0].files[0],f.$apply(function(){u(e)}))}),i.scImgAssetUploader}function c(e){return/image\/[jpeg|gif|png]/.test(e.type)?0:-1}function d(){i.scImgAssetUploader.remove()}function u(e){var n,t;-1===c(e)?f.SC.status.banner={type:"error",msg:"Please upload a JPEG, GIF, or PNG file."}:(n=h.build(e),t="img_"+_.uniqueId()*new Date,i.html.insert("<img src='/static/global/images/preloader.gif' id='"+t+"' style='width:50px; height:50px;' />",!1),n.on("save",function(){var e=jQuery("#"+t);e.attr("style",""),e.attr("src",n.sizes.full),e.data("sc-img-asset-ref",n.assetId),a(),o().push(n.assetId),i.events.trigger("contentChanged"),d(),l()}))}return{handleImageDrop:function(e){n()&&u(e)},_pluginActive:n,_buildMediaModel:e,_getParser:t,_setupMediaList:a,_getMediaList:o,_cleanMediaList:r,_linkExisting:s,_buildUploader:l,_destroyUploader:d,_handleUpload:u,_checkValidFile:c,_init:function(){i.events.on("contentChanged",function(){n()&&r()}),i.events.on("initialized",function(){n()&&(s(),l(),i.$oel.scope().$on("$destroy",function(){d()}))})}}}}function n(e){var n=jQuery.FroalaEditor;n.PLUGINS.scImgAssetFroalaUpload=e,n.DefineIcon("scImgAssetFroalaUpload",{NAME:"picture-o"}),n.RegisterCommand("scImgAssetFroalaUpload",{title:"Upload Image",undo:!0,focus:!0,refreshAfterCallback:!0,callback:function(){this.scImgAssetUploader.trigger("click")}})}e.$inject=["$filter","$parse","$timeout","$rootScope","scImgAssetsService"],n.$inject=["scImgAssetFroalaUpload"],angular.module("classy").factory("scImgAssetFroalaUpload",e).run(n)})(),(()=>{function e(i,o){return function(e,n){var t="",a=void 0,a=_.isArray(n)?n.filter(function(e){if("scale"===e.operation){if(4096<e.args.height||4096<e.args.width)return!(t="Image scaling height and width must both be less than 4096px.")}else if("crop"===e.operation&&(1024<e.args.height||1024<e.args.width))return!(t="Image scaling height and width must both be less than 1024px.");return!0}):n;return t&&(o.SC.status.banner={type:"error",msg:t}),i.post("/frs-api/asset/process",{assetId:e,transformQueue:a})}}e.$inject=["$http","$rootScope"],angular.module("classy").factory("scImgAssetProcess",e)})(),(()=>{function e(t){return function(e){if(e)return e.replace(/<img.*?sc-img-asset-ref=['"](\d+)['"].*?>/g,function(e,n){n=t.get(n,"upload").sizes.full;return e.replace(/src=['"].*?['"]/,'src="'+n+'"')})}}e.$inject=["scImgAssetsService"],angular.module("classy").filter("scImgAssetRef",e)})(),(()=>{function e(o,i,r){var s=this,e=0;this.getTempId=function(){return(e+=1)+"_TEMP"},this.registry={upload:{},static:{}},this.createAsset=function(e,n,t,a){return new i(e,n,t,a)},this.register=function(e,n,t){return!!(e&&n&&t)&&(_.has(s.registry,[t,n])?null:(s.registry[t][n]=e,!0))},this.hydrate=function(e){var n=_.get(s.registry,["upload",e.id]);return n||(n=s.createAsset(e.id,"upload",e),s.register(n,e.id,"upload"),_.get(s.registry,["upload",e.id]))},this.get=function(e,n){return _.get(s.registry,[n,e],s.NULL_ASSET)},this.build=function(e,n){var t=s.getTempId(),a=s.createAsset(t,"upload",e,n);return s.register(a,t,"upload"),a.on("save",function(){s.register(a,a.assetId,"upload")}),a},this.transform=function(e,n,t){var a=o.defer(),i=void 0;return e.on("save",function(){r(e.assetId,n).then(function(e){a.resolve(e.data),i.deferred.src.resolve()},function(){a.reject(),i.deferred.src.reject()})}),(i=s.build(a.promise)).src=t,i.sizes.full=t,i},this.init=function(e){_.forEach(e,function(e){var n=s.createAsset(e.id,"upload",e);s.register(n,e.id,"upload")})},this.NULL_ASSET=this.createAsset("NULL_ASSET","static",{})}e.$inject=["$q","scImgAsset","scImgAssetProcess"],angular.module("classy").service("scImgAssetsService",e)})(),(()=>{function e(o,r,s,l){return{require:"ngModel",link:function(n,e,t,a){var i=void 0;n.$watch(t.scImgPicker,function(e){i=e,_.set(i,"image.model",t.ngModel)},!0),e.on("click keydown",function(e){"click"!=e.type&&!l.isValidKeyBoardEvent(e)||n.$apply(function(){s({scope:n,config:i}).then(function(e){e.images.length?(e=e.images[0]).is(a.$modelValue)||(t.autosave&&a.$setViewValue(e),t.scImgInit&&o(t.scImgInit)(n,{$scImg:e})):a.$setViewValue(null)})})}),a.$asyncValidators.uploaded=function(e){var n;return e?e.on("save"):(n=(e=r.defer()).promise,e.resolve(),n)},n.$watch(t.ngModel,function(){a.$validate()})}}}e.$inject=["$parse","$q","launchMediaManager","accessibilityService"],angular.module("classy").directive("scImgPicker",e)})(),(()=>{function e(r,s){return function(e){var n,t,a=e.scope,i=e.config,e=e.flowOptions,e=void 0===e?{}:e,a=a.$new(),o=(a.mediaManagerOptions=i,e.transitionFrom||"slideUp"),e=e.transitionTo||"slideDown";return s.ui.visible?(n=s.activeView,t=r.defer(),i.buttons.cancel&&(a.mediaManagerOptions.buttons.cancel.action=function(){t.resolve(!0),s.to(n,o)}),a.resolveMediaManager=function(e){t.resolve({images:e}),s.to(n,o)},_.set(a,"mediaManagerOptions.buttons.submit.action","resolveMediaManager($images)"),s.to({template:"<div data-sc-media-manager='mediaManagerOptions'></div>",maxWidth:980,context:a},e),t.promise):s.open({template:"<div data-sc-media-manager='mediaManagerOptions'></div>",maxWidth:980,context:a})}}e.$inject=["$q","scFlowModalService"],angular.module("classy").factory("launchMediaManager",e)})(),(()=>{function e(g,l,p){return function(c){var a=3,i=150,d=20,o=[],u=[],r={isInitialized:!1,animationPending:!1},m={$element:null,width:0,height:0,colWidth:0,marginWidth:0};function s(e){n=void 0,_.forEach(u,function(e){(!n||e.height<n.height)&&(n=e)});var n,t=n,a=e.imageHeight/e.imageWidth,a=Math.floor(t.width*a),i=t.width,o=t.height,r=t.left,s=(t.height+=a+d,angular.element("<div class='media-library_results-item'></div>")),i=(s.css({width:i,height:a,top:o,left:r}),s.attr({"data-ng-click":"stage({image: listing, libraryLoaded: true })","data-ng-class":"{'selected': pixabaySrc === listing.previewURL}","data-ng-keydown":"stage({image: listing, keyboardEvent: $event, libraryLoaded: true })"}),angular.element("<img class='media-library_results-item-thumbnail' />")),a=(i.attr({alt:"tagged with "+e.tags+".","aria-label":'{{ pixabaySrc === listing.previewURL ? "Selected" : "Click to select" }}',tabindex:"0"}),i[0].onload=function(){s.addClass("loaded")},i[0].src=e.previewURL,angular.element("<div class='media-library_results-item-selector'></div>")),o=(s.append(i),s.append(a),c.$new()),l=(o.listing=e,g(s)(o));p(function(){m.$element.append(l),t.height>m.height&&(m.$element.height(t.height),m.height=t.height)})}this.setElement=function(e){m.$element=e},this.push=function(e){r.isInitialized&&s(e),o.push(e)},this.clear=function(){o=[],_.forEach(u,function(e){e.height=0}),r.isInitialized&&(m.$element.empty(),m.$element.height("auto"),m.height=m.$element.height())},this.init=function(){if(m.width=m.$element.width(),m.height=m.$element.height(),m.width<600&&(a=2,i=m.width/2,d=10),m.width){var e=d*(a-1),n=a*i;if(m.width<e+n&&(n=m.width-e),m.colWidth=Math.floor(n/a),m.marginWidth=Math.floor((m.width-(n+e))/2),!u.length)for(var t=0;t<a;t+=1)u.push({});_.forEach(u,function(e,n){e.left=m.marginWidth+(m.colWidth+d)*n,e.width=m.colWidth,e.height=0}),o.length&&_.forEach(o,function(e){s(e)}),r.isInitialized=!0}else l(this.init,100)}}}e.$inject=["$compile","$timeout","scRequestAnimationFrame"],angular.module("classy").factory("scMason",e)})(),angular.module("classy").directive("scMediaLibraryListings",function(){return{scope:{mason:"=scMediaLibraryListings"},link:function(e,n){e.mason.setElement(n)}}}),(()=>{function e(n,i,o,r,e,s,l,d,u){return e({link:function(c,e){function t(){var e=o.defer();return e.promise.then(a),e}function a(e,n){var t=[],e=(t.push(e),[]),n=(e.push(n),_.get(c.options,"buttons.submit.action"));n?i(n)(c,{$images:t,$video:c.model.video,$use:c.ui.view,$cropData:e}):l.close(!0,{images:t,video:c.model.video,cropData:e})}n.enabled(e,!1),c.model={images:[],video:"",use:null},c.staged=c.staged||{images:[],video:"",use:null},c.pixabaySrc="",c.ui={view:"image",image:{source:"upload",qty:1,uploaded:[],search:{collection:"all",query:"",querySuffix:"",page:1,results:[],processing:!1,debouncing:!1,pending:!1},minWidth:2e3,minHeight:2e3},reactEditorVisible:c.options.useReactEditor,video:{source:"link"}},c.el={main:e},_.get(c.options,"userAccess",!1)?c.userAccess=i(c.options.userAccess)(c):c.userAccess=null,c.customAction=function(){var e=_.get(c.options,"buttons.custom.action");e&&i(e)(c)},c.cancelMediaManager=function(){var e=_.get(c.options,"buttons.cancel.action");e&&i(e)(c)},c.stage=function(e){var n,t=e.image,a=e.libraryLoaded,a=void 0!==a&&a,e=e.keyboardEvent;e&&!u.isValidKeyBoardEvent(e)||(a?(n=$("[data-submit-button]"),c.pixabaySrc=t.previewURL,c.disableContinue=!0,c.deferredImageData(t).then(function(e){c.disableContinue=!1;e=new s(e);c.staged.images=[e],r(function(){n.focus()})})):c.staged.images=[t])},c.clear=function(){c.el.$input.val(""),c.ui.image.uploaded=[],c.staged.images=[],c.model.images=[]},c.buildSaveText=function(){return c.staged.images.length&&!c.ui.reactEditorVisible?"Insert":"Continue"},c.submit=function(){var e=_.get(c.options,"buttons.submit.action",!1),n=(c.staged.images.length&&(n=c.staged.images[0],c.model.images=[n]),_.get(c.options,"image.crop",c.options.useReactEditor));c.model.images.length&&n?c.cropImage({$images:c.model.images,$video:c.model.video,$use:c.ui.view}):e?i(e)(c,{$images:c.model.images,$video:c.model.video,$use:c.ui.view}):l.close(!0,{images:c.model.images,video:c.model.video,use:c.ui.view})},c.cropImage=function(e){c.options.useReactEditor?c.openReactEditor():c.openScCropper(e)},c.openScCropper=function(e){var e=e.$images,n=(c.cropDeferred=new t,e[0]),e=(c.cropImageConfig={width:250,height:250,title:"Crop your image",blockClass:"fundraising-page-logo-crop",image:null},_.get(c.options,"image.crop",!1));e&&_.isObject(e)&&_.merge(c.cropImageConfig,e),l.to({template:"<div data-sc-crop-modal='cropImageConfig'></div>",maxWidth:415,context:c}),n.download().then(function(){c.originalImage=n,c.cropImageConfig.image=n.cache.full})},c.reactEditorCancel=function(){l.to({template:"<div data-sc-media-manager='options'></div>",maxWidth:980,context:c},"slideRight")},c.openReactEditor=function(){l.to({template:'\n            <media-manager-editor\n              data-src="model.images[0].src"\n              data-aspect-ratio="options.reactEditorOptions.aspectRatio"\n              data-height="options.reactEditorOptions.height"\n              data-visible="ui.reactEditorVisible"\n              data-mode="options.reactEditorOptions.mode"\n              data-handle-upload="handleReactUpload({ imgFile, imageData })"\n              data-on-cancel="reactEditorCancel()"\n              data-hero-full-height="options.reactEditorOptions.heroFullHeight"\n              data-max-file-size="options.reactEditorOptions.maxFileSize"\n              data-file-name="model.images[0].asset.title"\n              data-output-max-width="options.reactEditorOptions.outputMaxWidth"\n            />\n          ',context:c,transitionTo:"slideRight"})},c.handleReactUpload=function(e){var n=e.imgFile,e=e.imageData,e={position:e.position,canvasData:e.canvasData},n=new s(n);n.cropData=e,a(n,e)},c.$on("scCropCancel",function(){c.cropImageConfig.image=null;var e=_.get(c.options,"image.crop.cancel",!1);e?l.to(e,"slideRight"):l.to({template:"<div data-sc-media-manager='options'></div>",maxWidth:980,context:c},"slideRight")}),c.$on("scCropSave",function(e,n){var n=d.transform(c.originalImage.asset,n.transformQueue,n.preview),t=_.cloneDeep(c.originalImage),n=s.instantiate(n,t);c.cropDeferred.resolve(n)}),c.deferredImageData=function(e){var n=o.defer(),e=c.getUrlFromListing(e),t=new XMLHttpRequest;return t.open("get",e,!0),t.responseType="blob",t.onload=function(){t.response?(t.response.name=c.ui.image.search.query||"Downloaded Image",n.resolve(t.response)):n.reject()},t.send(),n.promise},c.getUrlFromListing=function(e){var n=e.imageHeight>e.imageWidth,t=!n,a=n?e.imageWidth/e.imageHeight:e.imageHeight/e.imageWidth,n={preview:{height:n?150:150*a,width:t?150:150*a,url:e.previewURL},webformat:{height:n?640:640*a,width:t?640:640*a,url:e.webformatURL},large:{height:n?1280:1280*a,width:t?1280:1280*a,url:e.largeImageURL},hd:{height:n?1920:1920*a,width:t?1920:1920*a,url:e.fullHDURL}},i=c.ui.image.minWidth,o=c.ui.image.minHeight,r=n.hd.url,s=n.hd.width,l=n.hd.height;return _.forEach(n,function(e){e.width>i&&e.width<s&&e.height>o&&e.height<l&&(r=e.url,s=e.width,l=e.height)}),r},c.getFilename=function(e){return s.isInstance(e)?e.title||"Uploaded Image":"Downloaded Image"},_.get(c.options,"image.model")&&!c.model.images.length&&(e=i(c.options.image.model)(c),_.isArray(e)?c.model.images=e:c.model.images=e?[e]:[]),_.get(c.options,"video.model")&&(c.model.video=i(c.options.video.model)(c)),_.get(c.options,"use.model")&&(c.model.use=i(c.options.use.model)(c)),_.get(c.options,"image.minWidth")&&(c.ui.image.minWidth=c.options.image.minWidth),_.get(c.options,"image.minHeight")&&(c.ui.image.minHeight=c.options.image.minHeight),c.model.images.length&&!c.staged.images.length&&c.stage({image:c.model.images[0],libraryLoaded:!1})}},{precompile:{context:"scMediaManager",contextName:"options",templateUrl:"global/media/scMediaManager/template"}})}e.$inject=["$animate","$parse","$q","$timeout","decorateDirective","scImg","scFlowModalService","scImgAssetsService","accessibilityService"],angular.module("classy").directive("scMediaManager",e)})(),angular.module("classy").service("scAnalyticsServiceSettings",function(){this.analytics={campaign:{},organization:{}},this.add=function(e,n){this.analytics[e][n.service_name]=n},this.getById=function(e,n){return _.get(this,"analytics."+e+"."+n,!1)},this.getByName=function(e,n){return _.get(this,"analytics."+e+"."+n,!1)},this.init=function(e){var n=this;e&&(_.forEach(e.campaign,function(e){n.add("campaign",e)},this),_.forEach(e.organization,function(e){n.add("organization",e)},this))}}),(()=>{function e(o,r){return{scope:{bg:"=scBlockBg",fallbackColor:"=",imageBgColor:"=?",fallbackImg:"=?",backgroundPreview:"<?"},template:"\n    <div class=\"sc-block_bg\">\n      <div class='sc-block_bg-color' data-ng-style='getBgColorStyles()'></div>\n      <div class='sc-block_bg-image' data-ng-style='getBgImageStyles()'></div>\n    </div>\n    ",replace:!0,link:function(a,i){a.getBgColorStyles=function(){return{backgroundColor:a.bg.image&&a.imageBgColor?a.bg.color||a.imageBgColor:a.bg.color||a.fallbackColor,opacity:a.bg.colorOpacity/100}},a.getBgImageStyles=function(){var e,n,t;return a.bg.image||a.fallbackImg&&!a.bg.color&&!a.imageBgColor?(n=_.get(o.getUa(),"os.name",""),e=void 0,e=a.bg.fixed&&"iOS"!==n&&a.$parent.public?"fixed":"local",n=void 0,n=a.bg.image&&a.bg.image.cropData?100*a.bg.image.cropData.position.x+"% "+100*a.bg.image.cropData.position.y+"%":a.bg.position,t=_.get(a,"fallbackImg.src",""),e={backgroundAttachment:e,backgroundImage:"url("+_.get(a.bg,"image.src",t)+")",backgroundPosition:n,backgroundSize:a.bg.size,backgroundRepeat:a.bg.repeat,opacity:a.bg.imageOpacity/100},a.bg.blur&&(e.filter="blur("+a.bg.blur+"px)",e["-webkit-filter"]="blur("+a.bg.blur+"px)",e["-moz-filter"]="blur("+a.bg.blur+"px)",e["-o-filter"]="blur("+a.bg.blur+"px)",e["-ms-filter"]="blur("+a.bg.blur+"px)"),a.bg.image&&a.backgroundPreview?a.bg.size="cover":a.bg.preset&&a.bg.image?(t=r[a.bg.preset],_.merge(a.bg,t.styles),"adaptive"==a.bg.preset&&(i[0].offsetWidth>a.bg.image.width||i[0].offsetHeight>a.bg.image.height)&&(a.bg.size="cover")):a.fallbackImg&&(n=a.bg.preset||"adaptive",t=r[n],_.merge(a.bg,t.styles),"adaptive"==n)&&(document.documentElement.clientWidth>a.fallbackImg.width||i[0].clientHeight>a.fallbackImg.height)&&(a.bg.size="cover"),e):""}}}}e.$inject=["scUserAgent","scBlockBackgroundPresets"],angular.module("classy").directive("scBlockBg",e)})(),(()=>{function e(n,i,o,r){return{scope:{bg:"=scBlockBgSelect",omit:"=?",lockField:"<?"},template:'<div ng-class="{\'admin-body__lock-field\':lockField}"><div ng-if="lockField"data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"data-sc-tooltip-position="center"data-sc-tooltip-position-tip="bottom center"show-event="\'mouseenter\'" hide-event="\'mouseout\'" fixed-tooltip="true"data-sc-tooltip="\'This field is locked at the template level.\'"class="admin-body__tooltip-element"></div><select _spec="scBlockBgSelect" class="edit-design-form_select" data-ng-model="bg.preset" data-ng-disabled="lockField" qa-id="{{ scQaId.selectField }}" data-ng-options="name as option.label for (name,option) in bgPresets"></select></div>',replace:!0,link:function(t){var e,a=[t.omit];t.bgPresets={},t.scQaId=i,t.getLockedField=function(e){e=o.getBlockByType(e);return e&&e.item_attributes.background.preset&&e.item_attributes.background.preset.locked},void 0===t.lockField&&SC.campaign.campaignTemplateData&&(e=_.find(SC.blocks,{id:r.blockId}))&&(t.lockField=t.getLockedField(e.type)),_.forEach(n,function(e,n){_.indexOf(a,n)<0&&(t.bgPresets[n]=e)}),t.$watch("bg.preset",function(e,n){e!==n&&(t.bg.image&&(t.bg.image.options.position=e),n=t.bgPresets[e],_.merge(t.bg,n.styles))})}}}e.$inject=["scBlockBackgroundPresets","scQaId","scCampaignsTemplateService","$stateParams"],angular.module("classy").directive("scBlockBgSelect",e)})(),(()=>{function e(a,i,o,r,s,l,c,d,u,m,g,p,f,h,v,b,y,_,k,w){return function(e){var n=!1,t={};switch(SC&&SC.organization&&SC.organization.tags&&(n=SC.organization.tags.includes("prevent-recurring-frequencies")),e){case"crowdfunding":t=a;break;case"header":t=i;break;case"about":t=o;break;case"donation":t=n?r:s;break;case"impact":t=l;break;case"thank-you":t=c;break;case"activity":t=d;break;case"progress-circle":t=w;break;case"footer":t=u;break;case"html":t=m;break;case"global-css":t=k;break;case"team":t=g;break;case"text":t=p;break;case"fundraiser":t=f;break;case"fundraisers":t=h;break;case"featured":t=b;break;case"location":t=y;break;case"registration":t=v;break;case"custom":t=_;break;default:t={}}return t}}e.$inject=["scCrowdfundingBlockDefaults","scHeaderBlockDefaults","scAboutBlockDefaults","scDonationBlockDefaults","scDonationBlockDefaultsRf","scImpactBlockDefaults","scThankYouBlockDefaults","scActivityBlockDefaults","scFooterBlockDefaults","scHtmlBlockDefaults","scTeamBlockDefaults","scTextBlockDefaults","scFundraiserBlockDefaults","scFundraisersBlockDefaults","scRegistrationBlockDefaults","scFeaturedBlockDefaults","scLocationBlockDefaults","scCustomBlockDefaults","scGlobalCssBlockDefaults","scProgressCircleBlockDefaults"],angular.module("classy").factory("scBlockDefaults",e)})(),(()=>{function e(i,o,r){function e(){var e,n,t,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.queries_log&&delete a.queries_log,a.mongo_queries_log&&delete a.mongo_queries_log,a.updated_at&&delete a.updated_at,"donation"==a.type&&a["recurring-level"]&&"string"==typeof a["recurring-level"]&&!(SC.organization.tags||[]).includes("prevent-recurring-frequencies")&&(e=a["donation-levels"].map(function(e){return e.amount}),a["donation-default"]=["3","6"].includes(a["recurring-level"])||e.includes(a["donation-default"])?a["donation-default"]:null,n=![].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(e),[null]).includes(a["donation-default"]),t=["1","5","6"].includes(a["recurring-level"]),a["recurring-default"]=t?"one-time":"monthly",a["recurring-level"]=[{type:"one-time",name:"One-time",display_on_page:!n||t},{type:"daily",name:"Daily",display_on_page:!1},{type:"weekly",name:"Weekly",display_on_page:!1},{type:"bi-weekly",name:"Bi-weekly (every 2 weeks)",display_on_page:!1},{type:"monthly",name:"Monthly",display_on_page:!n||!t},{type:"quarterly",name:"Quarterly (every 3 months)",display_on_page:!n},{type:"semi-annually",name:"Semi-annually (every 6 months)",display_on_page:!n},{type:"yearly",name:"Yearly (every 12 months)",display_on_page:!n}],a["donation-levels"]=[{amount:n?a["donation-default"]:e[0],display_on_page:!0},{amount:e[1],display_on_page:!n},{amount:e[2],display_on_page:!n},{amount:e[3],display_on_page:!n},{amount:"Custom",display_on_page:!n}]),"donation"!=a.type||!a["donation-levels"]||a["recurring-donation-levels"]&&0!==a["recurring-donation-levels"].length||(SC.organization.tags||[]).includes("prevent-recurring-frequencies")||(SC.organization.tags||[]).includes("prevent-oldrf-for-deque")||(a["recurring-donation-levels"]=_.cloneDeep(a["donation-levels"]),a["recurring-donation-default"]=a["donation-default"]),i.call(this),this.type="block",this.defaults=o(a.type),this.saved=r(a),this.current=r(a),"donation"==a.type&&a["recurring-level"]&&(this.defaults["recurring-level"]=a["recurring-level"]),this.setupBackwardsCompatability(this.saved),this.setupBackwardsCompatability(this.current)}return(e.prototype=_.create(i.prototype,{constructor:e})).setupBackwardsCompatability=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_.isUndefined(e.background)&&(e.background={});_.isUndefined(e.background.imageOpacity)&&!_.isUndefined(e.background.opacity)&&(e.background.imageOpacity=e.background.opacity);"crowdfunding"===e.type&&_.isUndefined(e.enableHeadline)&&!_.isUndefined(e.hideHeadline)&&(e.enableHeadline=!e.hideHeadline);_.defaultsDeep(e,this.defaults),"team"!==e.type&&"fundraiser"!==e.type||!e.unsortable||(e.unsortable=!1);{var n,t;"donation"!=e.type&&"thank-you"!=e.type&&"about"!=e.type||(n="40px",t=e.headline,"about"==e.type&&(t=e.content,n="22px"),/<[a-z][\s\S]*>/i.test(t)?(a=$.parseHTML(t),a=$(a).toArray().filter(function(e){return e.nodeName&&"#comment"!==e.nodeName.toLowerCase()&&("#text"===e.nodeName.toLowerCase()||e.style)}).map(function(e){return"#text"===e.nodeName.toLowerCase()?e.textContent:(e.style.fontSize||(e.style.fontSize=n),$(e).prop("outerHTML"))}).join(""),"about"==e.type?e.content=a:e.headline=a):"about"==e.type?e.content='<span style="font-size: '+n+';">'+t+"</span>":e.headline='<span style="font-size: '+n+';">'+t+"</span>")}{var a;"video"===e.featuredType&&(_.isArray(e.featuredImg)||(e.featuredImg=[e.featuredImg]),a={url:e.featuredVideo,type:"video"},-1==_.indexOf(e.featuredImg,a))&&e.featuredVideo&&(e.featuredImg.push(a),e.featuredVideo=null)}},e.prototype.getThumbUrl=function(){return"global/objects/scBlock/types/"+this.type+"/thumbnail"},e}e.$inject=["scObjectModel","scBlockDefaults","scCloneDeep"],angular.module("classy").factory("scBlockModel",e)})(),(()=>{function e(o,r,s){return{scope:{model:"=scBlockStyleSelect",presetConst:"@scPresets",omit:"=?",color:"=scColor",ariaLabel:"@?"},template:'\n      <div ng-class="{\'admin-body__lock-field\':lockField}">\n        <div ng-if="lockField"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="mouseenter" hide-event="mouseout" fixed-tooltip="true"\n          data-sc-tooltip="This field is locked at the template level."\n          class="admin-body__tooltip-element">\n        </div>\n        <select\n          class="{{selectClass}}"\n          qa-id="{{ scQaId.selectField }}"\n          data-ng-disabled="lockField"\n          data-ng-model="model.preset"\n          data-ng-options="name as option.label for (name,option) in presets"\n          data-ng-change="handleChange()"\n          aria-label="{{ariaLabel}}">\n        </select>\n      </div>',replace:!0,controller:["$scope","$injector","$attrs",function(t,e,a){var n,i=[],e=e.get(t.presetConst);t.selectClass=a.class,t.lockField=!1,t.getLockedField=function(e){var e=r.getBlockByType(e),n=a.scBlockStyleSelect.split(".").splice(-1)[0];return e&&e.item_attributes[n]&&e.item_attributes[n].preset.locked},SC.campaign.campaignTemplateData&&(n=_.find(SC.blocks,{id:s.blockId}))&&(t.lockField=t.getLockedField(n.type)),_.isArray(t.omit)?i=t.omit:_.isString(t.omit)&&(i=[t.omit]),t.scQaId=o,t.presets={},_.forEach(e,function(e,n){_.indexOf(i,n)<0&&(t.presets[n]=e)}),t.handleChange=function(){var e,n;t.lockField||(e=t.model.preset,n=t.presets[e],t.model={preset:e},_.endsWith(e,"Wire")?(t.model["border-color"]=t.color,t.model.color=t.color):(t.model["background-color"]=t.color,t.model.color="white"),_.merge(t.model,n.styles))}}]}}e.$inject=["scQaId","scCampaignsTemplateService","$stateParams"],angular.module("classy").directive("scBlockStyleSelect",e)})(),(()=>{function e(n){return function(t){var e;if(t)return(e=_.filter(n,function(e){var n=e.name;if(Object.prototype.hasOwnProperty.call(t,n))return n=e.width,Modernizr.mq("(max-width: "+n+"px)")})[0])&&e.name||!1}}e.$inject=["scResponsive"],angular.module("classy").factory("scBlockTemplateBreakpoint",e)})(),(()=>{function e(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").service("scBlocksService",["scBlockModel","scAuthorizeService","PERMISSIONS",function(n,a,i){var o=this;this.blocks={},this.add=function(e){this.blocks[e.id]=new n(e)},this.remove=function(e){delete this.blocks[e]},this.get=function(e){return _.get(this,"blocks."+e,!1)},this.getIdByType=function(n){return Object.keys(o.blocks).filter(function(e){return o.blocks[e].defaults.type===n})[0]||void 0},this.getBlockByType=function(e){e=o.getIdByType(e);return e&&o.blocks[e]},this.diffAll=function(){var t=[];return _.forEach(this.blocks,function(n){var e=n.mongoDiff();void 0!==e&&angular.forEach(e,function(e){t.push({block:n.current.type,diff:e})})}),t},this.customBlocksCount=function(){return Object.keys(o.blocks).reduce(function(e,n){return"custom"===o.blocks[n].current.type||"text"===o.blocks[n].current.type||"html"===o.blocks[n].current.type||"global-css"===o.blocks[n].current.type?e+1:e},0)},this.list=function(){return this.blocks},this.getHasAccess=(()=>{var n=e(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isAuthorized(n);case 2:return t=e.sent,e.abrupt("return",t.every(function(e){return e.result}));case 4:case"end":return e.stop()}},e,o)}));return function(e){return n.apply(this,arguments)}})(),this.init=(()=>{var n=e(regeneratorRuntime.mark(function e(n){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.forEach(n,function(e){t.add(e)}),e.next=3,this.getHasAccess(i.campaign.update_custom_code);case 3:this.hasBlockAccess=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(e){return n.apply(this,arguments)}})(),this.checkBlockAccess=function(e){return!["html","global-css"].includes(e.type)||this.hasBlockAccess}}])})(),angular.module("classy").factory("scButtonStyleUpdate",function(){return function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;if(t)return e={},_.merge(e,n),_.endsWith(n.preset,"Wire")?(e["background-color"]="transparent",e.color=t):(e.color="white",e["background-color"]=t),e.border="3px solid "+t,e}}),angular.module("classy").factory("scGetBlockTemplate",["$templateCache","scBlockTemplateBreakpoint","EmbeddedGiving",function(r,s,l){return function(e,n){var n=_.isUndefined(n)?null:n,t="",a=(_.isUndefined(e.layout)||(t=e.layout+"-"),s(n)),i=void 0;var i=n?_.isObject(n)?!a||_.isUndefined(n[a])?"desktop":n[a]:a||"desktop":"desktop",a=(a=e.type,o=t,i=i,"donation"===a?l.isEnabled?l.root:"global/objects/scBlock/types/frs-donation/template":"global/objects/scBlock/types/"+a+"/"+o+i),o=r.get(a);return _.isUndefined(o)&&n&&!_.isUndefined(e.layout)&&(a="global/objects/scBlock/types/"+e.type+"/"+t+"desktop"),r.get(a)}}]),(()=>{function e(t){return function(e,n){return _.forEach(e,function(t){_.forEach(t,function(e,n){t[n]=_.isFunction(e)?e():e})}),_.isObject(n)&&_.merge(e,n),_.forEach(e,function(e){e.template||(e.template=t.get(e.templateUrl))}),_.filter(e,function(e){return e.active})}}e.$inject=["$templateCache"],angular.module("classy").factory("scPrepareBlockComponents",e)})(),(()=>{function e(o,r,s,l,c,d,u,m){return{require:"?^scDesignerScrollingPanes",scope:{blockId:"=scRenderBlock",campaign:"=",theme:"=",page:"=?",layout:"=?",team:"=?",fundraiser:"=?",public:"=",demo:"=?",editable:"=?",firstVisibleBlockId:"=?"},link:function(t,e,n,a){t.CHAR_LIMITS=u,t.ui={settingsMode:!!n.settings,sortableOptions:{handle:".sc-block_reorder-handle"}},t.block=s.get(t.blockId).current,t.you=l.you,t.organization=c.active,t.SC=SC,t.scQaId=d,t.$watch(function(e){return e.page?e.page.block_sections[1].blocks.map(function(e){return e.id}).join():null},function(){var n,e;t.page&&t.page.block_sections.length&&(n=["global-css"],e=t.page.block_sections[1].blocks.find(function(e){return!n.includes(e.type)})||{},t.firstVisibleBlockId=e.id)});var n="",i=(t.updateCustomCodePermission=m.campaign.update_custom_code,t.editable&&(n='<div class="sc-block_design-menu">\n          <gate permissions="updateCustomCodePermission">\n            <authorized>\n              <i class="sc-block_design-menu-button sc-block_design-menu-sort fa fa-bars"></i>\n            </authorized>\n            <unauthorized>\n              <i data-ng-if="!block.unsortable" class="sc-block_design-menu-button sc-block_design-menu-sort fa fa-bars"></i>\n            </unauthorized>\n          </gate>\n        </div>',s.checkBlockAccess(t.block))&&e.on("click",function(){t.$apply(function(){r.go("admin.manage.campaign.step.design.views.block",{blockId:t.blockId})})}),t.scrollToElement=function(e){return"sc-target-to-top"===e&&document.getElementById("header-block_navigation").focus(),r.includes("admin.manage.campaign.step.design")&&a.scrollTo(e),!0},"donation"!==(i=t.block.type)?"sc-"+i+"-block":"frs-donation-block"),i=(n+="<div "+i+(t.ui.settingsMode?"-settings":"")+"></div>",angular.element(n));e.append(i),o(i)(t)}}}e.$inject=["$compile","$state","scBlocksService","scMembersService","scOrganizationsService","scQaId","CHAR_LIMITS","PERMISSIONS"],angular.module("classy").directive("scRenderBlock",e)})(),angular.module("classy").directive("scSortBlocks",function(){return{scope:{section:"=scSortBlocks"},link:function(t,e,n){var a=null,i=null;e.sortable({axis:"y",handle:n.scSortBlocksHandle,start:function(e,n){a=n.item.index()},stop:function(e,n){0===n.item.index()&&$(this).sortable("cancel")},update:function(e,n){t.$apply(function(){0===(i=n.item.index())&&($(this).sortable("cancel"),i=a);var e=t.section.blocks.splice(a,1);t.section.blocks.splice(i,0,e[0])})}})}}}),(()=>{function e(t,a,i,o,r){return function(e){var n={};switch(e){case"crowdfunding":n=t;break;case"p2p":n=a;break;case"reg_w_fund":n=i;break;case"donation":n=o;break;case"ticketed":n=r;break;default:n={}}return n}}e.$inject=["scCrowdfundingCampaignDefaultBlocks","scP2PCampaignDefaultBlocks","scRegWFundCampaignDefaultBlocks","scDonationCampaignDefaultBlocks","scTicketedEventDefaultBlocks"],angular.module("classy").factory("scCampaignDefaultBlocks",e)})(),(()=>{e.$inject=["$log","$http","$q","CG_STATUSES","EG_STATUSES","scBanner","scCampaignDefaultBlocks","scObjectModel","scCloneDeep","scAnalytics","scOrganizationsService"];var g=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=n,a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")};function e(n,r,s,t,a,i,o,l,c,d,e){function u(e){l.call(this),this.type="campaign",this.saved=c(e),this.current=c(e),this.HAS_FUNDRAISING=["reg_w_fund","p2p"].includes(this.current.type),this.IS_TICKETED=["reg_w_fund","ticketed"].includes(this.current.type),this.DESIGNATIONS_ENABLED=["p2p","crowdfunding","donation"].includes(this.current.type),this.defaultBlocks=o(e.type)}function m(e,n){e&&t[n]&&(console.log("[scCampaignModel:__setCryptoGivingStatus] status updated: ",n),e.crypto_giving=n)}return(u.prototype=_.create(l.prototype,{constructor:u})).update=function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.defer(),a={},i=[];if(_.isEmpty(e)){var o=this.mysqlDiff();if(_.forEach(o,function(e){a[e]=n.current[e]}),_.isEmpty(a.ended_at)||(a.started_at=this.current.started_at),_.isEmpty(a))return t.resolve({data:c(this.current)}),t.promise}else a=e;i.push(r({url:"/frs-api/campaign/"+this.current.id,method:"PUT",data:a})),_.get(SC,"organization.facebookChannel.status")&&_.has(e,"allow_fb_fundraising_pages")&&("PUT"===e.method?i.push(this.putCampaignChannel(e.allow_fb_fundraising_pages,e.channelId)):i.push(this.postCampaignChannel(e.channel,e.allow_fb_fundraising_pages)));return s.all(i).then(function(e){_.merge(n.current,c(e[0].data)),n.saved=c(n.current),t.resolve(e)}).catch(function(e){t.reject(e)}),t.promise},u.prototype.publish=function(){var n=this;return r({url:"/frs-api/campaign/"+this.current.id+"/publish",method:"POST"}).then(function(e){return _.merge(n.saved,c(e.data)),n.current.status=n.saved.status,d.track("campaign/updated",{property:"published",new:!0,old:!1,campaign_id:_.get(e,"data.id",null),organization_id:_.get(e,"data.organization_id",null)}),e})},u.prototype.unpublish=function(){var n=this;return r({url:"/frs-api/campaign/"+this.current.id+"/unpublish",method:"POST"}).then(function(e){return _.merge(n.saved,c(e.data)),n.current.status=n.saved.status,d.track("campaign/updated",{property:"published",new:!1,old:!0,campaign_id:_.get(e,"data.id",null),organization_id:_.get(e,"data.organization_id",null)}),e})},u.prototype.deactivate=function(){var n=this;return r({url:"/frs-api/campaign/"+this.current.id+"/deactivate",method:"POST"}).then(function(e){return _.merge(n.saved,c(e.data)),n.current.status=n.saved.status,e})},u.prototype.reactivate=function(){var n=this;return r({url:"/frs-api/campaign/"+this.current.id+"/reactivate",method:"POST"}).then(function(e){return _.merge(n.saved,c(e.data)),n.current.status=n.saved.status,e})},u.prototype.getFundraisingTeams=function(e,n){var t="",a={};_.isString(e)?t=e:_.isPlainObject(e)&&(a=e);return r({url:"/frs-api/campaign/"+this.current.id+"/fundraising-teams"+t,method:"GET",cache:n,params:a})},u.prototype.getFundraisingPages=function(e,n){var t="",a={};_.isString(e)?t=e:_.isPlainObject(e)&&(a=e);return r({url:"/frs-api/campaign/"+this.current.id+"/fundraising-pages"+t,method:"GET",cache:n,params:a})},u.prototype.refreshData=function(){var n=this;return r({method:"GET",url:"/frs-api/campaigns/"+this.current.id+"/overview"}).then(function(e){e=e.data,e=_.pick(e,["donation_net_amount","donors_count","fundraisers_count","fees_amount","gross_amount","total_gross_amount","net_amount","transactions_count","percent_to_goal"]);return n.current.overview||(n.current.overview={}),Object.assign(n.current.overview,e),n.current.overview})},u.prototype.getOverview=function(){return!this.current.overview||_.isEmpty(this.current.overview)?this.refreshData():s.resolve(this.current.overview)},u.prototype.getSupporterCounts=function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=[];a.push(r.get("/frs-api/campaigns/"+this.current.id+"/overview?engagement="+t).then(function(e){return e.data})),!SC.campaignTemplatingView&&SC.organization.facebookChannel.status&&e&&a.push(r.get("/frs-api/campaigns/"+this.current.id+"/channels?filter=channel_name%3DFacebook").then(function(e){return e.data&&e.data.data&&e.data.data.length&&e.data.data[0].status?r.get("/frs-api/campaigns/"+n.current.id+"/channel-overview").then(function(e){return e.data.unique_fundraisers_with_facebook}):Promise.resolve(null)}).catch(function(e){return i("Oops! Something went wrong. Please try again.","error"),e}));return s.all(a).then(function(e){var e=g(e,2),n=e[0],e=e[1];return{supporterCount:n.unique_supporters||0,donorCount:n.donors_count||0,fundraiserCount:n.unique_fundraisers||0,captainCount:n.unique_captains||0,fundraiserAndCaptainCount:n.unique_captain_and_fundraisers||0,attendeeCount:n.unique_active_attendees||0,facebookFundraiserCount:e||0,nonFacebookFundraiserCount:n.unique_fundraisers-e||0}})},u.prototype.getTicketTypes=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return r({url:"/frs-api/campaigns/"+this.current.id+"/ticket-types",method:"GET",params:{per_page:100,filter:e}})},u.prototype.getRegistrations=function(){return r({url:"/frs-api/campaign/"+this.current.id+"/registrations",method:"GET",params:{per_page:1}})},u.prototype.getPromoCodes=function(e){return r({url:"/frs-api/campaigns/"+this.current.id+"/promo-codes",method:"GET",params:e})},u.prototype.getAvailablePromoCodes=function(e){return r({url:"/frs-api/campaigns/"+this.current.id+"/promo-codes/available",method:"GET",params:e})},u.prototype.isType=function(e){return this.current.type===e},u.prototype.isInactive=function(){return!SC.campaignTemplatingView&&(moment(this.current.ended_at)&&moment().isAfter(moment(this.current.ended_at))||"deactivated"==this.current.status)},u.prototype.multiCurrencyDisabled=function(){return!["crowdfunding","p2p","donation"].includes(this.current.type)||e.active.multiCurrencyDisabled()||_.isUndefined(this.current.raw_currency_code)},u.prototype.getDesignations=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return r({method:"GET",url:"/frs-api/campaign/"+this.current.id+"/designations",params:{per_page:100,page:e}})},u.prototype.getInternalName=function(){return this.current.internal_name||this.current.name},u.prototype.updateDefaultDesignation=function(e){this.current.designation=e,this.current.designation_id=e.id},u.prototype.getCampaignChannel=function(e){return r({url:"/frs-api/campaigns/"+this.current.id+"/channels",method:"GET",params:{filter:"channel_name="+e}}).then(function(e){return e.data.data})},u.prototype.postCampaignChannel=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e={channel_name:e,status:n};t&&(e.metadata=t);return r({url:"/frs-api/campaigns/"+this.current.id+"/channels",method:"POST",data:e})},u.prototype.putCampaignChannel=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e={status:e};t&&(e.metadata=t);return r({url:"/frs-api/campaign-channels/"+n,method:"PUT",data:e})},u.prototype.putCampaignChannelObject=function(e){return r({url:"/frs-api/campaign-channels/"+e.channelId,method:"PUT",data:{employer_match_on_donation_page:e.employer_match_on_donation_page,employer_match_on_thankyou_page:e.employer_match_on_thankyou_page,employer_match_preselect:e.employer_match_preselect}})},u.prototype.hasCryptoGiving=function(){return this.current.crypto_giving===t.enabled},u.prototype.enableCryptoGiving=function(){m(this.current,t.enabled)},u.prototype.disableCryptoGiving=function(){m(this.current,t.disabled)},u.prototype.getEmbeddedGiving=function(){return this.current.embedded_giving||a.disabled},u.prototype.setEmbeddedGiving=function(e){a[e]&&(console.log("[scCampaignModel:setEmbeddedGiving] status updated: ",e),this.current.embedded_giving=e)},u.prototype.hasEmbeddedGiving=function(){return!(!this.current.embedded_giving||!this.current.embedded_giving.length||this.current.embedded_giving===a.disabled)},u.prototype.hasWhitelistedUrl=function(){return this.current.whitelist_url&&0<this.current.whitelist_url.length},u.prototype.hasUrlWhitelisted=function(e){return!(!e||!e.length)&&0<=this.current.whitelist_url.indexOf(e)},u.prototype.removeWhitelistedUrl=function(e){this.current.whitelist_url=this.current.whitelist_url||"";var n=this.current.whitelist_url.split(" "),e=n.indexOf(e);0<=e&&n.splice(e,1);return this.current.whitelist_url=n.join(" "),this.current.whitelist_url},u.prototype.setHideAnonymousDonation=function(e){this.current.hide_anonymous_donations=e},u.prototype.whitelistUrl=function(e){return this.current.whitelist_url=this.current.whitelist_url||"",0<=this.current.whitelist_url.split(" ").indexOf(e)||(this.current.whitelist_url.length?this.current.whitelist_url+=" "+e:this.current.whitelist_url=e),this.current.whitelist_url},u.prototype.hasExitIntentModal=function(){return this.current&&!!this.current.exit_modal},u.prototype.hasIntelligentAsk=function(){return this.current&&(this.current.use_intelligent_ask_onetime||this.current.use_intelligent_ask_recurring)},u.prototype.hasIntelligentAskOneTime=function(){return this.current&&this.current.use_intelligent_ask_onetime},u.prototype.hasIntelligentAskRecurring=function(){return this.current&&this.current.use_intelligent_ask_recurring},u.prototype.setIntelligentAsk=function(e){e=e||{};_.has(e,"oneTime")&&(n.info("[scCampaignModel:setIntelligentAsk] oneTime set: ",e.oneTime),this.current.use_intelligent_ask_onetime=!!e.oneTime);_.has(e,"recurring")&&(n.info("[scCampaignModel:setIntelligentAsk] recurring set: ",e.recurring),this.current.use_intelligent_ask_recurring=!!e.recurring)},u}angular.module("classy").factory("scCampaignModel",e)})(),(()=>{function e(n){this.campaigns={},this.add=function(e){this.campaigns[e.id]=new n(e)},this.get=function(e){return _.get(this,"campaigns."+e,!1)},this.setActive=function(e){this.active=this.get(e)},this.isDcfAllowed=function(){return this.active.current.dcf_allowed},this.init=function(e){var n=this;_.forEach(e,function(e){n.add(e)})}}e.$inject=["scCampaignModel"],angular.module("classy").service("scCampaignsService",e)})(),(()=>{function e(n){return{get:function(e){return n({method:"GET",url:"/frs-api/campaign-templates/"+e,loadingScope:!0})},getBlockByType:function(n){var e=SC.campaign.campaignTemplateData;return e&&e.components.block&&e.components.block.component_items.find(function(e){return e.value.type===n})},getCampaignCustomizationLock:function(t){var e=SC.campaign.campaignTemplateData;return _.find(e&&e.components.campaign_customization&&e.components.campaign_customization.component_items[0].item_attributes,function(e,n){return n===t&&e.locked})},getCampaignLock:function(t){var e=SC.campaign.campaignTemplateData;return _.find(e&&e.components.campaign&&e.components.campaign.component_items[0].item_attributes,function(e,n){return n===t&&e.locked})},getCampaignSettingLock:function(t){var e=SC.campaign.campaignTemplateData;return _.find(e&&e.components.campaign_setting&&e.components.campaign_setting.component_items[0].item_attributes,function(e,n){return n===t&&e.locked})},getAddContentToPageBlock:function(n){var t=void 0,e=_.filter(SC.campaign.campaignTemplateData.component_set_instances,function(e){return e.campaign_id===SC.campaign.id});return 0<e.length&&e[0].component_instances.block.forEach(function(e){e.id===n&&(t=e.component_item_id.$oid)}),_.find(SC.campaign.campaignTemplateData.components.block.component_items,function(e){return e._id===t&&e.locked})},getEmailComponent:function(n){var t=0;return SC.campaign.campaignTemplateData.component_set_instances.forEach(function(e,n){e.campaign_id===SC.campaign.id&&(t=n)}),_.filter(SC.campaign.campaignTemplateData.component_set_instances[t].component_instances.message,function(e){return e.id===n})},getBlockComponent:function(n){var t=0;return SC.campaign.campaignTemplateData.component_set_instances.forEach(function(e,n){e.campaign_id===SC.campaign.id&&(t=n)}),_.filter(SC.campaign.campaignTemplateData.component_set_instances[t].component_instances.block,function(e){return e.id===n})},getActiveEmail:function(n){var e=null;return(e=n&&n[0]&&n[0].component_item_id?_.filter(SC.campaign.campaignTemplateData.components.message.component_items,function(e){return e._id===n[0].component_item_id.$oid}):e)&&e[0]},getActiveBlock:function(n){var e=null;return(e=n&&n[0]&&n[0].component_item_id?_.filter(SC.campaign.campaignTemplateData.components.block.component_items,function(e){return e._id===n[0].component_item_id.$oid}):e)&&e[0]},combineBlocks:function(e){var e=Object.assign({},e),n=e.item_attributes.blocks,t=e.value.blocks,a=[];return _.forIn(n,function(e,n){a.push({locked:e.locked,blockProp:t[n]})}),a},fetchCurrentBlockId:function(e){var e=e.location.pathname.split("/"),n=e[e.length-2];return 24===n.length?n:e[e.length-3]},isCampaignTemplateView:function(e){return-1!==e.location.search.substr(1).indexOf("campaign-templating-view=true")},getItemLocks:function(e){return SC.campaign&&SC.campaign.campaignTemplateData&&(e=this.getBlockByType(e))&&e.item_attributes?e.item_attributes:{}},getLocks:function(a,i){var o=this;return Object.keys(a).reduce(function(e,n){var t=i?i[n]:o.getItemLocks(n);return void 0===t?a:(e[n]=a[n]instanceof Object?o.getLocks(a[n],t):t,e)},{})}}}e.$inject=["$http"],angular.module("classy").service("scCampaignsTemplateService",e)})(),(()=>{function e(r,s,l,c,d,u,i,o,m,t,g,p,f,a){this.create=function(e){var n=s.defer(),t=new o({type:e.current.type}),a=_.mapValues(e.defaultBlocks,"current"),t=_.get(t,"defaults");return e.current.registration_url&&(t.registration_url=e.current.registration_url,delete e.current.registration_url),l.active.multiCurrencyDisabled()||e.IS_TICKETED?delete e.current.raw_currency_code:delete e.current.goal,r({method:"POST",url:"/frs-api/campaign-group",data:{campaign:e.current,theme:t,blocks:a,faq:i.defaultFaq(l.active.current.name)}}).then(function(e){c.add(e.data.campaign),c.setActive(e.data.campaign.id),u.init(e.data.blocks),d.add(e.data.theme),d.setActive(e.data.theme.id),n.resolve(e.data)},function(e){n.reject(e)}),n.promise},this.detectChanges=function(){var e=_.filter(u.blocks,function(e){return void 0!==e.mongoDiff()||0===e.current.id.indexOf("temp_")}),n=c.active.mysqlDiff(),t=void 0!==d.active.mongoDiff()?d.active.mongoDiff():[];return e.length+n.length+t.length},this.update=function(){var a,t=s.defer(),e=_.filter(u.blocks,function(e){return(void 0!==e.mongoDiff()||0===e.current.id.indexOf("temp_"))&&(0===e.current.id.indexOf("temp_")&&p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:"block "+e.current.type,new:"created",old:null}),!0)}),n=c.active.mysqlDiff(),i=void 0!==d.active.mongoDiff()?d.active.mongoDiff():[],o={};return e.length&&(a=[],e.forEach(function(e){var n,t;a.push(e.current),_.get(e,"saved.impactLevels",!1)&&e.current.impactLevels.length!=e.saved.impactLevels.length&&(n=e.current.impactLevels.length,t=e.saved.impactLevels.length,p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:"impact block count",new:n,old:t})),_.get(e,"saved.impactLevels",!1)&&!_.isEqual(e.saved.impactLevels,e.current.impactLevels)&&(n=_.map(e.current.impactLevels,function(e){return e.amount}),t=_.map(e.saved.impactLevels,function(e){return e.amount}),_.isEqual(n,t)||p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:"impact block amounts",new:n,old:t})),_.get(e,'saved["donation-default"]',!1)&&!_.isEqual(e.saved["donation-default"],e.current["donation-default"])&&(n=e.current["donation-default"],t=e.saved["donation-default"],p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:"default donation amount",new:n,old:t})),_.get(e,'saved["donation-levels"]')&&!_.isEqual(e.saved["donation-levels"],e.current["donation-levels"])&&(n=_.map(e.current["donation-levels"],function(e){return e.amount}),t=_.map(e.saved["donation-levels"],function(e){return e.amount}),p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:"donation levels",new:n,old:t})),e.current.disable!=e.saved.disable&&(n=e.current.disable?"disabled":"enabled",t=e.current.disable?"enabled":"disabled",p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:"block "+e.current.type,new:n,old:t})),e.current.deleted&&!e.saved.deleted&&0!=e.current.id.indexOf("temp_")&&p.track("campaign/updated",{campaign_id:c.active.current.id,organization_id:l.active.current.id,property:e.current.type+" block",new:"deleted",old:"created"})}),o.blocks=a),n.length&&(o.campaign={id:c.active.current.id},_.forEach(n,function(e){o.campaign[e]=c.active.current[e],"goal"!=e&&"raw_goal"!=e||p.track("campaign/updated",{property:"goal",campaign_id:c.active.current.id,organization_id:l.active.current.id,new:parseInt(c.active.current[e],10),old:parseInt(c.active.saved[e],10)})})),i.length&&(o.theme=d.active.current),_.isEmpty(o)?t.resolve():(o.member=f.active.current,m.prepare(o).then(function(e){_.get(e,"blocks[0]")&&(e.cid=c.active.current.id),r({method:"PUT",url:"/frs-api/campaign-group",data:e}).then(function(e){var n;void 0!==e.data.campaign&&(c.active.saved=g(c.active.current)),void 0!==e.data.blocks&&(_.forEach(u.blocks,function(e,n){-1<n.indexOf("temp_")&&delete u.blocks[n]}),_.forEach(e.data.blocks,function(e){u.get(e.id)||u.add(e)}),_.forEach(e.data.blocks,function(e){delete e.mongo_queries_log,delete e.queries_log,delete e.updated_at;var n=u.blocks;n[e.id].saved=g(n[e.id].current)})),void 0!==e.data.theme&&(n=d.active.current,_.forEach(n.pages,function(e){_.forEach(e.block_sections,function(t){_.forEach(t.blocks,function(e,n){0===e.id.indexOf("temp_")&&delete t.blocks[n]})})}),_.merge(d.active.current,g(e.data.theme)),d.active.saved=g(d.active.current)),t.resolve(e.data)}).catch(function(){})}).catch(function(){})),t.promise},this.sync=function(e,n){return n&&SC.campaign&&SC.blocks&&SC.theme&&(c.init([SC.campaign]),c.setActive(SC.campaign.id),p.setCampaign(c.get(SC.campaign.id)),u.init(SC.blocks),d.init([SC.theme]),d.setActive(SC.theme.id),a.init(),c.active.IS_TICKETED)?t.sync(e,n).then(function(){return c.active.current}):s.resolve(c.active.current)}}e.$inject=["$http","$q","scOrganizationsService","scCampaignsService","scThemesService","scBlocksService","faqService","scThemeModel","scPreflight","scCartService","scCloneDeep","scAnalytics","scMembersService","scFeeOnTopService"],angular.module("classy").service("scCampaignGroupService",e)})(),angular.module("classy").constant("SC_CART_COOKIE","sc_cart"),(()=>{n.$inject=["$http","$q","$rootScope","$window","$timeout","ipCookie","scBanner","scCampaignsService","scAnalytics","scCurrencyService","scFeeOnTopService","SC_CART_COOKIE","recaptchaService","scOrganizationsService"];var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function n(l,o,a,i,c,r,d,s,u,m,g,t,p,f){var n,h=6e4,v=["capabilities","donation_amount","donation_frequency","donation_fee_on_top","donation_applied_fot_percent","donation_answers","donation_currency_code","team_id","team_lead_id","team_name","team_description","team_goal","team_answers","fixed_fot_enabled","registration_applied_fot_percent","donation_donor_covered_fee","donation_application_fee_percent","donation_processor_fee_percent","donation_raw_processor_fee_flat","donation_flex_rate_percent","donation_raw_flex_rate_amount","donation_raw_application_fee_amount","donation_raw_processor_fee_amount","registration_donor_covered_fee","registration_application_fee_percent","registration_processor_fee_percent","registration_raw_processor_fee_flat","registration_flex_rate_percent","registration_raw_flex_rate_amount","registration_raw_application_fee_amount","registration_raw_processor_fee_amount","registrant_opted_into_payment_sync"];function b(n,t,e,a,i){var o,r=f.getTag("log-slow-rwf-cart"),s={method:n,url:t},e=(e&&(s.data=e),l(s));return r&&(o=new Error("Request timed out"),s=new Promise(function(e,n){return c(function(){return n(o)},a)}),r=new Promise(function(e,n){return c(function(){return n(o)},i)}),Promise.race([e,s]).catch(function(e){e===o&&bugsnagClient.notify("Request is taking over "+a+" ms. Request: "+n+" "+t)}),Promise.race([e,r]).catch(function(e){e===o&&(d("We're having trouble processing your request due to network issues. Please check your internet connection.","error",!1),bugsnagClient.notify("Request is taking over "+i+" ms. Request: "+n+" "+t))})),e}function y(e,n,t){t=2<arguments.length&&void 0!==t?t:12e3;return b("POST",e,n,t/4,t)}function k(e,n,t){t=2<arguments.length&&void 0!==t?t:12e3;return b("PUT",e,n,t/4,t)}function w(e,n){return k("/frs-api/carts/"+e,n)}return e(C,[{key:"donationFeeOnTop",value:function(){return this.current.donation_fee_on_top||this.current.donation_donor_covered_fee}},{key:"populateFrMinimumCommitments",value:function(e){var n={},t=_.get(s,"active.current.ticketTypes");t&&t.length&&e.items&&e.items.length&&(t.forEach(function(e){n[e.id]=e}),e.items.forEach(function(e){e.commitment=n[e.product_id].commitment}))}},{key:"syncModel",value:function(e){return _.get(e,"items[0].commitment")||this.populateFrMinimumCommitments(e),delete e.capabilities,this.current=_.cloneDeep(e),this.saved=_.cloneDeep(e),this.promoCode=e.promo_code||{},this.isReserved&&(this.setTimers(),this.store()),this}},{key:"store",value:function(){var e=t+"_"+this.current.campaign_id,n={id:this.current.id,metadata:this.metadata};r(e)&&(n=_.merge(r(e),{id:this.current.id,metadata:this.metadata})),r(e,n,{expires:this.timeRemaining,expirationUnit:"milliseconds",path:"/"})}},{key:"refresh",value:function(){var n=this;return l.post("/frs-api/carts/"+this.current.id+"/reset-timer").then(function(e){return e.data}).then(function(e){return n.syncModel(e)})}},{key:"reserve",value:function(e){var n=this,e=(e&&(this.current.capabilities=["buy-unavailable-tickets"],this.current.registration_applied_fot_percent=null),_.pick(this.current,v));return e.team_id&&(e.team_name=null),this.createCart(e).then(function(e){return n.syncModel(e.data)}).then(function(){return n.updateItems(n.stagedItems)}).then(function(e){return n.syncModel(e.data)}).catch(function(e){console.error(e)})}},{key:"setTimers",value:function(){var e=this;c.cancel(this.warnTimer),c.cancel(this.expireTimer),this.warnTimer=c(function(){return e.emit("warn")},Math.max(this.timeRemaining-h,0)),this.expireTimer=c(function(){return e.emit("expire")},Math.max(this.timeRemaining,0))}},{key:"stageItem",value:function(e){var n,t=this.attendeeIndices.length-1,t=this.attendeeIndices[t]||0,a=e.entries_per_ticket||e.registrants.length,t=(this.attendeeIndices.push(t+a),{product_id:e.id,price:e.price}),a=(e.commitment&&(t.commitment=e.commitment),this.stagedItems.push(t),m.getEntityCampaignCurrency(s.active.current)),t=(u.eventBeacon({category:"frs "+s.active.current.type,action:"add",label:"Add to Cart",product_name:e.name,price:e.price,ticket_id:e.id,currency:a}),_.get(e,"entries_per_ticket",!1));t&&((n=this.stagedItems[this.stagedItems.length-1]).registrants=[],_.times(t,function(e){n.registrants.push({first_name:"Attendee "+(e+1),last_name:"",email_address:"",answers:[]})})),this.calculateFees({registration:!0})}},{key:"unstageItem",value:function(n){var t=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=n.entries_per_ticket||n.entries||n.registrants.length,i=null!==e?e:_.findLastIndex(this.stagedItems,function(e){return e.product_id==n.id}),e=(this.stagedItems.splice(i,1),this.attendeeIndices.splice(i,1),this.attendeeIndices.forEach(function(e,n){t.attendeeIndices[n]=i<=n?e-a:e}),m.getEntityCampaignCurrency(s.active.current));u.eventBeacon({category:"frs "+s.active.current.type,action:"remove",label:"Remove from Cart",price:n.price,product_name:n.name,ticket_id:n.id,currency:e}),this.stagedItems.length||(this.attendeeIndices=[]),this.calculateFees({registration:!0})}},{key:"unstageItemById",value:function(t){var a=this;this.stagedItems=this.stagedItems.filter(function(e,n){return e.product_id!==t||(a.attendeeIndices.splice(n,1),!1)})}},{key:"getRegistrant",value:function(e,n){var t=_.find(this.current.items,{id:e});return _.get(t,["registrants",n],{cart_item_id:e,first_name:"",last_name:"",email_address:"",answers:[]})}},{key:"setRegistrant",value:function(e,n,t){var a=this,i=_.find(this.current.items,{id:e}),o=_.find(this.stagedItems,{id:e}),e=_.get(i,["registrants",n]);return _.isEmpty(t.answers)||(t.answers=t.answers.filter(function(e){return""!==e.answer&&!_.isNull(e.answer)&&"Please select"!==e.answer})),e&&!_.isEqual(t,e)?this.updateRegistrant(o.registrants[n].id,t).then(function(){return a.refresh()}):e?this.refresh():this.createRegistrant(o.id,t).then(function(e){return o.registrants[n].id=e.data.id,o.registrants[n].registration_id=null,a.refresh()})}},{key:"getCurrentRegistrantDonationCreditee",value:function(){var e;return this.current.items&&(e=this.current.items.find(function(e){return e.registrants&&e.registrants.some(function(e){return e.donation_share})}))?e.registrants.find(function(e){return e.donation_share}):null}},{key:"quantityOf",value:function(e){var n=this.isReserved?this.current.items:this.stagedItems;return _.filter(n,{product_id:e.id}).length}},{key:"itemsWithQuestions",value:function(e){var n=this;return e.filter(function(e){return n.itemHasQuestions(e)})}},{key:"itemHasQuestions",value:function(e){var n=e.product_id;return s.active.current.questions.filter(function(e){return"campaign_registration"===e.location&&!1===e.is_deleted}).some(function(e){return[0,null,n].includes(e.product_id)})}},{key:"nextItemWithQuestions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1].id,t=e.findIndex(function(e){return e.id===n});return e.slice(t+1).find(this.itemHasQuestions)}},{key:"previousItemWithQuestions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1].id,t=e.findIndex(function(e){return e.id===n});return e.slice(0,t).filter(this.itemHasQuestions).pop()}},{key:"firstItemWithQuestionsIdx",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=this.itemsWithQuestions(e);return e.indexOf(n[0])}},{key:"lastItemWithQuestionsIdx",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=this.itemsWithQuestions(e);return 0===n.length?-1:e.indexOf(n[n.length-1])}},{key:"setPurchaserInformation",value:function(e){return this.purchaser_information=e,this.purchaser_information}},{key:"removeItem",value:function(e){var n=this;return _.remove(this.current.items,{id:e.id}),this.calculateFees({registration:!0}),this.deleteItem(e.id).then(function(){return n.refresh()})}},{key:"saveData",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o.resolve();return _.merge(this.current,e),w(this.current.id,_.merge(_.pick(this.current,v),{donation_frequency:null===this.current.donation_amount?null:this.current.donation_frequency,donation_fee_on_top:null===this.current.donation_amount?null:this.current.donation_fee_on_top,donation_currency_code:null===this.current.donation_amount?null:this.current.donation_currency_code},e)).then(t).then(function(){return n.refresh()})}},{key:"saveCart",value:function(){return w(this.current.id,this.current)}},{key:"deleteItem",value:function(e){return l.delete("/frs-api/cart-items/"+e)}},{key:"createRegistrant",value:function(e,n){return y("/frs-api/cart-items/"+e+"/cart-registrants",n)}},{key:"deleteRegistrant",value:function(e){return l.delete("/frs-api/cart-registrants/"+e)}},{key:"updateRegistrant",value:function(e,n){return k("/frs-api/cart-registrants/"+e,n)}},{key:"createCart",value:function(e){return y("/frs-api/campaigns/"+this.current.campaign_id+"/carts",e)}},{key:"deleteCart",value:function(){return l.delete("/frs-api/carts/"+this.current.id)}},{key:"updateItems",value:function(e){return k("/frs-api/carts/"+this.current.id+"/cart-items",e)}},{key:"watchDonation",value:function(){var e=this;this.deregisterWatchDonation=a.$watchGroup([function(){return e.current.donation_fee_on_top},function(){return e.current.donation_donor_covered_fee},function(){return e.current.donation_amount},function(){return e.isInternational},function(){return e.isAmex}],function(){return e.calculateFees({donation:!0})})}},{key:"getFinalPrice",value:function(e){return parseFloat(e.price)-(parseFloat(e.adjustment_amount)||0)<0?0:parseFloat(e.price)-(parseFloat(e.adjustment_amount)||0)}},{key:"setFeeParams",value:function(e){var n=e.paymentMethod,t=e.processorName,a=e.isAmex,e=e.isInternational,i=!1;n&&this.paymentMethod!==n&&(this.paymentMethod=n,g.setPaymentMethod(this.paymentMethod),i=!0),t&&this.processorName!==t&&(this.processorName=t,g.setProcessorName(this.processorName),i=!0),void 0!==a&&this.isAmex!==a&&(this.isAmex=!!a,g.setAmex(this.isAmex),i=!0),void 0!==e&&this.isInternational!==e&&(this.isInternational=!!e,g.setInternational(this.isInternational),i=!0),i&&this.calculateFees({donation:!0,registration:!0})}},{key:"on",value:function(e,n){this.callbacks[e].push(n)}},{key:"emit",value:function(e){var n=this;_.forEach(this.callbacks[e],function(e){return e(n)}),a.$broadcast("scCartModel."+e,this)}},{key:"destroy",value:function(){this.deregisterWatchDonation(),c.cancel(this.warnTimer),c.cancel(this.expireTimer);var e=t+"_"+this.current.campaign_id;return r(e,null,{expires:0,expirationUnit:"milliseconds",path:"/"}),!this.isComplete&&!this.isErrored&&this.timeRemaining&&this.current.id?this.deleteCart():o.resolve()}},{key:"hasMultipleTransactions",value:function(){return 0<this.itemsDiscountedSubtotal&&0<this.current.donation_amount}},{key:"submitOffline",value:function(){return l({method:"POST",url:"/frs-api/carts/"+this.current.id+"/confirm-offline",data:this.current})}},{key:"submit",value:(n=S(regeneratorRuntime.mark(function e(n){var i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.close(),n.dcfEnabled=g.donorCoveredFeesEnabled,n.donationFeeSum=g.getFeesByType("donation"),n.registrationFeeSum=g.getFeesByType("registration"),n.fixedFotEnabled=g.fixedFotEnabled||!_.isNull(this.current.applied_fot_percent)&&!_.isUndefined(this.current.applied_fot_percent),n.fixedFotPercent=g.fixedFotPercent,this.current.registrant_opted_into_payment_sync=n.registrant_opted_into_payment_sync,this.metadata.partialPaymentSuccess){e.next=10;break}return e.next=10,this.saveCart();case 10:return e.abrupt("return",p.createToken("DONATE").then(function(e){return e?l.post("/frs-api/carts/"+i.current.id+"/confirm",{payment:n,metadata:i.metadata,token:e}):Promise.reject("RECAPTCHA")}).then(function(e){202===e.data.status&&d(e.data.message,"success",!1),i.metadata.status="complete",i.metadata.verify=e.data.verify,l.get("/frs-api/carts/"+i.current.id+"/receipt-totals?verify="+i.metadata.verify).then(function(e){var e=e.data,n=_.merge(i.current,{amount:e.transaction_total,raw_currency_code:m.getEntityCampaignCurrency(s.active.current),promo_code_code:_.get(i.current,"promo_code.code",null),registration_transaction_id:e.registration_transaction_id,member_id:e.registration_member_id});u.track("transaction",{transaction:n}),n=_.merge(n,{campaignName:s.active.current.name,country:s.active.current.country,designationId:s.active.current.designation_id,frequency:e.donation_frequency,promoCode:_.get(i.current,"promo_code.code",null)}),u.track("registration/create/complete",n)}).catch(function(){}),i.store()}).catch(function(e){if(e.data&&e.data.fixed_fot_percent)return i.handleFixedFotUpdate(e.data.fixed_fot_percent);var n=e.data||"Sorry, you've encountered an error. Please contact <a target='_blank' href='https://support.classy.org/s/contactcare'>customer support.</a>";switch(e.status){case 500:i.metadata.status="error",d(n,"error",!0),bugsnagClient.notify("Error submitting payment, status: "+e.status+", message: "+n);break;case 402:i.metadata.status="error",d(n,"error",!0);var t=!!r("cart."+i.current.id+".checkout.retry_nonce.donation"),a=!!r("cart."+i.current.id+".checkout.retry_nonce.registration");i.metadata.partialPaymentSuccess=a||t;break;default:i.metadata.status="error",bugsnagClient.notify("Error submitting payment, status: "+e.status+", message: "+n)}return i.store(),o.reject()}));case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"calculateFees",value:function(e){var n=e.donation,e=e.registration,e=void 0!==e&&e,t=this.current.items||this.stagedItems;void 0!==n&&n&&(g.calculateFees({type:"donation",fot:this.donationFeeOnTop(),amount:this.current.donation_amount,frequency:this.current.donation_frequency}),g.donorCoveredFeesEnabled&&(this.current.donation_applied_fot_percent=null),g.fixedFotEnabled)&&(this.current.donation_applied_fot_percent=this.current.donation_fee_on_top?parseFloat(s.active.current.effective_fixed_fot_percent):null),e&&(g.calculateFees({cartItems:t,type:"registration",fot:this.registrationFeeOnTop,amount:this.itemsDiscountedSubtotal,frequency:this.current.donation_frequency}),g.donorCoveredFeesEnabled&&(this.current.registration_applied_fot_percent=null),g.fixedFotEnabled)&&(this.current.registration_applied_fot_percent=s.active.current.ticket_pass_on_fees?parseFloat(s.active.current.effective_fixed_fot_percent):null)}},{key:"handleFixedFotUpdate",value:function(e){g.updateFixedFotPercent(e);d("Oops. The organization's fees have changed to "+e+"%. See new calulated total below.","neutral",!0),this.metadata.status="error";var e=!!r("cart."+this.current.id+".checkout.retry_nonce.donation"),n=!!r("cart."+this.current.id+".checkout.retry_nonce.registration");return this.metadata.partialPaymentSuccess=n||e,this.store(),o.reject()}},{key:"setGrossAdjustmentParams",value:function(e){var n;g.donorCoveredFeesEnabled&&(n=g.fees[e].grossAdjustment,this.current[e+"_application_fee_percent"]=_.get(n,"applied_application_fee_percent",null),this.current[e+"_processor_fee_percent"]=_.get(n,"applied_processor_fee_percent",null),this.current[e+"_raw_processor_fee_flat"]=_.get(n,"applied_raw_processor_fee_flat",null),this.current[e+"_flex_rate_percent"]=_.get(n,"applied_flex_rate_percent",null),this.current[e+"_raw_application_fee_amount"]=_.get(n,"raw_application_fee_amount",null),this.current[e+"_raw_processor_fee_amount"]=_.get(n,"raw_processor_fee_amount",null),this.current[e+"_raw_flex_rate_amount"]=_.get(n,"raw_flex_rate_amount",null))}},{key:"_now",value:function(){return moment().valueOf()}},{key:"timeRemaining",get:function(){var e=this._now(),e=moment(this.current.expires_at)-e;return Math.max(e,0)}},{key:"isPristine",get:function(){return!(this.isReserved||this.stagedItems.length||this.current.team_id||this.current.team_name)}},{key:"isReserved",get:function(){return!(!this.current.id||!_.get(this.current,"items.length"))}},{key:"isComplete",get:function(){return"complete"===_.get(this,"metadata.status")}},{key:"isErrored",get:function(){return"error"===_.get(this,"metadata.status")}},{key:"isCalculating",get:function(){return g.isCalculating()}},{key:"itemsSubtotal",get:function(){var e=this.isReserved?this.current.items:this.stagedItems;return _.reduce(e,function(e,n){return e+parseFloat(n.price)},0)}},{key:"subtotal",get:function(){return this.itemsSubtotal+parseFloat(this.current.donation_amount||0)}},{key:"itemsDiscountedSubtotal",get:function(){return(this.isReserved?this.current.items:this.stagedItems).map(function(e){var n=e.price,e=e.adjustment_amount;return parseFloat(n)-(parseFloat(e)||0)<0?0:parseFloat(n)-(parseFloat(e)||0)}).map(function(e){return Math.max(0,e)}).reduce(function(e,n){return e+n},0)}},{key:"discountedSubtotal",get:function(){return this.itemsDiscountedSubtotal+parseFloat(this.current.donation_amount||0)}},{key:"total",get:function(){return Math.max(this.discountedSubtotal+g.totalFees(),0)}},{key:"totalFees",get:function(){return g.totalFees()}},{key:"registrationFees",get:function(){return g.getFeesByType("registration")}},{key:"donationFees",get:function(){return g.getFeesByType("donation")}},{key:"discountedAmount",get:function(){var e=(this.isReserved?this.current.items:this.stagedItems).filter(function(e){return e.adjustment_amount}).map(function(e){var n=e.price,e=e.adjustment_amount,n=parseFloat(n),e=parseFloat(e)||0;return n<e?n:e});return _.sum(e)}},{key:"quantity",get:function(){return(this.isReserved?this.current.items:this.stagedItems).length}},{key:"soloEntry",get:function(){return 1===this.current.items.length&&1===_.get(this.current,"items[0].entries",0)}}]),C;function C(e,n){var t=this;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.type="cart",this.stagedItems=[],this.attendeeIndices=[],this.metadata=_.defaults(n||{},{status:"incomplete"}),this.callbacks={warn:[],expire:[]},this.warnTimer=null,this.expireTimer=null,this.timeLeft=h,g.init(),this.registrationFeeOnTop=_.get(s,"active.current.ticket_pass_on_fees",!1),this.syncModel(e),this.watchDonation();n=_.has(i.SC.processors,"Stripe")?"STRIPE":_.get(i.SC,"processors.CC.name",null);this.setFeeParams({paymentMethod:"STRIPE"===n?"Stripe":"CC",processorName:n,isAmex:!1,isInternational:!1}),this.on("expire",function(){return t.destroy()}),a.$on("fixedFotPercent:updated",function(){t.calculateFees({donation:!0,registration:!0})}),a.$on("feesCalculated",function(e,n){t.setGrossAdjustmentParams(n)})}}angular.module("classy").factory("scCartModel",n)})(),(()=>{function e(e,a,n,t,i,r,o,s){var l=this;t.cartActions={expire:function(){n.$apply(function(){l.active.emit("expire")})},warn:function(){n.$apply(function(){l.active.emit("warn")})},get:function(){return l.active},failRegistration:function(){return n.$apply(function(){l.active.metadata.fail_registration=!0,l.active.store()}),"Cart will fail to process registration payment."},passRegistration:function(){return n.$apply(function(){l.active.metadata.fail_registration=!1,l.active.store()}),"Cart will attempt to process registration payment."},failDonation:function(){return n.$apply(function(){l.active.metadata.fail_donation=!0,l.active.store()}),"Cart will fail to process donation payment."},passDonation:function(){return n.$apply(function(){l.active.metadata.fail_donation=!1,l.active.store()}),"Cart will attempt to process donation payment."}},this.active=null,this.getLocalData=function(e){e=s+"_"+e;try{return i(e)||null}catch(e){return null}},this.restore=function(n){var t=this;return e.get("/frs-api/carts/"+n.id+"?with=promo_code").then(function(e){t.active&&t.active.destroy(),t.active=new o(e.data,n.metadata)}).then(function(){return t.active.refresh()}).then(function(){return t.active})},this.expirationListeners=[],this.onCartExpired=function(e){return l.expirationListeners=[].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(l.expirationListeners),[e]),e},this.removeCartExpiredListener=function(n){l.expirationListeners=l.expirationListeners.filter(function(e){return e!==n})},this.triggerExpireListeners=function(){l.expirationListeners.forEach(function(e){e()})},this.create=function(){var e=this,n=r.active.current.id,t=this.active?this.active.destroy():a.resolve();return this.active=new o({campaign_id:n,donation_amount:null,donation_frequency:null,donation_fee_on_top:null,donation_answers:null,team_id:null,team_name:null,team_description:null,team_goal:null,team_answers:null}),this.active.on("expire",function(){return e.create().then(function(){e.triggerExpireListeners()})}),t.then(function(){return e.active})},this.syncStagedItems=function(){var t,e=_.get(this,"active.stagedItems.length"),n=_.get(this,"active.current.items")||[],a=_.get(r,"active.current.ticketTypes");a&&a.length&&(t={},a.forEach(function(e){t[e.id]=e}),n.forEach(function(e){var n=t[e.product_id];return n&&n.commitment&&(e.commitment=n.commitment),e})),e!==n.length&&(this.active.stagedItems=_.cloneDeep(n),_.forEach(this.active.stagedItems,function(e){var n=_.get(e,"entries",!1);n&&e.registrants.length!==n&&(n=n-e.registrants.length,_.times(n,function(){e.registrants.push({cart_item_id:e.id,first_name:"",last_name:"",email_address:"",answers:[]})}))}))},this.sync=function(e){var n=this,t=this.active;return t&&t.current.campaign_id===_.parseInt(e)&&t.isReserved&&!t.isComplete?t.refresh().catch(function(){return n.create()}):(!t||t.current.campaign_id!==_.parseInt(e))&&(t=this.getLocalData(e))&&t.id&&"complete"!==t.status?this.restore(t).catch(function(){return n.create()}):this.create()},this.getFrMinimumInfo=function(){var e,n=this.active,t=0,a=0,i=void 0,o=n.stagedItems.filter(function(e){return!!e.commitment});return o.length&&(a=t=(e=o.map(function(e){var n=e.registrants?e.registrants.length:0;return e.frMin=n*e.commitment.value,e})).map(function(e){return e.frMin}).reduce(function(e,n){return e+n}),r.active.current.add_registration_fee?a-=n.total:n.current.donation_amount&&(a-=n.current.donation_amount),a<0&&(a=0),i=e.sort(function(e,n){return new Date(e.commitment.deadline)-new Date(n.commitment.deadline)})[0]),{count:o.length,rawTotal:t,total:a,firstDue:i}},this.getAttendees=function(){return this.active.stagedItems?_.flatMap(this.active.stagedItems,function(e){return e.registrants}):[]}}e.$inject=["$http","$q","$rootScope","$window","ipCookie","scCampaignsService","scCartModel","SC_CART_COOKIE"],angular.module("classy").service("scCartService",e)})(),(()=>{function e(t,a){function e(e,n){t.call(this),this.isNew=!n&&!e,this.isDemo=n||!e,this.current=a(e||{}),this.defaults=a({}),this.isExample=!1,this.saved=a(e||{}),this.type="comments"}return e.prototype=_.create(t.prototype,{constructor:e}),e}e.$inject=["scObjectModel","scCloneDeep"],angular.module("classy").factory("scCommentModel",e)})(),angular.module("classy").component("scConsent",{template:'\n    <div\n      data-ng-if="$ctrl.show"\n      data-ng-hide="$ctrl.hide"\n      class="sc-consent"\n      >\n        <span class="sc-checkbox_top"\n          data-sc-checkbox\n          data-ng-model="$ctrl.optIn"\n          aria-label="{{ $ctrl.language }}"\n          name="opt_in">\n          {{$ctrl.language}}\n        </span>\n    </div>\n  ',bindings:{show:"<",hide:"<",language:"=",optIn:"="},controller:function(){this.$postLink=function(){this.language=this.language||"It's okay to contact me in the future."},this.$onChanges=function(e){e=e.hide;(void 0===e?{}:e).currentValue&&(this.optIn=!1)}}}),(()=>{function e(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function n(a,i,o){var n,t,r,s=this,l=(this.showDigitalWalletsListeners=[],this.onDigitalWalletsSubmitListeners=[],this.onOpenDigitalWalletModalListeners=[],this.isDigitalWalletSubmission=!1,this.isLoaded=!1,this.stripePublicKey=!1,this.paymentRequestParams={country:"US",amount:0},this.initDigitalWallets=(n=e(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.isLoaded)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,s.updatePaymentRequestParams(n);case 4:return e.next=6,a.init(n.currency);case 6:return a.createPaymentRequest(s.paymentRequestParams,n.submit),e.next=9,a.canMakePayment();case 9:(t=e.sent)?(i.track("dw_loaded",{digitalWalletsLoaded:!0}),s.isApplePay=t.applePay,s.showDigitalWallets(!0)):(i.track("dw_loaded",{digitalWalletsLoaded:!1}),s.showDigitalWallets(!1)),s.setIsLoaded(!0);case 12:case"end":return e.stop()}},e,s)})),function(e){return n.apply(this,arguments)}),this.updatePaymentRequest=(t=e(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.updatePaymentRequestParams(n);case 2:a.updatePaymentRequest(s.paymentRequestParams);case 3:case"end":return e.stop()}},e,s)})),function(e){return t.apply(this,arguments)}),this.updatePaymentRequestParams=(r=e(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.classyMode?(s.paymentRequestParams.amount=n.amount,e.next=9):e.next=4;break;case 4:if(0<n.amount)return e.next=7,o.transactionEstimate(n.amount,{processor_name:"STRIPE",payment_method:"DW",currency:n.currency,fot:n.fot},{},n.frequency);e.next=9;break;case 7:t=e.sent,s.paymentRequestParams.amount=t.data.charge_summary.total_charge;case 9:n.frequency&&(t=l(n.frequency.replace("-"," ")),s.paymentRequestParams.label=t+" Donation",s.paymentRequestParams.currency=n.currency.toLowerCase());case 10:case"end":return e.stop()}},e,s)})),function(e){return r.apply(this,arguments)}),this.addShowDigitalWalletsListener=function(e){s.showDigitalWalletsListeners.push(e)},this.showDigitalWallets=function(n){s.showDigitalWalletsListeners.forEach(function(e){e(n)})},this.addOnOpenDigitalWalletModalListener=function(e){s.onOpenDigitalWalletModalListeners.push(e)},this.openDigitalWalletModal=function(){s.onOpenDigitalWalletModalListeners.forEach(function(e){e()})},this.openDWModal=function(){s.openDigitalWalletModal(),a.paymentRequest.show()},this.addOnDigitalWalletsSubmitListener=function(e){s.onDigitalWalletsSubmitListeners.push(e)},this.onDigitalWalletsSubmit=function(){s.setIsDigitalWalletsSubmission(!0),s.onDigitalWalletsSubmitListeners.forEach(function(e){e()})},this.setIsDigitalWalletsSubmission=function(e){s.isDigitalWalletSubmission=e},this.setIsLoaded=function(e){s.isLoaded=e},function(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")})}n.$inject=["scStripeService","scAnalytics","scFeeOnTopService"],angular.module("classy").service("scDigitalWalletsService",n)})(),(()=>{function e(o,r,s,a,n,l){var i=this,e=(this.donorCoveredFeesEnabled=!1,this.fixedFotEnabled=!1,this.fixedFotPercent=null,this.setAmex=function(e){i.isAmex=e},this.setInternational=function(e){i.isInternational=e},this.setPaymentMethod=function(e){i.paymentMethod=e},this.setProcessorName=function(e){i.processorName=e},this.setIsCalculating=function(e,n){(i.fees[e].isCalculating=n)||a.$broadcast("feesCalculated",e)},this.totalFees=function(){return this.getFeesByType("donation")+this.getFeesByType("registration")},this.getFeesByType=function(e){return parseFloat(this.fees[e].feeSum)},this.isCalculating=function(){return this.fees.registration.isCalculating||this.fees.donation.isCalculating},this.init=function(){i.feeRequests={},i.feeDebouncers={},i.fees={registration:{feeSum:null,grossAdjustment:{},isCalculating:!1},donation:{feeSum:null,grossAdjustment:{},isCalculating:!1}},i.isAmex=!1,i.isInternational=!1,i.paymentMethod=null,i.processorName=null,e()},function(){var e=l.active.current,n=e.dcf_enabled,t=e.classy_mode_enabled,a=e.effective_fixed_fot_percent,e=e.ticket_pass_on_fees;n?i.donorCoveredFeesEnabled=n:(n=!_.isNull(a)&&!_.isUndefined(a),i.fixedFotEnabled=n&&(t||e),i.fixedFotPercent=i.fixedFotEnabled?parseFloat(a||0):0)});function c(e){return+(Math.round(e+"e+2")+"e-2")}this.updateFixedFotPercent=function(e){this.fixedFotPercent=parseFloat(e),a.$broadcast("fixedFotPercent:updated",this.fixedFotPercent)},this.unsetFees=function(e){this.cancelFeeRequests(e),this.setIsCalculating(e,!1),this.fees[e].feeSum=0,this.fees[e].grossAdjustment={}},this.cancelFeeRequests=function(e){_.get(this,["feeDebouncers",e])&&this.feeDebouncers[e].reject(),_.get(this,["feeRequests",e])&&this.feeRequests[e].reject()},this.calculateFees=function(e){var n=e.cartItems,t=e.type,a=e.fot,i=e.amount,o=e.frequency,e=e.overrides;this.fees[t].feeSum=0,this.fees[t].grossAdjustment={},a&&i?this.donorCoveredFeesEnabled?this.fetchFees(t,i,e,o):this.handleClassyMode(t,n,i):this.unsetFees(t)},this.handleClassyMode=function(e,n,t){this.fixedFotEnabled&&(this.fees[e].feeSum="donation"===e?this.calculateFixedFeeOnTop(t):this.itemwiseServiceFeeCalculation(n),a.$broadcast("feesCalculated",e))},this.calculateSingleFee=function(e){var n=e.subtotal,t=e.overrides;return this.fixedFotEnabled&&e.useFot?o.resolve({donationLessFees:parseFloat(n),feeSum:this.calculateFixedFeeOnTop(n)}):this.transactionEstimate(n,t).then(function(e){var e=e.data,n=_.get(e,"charge_summary.total_charge"),t=_.get(e,"gross_adjustment.raw_processor_fee_amount"),a=_.get(e,"gross_adjustment.raw_application_fee_amount"),t=parseFloat(t)+parseFloat(a);return{donationLessFees:_.get(e,"charge_summary.fee_on_top")?parseFloat(n)-parseFloat(t):parseFloat(n),feeSum:t}})},this.fetchFees=function(t,e){var a=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];this.setIsCalculating(t,!0),this.cancelFeeRequests(t),this.feeDebouncers[t]=o.defer(),n.fot=!0,this.feeDebouncers[t].promise.then(function(){a.feeRequests[t]=o.defer(),a.transactionEstimate(e,n,{timeout:a.feeRequests[t].promise},i).then(function(e){var e=e.data,n=_.get(e,"charge_summary.fee_on_top_amount"),e=_.get(e,"gross_adjustment");a.fees[t].feeSum=parseFloat(n),a.fees[t].grossAdjustment=e,a.setIsCalculating(t,!1)})}).catch(function(e){e&&(console.log(e),a.setIsCalculating(t,!1))}),s(function(){return a.feeDebouncers[t].resolve()},500)},this.transactionEstimate=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],i=l.active.current.id,e=this.getTransactionEstimateDefaults(e),e=Object.assign(e,n);return t.params=e,a&&"one-time"!==a?r.get("/frs-api/campaign/"+i+"/transaction-estimates?recurring=true",t):r.get("/frs-api/campaign/"+i+"/transaction-estimates",t)},this.getTransactionEstimateDefaults=function(e){return{currency:n.getEntityCampaignCurrency(l.active.current),fot:_.get(l,"active.current.ticket_pass_on_fees",!1),amex:this.isAmex,international:this.isInternational,payment_method:this.paymentMethod,processor_name:this.processorName,amount:e}},this.itemwiseServiceFeeCalculation=function(e){var t=this;return e.map(function(e){var n=e.price,e=e.adjustment_amount;return c(Math.max(parseFloat(n)-(parseFloat(e)||0),0))}).reduce(function(e,n){return c(parseFloat(e+c(t.fixedFotPercent/100*n)))},0)},this.calculateFixedFeeOnTop=function(e){return i.fixedFotPercent/100*e}}e.$inject=["$q","$http","$timeout","$rootScope","scCurrencyService","scCampaignsService"],angular.module("classy").service("scFeeOnTopService",e)})(),(()=>{function e(t,a){function e(e,n){t.call(this),this.isNew=!n&&!e,this.isDemo=n||!e,this.current=a(e||{}),this.defaults=a({}),this.isExample=!1,this.saved=a(e||{}),this.type="feed-items"}var n=e;return n.prototype=_.create(t.prototype,{constructor:e}),n.prototype.create=function(){},e}e.$inject=["scObjectModel","scCloneDeep"],angular.module("classy").factory("scFeedItemModel",e)})(),(()=>{function e(t,a){return{putFundraisingCommitment:function(e){var n=_.get(a,"active.current.id",null);return t({method:"PUT",url:"/frs-api/fundraising-pages/"+n+"/commitment",loadingScope:!0,data:e})}}}e.$inject=["$http","scFundraisingPagesService"],angular.module("classy").service("scFundraisingCommitmentService",e)})(),angular.module("classy").service("scFundraisingPageDefaults",function(){this.alias="",this.goal=0,this.intro_text="",this.logo=null,this.cover_photo=null}),(()=>{function v(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(o,r,t,s,l,a,n,c,d,e,u,m,i){function g(e){return p.apply(this,arguments)}var p;p=v(regeneratorRuntime.mark(function e(n){var t,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.get(this,"current.member_id",!1),a=_.get(s,"active.current.id",null),e.next=4,d.checkPageAdminAccess(n);case 4:return i=e.sent,e.abrupt("return",a&&t==a||i);case 6:case"end":return e.stop()}},e,this)}));function f(e,n){t.call(this),this.isNew=!e&&!n,this.isDemo=!!n,this.type="fundraising-pages",this.saved=c(e||{}),this.current=c(e||{}),this.defaults=c(a)}(f.prototype=_.create(t.prototype,{constructor:f})).joinTeam=function(e){var n=this,t=this.current.id;return o.post("/frs-api/fundraising-pages/"+t+"/transfers",{fundraising_team_id:e}).then(function(e){n.current.fundraising_team_id=e.data.destination_fundraising_team_id})},f.prototype.leaveTeam=function(){var e=this,n=this.current.id;return o.post("/frs-api/fundraising-pages/"+n+"/transfers",{fundraising_team_id:null}).then(function(){e.current.fundraising_team_id=null})},f.prototype.getTeam=function(){var e=this.current.fundraising_team_id;return!this.isDemo&&e?o({method:"GET",url:"/frs-api/fundraising-teams/"+e}):r.resolve({})},f.prototype.getPosts=function(){var e=_.get(s,"active.current.id",null);{if(this.isNew&&!this.current.id)return r.resolve(null);if(this.isDemo)return r.resolve({data:n(this.current.id)})}return o({method:"GET",url:"/frs-api/fundraising-pages/"+this.current.id+"/updates",params:{member_id:e}})},f.prototype.getStory=function(){var e=_.get(s,"active.current.id",null);{if(this.isNew&&!this.current.id)return r.resolve(null);if(this.isDemo)return r.resolve({data:n(this.current.id)})}return o({method:"GET",url:"/frs-api/fundraising-pages/"+this.current.id+"/stories",params:{member_id:e}})},f.prototype.createPost=function(e){e=_.cloneDeep(e);return e.status="published",o({method:"POST",url:"/frs-api/fundraising-pages/"+this.current.id+"/updates",data:e})},f.prototype.create=function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a="";a=e.teamId?"/frs-api/fundraising-teams/"+e.teamId+"/fundraising-pages":"/frs-api/campaign/"+e.campaignId+"/fundraising-pages";var i=c(this.current);l.active.multiCurrencyDisabled()?delete i.raw_currency_code:(i.raw_goal=i.goal,delete i.goal);i.answers&&i.answers.length&&(i.answers=i.answers.filter(function(e){return""!==e.answer}));null!=t.opted_in&&null!=t.opt_in_wording&&(i.opted_in=t.opted_in,i.opt_in_wording=t.opt_in_wording);e.token&&(i.token=e.token);return o({url:a,method:"POST",data:i}).then(function(e){return n.current=c(e.data),n.saved=c(e.data),e})},f.prototype.checkDashboardAccess=g,f.prototype.refreshData=function(){var a=this;return o({method:"GET",url:"/frs-api/fundraising-pages/"+this.current.id}).then(function(e){var n,t=_.pick(e.data,["average_donation","commitment","goal","raw_currency_code","raw_goal","largest_donation","percent_to_goal","total_donations","total_donors","total_raised"]);return _.assign(a.current,t),n=a.current,angular.forEach(h,function(e){e(n)}),e})},f.prototype.getDesignation=function(){return o({method:"GET",url:"/frs-api/campaign/"+this.current.campaign_id+"/designations",params:{per_page:1,filter:"id="+this.current.designation_id}})},f.prototype.registerObserverCallback=function(e){h.push(e)},f.prototype.getAlias=function(){return this.current.alias=this.current.alias||this.current.name,this.current.alias||this.current.name},f.prototype.createChannelFundraisingPage=function(n){var t=this,a=r.defer(),i=m.getBlockByType("fundraiser");return e.authenticate(_.get(SC,"organization.facebookChannel.appId",0),n).then(function(e){e={channel_name:n,user_access_token:e.getAccessToken(),cover_photo_url:_.get(i,"current.background.image.asset.src",null)};return o({url:"frs-api/fundraising-pages/"+t.current.id+"/channels",method:"POST",data:e}).then(function(e){a.resolve()}).catch(function(e){u("Oops! Something went wrong. Please try again.","error"),a.reject()})}),a.promise},f.prototype.getChannelFundraisingPage=function(e){var n=[];return n.push(o({url:"frs-api/fundraising-pages/"+i.params.fundraisingPageId+"/channels",method:"GET",params:{filter:"channel_name="+e+",fundraising_entity_type=fundraising_page,deleted_at=null"}}).then(function(e){return _.find(e.data.data)?o.get("frs-api/channel-fundraising-entities/"+_.find(e.data.data).id).then(function(e){return e.data}).catch(function(e){u("Oops! Something went wrong. Please try again.","error")}):_.find(e.data.data)}).catch(function(e){u("Oops! Something went wrong. Please try again.","error")})),n.push(o.get("frs-api/fundraising-pages/"+i.params.fundraisingPageId).then(function(e){return e.data}).catch(function(e){u("Oops! Something went wrong. Please try again.","error")})),r.all(n).then(function(e){return{data:e}})};var h=[];return f}e.$inject=["$http","$q","scObjectModel","scMembersService","scCampaignsService","scFundraisingPageDefaults","scFundraisingPostsDemo","scCloneDeep","scPageAccessService","scFacebook","scBanner","scBlocksService","$state"],angular.module("classy").factory("scFundraisingPageModel",e)})(),(()=>{function e(s,i,n,e,t,a){var o=this;this.fundraisers={},this.userFundraisers={},this.comments=null,this.active=null,this.add=function(e){this.fundraisers[e.id]=new n(e),_.get(this.fundraisers[e.id],"current.member_id")==_.get(t,"you.current.id")&&(this.userFundraisers[e.id]=this.fundraisers[e.id])},this.get=function(e){return _.get(o,"fundraisers."+e,!1)},this.setCommentsNumber=function(e){o.comments=e},this.getPagePhoto=function(e){var n=a.getIdByType("fundraiser"),n=a.get(n),t=void 0;return _.get(e,"logo.cdn_url")?t=e.logo.cdn_url:_.get(e,"fundraiser_profile_image")?t=e.fundraiser_profile_image:_.get(e,"logo.assetId")&&(t=_.get(e,"logo.src")),t=!_.isNull(t)&&!_.isUndefined(t)||(t=n.current.defaultFundraiserLogo&&n.current.defaultFundraiserLogo.src?n.current.defaultFundraiserLogo.src:t)&&"string"==typeof t&&/[/\w%.-]+\.(png|gif|apng|jpg|jpeg|webp|avif|svg)/i.test(t)?t:"/static/global/images/higher_contrast_individual_default_image.png"},this.fetch=function(n,e){var t=this;return _.get(this,"fundraisers."+n,!1)&&!e?s.resolve(this.fundraisers[n]):this.fetchData(n).then(function(e){return t.add(e.data),t.fundraisers[n]})},this.fetchData=function(e,n,t,a){return i({method:"GET",url:"/frs-api/fundraising-pages/"+e+"?with=supporter"+(n?",answers":""),params:{withDesignation:t,withCommitment:a}})},this.getCurrentMemberPage=function(){var e;return!_.isEmpty(this.userFundraisers)&&(e=_.keys(this.userFundraisers)[0],this.userFundraisers[e])},this.getSpecificMemberPage=function(e){return!_.isEmpty(this.userFundraisers)&&this.userFundraisers[e]},this.useExample=function(){return this.active=new n(e(),!0),this.active},this.setActive=function(e){this.active=this.get(e)},this.init=function(e){this.add(e),this.setActive(e.id)},this.sync=function(e,n){var t=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=a.forceSync,o=a.withAnswers,r=a.withDesignation,a=a.withCommitment;return n&&SC.fundraiser?(this.init(SC.fundraiser),s.resolve(this.active.current)):_.get(this,"active.current.id")!=e||i?this.fetchData(e,o,r,a).then(function(e){return t.init(e.data),e.data}):(this.active.refreshData(),s.resolve(this.active.current))}}e.$inject=["$q","$http","scFundraisingPageModel","scFundraisingPageDemo","scMembersService","scBlocksService"],angular.module("classy").service("scFundraisingPagesService",e)})(),angular.module("classy").service("scFundraisingTeamDefaults",function(){this.name="",this.goal=0,this.description="",this.logo=null,this.cover_photo=null}),(()=>{function v(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(i,o,r,t,a,s,l,c,d,n,u,m){function e(e){return g.apply(this,arguments)}var g;g=v(regeneratorRuntime.mark(function e(n){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.get(this,"current.team_lead_id",!1),a=_.get(l,"active.current.id",null),e.t0=a&&t==a,e.t0){e.next=7;break}return e.next=6,c.checkPageAdminAccess(n);case 6:e.t0=e.sent;case 7:if(e.t0)return e.abrupt("return",o.resolve(!0));e.next=10;break;case 10:return e.abrupt("return",o.resolve(!1));case 11:case"end":return e.stop()}},e,this)}));function p(e,n){t.call(this),this.isNew=!n&&!e,this.isDemo=n||!e,this.current=s(e||{goal:null}),this.defaults=s(d),this.isExample=!1,this.saved=s(e||{goal:null}),this.type="fundraising-teams"}var f=p,h=(f.prototype=_.create(t.prototype,{constructor:p}),f.prototype.create=function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=s(this.current);m.active.multiCurrencyDisabled()||a.raw_goal?delete a.raw_currency_code:(a.raw_goal=a.goal,delete a.goal);null!=t.opted_in&&null!=t.opt_in_wording&&(a.opted_in=t.opted_in,a.opt_in_wording=t.opt_in_wording);return a.admin_created=!!r.includes("admin.manage.campaign.fundraising-team.new"),i({url:"/frs-api/campaign/"+e+"/fundraising-teams",method:"POST",data:a}).then(function(e){return n.current=s(e.data),n.saved=s(e.data),i({url:"/frs-api/members/"+e.data.team_lead_id})}).then(function(e){return n.current.team_lead=e.data,n.saved.team_lead=e.data,{data:n.current}})},f.prototype.createPost=function(e){return i({method:"POST",url:"/frs-api/fundraising-teams/"+this.current.id+"/updates",data:e})},f.prototype.getCaptain=function(){if(this.isNew||this.isExample||!this.current.team_lead_id)return o.resolve({data:l.active.current});return i({url:"/frs-api/members/"+this.current.team_lead_id,method:"GET"})},f.prototype.getFundraisers=function(e){if(this.isDemo)return o.resolve({data:[u()]});return i({method:"GET",url:"/frs-api/fundraising-teams/"+this.current.id+"/fundraising-pages",params:e}).then(function(e){return e})},f.prototype.getParentTeam=function(e){return i({url:"/frs-api/fundraising-teams/"+this.current.parent_id,method:"GET",params:e})},f.prototype.getPosts=function(){var e=_.get(l,"active.current.id",null);{if(this.isNew)return o.resolve(null);if(this.isDemo)return o.resolve({data:n(this.current.id)})}return i({method:"GET",url:"/frs-api/fundraising-teams/"+this.current.id+"/updates",params:{member_id:e}})},f.prototype.getStory=function(){var e=_.get(l,"active.current.id",null);{if(this.isNew&&!this.current.id)return o.resolve(null);if(this.isDemo)return o.resolve({data:n(this.current.id)})}return i({method:"GET",url:"/frs-api/fundraising-teams/"+this.current.id+"/stories",params:{member_id:e}})},f.prototype.updateGroup=function(){var n=this,e=this.mysqlDiff(),t={};return _.forEach(e,function(e){t[e]=n.current[e]}),a.prepare(t).then(function(e){return i({method:"PUT",url:"/frs-api/fundraising-team-group/"+n.current.id,data:e,loadingScope:!0})}).then(function(e){return n.saved=s(e.data),_.merge(n.current,s(e.data)),n.refreshData()})},f.prototype.getSubteams=function(e){if(this.isDemo)return o.resolve({data:[u()]});return i({method:"GET",url:"/frs-api/fundraising-teams/"+this.current.id+"/subteams",params:e}).then(function(e){return e})},f.prototype.checkDashboardAccess=e,f.prototype.refreshData=function(){var a=this;return i({method:"GET",url:"/frs-api/fundraising-teams/"+this.current.id+"?aggregates=true"}).then(function(e){var n,t=_.pick(e.data,["average_donation","goal","raw_goal","raw_currency_code","largest_donation","net_credit_balance","percent_to_goal","total_donations","total_donors","total_fundraisers","total_raised"]);return _.assign(a.current,t),n=a.current,angular.forEach(h,function(e){e(n)}),e})},f.prototype.getSupporterCounts=function(){var n={fundraiserCount:0,subteams:0,childPages:0},e=[this.getSubteams(),this.getFundraisers()];return o.all(e).then(function(e){return n.subteams=_.get(e[0],"data.total",0),n.fundraiserCount=e[1].data.total,n.childPages=n.fundraiserCount+n.subteams,n})},f.prototype.registerObserverCallback=function(e){h.push(e)},[]);return p}e.$inject=["$http","$q","$state","scObjectModel","scPreflight","scCloneDeep","scMembersService","scPageAccessService","scFundraisingTeamDefaults","scFundraisingTeamPostsDemo","scFundraisingPageDemo","scCampaignsService"],angular.module("classy").factory("scFundraisingTeamModel",e)})(),(()=>{e.$inject=["$http","$q","$window","scFundraisingTeamModel","scFundraisingTeamDemo","scMembersService","scBlocksService","scOrganizationsService"];var d=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=n,a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")};function e(i,o,e,t,n,a,r,s){var l=this,c=e.SC||{};this.teams={},this.userTeams={},this.comments=null,this.active=null,this.add=function(e){this.teams[e.id]=new t(e);var n=_.get(this.teams[e.id],"current.team_lead_id");_.get(a,"you.current.id")!=n&&!e.captainCase||(this.userTeams[e.id]=this.teams[e.id])},this.remove=function(e){delete this.userTeams[e],delete this.teams[e]},this.get=function(e){return _.get(this,"teams."+e,!1)},this.setCommentsNumber=function(e){this.comments=e},this.useExample=function(){return this.active=new t(n(),!0),this.active},this.setActive=function(e){this.active=this.get(e)},this.getTeamPhoto=function(e){var n=r.getIdByType("team"),n=r.get(n),t=void 0;return _.get(e,"logo.cdn_url")?t=e.logo.cdn_url:_.get(e,"team_profile_image")?t=e.team_profile_image:_.get(e,"logo.assetId")&&(t=_.get(e,"logo.src")),t=_.isNull(t)||_.isUndefined(t)?n.current.defaultTeamLogo?n.current.defaultTeamLogo.src:"/static/global/images/team_default_image.png":t},this.init=function(e){var n=this;_.forEach(e,function(e){n.add(e)})},this.fetch=function(n,e){return _.get(l,"teams."+n,!1)&&!e&&o.resolve(l.teams[n]),l.fetchData(n).then(function(e){return l.add(e),l.teams[n]})},this.fetchData=function(e,n){var t=[i({method:"GET",url:"/frs-api/fundraising-teams/"+e})];return n&&t.push(i({method:"GET",url:"/frs-api/fundraising-teams/"+e+"/answers"})),o.all(t).then(function(e){var e=d(e,2),n=e[0].data,e=_.get(e[1],"data.data",void 0);return Object.assign(n,{answers:e}),Object.assign({},n,{organization_id:_.get(s,"active.current.id",n.organization_id)})})},this.sync=function(n,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=t.forceSync,t=t.withAnswers;return e&&c.team?(e=c.team.logo?c.team.logo.id:c.team.logo_id)?i({method:"GET",url:"/frs-api/asset/"+e}).then(function(e){return c.team.logo=e.data,l.init([c.team]),l.setActive(c.team.id),c.team}):(l.init([c.team]),l.setActive(c.team.id),o.resolve(c.team)):_.get(l,"active.current.id")!=n||a?l.fetchData(n,t).then(function(e){return l.add(e),l.setActive(n),l.teams[n].current}):(l.active.refreshData(),o.resolve(l.active.current))}}angular.module("classy").service("scFundraisingTeamsService",e)})(),(()=>{function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(t,a){function i(e){this.saved=_.cloneDeep(e),this.current=_.cloneDeep(e)}return i.prototype.update=function(){var n=this,e=i.differenceObject(this.current,this.saved);return t.put("/frs-api/members/"+this.saved.id,e).then(function(e){_.merge(n.saved,e.data),_.merge(n.current,e.data)}).catch(function(e){a.log("scMemberModelFactory, update ",e)})},i.prototype.delete=function(){return t({url:"/frs-api/members/"+this.current.id+"/deactivate",method:"POST"})},i.differenceObject=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(delete t.queries_log,delete t.mongo_queries_log,delete t.updated_at,delete n.queries_log,delete n.mongo_queries_log,delete n.updated_at,[].concat(o(Object.keys(t).filter(function(e){return t[e]!==n[e]})),o(Object.keys(n).filter(function(e){return!(e in t)})))),a={};return e.forEach(function(e){a[e]=n[e]}),a},i.prototype.discardChanges=function(e){_.isUndefined(e)?this.current=_.cloneDeep(this.saved):_.set(this,"current."+e,_.get(this,"saved."+e,null))},i.prototype.isGod=function(){return this.isAdmin&&window.sessionStorage&&window.sessionStorage.getItem("scGodMode")},i.prototype.getOrgs=function(){return t({method:"GET",url:"/frs-api/members/"+this.current.id+"/organizations"})},i}e.$inject=["$http","$log"],angular.module("classy").factory("scMemberModel",e)})(),(()=>{function e(r,s,n,t){this.you={},this.active={},this.nextTeamRequestPageNumbers={},this.nextPageRequestPageNumbers={};var a=s.defer(),i=a.promise;this.registerInitCallback=function(e){i.then(e)},this.init=function(e){this.you=new n(e),this.active=this.you,_.forEach(e.organizations,function(e){t.add(e)}),a.resolve(this.active.current)},this.sync=function(e){return e&&this.init(SC.member),s.resolve(this.active.current)},this.fetch=function(e){return r.get("/frs-api/members/"+e)},this.getMemberFirstInitial=function(e){return e.member&&e.member.first_name?e.member.first_name.charAt(0).toUpperCase():e.member_name?e.member_name.charAt(0).toUpperCase():e.first_name?e.first_name.charAt(0).toUpperCase():e.agent_name?e.agent_name.charAt(0).toUpperCase():"A"},this.getMemberTeams=function(e,t){var a=this;return r({method:"GET",url:"/frs-api/campaign/"+t+"/fundraising-teams",params:{aggregates:!0,filter:"team_lead_id="+e,per_page:5,page:2<arguments.length&&void 0!==arguments[2]?arguments[2]:1}}).then(function(e){var e=e.data,n=e.last_page>e.current_page?e.current_page+1:null;return a.nextTeamRequestPageNumbers[t]=n,e.data})},this.getMemberPages=function(e,t){var a=this;return r({method:"GET",url:"/frs-api/campaign/"+t+"/fundraising-pages",params:{aggregates:!0,filter:"member_id="+e,per_page:5,page:2<arguments.length&&void 0!==arguments[2]?arguments[2]:1}}).then(function(e){var e=e.data,n=e.last_page>e.current_page?e.current_page+1:null;return a.nextPageRequestPageNumbers[t]=n,e.data})},this.getAllMemberPages=function(e,n){var t,a=this;return e?(t=s.defer(),s.all({fundraisingPages:this.getMemberPages(e,n),fundraisingTeams:this.getMemberTeams(e,n)}).then(function(e){return a.handlePageRequest(e)}).then(function(e){return t.resolve(e)}),t.promise):s.resolve({fundraisingPages:{},fundraisingTeams:{}})},this.getNextTeamsPage=function(e){return this.nextTeamRequestPageNumbers[e]?this.getMemberTeams(this.you.current.id,e,this.nextTeamRequestPageNumbers[e]):s.resolve([])},this.getNextPagesPage=function(e){return this.nextPageRequestPageNumbers[e]?this.getMemberPages(this.you.current.id,e,this.nextPageRequestPageNumbers[e]):s.resolve([])},this.handlePageRequest=function(e){var n=e.fundraisingTeams,t=void 0===n?[]:n,n=e.fundraisingPages,a=void 0===n?[]:n,i=[],e=_.filter(a,function(e){return"primary-captain"===e.team_role}),o=(_.forEach(e,function(e){_.some(t,"id",e.fundraising_team_id)||(e=r({method:"GET",url:"/frs-api/fundraising-teams/"+e.fundraising_team_id}),i.push(e))}),{});return s.all(i).then(function(e){return _.forEach(e,function(e){(o=e.data).captainCase=!0,t.push(o)}),{fundraisingPages:a,fundraisingTeams:t}})}}e.$inject=["$http","$q","scMemberModel","scOrganizationsService"],angular.module("classy").service("scMembersService",e)})(),(()=>{function e(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function n(i,o,r,s){var n;this.pageAccess=!1,this.campaignId="",this.memberId="",this.setPageAccess=function(e){this.pageAccess=e},this.getPageType=function(e){return e||(_.get(SC,"team")?"team":_.get(SC,"fundraiser")?"fundraiser":null)},this.checkPageAdminAccess=(n=e(regeneratorRuntime.mark(function e(n){var t,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getPageType(n)){e.next=3;break}return e.abrupt("return",this.setPageAccess(!1));case 3:return a=("team"===t?s.fundraising_team:s.fundraising_page).update,e.next=6,r.isAuthorized(a);case 6:return a=e.sent,i=a.every(function(e){return e.result}),this.setPageAccess(i),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),this.sync=e(regeneratorRuntime.mark(function e(){var n,t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_.get(o,"active.current.id",!1),t=_.get(i,"you.current.id",!1),a=!1,this.campaignId!=n||this.memberId!=t)return e.next=6,this.checkPageAdminAccess();e.next=7;break;case 6:a=e.sent;case 7:this.setPageAccess(a);case 8:case"end":return e.stop()}},e,this)}))}n.$inject=["scMembersService","scCampaignsService","scAuthorizeService","PERMISSIONS"],angular.module("classy").service("scPageAccessService",n)})(),angular.module("classy").service("metaService",function(){var t=this;this.initMeta=function(e){t.$meta=e},this.setMetaParam=function(e,n){t.$meta[e]=n},this.getMetaParam=function(e){return t.$meta[e]}}),(()=>{function e(i){function t(e){this.saved=_.cloneDeep(e),this.current=_.cloneDeep(e)}return t.prototype.update=function(){var n=this,e=t.differenceObject(this.current,this.saved);return i.put("/frs-api/organizations/"+this.saved.id,e).then(function(e){_.merge(n.saved,e.data),_.merge(n.current,e.data)})},t.differenceObject=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=(delete t.queries_log,delete t.mongo_queries_log,delete t.updated_at,delete n.queries_log,delete n.mongo_queries_log,delete n.updated_at,Object.keys(t).filter(function(e){return t[e]!==n[e]})),i=(_.forEach(n,function(e,n){n in t||a.push(n)}),{});return a.forEach(function(e){i[e]=n[e]}),i},t.prototype.getDesignations=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return i({method:"GET",url:"/frs-api/organizations/"+this.current.id+"/designations",loadingScope:!0,params:{per_page:1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,page:e,filter:2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}}})},t.prototype.searchDesignations=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;return i({method:"GET",url:"/frs-api/organizations/"+this.current.id+"/designations",loadingScope:!0,params:{per_page:t,page:n,filter:encodeURIComponent("name*="+e+",is_active=true"),campaign_id:a}})},t.prototype.discardChanges=function(e){_.isUndefined(e)?this.current=_.cloneDeep(this.saved):_.set(this,"current."+e,_.get(this,"saved."+e,null))},t.prototype.currency=function(){return{code:this.current.currency,symbol:"$"}},t.prototype.multiCurrencyDisabled=function(){return this.current&&(this.current.tags||[]).includes("disable-multi-currency")},t.prototype.preventRecurringFrequencies=function(){return this.current&&(this.current.tags||[]).includes("prevent-recurring-frequencies")},t.prototype.preventOldrfForDeque=function(){return this.current&&(this.current.tags||[]).includes("prevent-oldrf-for-deque")},t.prototype.showLegacyDonationGrid=function(){return this.current&&(this.current.tags||[]).includes("legacy-donation-grid")},t.prototype.getCampaigns=function(e){return i.get("/frs-api/organizations/"+this.current.id+"/campaigns",{loadingScope:!0,params:e})},t.prototype.getPaymentMethod=function(){return i.get("/frs-api/organizations/"+this.current.id+"/payment-methods")},t}e.$inject=["$http"],angular.module("classy").factory("scOrganizationModel",e)})(),(()=>{function e(a,i,e,n){var o=this;this.organizations={},this.add=function(e){this.organizations[e.id]=new n(e)},this.get=function(e){return _.get(this,"organizations."+e,!1)},this.list=function(){return this.organizations},this.init=function(e){var n=this;_.forEach(e,function(e){n.add(e)})},this.setActive=function(e){this.active=this.get(e)},this.getAdminData=function(){return e.SC.public?i.resolve():o.getHasPaymentMethod()},this.sync=function(n,e){var t=i.resolve();return _.get(o,"active.current.id")==n?i.resolve(o.active.current):(e&&SC.organization?(o.init([SC.organization]),o.setActive(SC.organization.id)):t=a({method:"GET",url:"/frs-api/organizations/"+n}).then(function(e){e=e.data;return o.add(e),o.setActive(n),e}),t.then(function(){return o.getAdminData().then(function(){return o.active.current})}))},this.getTag=function(e,n){var t=n?e:_.kebabCase(e),n=_.get(this,"active.current.tags",[]),e=_.find(n,function(e){return _.startsWith(e,t)});return e?e.replace(t+":",""):null},this.hasPay=function(){var e=_.get(this,"active.current.providers",[]);return _.includes(e,"Classy Pay")},this.getOrgStatus=function(){return _.get(this,"active.current.status","")},this.hasActiveStatus=function(){return["active","past_due","grandfathered","org_profile"].includes(this.getOrgStatus())},this.getHasPaymentMethod=function(){var e=i.defer();return this.active.current.hasPaymentMethod=!0,e.resolve(),e.promise},this.isZuoraOrg=function(){return!1},this.publishable=function(e){var n=this.hasPay(),t=this.getTag("pay-exception-org"),a=_.get(this,"active.current.hasProcessor",!1),i=!this.isZuoraOrg()||_.get(this,"active.current.hasPaymentMethod",!1),t=t&&"reg_w_fund"!==e&&"donation"!==e&&"ticketed"!==e&&(a||moment(this.active.current.created_at).isBefore(moment("2013-05-13")));return this.hasActiveStatus()&&(n&&a&&i||t)}}e.$inject=["$http","$q","$window","scOrganizationModel"],angular.module("classy").service("scOrganizationsService",e)})(),(()=>{function e(t){return{get:function(e,n){return t({method:"GET",url:"/frs-api/organizations/"+e+"/campaign-templates?filter=source_campaign_id="+n.source_campaign_id,params:n,loadingScope:!0})}}}e.$inject=["$http"],angular.module("classy").service("scOrganizationsTemplateService",e)})(),(()=>{e.$inject=["$q","$http","$window","$state","$interval","ipCookie","scCampaignsService","scMembersService","bugsnagClient"];var d=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e,t,n,i,o,a,r,s,l){function c(e,n,t){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.cartId=e,this.setVerifyTokenFromParamsOrCookie(n),this.totalsLoading=!0,this.registrantsLoading=!0,this.error=!1,this.unauthorized=!1,this.registrationTotal=0,this.donationTotal=0,this.transactionTotal=t||0,this.registrants=[],this.fundraisingTeam={},this.pollingRegistrants=void 0,this.pollingRegistrantsPromise=void 0,this.init()}return d(c,[{key:"init",value:function(){var e=this,n=this.fetchTotals(),t=this.fetchCartItems(),a=this.pollRegistrants();Promise.all([n,a,t]).then(function(){e.setVerifyCookie(),i.go(i.$current.name,{verify:null,total:null})}).catch(function(e){return l.notify(e)})}},{key:"setError",value:function(e){(400<e.status&&e.status<500||1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&(this.unauthorized=!0,e=n.getSlug(r.active.current.name),n.location.href="/event/"+e+"/e"+(r.active.current.id+n.location.search)),this.error=!0}},{key:"fetchCartItems",value:function(){var n=this;this.itemsLoading=!0,this.items=[],t.get("frs-api/carts/"+this.cartId).then(function(e){n.items=e.data.items;var t=_.get(r,"active.current.ticketTypes",[]),a={};n.items.forEach(function(n){n.name=_.find(t,function(e){return e.id==n.product_id}).name,a[n.product_id]=(a[n.product_id]||0)+1,n.final_price=n.adjustment_amount?Math.max(0,_.parseInt(n.price)-_.parseInt(n.adjustment_amount)):n.price}),n.items=n.items.map(function(e){return e.counts=a[e.product_id],e})}).catch(function(e){n.setError(e)}).finally(function(){n.itemsLoading=!1})}},{key:"fetchTotals",value:function(){var n=this;return this.totalsLoading=!0,t.get("/frs-api/carts/"+this.cartId+"/receipt-totals?verify="+this.verify).then(function(e){n.donationTotal=e.data.donation_total+e.data.donation_fees,n.registrationTotal=e.data.registration_total,n.registrationFees=e.data.registration_fees,n.feeTotal=e.data.total_fees,n.transactionTotal=null!==e.data.transaction_total?e.data.transaction_total:n.transactionTotal}).catch(function(e){n.setError(e)}).finally(function(){n.totalsLoading=!1})}},{key:"fetchRegistrants",value:function(){var n=this;return t.get("/frs-api/carts/"+this.cartId+"/receipt-registrants?verify="+this.verify).then(function(e){return n.registrants=e.data.registrants,n.fundraisingTeam=e.data.fundraising_team,e}).catch(function(e){n.setError(e)})}},{key:"pollRegistrants",value:function(){var n,t,a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;return this.pollingRegistrantsPromise||(n=0,this.registrantsLoading=!0,t=e.defer(),this.pollingRegistrants=o(function(){a.fetchRegistrants().then(function(e){n+=1,(e&&e.data||i<=n)&&(a.stopPollRegistrants(),t.resolve(a.registrants))})},500),this.pollingRegistrantsPromise=t.promise),this.pollingRegistrantsPromise}},{key:"stopPollRegistrants",value:function(){this.pollingRegistrants&&(o.cancel(this.pollingRegistrants),this.pollingRegistrants=void 0,this.pollingRegistrantsPromise=void 0,this.registrantsLoading=!1)}},{key:"getVerifyCookieKey",value:function(){return"cart-"+this.cartId+"-verify"}},{key:"setVerifyCookie",value:function(){this.verify&&a(this.getVerifyCookieKey(),this.verify,{expires:365})}},{key:"getVerifyFromCookie",value:function(){return a(this.getVerifyCookieKey())}},{key:"setVerifyTokenFromParamsOrCookie",value:function(e){var n=_.get(s,"you.current.id");e?this.verify=e:(this.verify=this.getVerifyFromCookie(),this.verify||n||this.setError(new Error("unauthorized to view receipt"),!0))}}]),c}angular.module("classy").factory("scReceiptModel",e)})(),(()=>{function e(e,a){this.active=null,this.load=function(e,n,t){return delete this.active,this.active=new a(e,n,t),this.active},this.checkRegistrants=function(){return this.active.registrantsLoading?this.active.pollingRegistrantsPromise:e.resolve()},this.clear=function(){delete this.active,this.active={}}}e.$inject=["$q","scReceiptModel"],angular.module("classy").service("scReceiptService",e)})(),(()=>{function e(t,a){function e(e,n){t.call(this),this.isNew=!n&&!e,this.isDemo=n||!e,this.current=a(e||{}),this.defaults=a({}),this.isExample=!1,this.saved=a(e||{}),this.type="recurring-donation-plans"}var n=e;return n.prototype=_.create(t.prototype,{constructor:e}),n.prototype.create=function(){},e}e.$inject=["scObjectModel","scCloneDeep"],angular.module("classy").factory("scRecurringDonationPlanModel",e)})(),(()=>{function e(i,o,t,r,s){function e(e,n){t.call(this),this.isNew=!n&&!e,this.isDemo=n||!e,this.current=r(e||{}),this.defaults=r({}),this.isExample=!1,this.saved=r(e||{}),this.type="registrations"}var n=e;return n.prototype=_.create(t.prototype,{constructor:e}),n.prototype.create=function(){},n.prototype.update=function(){var a=this;return t.prototype.update.call(this).then(function(){var e=a.current,n=a.saved,t=[];return e.fundraising_page&&e.fundraising_page.id===n.fundraising_page.id&&s(e.fundraising_page,n.fundraising_page)&&t.push(i({method:"PUT",url:"/frs-api/fundraising-pages/"+e.fundraising_page.id,data:e.fundraising_page}).then(function(e){a.current.fundraising_page=r(e.data),a.saved.fundraising_page=r(e.data)})),e.transaction_item&&e.transaction_item.id===n.transaction_item.id&&s(e.transaction_item,n.transaction_item)&&t.push(i({method:"PUT",url:"/frs-api/transaction-items/"+e.transaction_item.id,data:e.transaction_item}).then(function(e){a.saved.transaction_item=r(e.data),a.current.transaction_item=r(e.data)})),o.all(t)})},e}e.$inject=["$http","$q","scObjectModel","scCloneDeep","scDeepDiff"],angular.module("classy").factory("scRegistrationModel",e)})(),(()=>{function a(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(e,n){this.loaded=!1,this.updatePaymentRequest=function(){return!1},this.init=a(regeneratorRuntime.mark(function e(){var n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loaded)return e.abrupt("return");e.next=2;break;case 2:if(n=SC.stripe.stripe_publishable_key,"undefined"==typeof Stripe)return e.next=6,o("https://js.stripe.com/v3/");e.next=6;break;case 6:this.stripe=Stripe(n),this.createPaymentRequest=function(e,n){var t=e.country;a.paymentRequest=a.stripe.paymentRequest(a.createPaymentRequestProps({country:t,currency:e.currency,label:e.label,amount:e.amount})),a.paymentRequest.on("paymentmethod",n),a.canMakePayment=a.paymentRequest.canMakePayment},this.createPaymentRequestProps=function(e){var n=e.country,t=e.currency;return{country:n,currency:t,total:{label:e.label,amount:i(e.amount,t)},requestPayerName:!0,requestPayerEmail:!0,disableWallets:["link"]}},this.updatePaymentRequest=function(e){var n=e.amount,t=e.currency;void 0!==a.paymentRequest&&a.paymentRequest.update({currency:t,total:{label:e.label,amount:i(n,t)}})},this.loaded=!0;case 11:case"end":return e.stop()}},e,this)}));var i=function(e,n){return parseInt((e*t(n)).toFixed(),10)},t=function(e){return Math.pow(10,n.getAllowedDecimals(e.toUpperCase()))},o=function(o){return new Promise(function(e,n){var t=document.createElement("script"),a=!1,i=(t.type="text/javascript",t.src=o,t.async=!0,t.onerror=function(e){n(e,t)},t.onload=t.onreadystatechange=function(){a||this.readyState&&"complete"!=this.readyState||(a=!0,e())},document.getElementsByTagName("script")[0]);i.parentElement.insertBefore(t,i)})}}e.$inject=["cpAPI","scCurrencyService"],angular.module("classy").service("scStripeService",e)})(),(()=>{function e(t,a){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];t.call(this),this.isNew=!n&&_.isEmpty(e),this.isDemo=n||_.isEmpty(e),this.current=a(e),this.defaults={},this.isExample=!1,this.saved=a(e),this.type="supporters"}return e.prototype=_.create(t.prototype,{constructor:e}),e}e.$inject=["scObjectModel","scCloneDeep"],angular.module("classy").factory("scSupporterModel",e)})(),(()=>{function e(t,a,i,o,r){return function(e){var n={};switch(e){case"crowdfunding":n=t;break;case"p2p":n=a;break;case"reg_w_fund":n=i;break;case"donation":n=o;break;case"ticketed":n=r;break;default:n={}}return n}}e.$inject=["scCrowdfundingThemeDefaults","scP2PThemeDefaults","scRegWFundThemeDefaults","scDonationThemeDefaults","scTicketedThemeDefaults"],angular.module("classy").factory("scThemeDefaults",e)})(),(()=>{function e(a,i,o,t){function e(e){e.queries_log&&delete e.queries_log,e.mongo_queries_log&&delete e.mongo_queries_log,e.updated_at&&delete e.updated_at,a.call(this),this.type="theme",this.defaults=i(e.type),this.saved=o(e),this.current=o(e);var n,t;!e||!e.styles||Object.prototype.hasOwnProperty.call(e.styles,"footerBgColor")||Object.prototype.hasOwnProperty.call(e.styles,"aboutBgColor")||Object.prototype.hasOwnProperty.call(e.styles,"donateButtonColor")||Object.prototype.hasOwnProperty.call(e.styles,"aboutContentColor")||Object.prototype.hasOwnProperty.call(e.styles,"locationBgColor")||Object.prototype.hasOwnProperty.call(e.styles,"headlineColor")||(this.defaults.styles=this.defaults.styles||{},this.defaults.styles.footerBgColor=e.styles.primaryColor,this.defaults.styles.aboutBgColor=e.styles.primaryColor,this.defaults.styles.donateButtonColor=e.styles.primaryColor,this.defaults.styles.locationBgColor=e.styles.primaryColor,this.defaults.styles.aboutContentColor="rgba(255,255,255,1)",e=_.get(e,"pages.landing.block_sections",null),n="crowdfunding",t="headlineColor",e=(e=e)?(e=e.find(function(e){return"body"===e.name}).blocks.find(function(e){return e.type===n}),_.get(e,t,null)):null,this.defaults.styles.headlineColor=e),this.setupBackwardsCompatability(this.saved),this.setupBackwardsCompatability(this.current)}return(e.prototype=_.create(a.prototype,{constructor:e})).getEventStyles=function(){var e=void 0;switch(this.current.type){case"reg_w_fund":e={ticketedEvent:{ticketTerm:"registrations",additionalDonation:!0}};break;case"ticketed":e={ticketedEvent:{ticketTerm:"tickets",additionalDonation:!0}};break;default:e={}}return _.merge(e,this.current.styles)},e.prototype.getTicketTerm=function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"plural";if(["reg_w_fund","ticketed"].includes(this.current.type))return e="reg_w_fund"==this.current.type?"registrations":"tickets",e=this.current.styles.ticketedEvent.ticketTerm||e,t[e][n]},e.prototype.setupBackwardsCompatability=function(e){var n=_.cloneDeep(this.defaults);_.forEach(n.pages,function(e){delete e.block_sections}),_.defaultsDeep(e,n)},e}e.$inject=["scObjectModel","scThemeDefaults","scCloneDeep","ticketTerms"],angular.module("classy").factory("scThemeModel",e)})(),(()=>{function e(n){this.themes={},this.add=function(e){this.themes[e.id]=new n(e)},this.get=function(e){return _.get(this,"themes."+e,!1)},this.setActive=function(e){this.active=this.get(e)},this.init=function(e){var n=this;_.forEach(e,function(e){n.add(e)})},this.updateActiveBlocks=function(a){_.forEach(this.active.current.pages,function(e){_.forEach(e.block_sections,function(t){_.forEach(t.blocks,function(e,n){t.blocks[n]=a.get(e.id).current})})})},this.getPage=function(e){return this.active.current.pages[e]}}e.$inject=["scThemeModel"],angular.module("classy").service("scThemesService",e)})(),(()=>{function e(t,a){function e(e,n){t.call(this),this.isNew=!n&&!e,this.isDemo=n||!e,this.current=a(e||{}),this.defaults=a({}),this.isExample=!1,this.saved=a(e||{}),this.type="transactions"}var n=e;return n.prototype=_.create(t.prototype,{constructor:e}),n.prototype.create=function(){},e}e.$inject=["scObjectModel","scCloneDeep"],angular.module("classy").factory("scTransactionModel",e)})(),angular.module("classy").directive("scValidityClasses",function(){return{priority:1,require:{ngModelCtrl:"^?ngModel"},bindToController:{targetName:"<scValidityClasses"},controllerAs:"scValidityClassesCtrl",controller:["$scope","$element",function(e,i){this.$onInit=function(){!this.targetName&&this.ngModelCtrl&&(this.targetName=this.ngModelCtrl.$scValidityReporter.alias)},this.$postLink=function(){var a=this;e.$on("scValidity.update",function(e,n,t){n===a.targetName&&(_.isUndefined(t.uiValid)?(i.removeClass("sc-valid"),i.removeClass("sc-invalid"),i.addClass("sc-pending")):t.uiValid?(i.addClass("sc-valid"),i.removeClass("sc-invalid")):(i.addClass("sc-invalid"),i.removeClass("sc-valid")))})}}]}}),(()=>{e.$inject=["scValidityReporterProto"];var a=function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e};function i(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e){var n=t;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var n=this,e=(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"field");if(n)return!e||"object"!=typeof e&&"function"!=typeof e?n:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),a(t,[{key:"update",value:function(e,n,t){this.valid=_.isEmpty(n)?_.isEmpty(e):void 0,this.invalid=_.isEmpty(n)?!_.isEmpty(e):void 0,this.error=_.clone(e),this.pending=_.clone(n||{}),this.uiValid=!!t||this.valid,this.uiInvalid=!t&&this.invalid,this.uiError=t?{}:_.clone(this.error),this.uiPending=t?{}:_.clone(this.pending),this.emitUpdate(),this.parent&&this.parent.update()}}]),t}angular.module("classy").factory("scValidityFieldReporter",e)})(),(()=>{e.$inject=["scValidityReporterProto"];var a=function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e};function i(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e){var n=t;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var n=this,e=(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"form");if(n)return!e||"object"!=typeof e&&"function"!=typeof e?n:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),a(t,[{key:"update",value:function(){this.valid=_.reduce(this.children,function(e,n){if(!_.isUndefined(e)&&!_.isUndefined(n.valid))return e&&n.valid},!0),this.invalid=_.reduce(this.children,function(e,n){if(!_.isUndefined(e)&&!_.isUndefined(n.invalid))return e||n.invalid},!1),this.error=_.reduce(this.children,function(e,n){return e[n.alias]=_.clone(n.error),e},{}),this.pending=_.reduce(this.children,function(e,n){return e[n.alias]=_.clone(n.pending),e},{}),this.uiValid=_.reduce(this.children,function(e,n){if(!_.isUndefined(e)&&!_.isUndefined(n.uiValid))return e&&n.uiValid},!0),this.uiInvalid=_.reduce(this.children,function(e,n){if(!_.isUndefined(e)&&!_.isUndefined(n.uiInvalid))return e||n.uiInvalid},!1),this.uiError=_.reduce(this.children,function(e,n){return e[n.alias]=_.clone(n.uiError),e},{}),this.uiPending=_.reduce(this.children,function(e,n){return e[n.alias]=_.clone(n.uiPending),e},{}),this.emitUpdate(),this.parent&&this.parent.update()}},{key:"setSubmitState",value:function(e){this.emit("submitted",e),this.parent&&this.parent.setSubmitState(e)}}]),t}angular.module("classy").factory("scValidityFormReporter",e)})(),angular.module("classy").directive("scValidityMessage",function(){return{priority:1,bindToController:{alias:"<scValidityMessage",messages:"<"},controllerAs:"scValidityMessageCtrl",controller:["$scope","$element",function(e,o){this.$postLink=function(){var i=this;e.$on("scValidity.update",function(e,n,t){var a;n===i.alias&&(t.uiValid||!_.isEmpty(t.uiPending)?o.hide():(a="",_.forEach(i.messages,function(e,n){t.uiError[n]&&(a=e)}),a?o.text(a).show():o.text("").hide()))})}}]}}),(()=>{e.$inject=["scValidityFormReporter","scValidityFieldReporter"];var n=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(a,i){return n(e,[{key:"register",value:function(e,n,t){return this.reporters[n]=new("form"===e?a:i)(n),t&&(this.reporters[t].addChild(this.reporters[n]),this.reporters[n].setParent(this.reporters[t])),this.reporters[n]}},{key:"deregister",value:function(t){var a=this;_.forEach(this.reporters,function(e,n){e.removeChild(t),e===t&&delete a.reporters[n]})}},{key:"clear",value:function(){return this.reporters={},this}},{key:"get",value:function(e){return this.reporters[e]}}]),e;function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.reporters={}}}angular.module("classy").factory("scValidityModel",e)})(),(()=>{function e(o,c){return{priority:2,require:{ngModelCtrl:"?ngModel",formCtrl:"?form",parentFormCtrl:"^^?form"},bindToController:{scValidityModel:"<",scValidityReporter:"<"},controllerAs:"scValidityReporterCtrl",controller:["$scope","$element",function(l,i){this.$onInit=function(){for(var i=this.ngModelCtrl,n=this.formCtrl,e=this.parentFormCtrl,t=e||n;t&&t.$$parentForm;)t=t.$$parentForm;var a=this.scValidityReporter||(i||n).$name,o=this.scValidityModel;o=(o=o||t.$scValidityModel)||new c,i?i.$scValidityModel=o:n.$scValidityModel=o,t.$scValidityModel=o,this.scValidityModel=t.$scValidityModel;for(var r=null,s=e;s;){if(s.$scValidityReporter&&s.$scValidityModel===o){r=s.$scValidityReporter.alias;break}s=s.$$parentForm}i?(i.$scValidityReporter=o.register("field",a,r),this.scValidityReporter=i.$scValidityReporter,i.$syncValidity=function(){i.$scValidityReporter.update(i.$error,i.$pending,i.$ignore)},l.$on("scValidity.submitted",function(e,n,t){i.$ignore=!t,i.$syncValidity()}),i.$setValidity=_.wrap(i.$setValidity,function(e){for(var n=arguments.length,t=Array(1<n?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];e.apply(i,t),i.$syncValidity()})):(n.$scValidityReporter=o.register("form",a,r),this.scValidityReporter=n.$scValidityReporter,n.$setPristine=_.wrap(n.$setPristine,function(e){e.apply(n),n.$scValidityReporter.setSubmitState(!1)}),n.$setSubmitted=_.wrap(n.$setSubmitted,function(e){e.apply(n),n.$scValidityReporter.setSubmitState(!0)}))},this.$postLink=function(){var e,n=this,t=this.ngModelCtrl,a=this.parentFormCtrl;t&&(t.$ignore=!0,e=function(e){a&&a.$submitted?t.$ignore=!1:t.$ignore=!!e},t.$focus=function(){e(t.$pristine||t.$untouched||t.$valid),t.$validate()},t.$blur=function(){e(t.$pristine),t.$syncValidity()}),i.on("focus",function(){return o(function(){return n.ngModelCtrl.$focus()})}),i.on("blur",function(){return o(function(){return n.ngModelCtrl.$blur()})})},this.$onDestroy=function(){this.scValidityModel.deregister(this.scValidityReporter)}}]}}e.$inject=["$timeout","scValidityModel"],angular.module("classy").directive("scValidityReporter",e)})(),(()=>{n.$inject=["$rootScope"];var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(a){return e(t,[{key:"addChild",value:function(e){this.children.push(e),this.emit("child",e)}},{key:"setParent",value:function(e){this.parent=e,this.emit("parent",e)}},{key:"removeChild",value:function(n){_.remove(this.children,function(e){return e===n})}},{key:"on",value:function(e,n){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n)}},{key:"emit",value:function(e,n){var t=this;_.forEach(this.callbacks[e],function(e){return e(t.alias,n,t)}),a.$broadcast("scValidity."+e,this.alias,n,this)}},{key:"emitUpdate",value:function(){this.emit("update",{type:this.type,valid:this.valid,invalid:this.invalid,error:this.error,pending:this.pending,uiValid:this.uiValid,uiInvalid:this.uiInvalid,uiError:this.uiError,uiPending:this.uiPending})}}]),t;function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.alias=e,this.type=n,this.parent=null,this.children=[],this.valid=!0,this.invalid=!1,this.error={},this.pending={},this.uiValid=!0,this.uiInvalid=!1,this.uiError={},this.uiPending={},this.callbacks={}}}angular.module("classy").factory("scValidityReporterProto",n)})(),(()=>{function e(n){this.models={},this.create=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default";return this.models[e]=new n,this.models[e]},this.get=function(e){return this.models[e]}}e.$inject=["scValidityModel"],angular.module("classy").service("scValidityService",e)})(),(()=>{function e(n,m,g,t,p,f,h,v,b,y){function k(e){t.DEBUG_SYNC&&n.log(e)}function w(e){t.DEBUG_SYNC&&n.log("%c✓ "+e,"color: green")}function C(e){t.DEBUG_SYNC&&n.warn(e)}t.DEBUG_SYNC=!1,this.currentTransition=0,this.isLoad=!0,this.sync=function(e,n,t){var a,i,o,r,s,l,c,d=this,u=(this.currentTransition=_.uniqueId(),this.currentTransition);n.name===this.cachedState&&_.isEqual(t,this.cachedParams)||(!(i=(e=>{for(var n=["fundraisingPageId","fundraisingTeamId","campaignId","organizationId"],t=0;t<n.length;t+=1){var a=n[t];if(e[a])return{type:a,id:e[a]}}return!1})(t))&&this.isLoad&&(SC.fundraiser?i={type:"fundraisingPageId",id:SC.fundraiser.id}:SC.team?i={type:"fundraisingTeamId",id:SC.team.id}:SC.campaign?i={type:"campaignId",id:SC.campaign.id}:SC.organization&&(i={type:"organizationId",id:SC.organization.id})),i?(k("------------------------------------------"),k("STATE: "+n.name),k("PARAMS: "),k(t),this.cachedState=n.name,this.cachedParams=t,e&&e.preventDefault(),k("Known:"),k(i),e=i,a=this.isLoad,i=e.id,e=e.type,(o={fundraisingPageId:m.defer(),fundraisingTeamId:m.defer(),campaignId:m.defer(),organizationId:m.defer()})[e].resolve(i),e=o.fundraisingPageId.promise.then(function(e){return k("Syncing fundraising page ..."),p.sync(e,a,{withAnswers:!0,withDesignation:!0,withCommitment:!0})}).then(function(e){w("Fundraising page is synced"),o.fundraisingTeamId.resolve(e.fundraising_team_id),o.campaignId.resolve(e.campaign_id),o.organizationId.resolve(e.organization_id)}).catch(function(){return k("No fundraising page to sync.")}),i=o.fundraisingTeamId.promise.then(function(e){return e||m.reject()}).then(function(e){return k("Syncing fundraising team ..."),f.sync(e,a,{withAnswers:!0})}).then(function(e){w("Fundraising team is synced"),o.campaignId.resolve(e.campaign_id),o.organizationId.resolve(e.organization_id)}).catch(function(){return k("No fundraising team to sync.")}),r=o.campaignId.promise.then(function(e){return k("Syncing campaign ..."),h.sync(e,a)}).then(function(e){w("Campaign is synced"),o.organizationId.resolve(e.organization_id)}).catch(function(){return k("No campaign to sync.")}),s=o.organizationId.promise.then(function(e){return k("Syncing organization ..."),v.sync(e,a)}).then(function(){w("Organization is synced"),_.forEach(o,function(e){return e.reject()})}),k("Syncing member ..."),l=y.sync(a).then(function(){return w("Member is synced")}),k("Syncing campaign access ..."),c=m.all([r,l]).then(function(){b.sync(a).then(function(){return w("Campaign access status is synced")})}),m.all([e,i,r,s,l,c]).then(function(){d.currentTransition===u?g.go(n.name,t):C("Transition no longer matches")}).catch(C),this.isLoad=!1):C("No sync parameter found in path or SC. Where are you?"))}}e.$inject=["$log","$q","$state","$window","scFundraisingPagesService","scFundraisingTeamsService","scCampaignGroupService","scOrganizationsService","scPageAccessService","scMembersService"],angular.module("classy").service("modelParams",e)})(),(()=>{function e(a,t,i,o,r,s){function e(){}return e.prototype.discardChanges=function(e){_.isUndefined(e)?this.current=o(this.saved):_.set(this,"current."+e,_.get(this,"saved."+e,null))},e.prototype.restoreDefaults=function(e){var n;_.isUndefined(e)?(n=o(this.defaults),0===this.current.id.indexOf("temp_")&&(n.id=this.current.id),this.current=n):_.set(this,"current."+e,_.get(this,"defaults."+e,null))},e.prototype.mongoDiff=function(){delete this.current.queries_log,delete this.current.mongo_queries_log,delete this.current.updated_at,delete this.saved.queries_log,delete this.saved.mongo_queries_log,delete this.saved.updated_at;var e=angular.fromJson(angular.toJson(this.saved)),n=angular.fromJson(angular.toJson(this.current)),e=r(e,n);if((e=_.filter(e,function(e){return"mongo_queries_log"!=_.last(e.path)&&"queries_log"!=_.last(e.path)&&"updated_at"!=_.last(e.path)}))&&e.length)return t.log("------------------------------------------"),t.log("Mongo diff in "+_.get(this,"current.type")+" "+this.type+":"),_.forEach(e,function(e){var n=void 0;switch(e.kind){case"N":n=" added with value ";break;case"D":n=" deleted";break;case"E":n=" changed to ";break;case"A":n=" modified to ";break;default:n=" unknown change "}t.log("%c - "+e.path.join(" > "),"color:magenta;",n,e.rhs)}),e},e.prototype.mysqlDiff=function(){var a=this,t=("campaign"==this.type&&(this.saved.faqs=this.current.faqs,this.saved.overview=this.current.overview,this.saved.type=this.current.type,this.saved.end=this.current.end,this.saved.start=this.current.start,this.saved.noEndDate=this.current.noEndDate,this.saved.noLocation=this.current.noLocation,this.saved.location=this.current.location,this.saved.organization=this.current.organization,new Date(this.current.started_at+"+00").getTime()==new Date(this.saved.started_at).getTime()&&(this.saved.started_at=this.current.started_at),new Date(this.current.ended_at+"+00").getTime()==new Date(this.saved.ended_at).getTime())&&(this.saved.ended_at=this.current.ended_at),delete this.saved.queries_log,delete this.saved.mongo_queries_log,delete this.saved.updated_at,delete this.current.queries_log,delete this.current.mongo_queries_log,delete this.current.updated_at,_.reduce(this.saved,function(e,n,t){return _.isEqual(n,a.current[t])?e:e.concat(t)},[]));return _.forEach(this.current,function(e,n){n in a.saved||t.push(n)}),t},e.prototype.create=function(){var n=this,t=i.defer();return a({url:"/frs-api/"+this.type,method:"POST",data:this.current}).then(function(e){n.current=o(e.data),n.saved=o(e.data),t.resolve(e)},function(e){t.reject(e)}),t.promise},e.prototype.update=function(){var t=this,e=this.mysqlDiff(),n={};return _.forEach(e,function(e){n[e]=t.current[e]}),s.prepare(n).then(function(e){var n=_.merge({},t.current,e);return a({method:"PUT",url:"/frs-api/"+t.type+"/"+t.current.id,data:"theme"===t.type?n:e,loadingScope:!0}).then(function(e){return _.merge(t.saved,o(e.data)),_.merge(t.current,o(e.data)),e})})},e.prototype.delete=function(){return a({url:"/frs-api/"+this.type+"/"+this.current.id,method:"DELETE"})},e.prototype.getAnswersDiff=function(){var t=this;return this.current.answers.filter(function(n){var e=_.find(t.saved.answers,function(e){return e.id==n.id})||{};return n.answer!==e.answer})},e.prototype.updateAnswers=function(){var e=this.getAnswersDiff(),n=[],t=[];return e.forEach(function(e){e.answer||0===e.answer?n.push({question_id:e.question_id,answer:e.answer}):e.id&&t.push(a({method:"DELETE",url:"/frs-api/answers/"+e.id}))}),_.isEmpty(n)||t.push(a.post("/frs-api/"+this.type+"/"+this.current.id+"/answers",n)),i.all(t)},e}e.$inject=["$http","$log","$q","scCloneDeep","scDeepDiff","scPreflight"],angular.module("classy").factory("scObjectModel",e)})(),(()=>{function e(e){var i=this;this.checks=[],this.add=function(e){this.checks.push(e)},this.prepare=function(n){var t=e.defer(),a=[];return _.forEach(i.checks,function(e){e=e(n);e&&_.isFunction(e.then)&&a.push(e)}),a.length?e.all(a).then(function(){t.resolve(n)},function(e){t.reject(e)}):t.resolve(n),t.promise}}e.$inject=["$q"],angular.module("classy").service("scPreflight",e)})(),angular.module("classy").service("scAnalytics",["$q","$log","scUserAgent","scAnalyticsUtils","bugsnagClient","ga4Service","gtmService","adwordsService","fbqService","heapService","capiService","Optimizely",function(a,i,o,r,s,e,n,t,l,c,d,u){var m,g=[],p=[e,n,c,t,l,d];function f(n,t){return function(e){e&&(i.error(e),s.notify(e,{service:t,method:n}))}}e=p,"development"===SC.env&&(m=["loaded","recordPageView","track","registerSuperProperties","identifyMember","eventBeacon"],e.forEach(function(n){if("string"!=typeof n.name)throw new Error("Service missing name field");m.forEach(function(e){if("function"!=typeof n[e])throw new Error(n.name+" missing required method: "+e)})})),this.initOptimizely=function(){u.init()},this.initHeap=function(){c.init()},this.identifyMember=function(n,t){n&&!o.isBot()&&p.forEach(function(e){e.loaded().then(function(){return i.debug("[scAnalytics:identifyMember] "+e.name+": "+n+" "+JSON.stringify(t)),e.identifyMember(n,t)}).catch(f("identifyMember",e.name))})},this.eventBeacon=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o.isBot()||p.forEach(function(e){e.loaded().then(function(){return i.debug("[scAnalytics:eventBeacon] "+e.name+": "+JSON.stringify(n)),e.eventBeacon(n)}).catch(f("eventBeacon",e.name))})},this.recordPageView=function(){var n,e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o.isBot()||((n=r.buildPageViewData(t)).event_id=r.generateEventId(),e=p.map(function(e){return e.loaded().then(function(){return i.debug("[scAnalytics:recordPageView] "+e.name+": "+JSON.stringify(t)),e.recordPageView(n)}).catch(f("recordPageView",e.name))}),a.all(e).finally(function(){g.forEach(function(e){return e()})}))},this.registerSuperProperties=function(){o.isBot()||p.forEach(function(e){e.loaded().then(function(){return i.log("[scAnalytics:registerSuperProperties] "+e.name),e.registerSuperProperties()}).catch(f("registerSuperProperties",e.name))})},this.track=function(n,t){o.isBot()||(_.has(t,"new")&&(t.new=JSON.stringify(t.new)),_.has(t,"old")&&(t.old=JSON.stringify(t.old)),t&&(t.event_id=r.generateEventId()),p.forEach(function(e){e.loaded().then(function(){return i.debug("[scAnalytics:track] "+e.name+": "+n+" "+JSON.stringify(t)),e.track(n,t)}).catch(f("track",e.name))}),u.isInit&&u.track(n,t))},this.registerPageViewCallback=function(e){g.push(e)},this.setCampaign=function(e){r.setCampaign(e)},this.destroy=function(){c.destroy()}}]),(()=>{function e(t,e,a,i){var n={watchForMember:function(){e.$watch(function(){return _.get(i,"active.current.id",null)},function(e){var n;e&&(n={avatar:(e=i.active.current).thumbnail_large,hostName:t.host(),visitorType:i.you.current&&i.you.current.id?"member":"",concatId:e.id+"."+SC.organization.id},a.identifyMember(e.id,n))})},watchForPageChanges:function(e){e.$on("memberChecked",function(){a.recordPageView()})},setup:function(e){n.watchForMember(),n.watchForPageChanges(e)}};return n}e.$inject=["$location","$rootScope","scAnalytics","scMembersService"],angular.module("classy").factory("scAnalyticsHelper",e)})(),(()=>{function e(t,a,i,o,r,e,s,l){var c={},n=e.REGISTRATION_CREATE_BEGIN,d=e.REGISTRATION_CREATE_COMPLETE,u=e.DONATION_CREATE_BEGIN,m=e.DONATION_CREATE_COMPLETE,g=e.RECURRING_DONATION_CREATE_COMPLETE,p=e.DIGITAL_WALLETS_LOADED,f={};return c.isPublicPage=function(){return SC.public},c.debugLog=function(e,n){t.DEBUG_ANALYTICS&&a.log(_.cloneDeep(e),_.cloneDeep(n))},c.getUtmParameters=function(){var e;return!!(o&&o.params&&o.params.utm_source&&o.params.utm_medium&&o.params.utm_campaign)&&(e={utm_source:o.params.utm_source,utm_medium:o.params.utm_medium,utm_campaign:o.params.utm_campaign},o.params.utm_term&&(e.utm_term=o.params.utm_term),o.params.utm_content&&(e.utm_content=o.params.utm_content),e)},c.buildChannelEventObject=function(e,n){var t={member_id:_.get(s,"active.current.id")||null,event:{event_name:e,facebook_browser_id:i("_fbp"),facebook_click_id:i("_fbc"),event_time:n.event_id.split(".")[0],event_id:n.event_id,event_source_url:window.location.origin+window.location.pathname+window.location.search+window.location.hash,action_source:"website",client_user_agent:l.getUa().ua,meta_test_event_code:i("cl_meta_event_code")}};switch(e){case"fundraising-page/create/complete":t.event.meta_event_name="CompleteRegistration",t.event.content_name="Fundraising Page Signup";break;case"donation/create/begin":t.event.meta_event_name="InitiateCheckout";break;case"donation/create/complete":t.event.meta_event_name="Purchase",t.event.content_name="Donation",t.event.content_category="one-time",t.event.value=_.get(n,"amount",0),t.event.currency=_.get(n,"currency","USD");break;case"registration/create/begin":t.event.meta_event_name="AddToCart",t.event.content_name="Registration",t.event.value=_.get(n,"amount",0),t.event.currency=_.get(n,"currency","USD"),t.event.items=c.calculateNumOfItems(n);break;case"registration/create/complete":t.event.meta_event_name="CompleteRegistration",t.event.content_name="Registration",t.event.value=_.get(n,"amount",0),t.event.currency=_.get(n,"currency","USD"),t.event.items=c.calculateNumOfItems(n),t.event.donation_frequency=_.get(n,"donation_frequency","");break;case"recurring-donation/create/complete":t.event.meta_event_name="Purchase",t.event.content_name="Donation",t.event.content_category="recurring",t.event.value=_.get(n,"amount",0),t.event.currency=_.get(n,"currency","USD");break;case"ViewContent":t.event.meta_event_name="ViewContent",t.event.content_name=n.title,t.event.content_url=window.location.origin+window.location.pathname+window.location.search+window.location.hash}return t},c.buildPageViewData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=r.title,t=(o.is("frs.donation.checkout")&&(window.location.pathname.includes("give/f")?n="Fundraiser Donation Page":window.location.pathname.includes("give/t")?n="Team Donation Page":window.location.pathname.includes("give")&&(n="Donation Page")),t=window.location.hash,a=["first","last","email","street","city","state","zip","country","phone"].join("|"),t.replace(new RegExp("("+a+")=[^&]+&*","gi"),"").replace(new RegExp("(&|\\?)$","g"),"")),a={page:window.location.pathname+window.location.search+t,title:n,userAgent:navigator.userAgent};return _.merge(a,e)},c.generateEventId=function(){return c.getEventTime()+"."+Math.floor(1e12*Math.random())},c.getEventTime=function(){return Math.round((new Date).getTime()/1e3)},c.setCampaign=function(e){f=e},c.getCampaign=function(){return f},c.getRegistrationQuantity=function(e){return 0<e.registrants.length?e.registrants.length/e.entries:e.entries},c.isFunnelStartEvent=function(e){return[u,n].includes(e)},c.isFunnelConversionEvent=function(e){return[g,m,d].includes(e)},c.isDigitalWalletsLoadedEvent=function(e){return e===p},c.isEmbeddedGivingEvent=function(e){return!!e&&0<=e.indexOf("embedded-giving")},c.calculateNumOfItems=function(e){return _.get(e,"items.length",0)+(_.get(e,"donation_amount",null)?1:0)},c}e.$inject=["$window","$log","ipCookie","$state","MetaTags","ANALYTICS_EVENTS","scMembersService","scUserAgent"],angular.module("classy").factory("scAnalyticsUtils",e)})(),angular.module("classy").constant("ANALYTICS_EVENTS",{REGISTRATION_CREATE_BEGIN:"registration/create/begin",REGISTRATION_CREATE_COMPLETE:"registration/create/complete",DONATION_CREATE_BEGIN:"donation/create/begin",DONATION_CREATE_COMPLETE:"donation/create/complete",RECURRING_DONATION_CREATE_COMPLETE:"recurring-donation/create/complete",SUPPORTER_LOADED:"supporter_loaded",TRANSACTION:"transaction",CAMPAIGN_UPDATED:"campaign/updated",FUNDRAISING_PAGE_CREATE_BEGIN:"fundraising-page/create/begin",FUNDRAISING_PAGE_CREATE_COMPLETE:"fundraising-page/create/complete",DIGITAL_WALLETS_LOADED:"dw_loaded"}),(()=>{function e(t){var n=t.DONATION_WHITELIST,a=t.ZIPCODE_BLACKLIST,i=t.CART_WHITELIST,o=t.CART_ITEM_WHITELIST,r=t.CART_REGISTRANT_WHITELIST;function s(e){return Object.assign(d(e,n),{type:"donation",frequency:"recurring"===e.frequency.toLowerCase()?"monthly":e.frequency},u(e.billing_country,e.billing_postal_code))}function l(e){e=Object.assign(c(e),{type:"cart"});return e.donation_frequency&&(e.donation_frequency="recurring"===e.donation_frequency.toLowerCase()?"monthly":e.donation_frequency),e}function c(e){e=Object.assign({},e);return e.items&&(e.items=e.items.map(function(e){return e.registrants&&(e.registrants=e.registrants.map(function(e){return d(e,r)})),d(e,o)})),d(e,i)}function d(i,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,n){return void 0!==i[n]?Object.assign(e,(t={},a=o[n]||n,n=i[n],a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t)):e;var t,a},{})}function u(e,n){return"GB"!==e&&n?{billing_postal_code:"US"===e&&a.includes(n.substr(0,3))?"000":n.substr(0,3)}:{}}this.getSanitizedData=function(e,n){return"donation"===e||"transaction"===e?(n.items?l:s)(n):(e=t[e.toUpperCase()+"_WHITELIST"])?d(n,e,{goal:"normalized_goal",currency_code:"normalized_currency_code"}):n},Object.assign(this,{_getDonationData:s,_getCartData:l,_sanitize:d,_filterZipCode:u,_sanitizeCart:c})}e.$inject=["whitelistedProperties"],angular.module("classy").service("whitelistedPropertyService",e)})(),(()=>{function e(e,t){return e.bugsnagClient||{notify:function(e,n){t.info("DEV INFO: the following error to be reported to BugSnag in prod or prod-like environments:",e,n)}}}e.$inject=["$window","$log"],angular.module("classy").factory("bugsnagClient",e)})(),angular.module("classy").factory("$exceptionHandler",["bugsnagClient","$log",function(t,a){return function(e,n){a.error(e),t.notify(e,{beforeSend:function(e){e.updateMetaData("angular",{cause:n})}})}}]),angular.module("classy").provider("loadRecaptcha",function(){var i=null;this.setSiteKey=function(e){e&&(i=e.toString())},this.$get=["$q","$window",function(e,n){var t,a;return i?"ENABLED"===SC.campaign.effective_recaptcha_settings?(t=e.defer(),n.initializeRecaptcha=function(){t.resolve(n.grecaptcha.enterprise)},(a=document.createElement("script")).type="text/javascript",a.async="async",a.defer="defer",a.src="https://www.google.com/recaptcha/enterprise.js?render="+i,a.onload=n.initializeRecaptcha,document.body.appendChild(a),t.promise):e.resolve(void 0):e.reject()}]}),(()=>{function e(e,n,t,a){var i=e.SC.recaptcha;function o(){return"ENABLED"===n.active.current.effective_recaptcha_settings}return{createToken:function(n){return o()?t.then(function(e){return e?e.execute(i,{action:n}).then(function(e){return e}).catch(function(e){return a.notify(e),!0}):Promise.resolve(!0)}):Promise.resolve(!0)},isRecaptchaEnabled:o}}e.$inject=["$window","scCampaignsService","loadRecaptcha","bugsnagClient"],angular.module("classy").factory("recaptchaService",e)})(),(()=>{var c=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}angular.module("classy").service("registrationNavigator",["$filter","$log","$q","$rootScope","$state","$window","registrationRoutes","scCampaignsService","scCartService","scFlowModalService","scThemesService","ipCookie","SC_CART_COOKIE","scValidityService","scGetQueryParams",function(t,d,u,i,m,g,e,p,f,o,h,r,s,l,v){var b=e.CAMPAIGN_ROUTE,a=e.BASE_ROUTE,y=e.TICKETS_ROUTE,k=e.ATTENDEE_ROUTE,w=e.NEW_ATTENDEE_ROUTE,C=e.CAPTAIN_ROUTE,S=e.DONATION_ROUTE,$=e.PAYMENT_ROUTE,T=e.RECEIPT_ROUTE;function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.lastState=null,this.processing=!1,this.callbacks={beforeChange:[],change:[]}}return c(n,[{key:"on",value:function(e,n){var t=this;return this.callbacks[e].push(n),function(){_.remove(t.callbacks[e],function(e){return e===n})}}},{key:"emit",value:function(e){for(var n=arguments.length,t=Array(1<n?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return this.processCallback(e,0,t)}},{key:"processCallback",value:function(n,t,a){var i=this,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=_.get(this,["callbacks",n,t]);return o?u.resolve(o.apply(this,a)).then(function(e){return!1===e?u.reject():i.processCallback(n,t+1,a,e)}):u.resolve(e)}},{key:"getStandardParams",value:function(){var e=f.active.current,n=p.active.current;return{cartId:e.id,campaignId:n.id,eventName:t("scSlugify")(n.name).toLowerCase(),eventType:"event",typeSlug:"e"}}},{key:"routeBefore",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=f.active,a=_.get(h.active.getEventStyles(),"ticketedEvent.additionalDonation",!0),i=p.active.HAS_FUNDRAISING;switch(e){case b:case y:return{route:b};case w:return _.isEmpty(t.current.items)?{route:y}:(r=_.parseInt(n.cartItemId),o=_.findIndex(t.current.items,{id:r}),c=t.current.items[o],s=t.itemsWithQuestions(t.current.items),l=_.findIndex(s,{id:r}),1<c.entries&&0<c.registrants.length?(c=_.get(c,["registrants",c.registrants.length-1]),{route:k,params:{cartItemId:r,attendeeId:c.id}}):0<o&&i?(r=t.current.items[o-1],{route:k,params:{cartItemId:r.id,attendeeId:r.registrants[0].id}}):0<l&&!i?(c=s[l-1],{route:k,params:{cartItemId:c.id,attendeeId:c.registrants[0].id}}):{route:y});case k:var o=_.parseInt(n.attendeeId),r=_.parseInt(n.cartItemId),s=_.findIndex(t.current.items,{id:r}),l=t.current.items[s],c=_.findIndex(l.registrants,{id:o}),d=o==_.get(t,"current.items[0].registrants[0].id")||0==s&&!l.registrants.length,u=t.itemsWithQuestions(t.current.items),u=o==_.get(u[0],"registrants[0].id")||0===u.indexOf(l)&&!l.registrants.length;return d||!i&&u?{route:y}:o&&0<c?{route:k,params:{cartItemId:r,attendeeId:l.registrants[c-1].id}}:i?(d=t.current.items[s-1],{route:k,params:{cartItemId:d.id,attendeeId:_.last(d.registrants).id}}):(u=t.previousItemWithQuestions(t.current.items,l),{route:k,params:{cartItemId:u.id,attendeeId:_.last(u.registrants).id}});case C:var o=t.current.items.length-1,r=t.current.items[o];return{route:k,params:{cartItemId:r.id,attendeeId:_.last(r.registrants).id}};case S:return i?!t.current.team_name||t.soloEntry?(c=t.current.items.length-1,s=t.current.items[c],{route:k,params:{cartItemId:s.id,attendeeId:_.last(s.registrants).id}}):{route:C}:-1<(d=t.lastItemWithQuestionsIdx(t.current.items))?(l=t.current.items[d],{route:k,params:{cartItemId:l.id,attendeeId:_.last(l.registrants).id}}):{route:y};case $:return!a&&i?(u=_.last(t.current.items),o=_.last(u.registrants),{route:k,params:{cartItemId:u.id,attendeeId:o.id}}):i||a?{route:S}:(r=t.itemsWithQuestions(t.current.items)).length?(c=_.last(t.itemsWithQuestions(r)),s=_.last(c.registrants),{route:k,params:{cartItemId:c.id,attendeeId:s.id}}):{route:y};case T:return{route:$};default:return}}},{key:"routeAfter",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=f.active,a=_.get(h.active.getEventStyles(),"ticketedEvent.additionalDonation",!0);switch(e){case y:return{route:w,params:{cartItemId:_.get(t,["current","items",0,"id"]),attendeeIndex:0}};case w:var i=_.parseInt(n.cartItemId),o=_.findIndex(t.stagedItems,{id:i}),r=t.current.items[o],s=t.stagedItems[o+1],i=_.findIndex(t.current.items,{id:i})<0,o=t.stagedItems[o],r=_.get(r,"registrants.length",0),l=_.get(o,"registrants.length",1);return!i&&1<l&&r!==l-1?{route:w,params:{cartItemId:o.id}}:s?{route:w,params:{cartId:t.current.id,cartItemId:s.id}}:t.current.team_name&&!t.soloEntry?{route:C}:a?{route:S}:{route:$};case k:i=_.parseInt(n.cartItemId),r=_.findIndex(t.stagedItems,{id:i}),l=t.stagedItems[r+1],o=t.stagedItems[r],s=_.get(o,"registrants.length",1),r=_.findIndex(o.registrants,function(e){return e.id==m.params.attendeeId}),o=_.get(o,["registrants",r+1],!1);return 1<s&&o.id?{route:k,params:{cartItemId:i,attendeeId:o.id}}:1<s&&!o.id&&r!=s-1?{route:w,params:{cartItemId:i}}:r==s-1&&l?{route:w,params:{cartItemId:l.id}}:t.current.team_name&&!t.soloEntry?{route:C}:a?{route:S}:{route:$};case C:return a?{route:S}:{route:$};case S:return{route:$};case $:return{route:T,params:{verify:_.get(t,"metadata.verify")}};default:return}}},{key:"isFinished",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=f.active;switch(e){case b:return!0;case y:return t.isReserved;case w:var a=_.parseInt(n.cartItemId),a=_.find(t.current.items,{id:a});return a.registrants.length==a.entries;case k:a=_.parseInt(n.cartItemId);return!!_.find(t.current.items,{id:a}).registrants.length;case C:return t.soloEntry||!t.current.team_name||t.current.team_lead_id;case S:return!0;case $:return t.isComplete;default:return}}},{key:"isActive",value:function(e){var n=f.active,t=this.routeBefore(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return!this.processing&&!(!this.isFinished(t.route,t.params)||n.isErrored&&e!==T&&e!==$)}},{key:"prev",value:function(){var e=m.current.name,n={cartItemId:_.parseInt(m.params.cartItemId)||null,attendeeId:_.parseInt(m.params.attendeeId)||null},e=this.routeBefore(e,n),n=_.get(e,"params.force",!1);this.go(e.route,e.params,n)}},{key:"next",value:function(){this.stateChangeActive=!0;var e=_.parseInt(m.params.cartItemId),e=this.routeAfter(m.current.name,e?{cartItemId:e}:{}),n=e.route;this.go(n,e.params)}},{key:"evacuate",value:function(e){var n=m.current.name,t=_.parseInt(m.params.cartItemId);return t===e?(n=this.routeAfter(n,{cartItemId:t}),_.remove(f.active.stagedItems,{id:e}),this.go(n.route,n.params,!0)):(_.remove(f.active.stagedItems,{id:e}),u.resolve())}},{key:"setLastState",value:function(){var n=f.active,t=s+"_"+n.current.campaign_id,a=m.params,i=m.current.name,o={id:n.current.id,metadata:n.metadata,lastState:{route:i,params:a}},e=l.get("registration"),e=_.get(e.get("attendeeForm"),"valid");m.is(w)&&e?this.emit("beforeChange",m.current.name,m.params,null,null).then(function(){var e=_.findIndex(n.current.items,{id:_.parseInt(m.params.cartItemId)});i=k,a.attendeeId=_.last(n.current.items[e].registrants).id,o={id:n.current.id,metadata:n.metadata,lastState:{route:i,params:a}},r(t,o,{expires:n.timeRemaining,expirationUnit:"milliseconds",path:"/"})}):r(t,o,{expires:n.timeRemaining,expirationUnit:"milliseconds",path:"/"})}},{key:"goToLastState",value:function(){var e=f.active,n=s+"_"+e.current.campaign_id,n=r(n).lastState;_.get(n,"route")?m.go(n.route,n.params):this.go(k,{attendeeId:_.get(e,"current.items[0].registrants[0].id"),cartId:e.current.id,campaignId:p.active.current.id,cartItemId:e.current.items[0].id},!0)}},{key:"go",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=(this.stateChangeActive=!0,m.current.name),o=m.current.params;return a?(m.go(e,n),this.stateChangeActive=!1,u.resolve()):this.runBeforeChangeCallbacks(i,o,e,n).then(function(e){return t.isActive(e.route,e.params)?t.runChangeCallbacks(i,o,e.route,e.params):(d.info("Aborting transition, target route is inactive"),u.reject())}).then(function(e){t.processing=!0,e.params=_.merge(t.getStandardParams(),e.params);var n=!1;0<=i.indexOf("attendee")&&0<=e.route.indexOf("attendee")&&(n=!0),m.go(e.route,e.params,{reload:n})}).finally(function(){t.processing=!1,t.stateChangeActive=!1})}},{key:"runBeforeChangeCallbacks",value:function(e,n,t,a){return this.emit("beforeChange",e,n,t,a).then(function(e){return _.isObject(e)&&e.route?e:{route:t,params:a}})}},{key:"runChangeCallbacks",value:function(e,n,t,a){return this.emit("change",e,n,t,a).then(function(e){return _.isObject(e)&&e.route?e:{route:t,params:a}})}},{key:"validate",value:function(e,n){var t=this,a=(d.info("Validating state: "+e),f.active),i=_.get(a,"current.items[0].id",null),o=p.active.HAS_FUNDRAISING;if(a.isErrored&&e!==$)return d.info("Cart is in error state and cannot be edited; redirecting to PAYMENT_ROUTE."),m.go($,n),u.reject();if(a.isComplete&&e!==T)return d.info("Cart is complete; starting over."),f.create().then(function(){return m.go(y,n)}),u.reject();if(!a.isReserved&&e!==y)return d.info("Cart is not reserved; redirecting to CAMPAIGN_ROUTE"),m.go(b,n),u.reject();switch(e){case y:var r=JSON.parse(window.localStorage.getItem("reg-cart-team"));if(r&&(a.current.team_id=r.id),a.isReserved)return r=parseInt(m.params.cartItemId,10),s=a.itemsWithQuestions(a.current.items),s=_.get(s,[0,"id"],!1),l=m.is(w)&&!_.get(a,"stagedItems[0].registrants[0].id",!1),c=m.is(k)&&_.get(m,"params.attendeeId")==a.current.items[0].registrants[0].id,(r===i||!o&&r===s)&&(l||c)?this.confirmExit(function(e){return e?("required"==p.active.current.team_membership_policy?m.go(b):(e=document.location.origin+"/event/"+g.getSlug(p.active.current.name)+"/e"+f.active.current.campaign_id+"/register/new/select-tickets",t.urlParams=v(),t.urlParams.promo&&(e+="?promo="+t.urlParams.promo),angular.element(g).off("beforeunload"),g.location.href=e),u.resolve(!0)):u.resolve(!1)}):!1===(r=o?i:s)?m.go(S,_.merge(n,{cartId:a.current.id})):(l=0===_.find(a.current.items,{id:r}).registrants.length,c=_.get(_.find(a.current.items,{id:r}),"registrants[0].id"),d.info("Cart is reserved; redirecting to "+(l?"NEW_ATTENDEE_ROUTE":"ATTENDEE_ROUTE")+" with id "+r),m.go(l?w:k,_.merge(n,{cartId:a.current.id,cartItemId:r,attendeeId:c}))),u.reject();if("required"==p.active.current.team_membership_policy){var s=p.active.current,l=JSON.parse(window.localStorage.getItem("reg-cart-team"));if(!(n.team_name||n.team_id&&l))return m.go("frs.landing.name.campaign.start-fundraising",{campaignId:s.id,eventName:n.eventName,eventType:"event",typeSlug:"e"}),u.reject();l&&(a.current.team_id=l.id,a.current.team_name=l.name)}break;case w:f.syncStagedItems();var r=parseInt(n.cartItemId,10),c=_.find(a.current.items,{id:r}),s=a.stagedItems,l=a.itemsWithQuestions(s);if(!c&&o)m.go(k,_.merge(n,{cartId:a.current.id,cartItemId:i}));else if(c||o||!l.length)if(c||o||l.length){r=a.itemHasQuestions(c),s=a.nextItemWithQuestions(s,c);if(o||r)return _.get(c,"registrants.length",0)==_.get(c,"entries",1)?(c=_.get(c,"registrants[0].id"),m.go(k,_.merge(n,{attendeeId:c})),u.reject()):u.resolve(!0);if(!r&&s)m.go(w,_.merge(n,{cartId:a.current.id,cartItemId:s.id}));else{if(s)break;m.go(S,_.merge(n,{cartId:a.current.id}))}}else m.go(S,_.merge(n,{cartId:a.current.id}));else m.go(k,_.merge(n,{cartId:a.current.id,cartItemId:l[0]}));return u.reject();case k:if(f.syncStagedItems(),_.find(a.current.items,{id:_.parseInt(n.cartItemId)}))if(this.isActive(k,n)){if(n.attendeeId)break;c=_.find(a.current.items,function(e){return e.id===_.parseInt(n.cartItemId,10)}),(r=_.last(c.registrants))?m.go(k,_.merge(n,{cartId:a.current.id,cartItemId:n.cartItemId,attendeeId:r.id})):m.go(w,n)}else m.go(k,_.merge(n,{cartId:a.current.id,cartItemId:i}));else m.go(k,_.merge(n,{cartId:a.current.id,cartItemId:i}));return u.reject();case C:if(f.syncStagedItems(),!_.every(a.current.items,function(e){return t.isFinished(w,{cartItemId:e.id})}))return m.go(k,_.merge(n,{cartId:a.current.id,cartItemId:i})),u.reject();if(!a.current.team_name||a.soloEntry)return m.go(S,_.merge(n,{cartId:a.current.id})),u.reject();break;case S:s=h.active.getEventStyles();if(!_.get(s,"ticketedEvent.additionalDonation",!0))return m.go($,n),u.reject();if(a.isReserved)return f.syncStagedItems(),u.resolve(!0);break;case $:if(a.isReserved)return f.syncStagedItems(),a.current.team_name&&!a.current.team_lead_id&&a.soloEntry?(a.current.team_lead_id=a.current.items[0].registrants[0].id,a.saveCart()):u.resolve(!0);break;default:if(!a.isReserved)return d.info("Cart is not reserved; redirecting to TICKETS_ROUTE"),m.go(y,n),u.reject()}return u.resolve(!0)}},{key:"validateExit",value:function(){var e=f.active,n=l.get("registration");return(m.is(k)||m.is(w))&&e.isReserved?_.get(n.get("attendeeForm"),"valid"):!m.includes(a)||m.is(T)||e.isReserved||e.isPristine}},{key:"confirmExit",value:function(e){var n=this,t=i.$new(),a=(t.isReserved=f.active.isReserved,t.handleExit=function(){f.create().then(function(){o.close(),e(!0)})},t.handleCancel=function(){o.close(),e(!1)},t.primaryColor=h.active.current.styles.primaryColor,{animate:!1,onClose:function(){t.$destroy(),n.modalOpen=!1}});this.modalOpen||(this.modalOpen=!0,o.open({id:"rwf_exit_confirmation",context:t,template:'\n            <exit-cart-modal\n              is-reserved="isReserved"\n              exit-action="handleExit()"\n              stay-action="handleCancel()"\n              primary-color="primaryColor">\n            </exit-cart-modal>\n          '},a))}},{key:"confirmUnload",value:function(e){var n="\n          Your cart is not yet reserved! Are you sure you'd like to leave?\n        ";return e.returnValue=n}}]),new n}])})(),angular.module("classy").value("registrationRoutes",{CAMPAIGN_ROUTE:"frs.landing.name.campaign",BASE_ROUTE:"frs.landing.name.campaign.registration",TICKETS_ROUTE:"frs.landing.name.campaign.registration.new.tickets",NEW_ATTENDEE_ROUTE:"frs.landing.name.campaign.registration.existing.attendee.new",ATTENDEE_ROUTE:"frs.landing.name.campaign.registration.existing.attendee.existing",CAPTAIN_ROUTE:"frs.landing.name.campaign.registration.existing.captain",DONATION_ROUTE:"frs.landing.name.campaign.registration.existing.donation",PAYMENT_ROUTE:"frs.landing.name.campaign.registration.existing.payment",RECEIPT_ROUTE:"frs.landing.name.campaign.registration.existing.receipt"}),(()=>{function e(e,a,i,o,n,r,s,l,c){this.checkStatus=function(){var n=this,t=o.defer();return i(function(){Classy&&Classy.ready(function(){Classy.status(function(e){(n.status=e).is_logged_in&&_.get(r,"active.current.id",!1)!==e.id?s.stealthLogin().then(function(){return t.resolve()}):(0<!_.isEmpty(SC.member)&&!e.is_logged_in&&n.logout(),$(".login-link").removeClass("hidden"),t.resolve())})})}),t.promise},this.logout=function(n){var e,t=this;!0===c("ucl")?(e=""+(a.location.origin||"")+(SC.classyLogin.prefix||"")+"/logout",this.redirectAfterLogout(n,e)):Classy.logout(function(){var e=""+(SC.sso.url||"")+(SC.sso.prefix||"")+"/logout";t.redirectAfterLogout(n,e)})},this.redirectAfterLogout=function(n,t){e({method:"POST",url:"/frs-api/logout"}).finally(function(){l.identifyMember(!1);var e=t;e+=n?"?r="+n:"?r="+a.location.href,a.location.href=e})},this.login=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n("login",e.callback,e.exitModal)},this.loginOnly=function(){n("login_only",(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).callback)},this.resetPasswordByLink=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(function(){Classy.ready(function(){n("reset_password_by_link",e.callback)})})},this.signup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n("signup",e.callback,e.exitModal)}}e.$inject=["$http","$window","$timeout","$q","authFlow","scMembersService","scSsoService","scAnalytics","ipCookie"],angular.module("classy").service("scAuth",e)})(),angular.module("classy").component("cpAchWidget",{template:'\n       <div class="payment-ach-widget donation-table_columns">\n        <div class="donation-table_column half">\n          <input\n            data-tracked-element="donation-page_checkout_routing-number-input" \n            ng-model="$ctrl.payment.routingNumber"\n            type="text" \n            name="routingNumber" \n            placeholder="ABA/Routing number" \n            aria-labelledby="bank-account-routing-label"\n            class="routing-number-input"\n            minlength="9"\n            maxlength="9"\n            data-sc-form-error="highlight if routingNumber fails"\n            data-sc-retain-focus-validity\n            ng-mouseover="$ctrl.routingNumberHover=true"\n            ng-mouseleave="$ctrl.routingNumberHover=false"\n            ng-focus="$ctrl.routingNumberFocus=true"\n            ng-blur="$ctrl.routingNumberFocus=false"\n            required\n          />\n          <p class="form__error" data-sc-form-error="show if routingNumber fails minlength" aria-live="polite">Routing number must be 9 digits long.</p>\n          <p class="form__error" data-sc-form-error="show if routingNumber fails required" aria-live="polite">Routing number is required.</p>\n        </div>\n        <div class="donation-table_column half">\n          <cp-ach-tokenizer\n            ng-model="$ctrl.payment.accountNumber"\n            sc-validity-reporter="accountNumber"\n            on-focus="$ctrl.onAccountNumberFocus"\n            name="accountNumber"\n            required\n            ng-mouseover="$ctrl.accountNumberHover=true"\n            ng-mouseleave="$ctrl.accountNumberHover=false"\n            on-token="$ctrl.handleToken(token)"\n          ></cp-ach-tokenizer>\n        </div>\n       </div>\n       <div class="account-routing-help-image-container donation-table_columns">\n        <div class="donation-table_column mobile-large-half">\n          <p>ABA/Routing and account numbers can be located at the bottom left of a check from your bank.</p>\n        </div>\n        <div class="donation-table_column mobile-large-half">\n          <img ng-show="$ctrl.show.checkDefault()" ng-src="/static/global/images/payments/check-default.svg" height="38" alt="Image of the bottom of a check"/>\n          <img ng-show="$ctrl.show.checkRouting()" ng-src="/static/global/images/payments/check-routing.svg" height="38" alt="Image of the bottom of a check with Routing Number highlighed"/>\n          <img ng-show="$ctrl.show.checkAccount()" ng-src="/static/global/images/payments/check-account.svg" height="38" alt="Image of the bottom of a check with Account Number highlighed"/>\n        </div> \n       </div>\n       \n      ',bindings:{payment:"<",onToken:"&"},controller:["scThemesService",function(e){var n=this;this.routingNumberHover=!1,this.accountNumberHover=!1,this.routingNumberFocus=!1,this.accountNumberFocus=!1,this.$onInit=function(){n.showManualACH=!1,n.primaryColor=e.active.current.styles.primaryColor},this.handleToken=function(e){this.onToken(e)},this.onAccountNumberFocus=function(e){n.accountNumberFocus=e},this.show={checkDefault:function(){return!(n.routingNumberHover||n.accountNumberHover||n.routingNumberFocus||n.accountNumberFocus)},checkRouting:function(){return(n.routingNumberHover||n.routingNumberFocus)&&!n.accountNumberHover},checkAccount:function(){return(n.accountNumberHover||n.accountNumberFocus)&&!n.routingNumberHover}}}]}),angular.module("classy").component("cpCreditCardWidget",{template:'\n      <div class="cp-credit-card"\n      ng-class="{ \'details-mode\': $ctrl.mode === \'details\', \'details-mode-visited\': $ctrl.modeChanged, \'loaded\': $ctrl.loaded, \'has-postal\': !$ctrl.hidePostal, \'is-amex\': $ctrl.payment.brand === \'americanExpress\' }">\n\n        <form-label \n          ng-hide="$ctrl.hideLabel"\n          required="true"\n          _spec="label"\n        >{{:: $ctrl.label }}</form-label>\n\n        <ng-form name="$ctrl.form"\n        sc-validity-reporter="$ctrl.formName" class="cp-credit-card-form">\n\n          <div class="cp-credit-card__frame"\n          ng-class="{ error: $ctrl.numberInvalid }"\n          _spec="frame">\n\n            <div class="cp-credit-card__carousel">\n\n              <div class="cp-credit-card__number">\n                <div class="donation-label required">Card Number</div>\n                <div id="cc-entry-el" class="sr-only" tabindex="-1" aria-hidden="true">tab to enter credit card field</div>\n\n                <cp-tokenizer-control\n                ng-model="$ctrl.payment.token"\n                cmd-event="\'tokenizer\'"\n                on-valid="$ctrl.handleValidCard(brand, lastFour)"\n                on-token="$ctrl.handleToken(token)"\n                on-reset="$ctrl.handleReset()"\n                name="token"\n                card-brand="$ctrl.payment.brand"\n                sc-autofocus="1"\n                sc-validity-reporter\n                required>\n                </cp-tokenizer-control>\n\n              </div>\n\n              <div class="cp-credit-card__details">\n\n                <button class="cp-credit-card__go-to-number"\n                ng-click="$ctrl.userChangeMode(\'number\')"\n                type="button"\n                aria-label="go back to {{ $ctrl.payment.brand }} payment card number field for payment">\n\n                  \x3c!-- Brand icon --\x3e\n                  <span class="cp-credit-card__brand"\n                  ng-bind-html="$ctrl.brandIcon()"></span>\n\n                  \x3c!-- Last four --\x3e\n                  <span class="cp-credit-card__last-four">\n                    {{ $ctrl.payment.lastFour || \'1234\' }}\n                  </span>\n\n                </button>\n\n                <span class="sr-only" \n                aria-label="your current payment card brand is {{ $ctrl.payment.brand }} with the last four digits {{ $ctrl.payment.lastFour }}" \n                aria-live="polite"></span>\n\n              </div>\n            </div>\n          </div>\n          <div class="cp-credit-card-field-box" ng-class="{ error: $ctrl.expirationDateInvalid }">\n            <span class="donation-label required">Expiration Date</span>\n            <div class="cp-credit-card-field"\n              ng-class="{errorField: $ctrl.expirationDateInvalid}">\n              \x3c!-- Expiration month --\x3e\n              <input class="cp-credit-card__month"\n              ng-model="$ctrl.payment.expirationMonth"\n              sc-validity-reporter\n              sc-pattern="^(0[1-9]|1[0-2])$"\n              sc-restrict-input="^(0[1-9]?|1[0-2]?)$"\n              cp-validate-expiration="$ctrl.payment"\n              placeholder="MM"\n              name="expirationMonth"\n              sc-autofocus="2"\n              aria-label="please enter your payment card expiration month"\n              autocomplete = "cc-exp-month"\n              required />\n\n              \x3c!-- Expiration slash --\x3e\n              <span class="cp-credit-card__slash">/</span>\n\n              \x3c!-- Expiration year --\x3e\n              <input class="cp-credit-card__year"\n              ng-model="$ctrl.payment.expirationYear"\n              sc-validity-reporter\n              sc-pattern="^[0-9]{2}$"\n              sc-restrict-input="^[0-9]{0,2}$"\n              cp-validate-expiration="$ctrl.payment"\n              sc-autofocus="3"\n              placeholder="YY"\n              name="expirationYear"\n              aria-label="please enter the last 2 digits of your payment card expiration year"\n              autocomplete="cc-exp-year"\n              required />\n            </div>\n          </div>\n          <div class="cp-credit-card-field-box" ng-class="{ error: $ctrl.securityCodeInvalid }">\n            \x3c!-- Security code --\x3e\n            <span class="donation-label required">Security code</span>\n            <div class="cp-credit-card-field" ng-class="{errorField: $ctrl.securityCodeInvalid}">\n              <input class="cp-credit-card__security-code"\n              ng-model="$ctrl.payment.securityCode"\n              sc-pattern="{{ $ctrl.codePattern() }}"\n              sc-restrict-input="^[0-9]{0,4}$"\n              sc-validity-reporter\n              placeholder="{{ $ctrl.codeName() }}"\n              name="securityCode"\n              aria-label="please enter your payment card security code"\n              autocomplete="cc-csc"\n              sc-autofocus="4"\n              required />\n            </div>\n          </div>\n          <div class="cp-credit-card-field-box" ng-if="!$ctrl.hidePostal" ng-class="{ error: $ctrl.postalOrZipInvalid }">\n            \x3c!-- Postal code --\x3e\n            <span class="donation-label required">Postal code</span>\n            <div class="cp-credit-card-field" ng-class="{errorField: $ctrl.postalOrZipInvalid}">\n              <input class="cp-credit-card__postal-code"\n              ng-model="$ctrl.payment.postalCode"\n              ng-if="!$ctrl.hidePostal"\n              sc-validity-reporter\n              ng-minlength="2"\n              ng-maxlength="10"\n              placeholder="{{ $ctrl.zipName() }}"\n              name="postalCode"\n              aria-label="please enter your payment card postal code"\n              autocomplete="postal-code"\n              sc-autofocus="5"\n              required />\n            </div>\n          </div>\n        </ng-form>\n\n        <p class="form__error" ng-if="$ctrl.errorVisible" aria-live="polite" ng-bind="$ctrl.errorMessage">\n        </p>\n\n      </div>\n    ',bindings:{onToken:"&",onCard:"&",payment:"<",label:"<?",primaryColor:"<?",hidePostal:"<?",hideLabel:"<"},controller:["$sce","$scope","$rootScope","$templateCache","$timeout","scDigitalWalletsService","scFeeOnTopService",function(n,e,t,a,i,o,r){var s=this;this.$onInit=function(){this.label=this.label||"Card number",this.mode="number",this.modeChanged=!1,this.formName="cpCreditCardWidget",this.numberInvalid=!1,this.detailsInvalid=!1,this.expirationDateInvalid=!1,this.securityCodeInvalid=!1,this.postalOrZipInvalid=!1,this.errorVisible=!1,e.$on("scValidity.update",function(e,n,t){n===this.formName&&(this.errorVisible=!1,this.errorMessage="",this.numberInvalid=!1,this.detailsInvalid=!1,this.expirationDateInvalid=!1,this.securityCodeInvalid=!1,this.postalOrZipInvalid=!1,this.shouldShowErrorMessage(t))&&(n=t.error,this.errorVisible=!0,_.size(n.token)||!this.payment.lastFour?(this.numberInvalid=!0,this.errorMessage="Please enter a valid credit card number.",this.changeMode("number",!1)):(this.detailsInvalid=!0,_.get(n,"expirationMonth.required")&&_.get(n,"expirationYear.required")?(this.errorMessage="Please enter an expiration date.",this.expirationDateInvalid=!0):_.get(n,"expirationMonth.scPattern")||_.get(n,"expirationYear.scPattern")?(this.errorMessage="Please enter in MM/YY format.",this.expirationDateInvalid=!0):_.get(n,"expirationMonth.cpExpirationDate")||_.get(n,"expirationYear.cpExpirationDate")?(this.errorMessage="Please enter a valid expiration date.",this.expirationDateInvalid=!0):_.size(n.securityCode)?(this.errorMessage="Please enter a valid security code.",this.securityCodeInvalid=!0):_.get(n,"postalCode.required")?("US"===this.payment.country?this.errorMessage="Please enter a zip code.":this.errorMessage="Please enter a postal code.",this.postalOrZipInvalid=!0):(_.get(n,"postalCode.minlength")||_.get(n,"postalCode.maxlength"))&&(this.errorMessage="Please enter between 2 and 10 characters.",this.postalOrZipInvalid=!0)))}.bind(this))},this.handleValidCard=function(e,n){this.payment.brand=e,this.payment.isAmex="americanExpress"===e,r.setAmex(this.payment.isAmex),t.$broadcast("donationPage:recalculateFees"),this.payment.lastFour=n,!this.modeChanged&&this.form&&(this.form.token.$blur(),e)&&(this.modeChanged=!0,this.form.$autofocus("expirationMonth")),this.onCard({brand:e,lastFour:n})},this.handleToken=function(e){this.onToken(e)},this.changeMode=function(e,n){var t=this;this.mode=e,n&&i("details"===e?function(){t.modeChanged=!0,t.form.$autofocus("expirationMonth")}:function(){t.form.$autofocus("token")},400)},this.handleReset=function(){this.modeChanged=!1,this.errorVisible=!1,this.errorMessage="",this.numberInvalid=!1,this.detailsInvalid=!1,this.expirationDateInvalid=!1,this.securityCodeInvalid=!1,this.postalOrZipInvalid=!1,r.setAmex(!1)},this.brandIcon=function(){var e=void 0;switch(this.payment.brand){case"visa":e=a.get("global/classy-pay/svg/visa");break;case"americanExpress":e=a.get("global/classy-pay/svg/amex");break;case"discover":e=a.get("global/classy-pay/svg/discover");break;case"masterCard":e=a.get("global/classy-pay/svg/mastercard");break;case"diners":e=a.get("global/classy-pay/svg/diners-club");break;default:e="<i class='cp-credit-card__brand-icon ci ci-credit-card'></i>"}return n.trustAsHtml(e)},this.codeName=function(){switch(this.payment.brand){case"masterCard":case"maestro":return"CVC";case"americanExpress":case"discover":return"CID";default:return"CVV"}},this.codePattern=function(){return"americanExpress"!==this.payment.brand?"^[0-9]{3}$":"^[0-9]{4}$"},this.zipName=function(){return"US"===this.payment.country?"Zip":"Postal"},e.$watch(function(){return s.payment.country},function(){s.form.$scValidityReporter.update()}),this.shouldShowErrorMessage=function(t){if(o.isDigitalWalletSubmission)return!1;var e=Object.keys(t.error);if(e.length!==this.form.$$controls.length)return!1;var n=e.reduce(function(e,n){return _.isEmpty(t.error[n])?e:[].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(e),[n])},[]);if(!n.length)return!1;if(t.uiValid&&n.length>=e.length-1)return!1;for(var a=0;a<e.length;a+=1){var i=e[a],i=_.get(this.form,"["+i+"].$$element");if(i&&i.is(":focus"))return!1}return!0}}]}),angular.module("classy").component("cpPaymentDetails",{template:'\n  <div class="donation-table payment-details">\n    <div class="donation-table_label" data-ng-hide="$ctrl.show.cc()">\n      <span class="donation-label required"  data-ng-if="$ctrl.paymentMethod === \'PayPal_Commerce\' && $ctrl.payment.paypal_commerce.status === \'success\' || $ctrl.paymentMethod === \'PayPal\'">\n        PayPal Account\n      </span>\n\n      <span class="donation-label required" data-ng-if="$ctrl.paymentMethod === \'Venmo\' && $ctrl.payment.venmo.status === \'success\' ">\n        Venmo Account\n      </span>\n\n      <div data-ng-if="$ctrl.show.stripe()">\n        <span class="donation-label required">Card Number</span>\n        <div id="cc-entry-el" class="sr-only" tabindex="-1" aria-hidden="true">tab to enter credit card field</div>\n      </div>\n      \n      <div data-ng-if="$ctrl.show.accountRouting()">\n        <span class="donation-label required" >\n          Bank routing & account number\n        </span>\n        <div id="ach-entry-el" class="sr-only" tabindex="-1" aria-hidden="true">tab to enter bank routing and account number fields</div>\n      </div>\n    \n      <span class="donation-label required" data-ng-if="$ctrl.paymentMethod === \'ACH\' && !$ctrl.show.accountRouting()">\n        Bank Account\n      </span>\n    </div>\n    <div class="donation-table_row">\n      <div class="donation-table_columns">\n          <div class="donation-table_column">\n            <div class="cp-payment-widget">\n              <cp-credit-card-widget\n                data-ng-if="$ctrl.show.cc()"\n                payment="$ctrl.payment.cc"\n                on-token="$ctrl.onToken({token})"\n                on-card="$ctrl.onCard({brand, lastFour})"\n                primary-color="$ctrl.primaryColor"\n                hide-postal="$ctrl.hidePostal"\n                hide-label="true"\n              ></cp-credit-card-widget>\n  \n              <cp-stripe-widget\n                class="donation-table_column mobile-large-half"\n                data-ng-if="$ctrl.show.stripe()"\n                model="$ctrl.payment.stripe"\n                card-error-class-name="donation-error"\n                input-class-name="donation-text_input"\n                hide-postal="$ctrl.hidePostal"\n                currency="$ctrl.currency"\n              ></cp-stripe-widget>\n            </div>\n              <cp-ach-widget \n                  data-ng-hide="$ctrl.show.cc() || $ctrl.show.stripe()"\n                  data-ng-if="$ctrl.show.accountRouting()"\n                  payment="$ctrl.payment.ach"\n                  on-token="$ctrl.onToken({token})"\n              ></cp-ach-widget>\n              <div ng-hide="$ctrl.show.accountRouting() || $ctrl.show.cc() || $ctrl.show.stripe()">{{$ctrl.details}} <span class="payment-details-change" ng-click="$ctrl.changeAccount($ctrl.paymentMethod)" ng-show="!$ctrl.waitingChange && !$ctrl.paymentMethod === \'PayPal_Commerce\'">change</span></div>\n              <div class="payment-details-openModal" ng-show="$ctrl.waitingChange && $ctrl.changeAccountTo === \'PayPal\'" ng-click="$ctrl.openModal()">Connect to PayPal</div>\n              <div class="payment-details-openModal" ng-show="$ctrl.waitingChange && $ctrl.changeAccountTo === \'ACH\'" ng-click="$ctrl.openModal()">Link to Bank Account</div>\n        </div>\n      </div>\n    </div>\n  </div>\n',bindings:{label:"<",show:"<",details:"=",paymentMethod:"<",payment:"<",onToken:"&",onCard:"&",primaryColor:"<",hidePostal:"<",currency:"<"},controller:["$rootScope",function(e){var n=this;this.$onChanges=function(e){e=e.paymentMethod;e&&e.currentValue&&(n.waitingChange=!1)},this.changeAccount=function(e){n.details="",n.waitingChange=!0,n.changeAccountTo=e},this.openModal=function(){n.waitingChange=!1,e.$broadcast("openPaymentModal",n.paymentMethod)}}]}),(()=>{function m(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").component("cpDigitalWallets",{template:'<div ng-if="$ctrl.showDigitalWallets">\n              <button type="button"\n                      aria-label="Donate With {{$ctrl.payType}}"\n                      role="link" \n                      class="digital-wallets-btn {{$ctrl.payType | lowercase | scSlugify}}" \n                      data-tracked-element="donation-page_checkout_digital-wallet"\n                      ng-click="$ctrl.openDWModal()"\n                      data-id="{{$ctrl.dataId}}">\n                      <img ng-src="{{$ctrl.payLogo}}" alt="{{$ctrl.payType}}"/>\n              </button>\n            </div>',bindings:{frequency:"<",amount:"<",fot:"<",classyMode:"<",currency:"<",submit:"<",payType:"=",validateForm:"&"},controller:["scDigitalWalletsService","scThemesService","scCurrencyService","scCampaignsService","scAnalytics","$window","$q","$http","cpAPI","cpConstants",function(t,e,n,a,i,o,r,s,l,c){var d=this,e=(this.showDigitalWallets=!1,this.payLogo="",this.payType="",this.dataId="",e.active.current),u=(this.useAnotherPaymentBtnStyle={color:e.styles.primaryColor,border:"2px solid "+e.styles.primaryColor},this._requestIdx=this._requestIdx||0,0);this._updatePaymentRequest=function(e){d._requestIdx+=1;var n=d._requestIdx;t.updatePaymentRequest(e).then(function(){n<d._requestIdx&&u<n&&n===d._requestIdx-1&&d._updatePaymentRequest(e),n===d._requestIdx&&(u=n)})},this.$onInit=function(){d.currency=d.currency||n.getDefaultCurrency(),d.amount=d.amount||0,d.classyMode=d.classyMode||a.active.current.classy_mode_enabled,t.setIsLoaded(!1)},this.$onChanges=m(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(d.amount))return e.abrupt("return");e.next=2;break;case 2:return e.next=4,d.initDW();case 4:t.isLoaded&&0!==d.amount&&(n={amount:d.amount,frequency:d.frequency,currency:d.currency,fot:d.fot,classyMode:d.classyMode,submit:d.submit},d._updatePaymentRequest(n));case 5:case"end":return e.stop()}},e,d)})),this.digitalWalletsEnabled=m(regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.PAYMENT_METHODS,e.next=3,d.getProcessors();case 3:return t=e.sent,e.abrupt("return",n.DW in t);case 5:case"end":return e.stop()}},e,d)})),this.getProcessors=function(){return o.SC.processors?r.resolve(o.SC.processors):s.get("/frs-api/pay/processors?appId="+l.getApplicationId()).then(function(e){return e.data})},this.showDigitalWalletsListener=function(e){(d.showDigitalWallets=e)&&(d.determineLogo(t.isApplePay),d.setDataId())},this.setDataId=function(){switch(d.payType){case"Apple Pay":d.dataId="paymethod-applepay";break;case"Google Pay":d.dataId="paymethod-googlepay";break;case"Microsoft Pay":d.dataId="paymethod-microsoftpay";break;default:d.dataId=""}},this.initDW=m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.digitalWalletsEnabled();case 2:e.sent?(t.initDigitalWallets({currency:d.currency,frequency:d.frequency,amount:d.amount,fot:d.fot,classyMode:d.classyMode,submit:d.submit}),e.next=8):e.next=6;break;case 6:i.track("dw_loaded",{digitalWalletsLoaded:!1}),t.showDigitalWallets(!1);case 8:case"end":return e.stop()}},e,d)})),t.addShowDigitalWalletsListener(this.showDigitalWalletsListener),this.determineLogo=function(e){var n=-1!==navigator.userAgent.indexOf("Chrome"),t=-1!==navigator.userAgent.indexOf("Edg");n&&(d.payLogo="/static/global/images/digitalWallets/GooglePay-logo.svg",d.payType="Google Pay"),t&&(d.payLogo="/static/global/images/digitalWallets/MicrosoftPay-logo.svg",d.payType="Microsoft Pay"),e&&(d.payLogo="/static/global/images/digitalWallets/ApplePay-logo.svg",d.payType="Apple Pay")},this.openDWModal=function(){d.validateForm()&&t.openDWModal()}}]})})(),angular.module("classy").component("cpPaymentMethodControl",{template:'\n      <div class="cp-payment-method">\n        <div\n          class="cp-payment-method__selected"\n          type="button"\n        >\n\n          <div class="cp-payment-method__selected-option">\n\n            <div class="cp-payment-method__selected-figure">\n              <i class="cp-payment-method__selected-icon {{ $ctrl.getConfigAttr(\'icon\') }}"></i>\n            </div>\n\n            <div class="cp-payment-method__selected-content">\n\n              <div>\n                <span class="cp-payment-method__selected-title">\n                  {{ $ctrl.getConfigAttr(\'title\') }}\n                </span>\n                \n                <span class="cp-payment-method__selected-info">\n                  {{ $ctrl.getConfigAttr(\'selectedText\') }}\n                </span>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    ',bindings:{freeTransact:"<?",paymentMethod:"<"},controller:function(){this.config={CC:{icon:"ci ci-credit-card",title:"Credit card",selectedText:"You're paying with a credit card",optionText:"Pay with your card"},ACH:{icon:"ci ci-bank",title:"Link a bank",selectedText:"You're paying via eCheck",optionText:"Pay via eCheck"},PayPal:{icon:"ci ci-paypal",title:"PayPal",selectedText:"You're paying via PayPal",optionText:"Sign in to your account"},free:{icon:"ci ci-support_real-people",title:"Free transaction",selectedText:"This transaction is 100% free of charge",optionText:"Free transaction"}},this.getConfigAttr=function(e){return this.freeTransact?this.config.free[e]:_.get(this.config,[this.paymentMethod,e],this.config.CC[e])}}}),angular.module("classy").component("cpCartPaymentWidget",{template:'\n    <div class="cp-payment-widget">\n      <cp-credit-card-widget\n        data-ng-if="$ctrl.show.cc()"\n        payment="$ctrl.payment.cc"\n        on-token="$ctrl.handleTokenexToken(token)"\n        on-card="$ctrl.handleTokenexCard(brand, lastFour)"\n        primary-color="$ctrl.theme.current.styles.primaryColor"\n        hide-postal="$ctrl.hidePostal"\n        hide-label="true"\n      ></cp-credit-card-widget>\n\n      <cp-stripe-widget\n        ng-class="{\'donation-table_column mobile-large-half\' : $ctrl.isDonationCheckoutPage } "\n        data-ng-if="$ctrl.show.stripe()"\n        model="$ctrl.payment.stripe"\n        card-error-class-name="donation-error"\n        input-class-name="donation-text_input"\n        hide-postal="$ctrl.hidePostal"\n        currency="$ctrl.currency"\n      ></cp-stripe-widget>\n\n      <div ng-hide="$ctrl.payment.ach.status === \'success\' || $ctrl.payment.paypal.status === \'success\' || (!$ctrl.show.paypal() && !$ctrl.show.ach())"\n        class="cp-payment-widget__payment-option-text">\n        Or select another payment option:\n      </div>\n      \n      <div\n        class="cp-payment-widget__alternates"\n        ng-if="$ctrl.show.paypal() || $ctrl.show.ach()"\n        ng-class="{ \'logged-in\': $ctrl.loggedIn()  }">\n\n        <cp-plaid-widget\n          data-ng-if="$ctrl.show.ach()"\n          model="$ctrl.payment.ach"\n          sc-validity-reporter\n          ng-model="$ctrl.payment.ach.status"\n          on-ready="$ctrl.onAchReady()"\n          on-success="$ctrl.onAchSuccess()"\n          on-cancel="$ctrl.onAchCancel()"\n          currency="$ctrl.currency"\n        ></cp-plaid-widget>\n        \n        <cp-cart-paypal-widget\n          data-ng-if="$ctrl.show.paypal()"\n          model="$ctrl.payment.paypal"\n          sc-validity-reporter\n          ng-model="$ctrl.payment.paypal.status"\n          on-ready="$ctrl.onPaypalReady()"\n          on-success="$ctrl.onPaypalSuccess(params)"\n          on-cancel="$ctrl.onPaypalCancel()"\n          currency="$ctrl.currency"\n        ></cp-paypal-widget>\n      </div>\n    </div>\n  ',bindings:{payment:"<",parentModel:"<",api:"=",hidePostal:"<",disabledPaymentMethods:"<",currency:"<"},controller:["$window","$q","$rootScope","$scope","$timeout","$http","$state","scThemesService","cpConstants","cpAPI",function(e,n,a,t,i,o,r,s,l,c){var d=this,u=(this.getPaymentMethodStatus=function(e,n){return e[n]&&!d.disabledPaymentMethods.includes(n)?u.READY:u.INACTIVE},l.STATUS),m=l.EVENTS,g=l.PAYMENT_METHODS;this.eventCallbacks={},this.theme=s.active.current,this.STATUS=u,this.PAYMENT_METHODS=g,this.EVENTS=m,this.paymentTypeInitStatus=function(e){return _.get(d.payment,e+".status")||u.INACTIVE},this.$onInit=function(){d.api=d.api||{},d.parentModel=d.parentModel||{},d.disabledPaymentMethods=d.disabledPaymentMethods||[],d.isDonationCheckoutPage=!!r.current.name.includes("frs.donation.checkout"),d.api.setModelPayment=d.setModelPayment.bind(d),d.api.getPaymentLabel=d.getPaymentLabel.bind(d),d.api.reloadTokenexIframe=d.reloadTokenexIframe.bind(d),d.api.getPaymentMethod=d.getPaymentMethod.bind(d),d.api.setModelPaymentMethodGateway=d.setModelPaymentMethodGateway.bind(d),d.getProcessors().then(function(e){d.processors=e,d.isPaypalReady=null!==_.get(d.payment.paypal,"status",null),d.initPaymentMethodStatuses(d.isPaypalReady)})},this.setModelPaymentMethodGateway=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?g.STRIPE:d.getPaymentMethod();return d.payment.method=e,d.payment.gateway=d.processors[e],e},this.setModelPayment=function(){var e=void 0;switch(d.setModelPaymentMethodGateway()){case g.CC:e=d.getTokenexToken();break;case g.STRIPE:e=d.payment.stripe.getSource();break;case g.ACH:case g.PAYPAL:e=n.resolve();break;default:return n.reject(new Error("invalid payment method"))}return e},this.getPaymentLabel=function(){switch(d.getPaymentMethod()){case g.STRIPE:case g.CC:return"Card Number";case g.ACH:return"Bank Info";case g.PAYPAL:return"PayPal Account";default:return"Payment"}},this.getProcessors=function(){return e.SC.processors?n.resolve(e.SC.processors):o.get("/frs-api/pay/processors?appId="+c.getApplicationId()).then(function(e){return e.data})},this.reloadTokenexIframe=function(){a.$broadcast("tokenizer","reset")},this.initPaymentMethodStatuses=function(n){i(function(){n&&d.payment.paypal.status!==u.PENDING||(d.payment.paypal={status:d.getPaymentMethodStatus(d.processors,g.PAYPAL)}),d.payment.ach={status:d.getPaymentMethodStatus(d.processors,g.ACH)},d.payment.stripe=Object.assign(d.payment.stripe||{},{status:d.getPaymentMethodStatus(d.processors,g.STRIPE)}),d.payment.cc={status:d.getPaymentMethodStatus(d.processors,g.CC)};var e=d.getPaymentMethod();d.api.recalculateFees(e,d.processors[e].name)})},this.getPaymentMethod=function(){return d.paymentTypeInitStatus("paypal")===u.SUCCESS?g.PAYPAL:d.paymentTypeInitStatus("ach")===u.SUCCESS?g.ACH:d.show.stripe()?g.STRIPE:g.CC},this.show={cc:function(){var e=_.get(d.processors,[g.STRIPE,"currency"]),n=_.get(d.processors,[g.CC,"currency"]);return d.paymentTypeInitStatus("cc")===u.READY&&d.currency!==e&&(d.currency===n||d.paymentTypeInitStatus("stripe")!==u.READY)},stripe:function(){var e=_.get(d.processors,[g.STRIPE,"currency"]),n=_.get(d.processors,[g.CC,"currency"]);return d.paymentTypeInitStatus("stripe")===u.READY&&(d.currency===e||d.currency!==n)},ach:function(){return[u.SUCCESS,u.READY].includes(d.paymentTypeInitStatus("ach"))},paypal:function(){return[u.SUCCESS,u.READY].includes(d.paymentTypeInitStatus("paypal"))},or:function(){return[d.paymentTypeInitStatus("paypal"),d.paymentTypeInitStatus("ach")].includes(u.READY)}},this.loggedIn=function(){return[d.paymentTypeInitStatus("paypal"),d.paymentTypeInitStatus("ach")].includes(u.SUCCESS)},this.getRelevantCurrency=function(){return d.meta.unsupportedTaxCompliance?_.get(d.meta,"estimatedCharge.currency",!1):d.payment.raw_currency_code},this.on=function(e,n){var t=_.get(d.eventCallbacks,e,[]);t.push(n),_.set(d.eventCallbacks,e,t)},this.once=function(e,n){n.once=!0,d.on(e,n)},this.emit=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];console.log(n),i(function(){var e=_.get(d.eventCallbacks,n,[]);_.forEach(e,function(e){return e.apply(void 0,t)}),_.remove(e,"once")})},this.handleTokenexCard=function(e,n){d.payment.cc=d.payment.cc||{},d.payment.cc.card_type=e,d.payment.cc.card_last_four=n,a.$broadcast("cart:setIsAmex","americanExpress"===e)},this.handleTokenexToken=function(e){this.activeSubmit.resolve(e)},this.getTokenexToken=function(){return d.activeSubmit=n.defer(),a.$broadcast("tokenizer","tokenize"),d.activeSubmit.promise.catch(function(e){return a.SC.status.banner={type:"error",msg:"Please check your payment information and try again.",timeout:!1},n.reject(e)})},this.reloadTokenexIframe=function(){a.$broadcast("tokenizer","reset"),d.initPaymentMethodStatuses()},this.onAchReady=function(){console.log("ACH Ready"),d.payment.paypal.status=u.READY},this.onAchSuccess=function(){i(function(){console.log("ACH Success"),a.$broadcast("checkPaymentAuthStatus",!0),d.payment.paypal.status=u.PENDING,d.payment.cc.status=u.PENDING,d.payment.stripe.status=u.PENDING})},this.onAchCancel=function(){console.log("ACH Cancel"),a.$broadcast("checkPaymentAuthStatus",!1),d.initPaymentMethodStatuses()},this.onPaypalReady=function(){console.log("PayPal Ready"),d.payment.paypal.status=u.READY},this.onPaypalSuccess=function(t){i(function(){console.log("PayPal Success"),a.$broadcast("checkPaymentAuthStatus",!0),d.payment.ach.status=u.PENDING,d.payment.cc.status=u.PENDING,d.payment.stripe.status=u.PENDING,Object.assign(d.payment.paypal,t.details),d.parentModel&&_.forEach({billing_first_name:"firstName",billing_last_name:"lastName",billing_address1:"billingAddress.streetAddress",billing_address2:"billingAddress.extendedAddress",billing_postal_code:"billingAddress.postalCode",billing_city:"billingAddress.locality",billing_state:"billingAddress.region",billing_country:"countryCode",member_email_address:"email"},function(e,n){d.parentModel[n]||(d.parentModel[n]=_.get(t.details,e))}),d.api.recalculateFees("PayPal",d.processors.PayPal.name,!1)})},this.onPaypalCancel=function(){console.log("PayPal Cancel"),a.$broadcast("checkPaymentAuthStatus",!1),d.initPaymentMethodStatuses()},t.$on("donationRawCurrencyChange",function(){_.get(d.payment.paypal,"status",null)!==u.READY&&(d.isPaypalReady=!0,d.initPaymentMethodStatuses(d.isPaypalReady))})}]}),angular.module("classy").component("cpPaymentWidget",{template:'\n  <div class="donation-payment-method-select row" ng-hide="$ctrl.hideButtons"> \n    <div class="eg-payment-button-mask" data-ng-show="!$ctrl.arePaymentButtonEnabled"></div>\n    <div class="column-md-7">\n      <summary-amount \n      amount="$ctrl.meta.summaryAmount"\n      recur_until="$ctrl.parentModel.recur_until"\n      feeprocessing="$ctrl.feeProcessing" \n      frequency="$ctrl.parentModel.frequency" \n      taxcompliance="$ctrl.meta.unsupportedTaxCompliance"\n      currency="$ctrl.parentModel.payment.raw_currency_code"\n      estimatedcharge="$ctrl.meta.estimatedCharge"></summary-amount>\n      \n      <fee-on-top fot="$ctrl.parentModel.fee_on_top"></fee-on-top>\n    </div>\n    <div class="column-md-5">\n      <small class="cp-payment-widget__terms" ng-bind-html="$ctrl.terms()"></small>\n\n      <cp-digital-wallets\n        data-ng-if="!$ctrl.isTrial"\n        frequency="$ctrl.parentModel.frequency"\n        amount="$ctrl.getAmount()"\n        currency="$ctrl.parentModel.payment.raw_currency_code"\n        submit="$ctrl.submitDigitalWallets"\n        pay-type="$ctrl.meta.digitalWalletType"\n        fot="$ctrl.parentModel.fee_on_top"\n        classyMode="$ctrl.isClassyMode"\n        validate-form="$ctrl.validateForm()"\n      ></cp-digital-wallets>\n\n      <cp-paypal-widget\n        data-ng-if="$ctrl.show.paypal() && !$ctrl.isTrial"\n        model="$ctrl.payment.paypal"\n        sc-validity-reporter\n        ng-model="$ctrl.payment.paypal.status"\n        on-ready="$ctrl.onPaypalReady()"\n        on-success="$ctrl.onPaypalSuccess(params)"\n        on-cancel="$ctrl.onPaypalCancel()"\n        currency="$ctrl.currency"\n        validate-form="$ctrl.validateForm()"\n      ></cp-paypal-widget>\n\n      <cp-paypal-commerce-widget\n        data-ng-if="$ctrl.show.paypalCommerce() || $ctrl.show.venmo()"\n        has-paypal="$ctrl.show.paypalCommerce()"\n        has-venmo="$ctrl.show.venmo()"\n        model-paypal="$ctrl.payment.paypal_commerce"\n        model-venmo="$ctrl.payment.venmo"\n        amount="$ctrl.parentModel.items[0].raw_final_price"\n        fot="$ctrl.parentModel.fee_on_top"\n        frequency="$ctrl.parentModel.frequency"\n        on-success="$ctrl.onPaypalCommerceSuccess(params)"\n        on-open="$ctrl.onPaypalCommerceOpen(params)"\n        on-cancel="$ctrl.onPaypalCommerceCancel()"\n        validate-form="$ctrl.validateForm()"\n      ></cp-paypal-commerce-widget>\n        \n      <button \n        data-tracked-element="donation-page_checkout_credit-card-btn" \n        class="payment-method-select-btn__cc" \n        type="button" style="background:{{$ctrl.theme.styles.primaryColor}}" \n        ng-click="$ctrl.showCardInputs()"\n        aria-expanded="{{$ctrl.meta.showPaymentDetails}}"\n        aria-controls="donation-page_checkout_payment-form donation-page_checkout_payment-details"\n        data-id="paymethod-card"\n      >Credit Card</button>\n\n      <cp-plaid-widget\n        data-ng-if="$ctrl.show.achButton() && !$ctrl.isTrial"&\n        model="$ctrl.payment.ach"\n        sc-validity-reporter\n        ng-model="$ctrl.payment.ach.status"\n        on-ready="$ctrl.onAchReady()"\n        on-success="$ctrl.onAchSuccess(lastFour, accountType)"\n        on-cancel="$ctrl.onAchCancel()"\n        currency="$ctrl.currency"\n        validate-form="$ctrl.validateForm()"\n      ></cp-plaid-widget>\n\n      <button \n        data-tracked-element="donation-page_checkout_account-routing-btn" \n        type="button" \n        class="payment-method-select-btn__ach" \n        style="background:{{$ctrl.theme.styles.primaryColor}}" \n        ng-click="$ctrl.showAccountRouting()" \n        ng-if="$ctrl.show.accountRoutingButton() && !$ctrl.isTrial"\n        aria-expanded="{{$ctrl.meta.showPaymentDetails}}"\n        aria-controls="donation-page_checkout_payment-form donation-page_checkout_payment-details"\n        data-id="paymethod-ach"\n      >Bank Account</button>\n\n      <button\n        data-tracked-element="donation-page_checkout_cryptocurrency-btn"\n        type="submit"\n        class="payment-method-select-btn__crypto"\n        style="background:{{$ctrl.theme.styles.primaryColor}}"\n        ng-click="$ctrl.cryptoCheckout()"\n        ng-if="$ctrl.show.crypto() && !$ctrl.isTrial"\n        data-id="paymethod-crypto"\n      >Cryptocurrency</button>\n\n      <small class="cp-payment-widget__powered">\n      Powered by GoFundMe\n      </small>\n\n    </div>\n  </div>\n\n  <div class="donation-border-top" ng-if="$ctrl.meta.showPaymentDetails"></div>\n  \n  <div ng-if="$ctrl.meta.showPaymentDetails" id="donation-page_checkout_payment-details">\n    <h2 class="donation-subtitle" id="donationPage_payment-details-heading">Payment Details</h2>\n    <cp-payment-details\n      label="$ctrl.getPaymentLabel()"\n      details="$ctrl.paymentDetails"\n      payment-method="$ctrl.getPaymentMethod()"\n      payment="$ctrl.payment"\n      show="$ctrl.show"\n      on-token="$ctrl.handleTokenexToken(token)"\n      on-card="$ctrl.handleTokenexCard(brand, lastFour)"\n      primary-color="$ctrl.theme.styles.primaryColor"\n      hide-postal="$ctrl.hidePostal"\n      currency="$ctrl.currency"\n    ></cp-payment-details>\n\n    <cp-donate-footer \n      donation-frequency="$ctrl.parentModel.frequency"\n      donation-currency="$ctrl.parentModel.payment.raw_currency_code"\n      donation-amount="$ctrl.meta.summaryAmount"\n      btn-color="$ctrl.theme.styles.primaryColor">\n    </cp-donate-footer>\n  </div>\n  ',bindings:{payment:"<",parentModel:"<",meta:"<",feeProcessing:"<",submitDigitalWallets:"<",api:"=",hidePostal:"<",disabledPaymentMethods:"<",currency:"<",validateForm:"<"},controller:["$window","$q","$rootScope","$timeout","$http","$state","scThemesService","cpConstants","cpAPI","scOrganizationsService","scDigitalWalletsService","scFeeOnTopService","scCurrencyService","scCampaignsService","PayPalSDK","CryptoGiving",function(e,n,r,i,s,l,t,a,o,c,d,u,m,g,p,f){var h=this,v=(this.isTrial="trial"===c.getOrgStatus(),this.getPaymentMethodStatus=function(e,n){return e[n]&&!h.disabledPaymentMethods.includes(n)?v.READY:v.INACTIVE},a.STATUS),b=a.EVENTS,y=a.PAYMENT_METHODS;this.eventCallbacks={},this.theme=t.active.current,this.STATUS=v,this.PAYMENT_METHODS=y,this.EVENTS=b,this.selectedCurrency="",this.arePaymentButtonEnabled=!0,this.disablePaymentButtons=function(){var e=this;i(function(){e.arePaymentButtonEnabled=!1,i(function(){e.arePaymentButtonEnabled=!0},5e3)})},this.enablePaymentButtons=function(){var e=this;i(function(){e.arePaymentButtonEnabled=!0})},this.paymentTypeInitStatus=function(e){return _.get(h.payment,e+".status")||v.INACTIVE},this.$onInit=function(){h.api=h.api||{},h.parentModel=h.parentModel||{},h.disabledPaymentMethods=h.disabledPaymentMethods||[],h.isDonationCheckoutPage=!!l.current.name.includes("frs.donation.checkout"),h.api.setModelPayment=h.setModelPayment.bind(h),h.api.getPaymentLabel=h.getPaymentLabel.bind(h),h.api.reloadTokenexIframe=h.reloadTokenexIframe.bind(h),h.api.resetPaymentMethod=h.resetPaymentMethod.bind(h),h.api.getPaymentMethod=h.getPaymentMethod.bind(h),h.api.setModelPaymentMethodGateway=h.setModelPaymentMethodGateway.bind(h),h.api.showFeeOnTopAndTerms=h.showFeeOnTopAndTerms.bind(h),h.getProcessors().then(function(e){h.processors=e,h.isPaypalReady=null!==_.get(h.payment.paypal,"status",null),h.initPaymentMethodStatuses(h.isPaypalReady),h.isStripeOrCCOnly()&&(h.showPaymentDetails(),h.hideButtons=!0);e="STRIPE"===_.get(h.processors,"ACH.name",null);h.achAccountRoutingEnabled=SC.organization.achAccountRoutingEnabled&&e}),h.paymentDetails="",h.isClassyMode=g.active.current.classy_mode_enabled},this.$onChanges=function(e){var n,e=e.currency;e&&e.isFirstChange()&&(-1<(n=l.current.name).indexOf("setup")||-1<n.indexOf("create")||-1<n.indexOf("design")||SC.preview?h.selectedCurrency=m.getEntityCurrency(g.active.current):h.selectedCurrency=m.localeCurrency),e&&!e.isFirstChange()&&(h.selectedCurrency=e.currentValue,_.has(h.processors,y.ACH)||_.has(h.processors,y.PAYPAL_COMMERCE)||_.has(h.processors,y.VENMO))&&("USD"!==e.currentValue?((n=h.getPaymentMethod())!==y.ACH&&n!==y.PAYPAL_COMMERCE&&n!==y.VENMO||(h.hidePaymentDetails(),h.initPaymentMethodStatuses()),h.disabledPaymentMethods.push(y.ACH),h.disabledPaymentMethods.push(y.PAYPAL_COMMERCE),h.disabledPaymentMethods.push(y.VENMO),h.payment.ach.status=v.INACTIVE,h.payment.paypal_commerce.status=v.INACTIVE,h.payment.venmo.status=v.INACTIVE,(h.isStripeOrCCAndACHOnly()||h.isStripeOrCCAndPayPalCommerceOnly()||h.isStripeOrCCAndVenmoOnly())&&(h.showPaymentDetails(),h.hideButtons=!0)):(h.disabledPaymentMethods=h.disabledPaymentMethods.filter(function(e){return e!==y.ACH&&e!==y.PAYPAL_COMMERCE&&e!==y.VENMO}),h.initPaymentMethodStatuses(),h.hideButtons=!1))},this.showDigitalWalletsListener=function(e){!(h.showDW=e)&&h.isStripeOrCCAndDigitalWalletsOnly()&&(h.showPaymentDetails(),h.hideButtons=!0)},d.addShowDigitalWalletsListener(this.showDigitalWalletsListener),d.addOnDigitalWalletsSubmitListener(function(){h.initPaymentMethodStatuses()}),this.onOpenDigitalWalletModalListener=function(){h.initPaymentMethodStatuses(),h.payment.stripe.status=v.READY,h.paymentDetails="",h.hidePaymentDetails(),r.$broadcast("donationPage:recalculateFees")},d.addOnOpenDigitalWalletModalListener(this.onOpenDigitalWalletModalListener),this.setModelPayment=function(){var e=void 0;switch(h.setModelPaymentMethodGateway()){case y.CC:e=h.getTokenexToken();break;case y.STRIPE:e=h.payment.stripe.getSource();break;case y.ACH:e=h.achAccountRoutingEnabled?h.getTokenexToken():n.resolve();break;case y.PAYPAL:case y.PAYPAL_COMMERCE:case y.VENMO:e=n.resolve();break;default:return n.reject(new Error("invalid payment method"))}return e},this.getPaymentLabel=function(){switch(h.getPaymentMethod()){case y.STRIPE:case y.CC:return"Card Number";case y.ACH:return"Bank Info";case y.PAYPAL_COMMERCE:case y.PAYPAL:return"Paypal Account";case y.VENMO:return"Venmo Account";default:return"Payment"}},this.getProcessors=function(){return e.SC.processors?n.resolve(e.SC.processors):s.get("/frs-api/pay/processors?appId="+o.getApplicationId()).then(function(e){return e.data})},this.showFeeOnTopAndTerms=function(){return h.isStripeOrCCOnly()||h.isStripeOrCCAndDigitalWalletsOnly()&&!h.showDw||h.isStripeOrCCAndACHOnly()&&"USD"!==h.currency},this.initPaymentMethodStatuses=function(e){e&&h.payment.paypal.status!==v.PENDING||(h.payment.paypal={status:h.getPaymentMethodStatus(h.processors,y.PAYPAL)}),h.payment.paypal_commerce={status:h.getPaymentMethodStatus(h.processors,y.PAYPAL_COMMERCE)},h.payment.venmo={status:h.getPaymentMethodStatus(h.processors,y.VENMO)},h.payment.ach={status:h.getPaymentMethodStatus(h.processors,y.ACH)},h.payment.stripe=Object.assign(h.payment.stripe||{},{status:h.getPaymentMethodStatus(h.processors,y.STRIPE)}),h.payment.cc={status:h.getPaymentMethodStatus(h.processors,y.CC)},u.setAmex(!1)},this.resetPaymentMethod=function(){},this.getAmount=function(){return h.isClassyMode?h.meta.summaryAmount:h.parentModel.items[0].raw_final_price},this.getPaymentMethod=function(){return h.paymentTypeInitStatus("paypal")===v.SUCCESS?y.PAYPAL:h.paymentTypeInitStatus("paypal_commerce")===v.SUCCESS||h.paymentTypeInitStatus("paypal_commerce")===v.OPEN?y.PAYPAL_COMMERCE:h.paymentTypeInitStatus("venmo")===v.SUCCESS||h.paymentTypeInitStatus("venmo")===v.OPEN?y.VENMO:h.paymentTypeInitStatus("ach")===v.SUCCESS?y.ACH:h.show.stripe()?y.STRIPE:y.CC},this.isStripeOrCCOnly=function(){return!(_.has(h.processors,y.DW)||_.has(h.processors,y.ACH)||_.has(h.processors,y.PAYPAL)||_.has(h.processors,y.PAYPAL_COMMERCE)||_.has(h.processors,y.VENMO)||f.enabled())},this.isStripeOrCCAndDigitalWalletsOnly=function(){return _.has(h.processors,y.DW)&&!_.has(h.processors,y.ACH)&&!_.has(h.processors,y.PAYPAL)&&!_.has(h.processors,y.PAYPAL_COMMERCE)&&!_.has(h.processors,y.VENMO)&&!f.enabled()},this.isStripeOrCCAndACHOnly=function(){return _.has(h.processors,y.ACH)&&!_.has(h.processors,y.DW)&&!_.has(h.processors,y.PAYPAL)&&!_.has(h.processors,y.PAYPAL_COMMERCE)&&!_.has(h.processors,y.VENMO)&&!f.enabled()},this.isStripeOrCCAndPayPalCommerceOnly=function(){return _.has(h.processors,y.PAYPAL_COMMERCE)&&!_.has(h.processors,y.ACH)&&!_.has(h.processors,y.DW)&&!_.has(h.processors,y.PAYPAL)&&!_.has(h.processors,y.VENMO)&&!f.enabled()},this.isStripeOrCCAndVenmoOnly=function(){return _.has(h.processors,y.VENMO)&&!_.has(h.processors,y.ACH)&&!_.has(h.processors,y.DW)&&!_.has(h.processors,y.PAYPAL)&&!_.has(h.processors,y.VENMO)&&!f.enabled()},this.showPaymentDetails=function(){h.meta.showPaymentDetails=!0},this.scrollToPaymentDetails=function(){i(function(){var e=document.getElementById("donation-page_checkout_payment-details");e&&e.scrollIntoView({behavior:"smooth"})},1e3)},this.hidePaymentDetails=function(){h.meta.showPaymentDetails=!1},this.showCardInputs=function(){h.payment.cc.status=v.READY,h.payment.stripe.status=v.READY,h.initPaymentMethodStatuses(),h.showPaymentDetails(),h.scrollToPaymentDetails(),r.$broadcast("checkPaymentAuthStatus",!1),r.$broadcast("donationPage:recalculateFees"),h.paymentDetails=""},this.showAccountRouting=function(){h.initPaymentMethodStatuses(),h.payment.ach.status=v.SUCCESS,h.payment.cc.status=v.PENDING,h.payment.stripe.status=v.PENDING,h.showPaymentDetails(),h.scrollToPaymentDetails(),h.paymentDetails="",r.$broadcast("checkPaymentAuthStatus",!0),r.$broadcast("donationPage:recalculateFees")},this.resetAccountRouting=function(){h.payment.ach={status:v.SUCCESS}},this.cryptoCheckout=function(){var n,t,a,i,e="/frs-api/campaign/"+g.active.current.id+"/cg-checkout",o=(this.meta.paymentType="CRYPTO",{application_id:c.getTag("classyPayApplicationId"),amount:this.meta.summaryAmount,currency:this.currency||"USD",member_first_name:this.meta.member_first_name,member_last_name:this.meta.member_last_name,member_email_address:this.parentModel.member_email_address,billing_postal_code:this.parentModel.billing_postal_code,opt_in:this.parentModel.opt_in,opt_in_wording:this.parentModel.opt_in_wording,hide_amount:!!this.parentModel.hide_amount,is_anonymous:!!this.parentModel.is_anonymous,location:window.location.origin+window.location.pathname});o.amount&&o.member_first_name&&o.member_last_name&&o.member_email_address&&o.billing_postal_code&&(n=window.open(),t=!1,i=a=void 0,s.post(e,o).then(function(e){200==e.status&&(n.location=e.data.url,a=e.data.url.split("/").pop(),i=e.data.draftId,t=!0)}).finally(function(){t?setTimeout(function n(){s.get("/frs-api/crypto-giving/"+a+"/status").then(function(e){var e=e.data.status;"charge:pending"===e||"charge:confirmed"===e?(e={id:i,raw_currency_code:o.currency,raw_total_gross_amount:o.amount,charged_currency_code:o.currency,charged_total_gross_amount:o.amount,frequency:"one-time"},l.go("frs.donation.thankYou",{tid:i,transactionData:e})):setTimeout(n,2e4)})},6e4):(n.close(),r.SC.status.banner={type:"error",msg:"There was an error.",timeout:!1})}))},this.setModelPaymentMethodGateway=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?y.STRIPE:h.getPaymentMethod();return h.payment.method=e,h.payment.gateway=h.processors[e],e},this.show={cc:function(){var e=_.get(h.processors,[y.STRIPE,"currency"]),n=_.get(h.processors,[y.CC,"currency"]);return h.paymentTypeInitStatus("cc")===v.READY&&h.currency!==e&&(h.currency===n||h.paymentTypeInitStatus("stripe")!==v.READY)},stripe:function(){var e=_.get(h.processors,[y.STRIPE,"currency"]),n=_.get(h.processors,[y.CC,"currency"]);return h.paymentTypeInitStatus("stripe")===v.READY&&(h.currency===e||h.currency!==n)},achButton:function(){return h.paymentTypeInitStatus("ach")!==v.INACTIVE&&!h.achAccountRoutingEnabled},ach:function(){return h.paymentTypeInitStatus("ach")===v.SUCCESS&&!h.achAccountRoutingEnabled},accountRoutingButton:function(){return h.paymentTypeInitStatus("ach")!==v.INACTIVE&&h.achAccountRoutingEnabled},accountRouting:function(){return[v.SUCCESS].includes(h.paymentTypeInitStatus("ach"))&&h.achAccountRoutingEnabled},paypal:function(){var e=_.get(h.processors,[y.PAYPAL,"currency"]);return h.paymentTypeInitStatus("paypal")!==v.INACTIVE&&(h.paymentTypeInitStatus("paypal_commerce")===v.INACTIVE||"USD"!==h.selectedCurrency&&(h.selectedCurrency===e||h.paymentTypeInitStatus("paypal")!==v.INACTIVE))},paypalCommerce:function(){return"USD"===h.selectedCurrency&&h.paymentTypeInitStatus("paypal_commerce")!==v.INACTIVE},venmo:function(){return"USD"===h.selectedCurrency&&h.paymentTypeInitStatus("venmo")!==v.INACTIVE},crypto:function(){return"one-time"===h.parentModel.frequency&&f.enabled()}},this.loggedIn=function(){return[h.paymentTypeInitStatus("paypal"),h.paymentTypeInitStatus("ach")].includes(v.SUCCESS)},this.getRelevantCurrency=function(){return h.meta.unsupportedTaxCompliance?_.get(h.meta,"estimatedCharge.currency",!1):h.payment.raw_currency_code},this.on=function(e,n){var t=_.get(h.eventCallbacks,e,[]);t.push(n),_.set(h.eventCallbacks,e,t)},this.once=function(e,n){n.once=!0,h.on(e,n)},this.emit=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];console.log(n),i(function(){var e=_.get(h.eventCallbacks,n,[]);_.forEach(e,function(e){return e.apply(void 0,t)}),_.remove(e,"once")})},this.terms=function(){var e=c.active.current,n=e.privacy_policy_url,e=e.url;return n?"We partner with GoFundMe to power this page. By donating, you agree to our <a href="+n+' target="_blank">Privacy Policy</a>, along with the <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.':e?"We partner with GoFundMe to power this page. By donating, you agree to our <a href="+e+' target="_blank">Privacy Policy</a>, along with the <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.':'We partner with GoFundMe to power this page. By donating, you agree to <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.'},this.handleTokenexCard=function(e,n){h.payment.cc=h.payment.cc||{},h.payment.cc.card_type=e,h.payment.cc.card_last_four=n},this.handleTokenexToken=function(e){this.activeSubmit.resolve(e)},this.getTokenexToken=function(){return h.activeSubmit=n.defer(),r.$broadcast("tokenizer","tokenize"),h.activeSubmit.promise.catch(function(e){return r.SC.status.banner={type:"error",msg:"Please check your payment information and try again.",timeout:!1},n.reject(e)})},this.reloadTokenexIframe=function(){r.$broadcast("tokenizer","reset"),h.getPaymentMethod()===y.ACH&&h.achAccountRoutingEnabled?h.resetAccountRouting():h.initPaymentMethodStatuses()},this.onAchReady=function(){console.log("ACH Ready"),h.payment.paypal.status=v.READY},this.onAchSuccess=function(e,n){i(function(){h.paymentDetails=n.charAt(0).toUpperCase()+n.slice(1)+" Account ending in "+e,console.log("ACH Success"),h.showPaymentDetails(),r.$broadcast("checkPaymentAuthStatus",!0),r.$broadcast("donationPage:recalculateFees"),h.payment.cc.status=v.PENDING,h.payment.stripe.status=v.PENDING})},this.onAchCancel=function(){console.log("ACH Cancel"),r.$broadcast("checkPaymentAuthStatus",!1),r.$broadcast("donationPage:recalculateFees"),h.initPaymentMethodStatuses()},this.onPaypalReady=function(){console.log("PayPal Ready"),h.payment.paypal.status=h.payment.paypal.status===v.PENDING?v.READY:h.payment.paypal.status},this.onPaypalSuccess=function(t){i(function(){h.paymentDetails=t.details.email,console.log("PayPal Success"),h.showPaymentDetails(),h.payment.cc.status=v.PENDING,h.payment.stripe.status=v.PENDING,Object.assign(h.payment.paypal,t.details),h.parentModel&&_.forEach({billing_first_name:"firstName",billing_last_name:"lastName",member_email_address:"email"},function(e,n){h.parentModel[n]||(h.parentModel[n]=_.get(t.details,e))}),r.$broadcast("checkPaymentAuthStatus",!0),r.$broadcast("donationPage:recalculateFees")})},this.onPaypalCancel=function(){console.log("PayPal Cancel"),r.$broadcast("checkPaymentAuthStatus",!1),r.$broadcast("donationPage:recalculateFees"),h.initPaymentMethodStatuses()},this.onPaypalCommerceSuccess=function(e){var n=e.details,t=e.fundingSource;i(function(){h.initPaymentMethodStatuses(),h.paymentDetails=n.email,console.log("PayPal Commerce Success"),h.showPaymentDetails(),h.payment.cc.status=v.PENDING,h.payment.stripe.status=v.PENDING,t&&"venmo"===t?Object.assign(h.payment.venmo,n):Object.assign(h.payment.paypal_commerce,n)}).then(p.autosubmitPayPalCommerce)},this.onPaypalCommerceCancel=function(){console.log("PayPal Commerce Cancel"),h.enablePaymentButtons(),h.payment.cc.status=v.READY,h.payment.stripe.status=v.READY,h.initPaymentMethodStatuses(),h.hidePaymentDetails(),r.$broadcast("checkPaymentAuthStatus",!1),r.$broadcast("donationPage:recalculateFees")},this.onPaypalCommerceOpen=function(e){e=e.paymentMethod;console.log("PayPal Commerce Open",e),0!==h.getAmount()&&h.disablePaymentButtons(),e&&"venmo"===e?h.payment.venmo.status=v.OPEN:h.payment.paypal_commerce.status=v.OPEN,h.payment[e].status=v.OPEN,r.$broadcast("donationPage:recalculateFees")}}]}),(()=>{function w(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").component("cpPaypalCommerceWidget",{template:'\n    <div class="payment-method-select-btn__paypal-commerce" ng-show="$ctrl.frequency === \'one-time\' && ($ctrl.hasPaypal || $ctrl.hasVenmo)" id="button-container-one-time"></div>\n    <div class="payment-method-select-btn__paypal-commerce" ng-show="$ctrl.frequency !== \'one-time\' && $ctrl.hasPaypal" id="button-container-recurring"></div>\n  ',bindings:{hasPaypal:"<",hasVenmo:"<",modelPaypal:"<",modelVenmo:"<",amount:"<",fot:"<",frequency:"<",onOpen:"&",onSuccess:"&",onCancel:"&",validateForm:"&"},controller:["cpConstants","PayPalSDK","scBanner","scOrganizationsService","scFeeOnTopService","$timeout","$q",function(e,o,n,t,a,i,r){function s(){return p.apply(this,arguments)}function l(e,n){return f.apply(this,arguments)}function c(e,n){return h.apply(this,arguments)}function d(){v.onCancel()}function u(e){v.selectedPayment=e}function m(e){v.onOpen({params:{paymentMethod:e}})}function g(){return v.validateForm()}var p,f,h,v=this,b=e.STATUS,y=void 0,k=(this.$onInit=w(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.orgName=t.active.current.name,e.next=3,o.init().then(function(e){var n=e.paypal,t=e.paypalRecurring,e=e.merchantId;v.paypal=n,v.paypalRecurring=t,v.merchantId=e,v.FUNDING_SOURCES=[],v.showButtons={},v.hasPaypal&&v.FUNDING_SOURCES.push(v.paypal.FUNDING.PAYPAL),v.hasVenmo&&v.FUNDING_SOURCES.push(v.paypal.FUNDING.VENMO),v.FUNDING_SOURCES.forEach(function(e){v.createButtons(e)})});case 3:v.addDataIds();case 4:case"end":return e.stop()}},e,v)})),this.$onChanges=function(e){var n=e.frequency,t=e.amount,e=e.fot;y&&y.resolve(),y=r.defer(),(t&&v.isValidAmount(t.currentValue)||e&&!e.isFirstChange())&&(v.totalAmount=v.amount,a.transactionEstimate(v.amount,{processor_name:"PAYPAL_COMMERCE",fot:v.fot},{timeout:y.promise},v.frequency).then(function(e){var e=e.data,n=e.charge_summary,e=e.gross_adjustment;a.donorCoveredFeesEnabled&&(v.totalAmount=n.total_charge);n=parseFloat(e.raw_processor_fee_amount)+parseFloat(e.raw_application_fee_amount)-.018*v.totalAmount-.3;v.platformFee=n<=0?0:n}).catch(function(){}),a.fixedFotEnabled)&&(v.totalAmount=(v.fot?Number(v.amount+a.calculateFixedFeeOnTop(v.amount)):v.amount).toFixed(2)),!n||n.isFirstChange()||!v.isStatusSuccess(v.modelPaypal)&&!v.isStatusSuccess(v.modelVenmo)||"one-time"!==n.currentValue&&"one-time"!==n.previousValue||v.onCancel()},this.isStatusSuccess=function(e){return!(!e||e.status!==b.SUCCESS)},this.isValidAmount=function(e){return e&&0<e&&"0"!==e&&"0.00"!==e&&"clear"!==e},p=w(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.isValidAmount(v.totalAmount)&&v.validateForm())return e.abrupt("return",o.createBillingAgreementToken());e.next=4;break;case 4:return e.abrupt("return",k);case 5:case"end":return e.stop()}},e,v)})),this.addDataIds=function(){var e=document.getElementById("button-container-one-time").getElementsByClassName("paypal-buttons");0<e.length&&e[0].setAttribute("data-id","paymethod-"+v.FUNDING_SOURCES[0]),1<e.length&&e[1].setAttribute("data-id","paymethod-"+v.FUNDING_SOURCES[1]);e=document.getElementById("button-container-recurring").getElementsByClassName("paypal-buttons");0<e.length&&e[0].setAttribute("data-id","paymethod-paypal")},f=w(regeneratorRuntime.mark(function e(n,t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.orderID,e.next=3,o.getOrderDetails(i).then(function(e){var e=e.data,n=_.get(e,"payer.email_address"),t=_.get(e,"payer.name.given_name"),a=_.get(e,"payer.name.surname"),e=_.get(e,"purchase_units[0].shipping.address"),n={email:n,firstName:t,lastName:a,orderId:i,status:b.SUCCESS,shippingAddress:e};v.onSuccess({params:{details:n,fundingSource:v.selectedPayment}})});case 3:case"end":return e.stop()}},e,v)})),h=w(regeneratorRuntime.mark(function e(n,t){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.getBillingAgreementToken(),i={email:"PayPal Account",agreementId:a,status:b.SUCCESS},e.prev=2,e.next=5,o.getBillingAgreementTokenDetails(a).then(function(e){e=e.data;i.email=_.get(e,"payer_info.email"),i.firstName=_.get(e,"payer_info.first_name"),i.lastName=_.get(e,"payer_info.last_name"),i.shippingAddress=_.get(e,"shipping_address")});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:v.onSuccess({params:{details:i}});case 10:case"end":return e.stop()}},e,v,[[2,7]])})),function(){i(function(){v.isValidAmount(v.totalAmount)||n("Please choose an amount before paying with "+("paypal"===v.selectedPayment?"PayPal":"Venmo"),"error")})});this.createButtons=function(t){var a,e={height:40},n=v.paypal.Buttons({fundingSource:t,style:e,createOrder:(a=t,function(e,n){return o.createOrder(v.totalAmount,"USD","venmo"===a?"Venmo":"PayPal_Commerce")}),onApprove:l,onClick:function(e,n){g()||n.reject(),m(t),u(t)},onCancel:d,onError:k}),e=v.paypalRecurring.Buttons({fundingSource:t,style:e,createBillingAgreement:s,onApprove:c,onClick:function(e,n){g()||(n.reject(),k("FORM")),m(t),u(t)},onCancel:d,onError:k});v.showButtons[t]=n.isEligible(),n.isEligible()&&(v.hasPaypal||v.hasVenmo)&&n.render("#button-container-one-time"),e.isEligible()&&v.hasPaypal&&e.render("#button-container-recurring")}}]})})(),angular.module("classy").component("cpCartPaypalWidget",{require:{ngModelCtrl:"ngModel"},template:'\n    <div class="cp-paypal-widget">\n      <div\n        ng-class="{\'logged-in\': $ctrl.model.status === $ctrl.constants.STATUS.SUCCESS}"\n        class="donation-payment_paypal-button"\n        id="btPaypal"\n        ng-show="[$ctrl.constants.STATUS.READY, $ctrl.constants.STATUS.SUCCESS].includes($ctrl.model.status)"\n      ></div>\n    </div>\n  ',bindings:{model:"<",onReady:"&",onSuccess:"&",onCancel:"&",currency:"<"},controller:["$window","cpAPI","cpConstants","scDigitalWalletsService",function(t,e,a,i){this.constants=a,this.config={},this.$onChanges=function(){this.currency&&(angular.element(document.querySelector("#btPaypal")).html(""),this.setupPaypal())},this.setupPaypal=function(){var n=this;e.getBraintreeToken(this.currency).then(function(e){t.braintree.setup(e,"custom",{paypal:{container:"btPaypal",onCancelled:n.onPaypalCancel},onPaymentMethodReceived:function(e){n.model.status=a.STATUS.SUCCESS,n.model.nonce=e.nonce,n.onSuccess({params:e}),n.ngModelCtrl.$setValidity("required",!0),n.ngModelCtrl.$setDirty()},onReady:function(e){n.teardown=e.teardown,n.model.status=a.STATUS.READY,n.onReady()}})}),this.onPaypalCancel=function(){n.model.status=a.STATUS.READY,n.model.nonce=null,n.onCancel(),n.ngModelCtrl.$setViewValue(null),n.ngModelCtrl.$setPristine(),n.ngModelCtrl.$setUntouched()},i.addOnDigitalWalletsSubmitListener(function(){n.model.status===a.STATUS.SUCCESS&&n.onPaypalCancel()})}}]}),angular.module("classy").component("cpPaypalWidget",{require:{ngModelCtrl:"ngModel"},template:'\n    <div class="cp-paypal-widget">\n      <button\n        data-tracked-element="donation-page_checkout_paypal-btn" \n        type="button"\n        ng-click="$ctrl.openModal()"\n        ng-class="{\'logged-in\': $ctrl.model.status === $ctrl.constants.STATUS.SUCCESS}"\n        class="payment-method-select-btn__paypal"\n        id="btPaypal"\n        ng-show="$ctrl.model.status !== $ctrl.constants.STATUS.INACTIVE"\n        data-id="paymethod-paypal"\n      ><img ng-src="/static/global/images/payments/logo-paypal.svg" alt="PayPal"</button>\n    </div>\n  ',bindings:{model:"<",onReady:"&",onSuccess:"&",onCancel:"&",currency:"<",validateForm:"&"},controller:["$window","cpAPI","cpConstants","scDigitalWalletsService","$rootScope",function(t,e,a,i,n){var o=this;this.constants=a,this.config={},this.$onChanges=function(){this.currency&&this.setupPaypal()},this.openModal=function(){o.onCancel(),o.paypal&&o.validateForm()&&o.paypal.initAuthFlow()},n.$on("openPaymentModal",function(e,n){n===o.constants.PAYMENT_METHODS.PAYPAL&&o.openModal()}),this.setupPaypal=function(){var n=this;e.getBraintreeToken(this.currency).then(function(e){t.braintree.setup(e,"custom",{paypal:{headless:!0,onCancelled:n.onPaypalCancel},onPaymentMethodReceived:function(e){n.model.status=a.STATUS.SUCCESS,n.model.nonce=e.nonce,n.onSuccess({params:e}),n.ngModelCtrl.$setValidity("required",!0),n.ngModelCtrl.$setDirty()},onReady:function(e){n.paypal=e.paypal,n.teardown=e.teardown,n.onReady()}})}),this.onPaypalCancel=function(){n.model.status=a.STATUS.READY,n.model.nonce=null,n.onCancel(),n.ngModelCtrl.$setViewValue(null),n.ngModelCtrl.$setPristine(),n.ngModelCtrl.$setUntouched()},i.addOnDigitalWalletsSubmitListener(function(){n.model.status===a.STATUS.SUCCESS&&n.onPaypalCancel()})}}]}),angular.module("classy").component("cpStripeWidget",{template:'\n    <div id="card-element" data-tracked-element="donation-page_checkout_stripe-input"></div>\n    <div\n      id="card-errors"\n      class="{{::$ctrl.cardErrorClassName}}" role="alert"\n    ></div>\n  ',bindings:{cardErrorClassName:"@",inputClassName:"@",sourceData:"<",model:"<",hidePostal:"<",currency:"<"},controller:["$rootScope","scStripeService","scFeeOnTopService","bugsnagClient",function(a,i,o,n){var r={sourceData:{}};this.$onChanges=function(){var e=this,n=(_.defaultsDeep(this,r),this.$errorMessageElement=$("#card-errors"),this.$errorMessageElement.text("").hide(),this.cardElement=document.getElementById("card-element"),{base:this.inputClassName}),t={base:{fontFamily:"'Mulish', sans-serif",fontSize:"16px",lineHeight:"20px"}},a=[{cssSrc:"https://fonts.googleapis.com/css?family=Mulish"}];this.model.getSource=this.getSource.bind(this),this.model.onError=this.onError.bind(this),i.init().then(function(){e.stripe=i.stripe,e.elements=e.stripe.elements({fonts:a}),e.card=e.elements.create("card",{style:t,classes:n,hidePostalCode:e.hidePostal}),e.card.mount(e.cardElement),e.card.addEventListener("change",e.onChange.bind(e))})},this.getSource=function(){var n=this;return this.stripe.createSource(this.card,this.sourceData).then(function(e){return e.error?n.onError(e.error):(e=e.source)?n.model.source=e:n.onError(new Error("source object missing in stripe response"))})},this.onError=function(e){throw"validation_error"===e.type?this.$errorMessageElement.text(e.message).show():e.type?n.notify(new Error("Stripe Error: "+e.type+" - "+e.message)):n.notify(e),new Error(e.message)},this.onChange=function(e){var n,t;this.$errorMessageElement.text("").hide(),e.error?this.$errorMessageElement.text(e.error.message).show():(n=o.isAmex,t=!1,"amex"!==e.brand&&"american_express"!==e.brand||(t=!0,a.$broadcast("donationPage:recalculateFees"),a.$broadcast("cart:setIsAmex",t)),o.setAmex(t),n!==o.isAmex&&(a.$broadcast("donationPage:recalculateFees"),a.$broadcast("cart:setIsAmex",t)))}}]}),angular.module("classy").component("cpPlaidWidget",{require:{ngModelCtrl:"ngModel"},template:'\n  <button type="button"\n    data-id="paymethod-ach"\n    data-tracked-element="donation-page_checkout_ach-plaid-btn" \n    class="payment-method-select-btn__ach"\n    ng-style="{ \'background\': $ctrl.primaryColor }"\n    ng-show="$ctrl.model.status !== $ctrl.constants.STATUS.INACTIVE"\n    ng-click="$ctrl.openPlaidDialog()"\n    tabindex="0">\n    Bank Transfer\n  </button>\n      ',bindings:{model:"<",onSuccess:"&",onCancel:"&",currency:"<",style:"<",validateForm:"&"},controller:["cpAPI","cpConstants","bugsnagClient","scThemesService","scDigitalWalletsService","$state","$rootScope",function(e,t,a,n,i,o,r){var s=this;this.constants=t,this.config={},this.primaryColor=n.active.current.styles.primaryColor,this.isDonationAchTerms=!!o.current.name.includes("frs.donation.checkout"),this.clientUserId=(SC.member.id||SC.heapId).toString(),this.$onChanges=function(){this.currency&&this.model.status!==t.STATUS.INACTIVE&&this.setupPlaid()},r.$on("openPaymentModal",function(e,n){n===s.constants.PAYMENT_METHODS.ACH&&s.openPlaidDialog()}),this.setupPlaid=function(){var n=this;e.getPlaidToken(this.clientUserId).then(function(e){e=e.linkToken;n.model.status=t.STATUS.READY,n.config.linkToken=e}).catch(a.notify)},this.openPlaidDialog=function(){this.onCancel();var e=this.config.linkToken;this.validateForm()&&Plaid.create({product:["auth"],clientName:"Classy Pay",selectAccount:!0,token:e,onSuccess:this.onPlaidSuccess.bind(this),onExit:this.onPlaidCancel.bind(this)}).open()},this.onPlaidSuccess=function(e,n){this.model.status=t.STATUS.SUCCESS,this.model.accountId=n.account_id,this.model.accountName=n.account.name,this.model.publicToken=e,this.model.achTermsAccepted=!1,this.ngModelCtrl.$setValidity("required",!0),this.ngModelCtrl.$setDirty();e=n.account.mask,n=n.account.subtype;this.onSuccess({lastFour:e,accountType:n})},i.addOnDigitalWalletsSubmitListener(function(){s.model.status===t.STATUS.SUCCESS&&s.onPlaidCancel()}),this.onPlaidCancel=function(){this.ngModelCtrl.$setViewValue(t.STATUS.READY),this.ngModelCtrl.$setPristine(),this.ngModelCtrl.$setUntouched(),this.onCancel()},this.onPlaidReady=function(){console.log("==============================================\n"),console.log("plaid ready"),console.log("==============================================\n")}}]}),angular.module("classy").component("cpTokenizerControl",{require:{ngModelCtrl:"ngModel"},template:'\n      <span class="cp-tokenizer-control__status"\n      ng-class="{ loading: $ctrl.isLoading }" aria-live="polite" title="payment card input is {{ $ctrl.isLoading ? \'loading\' : \'ready\' }}">\n        <span class="cp-tokenizer-control__status-loading" aria-hidden="true"></span>\n        <span class="cp-tokenizer-control__status-ready" aria-hidden="true">\n          <i class="ci ci-credit-card cp-tokenizer-control__status-icon" aria-hidden="true"></i>\n        </span>\n      </span>\n      \n      <span id="{{:: $ctrl.id }}" data-tracked-element="donation-page_checkout_tokenex-cc-input" class="{{ $ctrl.isLoading ? \'loading\' : \'\' }} cp-tokenizer-control__iframe" title="please enter your payment card information"></span>\n      <span ng-if="$ctrl.cardBrand" aria-hidden="true" class="card-container">\n        <span class="cp-credit-card__brand" ng-bind-html="$ctrl.brandIcon()">\n        </span>\n      <span>\n    ',bindings:{cmdEvent:"<",onToken:"&",onValid:"&",onReset:"&",cardBrand:"<?"},controller:["$element","$scope","$timeout","$window","$templateCache","$sce","cpAPI","onIOSBlur","scBanner","scScriptLoaderService","bugsnagClient",function(n,e,t,a,i,o,r,s,l,c,d){var u=this;this.$onInit=function(){var e=this;this.haveShownTokenExAlert=!1,this.iframeTimeout=!1,this.subscribeToCommands(),this.isLoading=!0,this.id="cp-tokenizer-control__iframe",this.empty=!0,this.ngModelCtrl.$isEmpty=function(){return e.isEmpty()}},this.$postLink=function(){var e=this;c.loadScript(SC.tokenex.tokenex_url+"/iframe/iframe-v3.min.js").then(function(){e.buildIframe()}).catch(function(e){d.notify(e)}),this.deregisterIOSBlur=s(n,function(){return e.handleBlur()})},this.$onDestroy=function(){this.deregisterIOSBlur()},this.brandIcon=function(){var e=void 0;switch(this.cardBrand){case"visa":e=i.get("global/classy-pay/svg/visa");break;case"americanExpress":e=i.get("global/classy-pay/svg/amex");break;case"discover":e=i.get("global/classy-pay/svg/discover");break;case"masterCard":e=i.get("global/classy-pay/svg/mastercard");break;case"diners":e=i.get("global/classy-pay/svg/diners-club");break;default:e="<i class='cp-credit-card__brand-icon ci ci-credit-card'></i>"}return o.trustAsHtml(e)},this.buildIframe=function(){u.ngModelCtrl.$setViewValue(null),u.ngModelCtrl.$setPristine(),u.ngModelCtrl.$setUntouched(),u.isLoading=!0;var e=a.location.origin;u.iframe&&u.iframe.remove(),r.getTokenexData(e).then(function(e){e.styles={base:"\n              width:85%;\n              height:38px;\n              background:transparent;\n              border:0;\n              line-height:38px;\n              vertical-align:middle;\n              font-size:15px;\n              font-family:'Mulish',Arial,Helvetica,sans-serif;\n              color: #444b55;\n              outline:none;\n              padding:0 10px;\n              font-weight:400;\n            ",placeholder:'\n              color: #444b55;\n              opacity:0.5;\n              font-family:"Mulish",Arial,Helvetica,sans-serif;\n              font-weight:400;\n            '},e.font="Mulish",e.placeholder="Credit Card",e.enablePrettyFormat=!0,e.enableValidateOnKeyUp=!0,e.enableAutoComplete=!0,u.iframe=new TokenEx.Iframe(u.id,e),u.iframe.on("focus",u.handleFocus),u.iframe.on("blur",u.handleBlur),u.iframe.on("validate",u.handleValidate),u.iframe.on("tokenize",u.handleToken),u.iframe.on("load",function(){t(function(){u.isLoading=!1,u.$iframe=angular.element("#tx_iframe_cp-tokenizer-control__iframe"),u.$iframe.attr("title","Credit Card details")})}),u.iframe.load(),u.setIframeTimeout()})},this.subscribeToCommands=function(){var t=this;e.$on(this.cmdEvent,function(e,n){return t.handleCommand(n)})},this.handleCommand=function(e){switch(e){case"reset":this.resetIframe();break;case"tokenize":this.iframe&&this.iframe.tokenize()}},this.setIframeTimeout=function(){this.iframeTimeout&&t.cancel(this.iframeTimeout);this.iframeTimeout=t(this.resetIframe.bind(this),15e5)},this.resetIframe=function(){this.iframeTimeout=void 0,this.buildIframe(),this.onReset(),this.handleValidate({isValid:!1,validator:"required"})},this.handleToken=function(e){u.ngModelCtrl.$setViewValue(e.token),u.onToken({token:e})},this.handleFocus=function(){-1===(document.head.textContent||document.head.innerText).indexOf("Evernote Clipper")||u.haveShownTokenExAlert||(l("Some supporters with the Evernote extension are experiencing issues entering credit card information. Simply deactivating the extension fixes the issue","error",!0),u.haveShownTokenExAlert=!0),a.web3&&a.web3.currentProvider&&a.web3.currentProvider.isMetaMask&&!u.haveShownMetaMaskAlert&&(l("Some supporters with the MetaMask extension are experiencing issues entering credit card information. Simply deactivating the extension fixes the issue","error",!0),u.haveShownMetaMaskAlert=!0),u.ngModelCtrl.$focus&&(u.ngModelCtrl.$setTouched(),u.ngModelCtrl.$focus())},this.handleBlur=function(){u.ngModelCtrl.$setDirty(),n.blur(),u.ngModelCtrl.$blur&&u.ngModelCtrl.$blur(),u.iframe.validate()},this.handleValidate=function(e){u.ngModelCtrl.$setValidity("required",!0),u.ngModelCtrl.$setValidity("format",!0),u.ngModelCtrl.$setValidity("signature",!0),u.ngModelCtrl.$setValidity("luhnCheck",!0),e.isValid?(u.empty=!1,u.onValid({brand:e.cardType,lastFour:e.lastFour})):("required"===e.validator&&(u.empty=!0),u.onValid({brand:null,lastFour:null}),u.ngModelCtrl.$setValidity(e.validator,e.isValid)),u.ngModelCtrl.$syncValidity()},this.isEmpty=function(){return this.empty}}]}),angular.module("classy").service("ClassyPayPaths",function(){var e="/static/global/images/classy-pay/";this.logos={ach:e+"classy-pay-logo-ach.svg",ccs:e+"classy-pay-logo-ccs.svg",paypal:e+"classy-pay-logo-paypal.svg",secure:e+"classy-pay-logo-secure.svg",venmo:e+"classy-pay-logo-venmo.svg"}}).component("cpDonateFooter",{templateUrl:"global/classy-pay/components/donate-footer/classy-pay.components.donate-footer",bindings:{donationFrequency:"<",donationCurrency:"<",donationAmount:"<",pmLogo:"<",pmLabel:"<",btnColor:"<",btnText:"<"},controller:["$rootScope","$timeout","$window","ClassyPayPaths","scOrganizationsService",function(e,n,a,t,i){var o=this,r=this,s="#donate-cta-main";function l(){var e,n,t=angular.element(s);return!(!t||!t[0])&&(t=(e=t.offset().top)+t.outerHeight(),(n=a.scrollY)<t)&&e<n+a.innerHeight}function c(){n(function(){r.is.mainDonateVisible=l()})}function d(){n(function(){r.is.mainDonateVisible=l()})}function u(){n(function(){r.is.donating=!1},150)}this.ClassyPayPaths=t,this.is={accessible:!1,donating:!1,mainDonateVisible:!1},this.$onInit=function(){o.is.accessible=!!i.getTag("mobile-checkout-optimization",!0),o.is.accessible&&(o.btnText=o.btnText||"Donate Now",o.btnColor=o.btnColor||"#425CCD",o.donateResolveHandler=e.$on("cpDonateFooter:donate:resolved",u),a.addEventListener("scroll",c),a.addEventListener("resize",d))},this.canShow=function(){return!!o.donationFrequency&&!!o.donationAmount&&!!o.donationCurrency},this.shouldShow=function(){return o.canShow()&&!o.is.mainDonateVisible},this.donate=function(){o.is.donating=!0,e.$broadcast("cpDonateFooter:donate:submit")},this.getTerms=function(){var e=i.active.current,n=e.privacy_policy_url,e=e.url;return n?"We partner with GoFundMe to power this page. By donating, you agree to our <a href="+n+' target="_blank">Privacy Policy</a>, along with the <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.':e?"We partner with GoFundMe to power this page. By donating, you agree to our <a href="+e+' target="_blank">Privacy Policy</a>, along with the <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.':'We partner with GoFundMe to power this page. By donating, you agree to <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.'},this.$onDestroy=function(){o.donateResolveHandler&&o.donateResolveHandler(),a.removeEventListener("scroll",c),a.removeEventListener("resize",d)}}]}),angular.module("classy").component("countrySelectField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <select-field\n        name="$ctrl.name"\n        ng-if="!$ctrl.customCountry"\n        aria-label="country select"\n        class-prop="form__select--light"\n        options="$ctrl.countryOptions"\n        model="$ctrl.countrySelectModel"\n        placeholder="\'Select a country\'"\n        required="$ctrl.required"\n      ></select-field>\n      <div class="form__helper" \n        ng-if="$ctrl.countryResitrictedText">\n        {{:: $ctrl.countryResitrictedText}}\n      </div>\n\n      \x3c!-- hidden input for final model --\x3e\n      <input class="form__dropdown--hidden"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      sc-validity-reporter\n      ng-required="$ctrl.required"\n      type="text"\n      name="{{:: $ctrl.name }}">\n    ',bindings:{model:"=",label:"<",name:"<",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",type:"<?"},controller:["scCurrencyService","scOrganizationsService","countryBlockService",function(n,t,e){function a(){return i.getterSetter?i.model():i.model}var i=this,o={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,type:"enum"};this.countryResitrictedText=_.get(t,"active.current.restricted_country_information.drop_down_text"),this.isListedCountry=function(){return a()&&_.filter(i.countryOptions,{value:a()}).length},this.$onInit=function(){i.placeholder&&(i.model=""),_.defaultsDeep(i,o),e.getCountryBlockedList().then(function(e){i.countryOptions=e,i.setCountry()})},this.$doCheck=function(){var e;i.countrySelectModel&&(e=i.countrySelectModel,i.getterSetter?i.model(e):i.model=e)},this.setCountry=function(){i.customCountry=!1;var e=t.active;a()&&!i.isListedCountry()?(i.customCountry=!0,i.countrySelectModel=a()):a()?i.countrySelectModel=a():e.multiCurrencyDisabled()?i.countrySelectModel="CA"==e.current.country||"CAN"==e.current.country?"CA":"US":i.countrySelectModel=n.getBrowserLocale()||"US"}}]}),angular.module("classy").component("donationAmountRecurringRf",{templateUrl:"global/components/fields/donationAmountLegacy/global.components.donation-amount-legacy",bindings:{donationContext:"=",frequencyLevels:"=",settingPageFrequency:"<",frequency:"=",recurUntil:"=",levels:"=",recurringDonationLevels:"=",amount:"=",previousFrequencyPrice:"=",newAmount:"<",currency:"=",preview:"<",iaa:"=",iaaState:"="},require:{form:"^form"},controller:["$state","$scope","scThemesService","scCampaignsService","scOrganizationsService","scBlocksService","scCurrencyService","scAnalytics","accessibilityService","cpIntelligentAsk",function(o,e,t,a,i,r,s,n,l,c){var d=this,u=this;function m(e){e=e.match(/(?!rgba?)\s*(\d{1,3}\s*,\s*)(\d{1,3}\s*,\s*)(\d{1,3}\s*\s*)/g).concat(" 0.12)").join();return"rgba(".concat(e)}this.preventOldrfForDeque=i.active.preventOldrfForDeque(),this.showRecurringEndDate=a.active.current.hide_recurring_end_date,this.recurringFrequencyArray=["monthly","yearly","quarterly","semi-annually","daily","weekly","bi-weekly"],this.recurringLevelsWithPreset={0:"one-time",1:"monthly",2:"quarterly",3:"semi-annually",4:"yearly",5:"daily",6:"weekly",7:"bi-weekly"},this.$onInit=function(){d.DonationBlock=r.getBlockByType("donation"),d.defaultFrequency=d.DonationBlock.current["recurring-default"],a.active.multiCurrencyDisabled()||(d.currency=s.localeCurrency),d.hasBigButtons=!!i.getTag("early-access:big-buttons",!0),d.today=new Date,d.today.setDate(d.today.getDate()+1),d.visible=!1,d.show={inputFocus:!1},u.showCustomAmtSelected=!1,"Custom"===u.amount&&(u.amount="",u.showCustomAmtSelected=!0),"Custom"===u.previousFrequencyPrice&&(u.previousFrequencyPrice=""),u.showRecurringDonationArray=!u.preventOldrfForDeque&&"one-time"!==u.frequency;var n=_.get(o,"params.amount",!1),e=(n||0===u.amount||(n=u.amount),u.showRecurringDonationArray?u.recurringDonationLevels:u.levels),e=_.filter(e,function(e){return!0===e.display_on_page});n&&!e.some(function(e){return e.amount==n})&&(e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})?(u.showCustomAmtSelected=!0,u.otherAmount=isNaN(n)?0:n):!e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})&&e.length&&1!==e.length?u.amount=u.showRecurringDonationArray?u.DonationBlock.current["recurring-donation-default"]||0:u.DonationBlock.current["donation-default"]||0:u.amount=isNaN(n)?0:n),u.theme=t.active.current,u.ctaStyle={"background-color":m(u.theme.styles.primaryColor)},u.hoverStyle=function(e,n){n?angular.element(".hover-state_"+e).css({color:"#fff","background-color":u.theme.styles.primaryColor}):angular.element(".hover-state_"+e).hasClass("selected")||angular.element(".hover-state_"+e).css({color:"rgba(0, 0, 0, 0.87)","background-color":m(u.theme.styles.primaryColor)})},u.hoverFrequencyStyle=function(e,n){angular.element(".hover-state_"+e).hasClass("selected")||angular.element(".hover-state_"+e).css({color:u.theme.styles.primaryColor,"background-color":n?m(u.theme.styles.primaryColor):"#fff"})},d.analyticsInitialized=!0},this.showFrequencyForDeque=function(e){return!["daily","weekly","bi-weekly"].includes(e)},this.showDropdownOnPreview=function(e){d.frequency=e,d.isFreqDropdown="one-time"!==e&&1<d.recurringLevels(d.frequencyLevels).length,d.showRecurringDonationArray=!d.preventOldrfForDeque&&"one-time"!==d.frequency},this.$onChanges=function(e){e.newAmount&&e.newAmount.currentValue&&(d.value=e.newAmount.currentValue),e.settingPageFrequency&&(d.freqValue=e.settingPageFrequency.currentValue,d.analyticsInitialized)&&n.eventBeacon({category:"frs "+g,action:"click",label:"Donation Frequency – "+e.settingPageFrequency.currentValue+" (non-text link)"}),d.isDonationPage="donation"===o.params.step,d.preview&&d.isDonationPage&&(d.value||null===d.value?d.showCustomAmtSelected=!1:d.showCustomAmtSelected=!0,d.freqValue)&&!d.preventOldrfForDeque&&d.showDropdownOnPreview(d.freqValue)},this.recurringLevels=function(e){return e.filter(function(e){return"one-time"!==e.type&&e.display_on_page})},this.onlyReccurringFrequency=function(e){return!e.some(function(e){return"one-time"===e.type&&e.display_on_page})},this.recurringBtnText=function(){return 1<d.recurringLevels(d.frequencyLevels).length?"recurring":d.recurringLevels(d.frequencyLevels)[0].type},this.recurringBtnSelected=function(e){return d.recurringFrequencyArray.includes(e)},this.showFreqDropdown=function(e){var n,t,a,i=d.frequencyLevels;"one-time"===e?(d.isFreqDropdown=!1,d.frequency="one-time",d.recurUntil=null):_.get(o,"params.recurring",!1)&&"recurring"!=e&&1<d.recurringLevels(i).length?d.isFreqDropdown=d.recurringBtnSelected(d.frequency):d.recurringLevels(i).length<=1?(d.isFreqDropdown=!1,d.frequency=e?d.recurringLevels(i)[0].type:d.frequency):(d.isFreqDropdown=!(!e&&!d.recurringBtnSelected(d.frequency)),n=_.get(o,"params.recurring",!1),"one-time"===d.defaultFrequency&&e?0!=n?(t=d.recurringLevelsWithPreset[n],e=d.frequencyLevels.find(function(e){return e.type==t&&!0===e.display_on_page}),d.frequency=e?t:d.recurringLevels(i)[0].type):d.frequency=d.recurringLevels(i)[0].type:0!=n?(a=d.recurringLevelsWithPreset[n],e=d.frequencyLevels.find(function(e){return e.type==a&&!0===e.display_on_page}),d.frequency=e?a:d.defaultFrequency):d.frequency=d.defaultFrequency)},this.isRecurringFrequency=function(e){var n;d.preventOldrfForDeque||e.currentTarget&&e.currentTarget.classList.contains("selected")||(d.showRecurringDonationArray=!d.preventOldrfForDeque&&"one-time"!==d.frequency,e=d.showRecurringDonationArray?d.recurringDonationLevels:d.levels,e=_.filter(e,function(e){return!0===e.display_on_page}),n=d.previousFrequencyPrice,d.previousFrequencyPrice=d.amount,d.amount=n,e.some(function(e){return e.displayAmount==d.amount})||!e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})||"preset"===d.amount||"clear"===d.amount?(d.showCustomAmtSelected=!1,d.otherAmount=""):(d.showCustomAmtSelected=!0,d.otherAmount=d.showCustomAmtSelected?d.amount||"":d.otherAmount))},this.noOfFrequencyLevel=function(e){return e.filter(function(e){return e.display_on_page}).length},this.noOfDonationAmount=function(e){return e.filter(function(e){return e.display_on_page}).length},this.showCustomAmtField=function(e){e=e.some(function(e){return e.display_on_page&&"Custom"===e.amount});return e||(d.showCustomAmtSelected=!1),e},this.getAriaLabel=function(e){var n=void 0;switch(e){case"one-time":case"monthly":case"yearly":case"weekly":case"daily":n="Make a "+e+" gift";break;case"quarterly":n="Make a gift every three months";break;case"semi-annually":n="Make a gift every six months";break;case"bi-weekly":n="Make a gift every two weeks"}return n},this.donationLevelStyle=function(e){return{color:d.showCustomAmtSelected||d.amount!==e?"rgba(0, 0, 0, 0.87)":"#fff","background-color":d.showCustomAmtSelected||d.amount!==e?m(d.theme.styles.primaryColor):d.theme.styles.primaryColor,border:"none","max-width":"50%"}},this.recurringBtnStyle=function(e){return{"background-color":d.recurringFrequencyArray.includes(e)?d.theme.styles.primaryColor:"#fff",color:d.recurringFrequencyArray.includes(e)?"#fff":d.theme.styles.primaryColor,border:"2px solid "+d.theme.styles.primaryColor}},this.oneTimeBtnStyle=function(e){return{"background-color":d.frequency==e?d.theme.styles.primaryColor:"#fff",color:d.frequency==e?"#fff":d.theme.styles.primaryColor,border:"2px solid "+d.theme.styles.primaryColor}};var g=a.active.current.type;this.selectFrequency=function(e,n,t){n&&!l.isValidKeyBoardEvent(n)||n&&13===n.keyCode&&("selectDropdown"==t?n.preventDefault():"one-time"===e?(d.frequency=e,d.isFreqDropdown=!1):(d.frequency="one-time"===d.defaultFrequency?d.recurringLevels(d.frequencyLevels)[0].type:d.defaultFrequency,d.isFreqDropdown="one-time"!==e&&1<d.recurringLevels(d.frequencyLevels).length))},this.canShowLevel=function(e){if(!d.preview){if(_.isEmpty(e))return!1;if(e.loading)return!1;if(d.iaa&&c.isEnabled(SC.campaign)){if(!d.iaa.isInit)return!1;if(d.iaa.isFetching)return!1;if(!d.iaa.triedToInit)return!1}}return!0},this.setPreventDefault=function(e){13===e.keyCode&&e.preventDefault()},this.selectAmount=function(e,n){var t=d.preventOldrfForDeque||"one-time"===d.frequency?d.levels:d.recurringDonationLevels;d.isOtherInputPresent=t.some(function(e){return"Custom"===e.amount&&e.display_on_page}),d.isOtherInputPresent&&"Custom"!==e&&(d.otherAmount="",setTimeout(function(){d.form.amount.$setValidity("required",!0),d.form.amount.$setValidity("min",!0),d.form.amount.$setValidity("max",!0)},50)),n&&!l.isValidKeyBoardEvent(n)||(d.showCustomAmtSelected="Custom"===e,d.showCustomAmtSelected?d.amount=d.otherAmount||0:d.amount=e)},e.$on("updateFrequencyInPreview",function(e,n){d.showDropdownOnPreview(n)})}]}),angular.module("classy").component("donationGrid",{templateUrl:"global/components/fields/donationGrid/donationGrid",bindings:{donationContext:"=",frequencyLevels:"=",settingPageFrequency:"<",frequency:"=",recurUntil:"=",levels:"=",recurringDonationLevels:"=",amount:"=",previousFrequencyPrice:"=",newAmount:"<",currency:"=",preview:"<",globalState:"=",iaa:"=",iaaState:"="},require:{form:"^form"},controller:["$state","$scope","$timeout","accessibilityService","cpIntelligentAsk","EmbeddedGivingColors","scAnalytics","scBlocksService","scCampaignsService","scCurrencyService","scThemesService",function(t,e,a,i,o,r,n,s,l,c,d){var u=this,m=this;function g(){var n;m.preview?(m.amount=0,m.otherAmount=0):(n=l.active,a(function(){var e;n.hasIntelligentAsk()&&o.isInit&&o.hasAccessAmounts()&&(e=m.isOneTime()?"oneTime":"recurring",m.isOneTime()?n.hasIntelligentAskOneTime():n.hasIntelligentAskRecurring())&&m.iaaState[e]&&(m.showCustomAmtSelected=!0,m.otherAmount=m.iaaState[e],m.amount=m.iaaState[e])}))}function p(e,n){var n=1<arguments.length&&void 0!==n?n:"0.12",t=e.match(/(?!rgba?)\s*(\d{1,3}\s*,\s*)(\d{1,3}\s*,\s*)(\d{1,3}\s*\s*)/g);if(!t)switch(e){case"red":t="rgb(255, 0, 0)";break;case"green":t="rgb(0, 255, 0)";break;case"blue":t="rgb(0, 0, 255)";break;default:return console.warn("received color: "+e+", but expected RGB string"),e}n=t.concat(" "+n+")").join();return"rgba(".concat(n)}e.$on("cpIntelligentAsk:amountsUpdated",g),this.showRecurringEndDate=l.active.current.hide_recurring_end_date,this.recurringFrequencyArray=["monthly","yearly","quarterly","semi-annually","daily","weekly","bi-weekly"],this.recurringLevelsWithPreset={0:"one-time",1:"monthly",2:"quarterly",3:"semi-annually",4:"yearly",5:"daily",6:"weekly",7:"bi-weekly"},this.isOneTime=function(){return"one-time"===u.frequency},this.$onInit=function(){u.DonationBlock=s.getBlockByType("donation");var n,e=parseInt(_.get(t,"params.recurring",!1),10);u.defaultFrequency=!isNaN(e)&&u.recurringLevelsWithPreset[e]?u.recurringLevelsWithPreset[e]:u.DonationBlock.current["recurring-default"],l.active.multiCurrencyDisabled()||(window.newrelic&&window.newrelic.log("init_locale_currency",{level:"trace",customAttributes:{locale_currency:c.localeCurrency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),u.currency=c.localeCurrency),u.today=new Date,u.today.setDate(u.today.getDate()+1),u.visible=!1,u.show={inputFocus:!1},(n=_.get(t,"params.amount",!1))||0===m.amount||(n=m.amount),m.showCustomAmtSelected="Custom"===m.amount,m.showCustomAmtSelected&&(m.amount=""),"Custom"===m.previousFrequencyPrice&&(m.previousFrequencyPrice=""),m.showRecurringDonationArray="one-time"!==m.frequency,e=m.showRecurringDonationArray?m.recurringDonationLevels:m.levels,e=_.filter(e,function(e){return!0===e.display_on_page}),n&&!e.some(function(e){return e.amount==n})&&(e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})?(m.showCustomAmtSelected=!0,m.otherAmount=isNaN(n)?0:n):!e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})&&e.length&&1!==e.length?m.amount=m.showRecurringDonationArray?m.DonationBlock.current["recurring-donation-default"]||0:m.DonationBlock.current["donation-default"]||0:m.amount=isNaN(n)?0:n),m.theme=d.active.current,r.init(d.active),m.colorPrimary=m.theme.styles.primaryColor,m.colorAccent=p(m.theme.styles.primaryColor),m.ctaStyle={"background-color":m.colorAccent},m.toggleHover=function(e,n){n?angular.element(".hover-state_"+e).addClass("hover"):angular.element(".hover-state_"+e).removeClass("hover")},u.analyticsInitialized=!0},this.showFrequencyForDeque=function(e){return!["daily","weekly","bi-weekly"].includes(e)},this.showDropdownOnPreview=function(e){u.frequency=e,u.isFreqDropdown="one-time"!==e&&1<u.recurringLevels(u.frequencyLevels).length,u.showRecurringDonationArray="one-time"!==u.frequency},this.$onChanges=function(e){e.newAmount&&e.newAmount.currentValue&&(u.value=e.newAmount.currentValue),e.settingPageFrequency&&(u.freqValue=e.settingPageFrequency.currentValue,u.analyticsInitialized)&&n.eventBeacon({category:"frs "+f,action:"click",label:"Donation Frequency – "+e.settingPageFrequency.currentValue+" (non-text link)"}),u.isDonationPage="donation"===t.params.step,u.preview&&u.isDonationPage&&u.freqValue&&u.showDropdownOnPreview(u.freqValue),e.iaaState&&!e.iaaState.isFirstChange()&&e.iaaState.previousValue!==e.iaaState.currentValue&&g()},this.recurringLevels=function(e){return e.filter(function(e){return"one-time"!==e.type&&e.display_on_page})},this.onlyReccurringFrequency=function(e){return!e.some(function(e){return"one-time"===e.type&&e.display_on_page})},this.recurringBtnText=function(){return 1<u.recurringLevels(u.frequencyLevels).length?"Recurring":u.recurringLevels(u.frequencyLevels)[0].type},this.recurringBtnSelected=function(e){return u.recurringFrequencyArray.includes(e)},this.showFreqDropdown=function(e){var n=u.frequencyLevels;"one-time"===e?(u.isFreqDropdown=!1,u.frequency="one-time",u.recurUntil=null):u.recurringLevels(n).length<=1?(u.isFreqDropdown=!1,u.frequency=e?u.recurringLevels(n)[0].type:u.frequency):(u.isFreqDropdown=!(!e&&!u.recurringBtnSelected(u.frequency)),"one-time"===u.defaultFrequency&&e?u.frequency=u.recurringLevels(n)[0].type:u.frequency=u.defaultFrequency)},this.isRecurringFrequency=function(e){var n;e.currentTarget&&e.currentTarget.classList.contains("selected")||(u.showRecurringDonationArray="one-time"!==u.frequency,e=u.showRecurringDonationArray?u.recurringDonationLevels:u.levels,e=_.filter(e,function(e){return!0===e.display_on_page}),n=u.previousFrequencyPrice,u.previousFrequencyPrice=u.amount,u.amount=void 0===n?"":n,e.some(function(e){return e.displayAmount==u.amount})||!e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})||"preset"===u.amount||"clear"===u.amount?(u.showCustomAmtSelected=!1,u.otherAmount=""):(0===u.amount?u.showCustomAmtSelected=!1:u.showCustomAmtSelected=!0,u.otherAmount=u.showCustomAmtSelected?u.amount||"":u.otherAmount))},this.noOfFrequencyLevel=function(e){return e.filter(function(e){return e.display_on_page}).length},this.noOfDonationAmount=function(e){return e.filter(function(e){return e.display_on_page}).length},this.showCustomAmtField=function(e){e=e.some(function(e){return e.display_on_page&&"Custom"===e.amount});return e||(u.showCustomAmtSelected=!1),e},this.getAriaLabel=function(e){var n=void 0;switch(e){case"one-time":case"monthly":case"yearly":case"weekly":case"daily":n="Make a "+e+" gift";break;case"quarterly":n="Make a gift every three months";break;case"semi-annually":n="Make a gift every six months";break;case"bi-weekly":n="Make a gift every two weeks"}return n},this.donationLevelStyle=function(e,n){var n=angular.element(".hover-state_"+n).hasClass("hover"),e=!u.showCustomAmtSelected&&u.amount===e,t={color:e?"#fff":"rgba(0, 0, 0, 0.87)","background-color":e?u.theme.styles.primaryColor:p(u.theme.styles.primaryColor),border:"none","max-width":"50%","text-shadow":e?"0px 2px 2px rgba(0,0,0,0.12)":"none"},e=u.getHoverStles(e,n);return t["box-shadow"]=e,t},this.getStylesFrequencyOneTimeBtn=function(e){var n=u.frequency==e,e=angular.element(".hover-state_"+e).hasClass("hover");return u.getFrequencyBtnStyles(n,e)},this.getStylesFrequencyRecurringBtn=function(e){var e=u.recurringFrequencyArray.includes(e),n=angular.element(".hover-state_recurring").hasClass("hover");return u.getFrequencyBtnStyles(e,n)},this.getFrequencyBtnStyles=function(e,n){var t={transition:"all 0.2s ease-in-out",border:"2px solid "+u.colorAccentOpaque,color:e?"#fff":"rgba(0,0,0,0.9)","background-color":e?u.colorPrimary:u.colorAccentOpaque,"border-radius":"24px"},e=u.getHoverStles(e,n);return t["box-shadow"]=e,t},this.getHoverStles=function(e,n){var t="inherit";return n&&(t="inset 0px 0px 0px 1px white, 0px 0px 0px 2px "+p(m.theme.styles.primaryColor,"0.4")),e&&n?t+=", inset 0px 0px 0px 1px rgba(0,0,0,0.2), inset 1px 2px 12px rgba(0,0,0,0.2), inset 1px 2px 2px rgba(0,0,0,0.2)":e&&!n&&(t="inset 0px 0px 0px 1px rgba(0,0,0,0.2), inset 1px 2px 12px rgba(0,0,0,0.2), inset 1px 2px 2px rgba(0,0,0,0.2)"),t},this.getOtherFieldStyles=function(e){e=angular.element(".hover-state_"+e).hasClass("hover");return e?{"box-shadow":u.getHoverStles(!1,e)}:{}};var f=l.active.current.type;this.selectFrequency=function(e,n,t){n&&!i.isValidKeyBoardEvent(n)||(!n||13!==n.keyCode&&32!==n.keyCode||("selectDropdown"==t?n.preventDefault():"one-time"===e?(u.frequency=e,u.isFreqDropdown=!1):(u.frequency="one-time"===u.defaultFrequency?u.recurringLevels(u.frequencyLevels)[0].type:u.defaultFrequency,u.isFreqDropdown="one-time"!==e&&1<u.recurringLevels(u.frequencyLevels).length)),g())},this.canShowLevel=function(e){if(!u.preview){if(_.isEmpty(e))return!1;if(e.loading)return!1;if(u.iaa&&o.isEnabled(SC.campaign)){if(!u.iaa.isInit)return!1;if(u.iaa.isFetching)return!1;if(!u.iaa.triedToInit)return!1}}return!0},this.setPreventDefault=function(e){13===e.keyCode&&e.preventDefault()},this.selectAmount=function(e,n){var t="one-time"!==u.frequency?u.recurringDonationLevels:u.levels;u.isOtherInputPresent=t.some(function(e){return"Custom"===e.amount&&e.display_on_page}),u.isOtherInputPresent&&"Custom"!==e&&(u.otherAmount="",a(function(){u.form.amount.$setValidity("required",!0),u.form.amount.$setValidity("min",!0),u.form.amount.$setValidity("max",!0)})),n&&!i.isValidKeyBoardEvent(n)||(u.showCustomAmtSelected="Custom"===e,u.showCustomAmtSelected?u.amount=u.otherAmount||0:u.amount=e)},e.$on("updateFrequencyInPreview",function(e,n){u.showDropdownOnPreview(n)})}]}),(()=>{var T=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var t=n,a=[],i=!0,n=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")};angular.module("classy").directive("donationGridCurrency",["$log","$rootScope","$state","EmbeddedGivingColors","scCurrencyService","scCampaignsService","scOrganizationsService",function(v,b,y,k,w,C,S){return{templateUrl:"global/components/fields/donationGridCurrency/donation-currency",scope:{entity:"=?currencyEntity",model:"=?currencyModel",editable:"<?",disabled:"<?",selected:"<?"},link:function(a,e){var t="[donationGridCurrency]";function i(e){return e?e.split("\n").slice(1,5).map(function(e){e=e.trim().match(/at (\S+) \(([^)]+)\)/);return e&&3===e.length?e[1]+" ("+e[2]+")":"Anonymous"}).join(" -> "):"No stack trace available"}function o(e,n){window.newrelic&&"function"==typeof window.newrelic.addPageAction&&(v.log("Logging to newrelic"),window.newrelic.log(e,Object.assign({default_currency:w.getDefaultCurrency(),locale_currency:w.localeCurrency,multiCurrencyDisabled:a.isCurrencySelectionDisabled,userAgent:window.UAParser().ua},n,{level:"trace"})))}function n(e,n){v.log(t+" "+e,1<arguments.length&&void 0!==n?n:{})}function r(e,n){v.warn(t+" "+e,1<arguments.length&&void 0!==n?n:{})}function s(e,n){v.error(t+" "+e,1<arguments.length&&void 0!==n?n:{})}a.logDebugInfo=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};console.trace("[Currency Debug] "+e+":",n),window.newrelic&&window.newrelic.log("currency_"+e.toLowerCase().replace(/\s+/g,"_"),{level:"trace",customAttributes:Object.assign({},n,{stack:i((new Error).stack),url:window.location.href})})};var l,c=k.getPrimary(),d=k.getAccentOpaque(),u=(a.isDisabled=function(){return a.disabled||!a.showDropdown},a.isCurrencySelectionDisabled=function(){return"reg_w_fund"===C.active.current.type||"ticketed"===C.active.current.type||C.active.multiCurrencyDisabled()||S.active.multiCurrencyDisabled()},a.getCurrencyWrapperStyles=function(e){var n=void 0,n=e?{color:"#fff",background:c,"border-color":c,"background-color":c}:{"border-color":d,"background-color":d};return a.isDisabled()&&(n.cursor="default"),n},a.getCurrencyLabelStyles=function(e){return e?{color:"#fff","background-color":c,"border-radius":"3px 0px 0px 3px","background-image":"unset"}:{"border-color":d,"background-color":d,"border-right":"1px solid WHITE","background-image":"unset"}},a.onCurrencySelect=function(){n("onCurrencySelect() triggered"),a.isCurrencySelectionDisabled()&&(r("Currency selection is disabled",{model_currency:a.model,currency:a.currency.currency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}),o("currency_selection_disabled",{model_currency:a.model,currency:a.currency.currency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}),a.currency.currency=w.getDefaultCurrency()||"USD"),a.syncCurrencyModel()},a.syncCurrencyModel=function(){n("syncCurrencyModel() called: Setting model to "+a.currency.currency),a.model=a.currency.currency},a.$watchGroup(["showDropdown","disabled"],function(e,n){var e=T(e,2),t=e[0],e=e[1],n=T(n,2),a=n[0],n=n[1];t===a&&e===n||v.log("Dropdown changed from "+a+" to "+t+", \n          Disabled changed from "+n+" to "+e)}),a.$watch("currency.currency",function(e,n){n&&e&&e!==n&&(n=n||"undefined",e=e||"undefined",console.group(t+" Currency changed from "+n+" to "+e),console.groupEnd(),o("currency_change_detected",{old_currency:n,new_currency:e,url:window.location.href,session_id:window.heap?window.heap.userId:void 0,referrer:document.referrer}))}),a.$watch("model",function(e,n){e!==n&&a.logDebugInfo("Model Changed",{oldVal:n,newVal:e})}),a.$parent&&a.$parent.$watch("currencyModel",function(e,n){e!==n&&a.logDebugInfo("Parent Scope Change",{oldVal:n,newVal:e})}),[b.$on("$stateChangeSuccess",function(){a.logDebugInfo("Route Change Detected")}),b.$on("currencyUpdate",function(e,n){a.logDebugInfo("Currency Update Event",{data:n})})]),m=w.fetchRate,g=(w.fetchRate=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return a.logDebugInfo("Rate Fetch Initiated",{args:n}),m.apply(this,n).then(function(e){return a.logDebugInfo("Rate Fetch Success",{result:e}),e}).catch(function(e){throw s("Rate Fetch Error",{error:e.message,stack:i(e.stack)}),e})},n("Setting up donationGridCurrency directive"),_.isUndefined(a.editable)?C.active?a.showDropdown=!C.active.multiCurrencyDisabled():a.showDropdown=["crowdfunding","p2p","donation"].includes(y.params.campaignType)&&!S.active.multiCurrencyDisabled():a.showDropdown=a.editable,n("showDropdown: "+a.showDropdown),y.params.currency),p=a.model||w.localeCurrency,f=(a.currencyOptions=w.currencies,["RUB","BYN","CLF"]);function h(){a.logDebugInfo("Currency Initialization",{entityCurrency:a.entityCurrency,currentCurrency:a.currency?a.currency.currency:void 0,defaultCurrency:w.getDefaultCurrency(),cacheState:window.localStorage.getItem("currencyPreference")});try{a.currency=_.filter(a.currencyOptions,function(e){return e.currency==a.entityCurrency})[0]||a.currencyOptions[0],a.isCurrencySelectionDisabled()&&(r("Currency selection is disabled at init",{model_currency:a.model,currency:a.currency.currency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}),o("currency_select_init",{model_currency:a.model,currency:a.currency.currency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer})),a.syncCurrencyModel(),a.logDebugInfo("Currency Initialization Success",{resultCurrency:a.currency?a.currency.currency:void 0})}catch(e){s("Currency Initialization Error",{error:e.message,stack:i(e.stack)})}}f.includes(p)&&(window.newrelic&&window.newrelic.log("unset_blacklisted_currency",{level:"info",customAttributes:{blacklisted_currency:p,urlParam:g?g.toLocaleUpperCase():"N/A",url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),r("Blacklisted currency detected: "+p),p="USD"),"donation"===a.entity&&(a.currencyOptions=a.currencyOptions.filter(function(e){return!f.includes(e.currency)})),g&&a.isCurrencySelectionDisabled()&&(window.newrelic&&window.newrelic.log("currency_url_param",{level:"info",customAttributes:{urlParam:g.toLocaleUpperCase(),url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),n("Currency URL param is present but selection is disabled: "+g.toLocaleUpperCase())),!a.isCurrencySelectionDisabled()&&g&&a.currencyOptions.length&&a.currencyOptions.find(function(e){return e.currency===g.toLocaleUpperCase()})?a.entityCurrency=g.toLocaleUpperCase():(l=w.getDefaultCurrency(),a.showDropdown?"campaign"!==a.entity||a.model||_.get(C,"active",!1)?"donation"!==a.entity?a.model||_.get(a,"entity.id",!1)?a.model?a.entityCurrency=a.model:a.entityCurrency=w.getEntityCurrency(a.entity):a.entityCurrency=p||w.getEntityCurrency(a.entity):-1<y.current.name.indexOf("setup")||-1<y.current.name.indexOf("create")||-1<y.current.name.indexOf("design")||SC.preview?a.entityCurrency=w.getEntityCurrency(C.active.current):(a.currencyOptions.length||(a.showDropdown=!1,a.currencyOptions=[{currency:l,meta:{code:l,symbol:w.getCurrencySymbol(l)}}]),a.entityCurrency=p||l):a.entityCurrency=p||l:a.entityCurrency=a.model||l),h(),a.$on("$destroy",function(){w.fetchRate=m,u.forEach(function(e){return e()}),a.logDebugInfo("Directive Destroyed")});p=e.find("select");a.isCurrencySelectionDisabled()&&p.length&&p.on("change keydown focus blur",function(e){a.logDebugInfo("Select Event Triggered",{type:e.type,targetValue:e.target.value,isVisible:$(e.target).is(":visible")})})}}}])})(),angular.module("classy").component("donationGridCustomAmount",{templateUrl:"global/components/fields/donationGridCustomAmount/donation-custom-amount",bindings:{model:"=",disableFlag:"=?",name:"<",currencyCode:"<?",placeholder:"<",errorMessages:"<?",getterSetter:"<?",roundCurrency:"<?",currencyAriaLabel:"@?",modalBindValue:"=?",selected:"<?",inputDataId:"@?"},require:{form:"^form"},controller:["$element","$scope","EmbeddedGivingColors","scCurrencyService","scQaId","scThemesService",function(e,n,t,a,i,o){var r=this;this.scQaId=i,this.getterSetter=!1,this.required=!1,this.disabled=!1,this.roundCurrency=!0,this.min=1,this.max=1e7,this.errorMessages={min:"Please enter an amount greater than or equal to 1.",max:"Please enter an amount smaller than or equal to 10,000,000.",required:"Please enter an amount.",parse:"Please enter a valid currency amount."},this.colorPrimary=t.getPrimary(o.active),this.colorAccent=t.getAccent(o.active),this.colorAccentOpaque=t.getAccentOpaque(o.active),this.$onInit=function(){0<r.modalBindValue&&setTimeout(function(){r.form.amount.$setValidity("min",!0),r.form.amount.$setValidity("max",!0)},50),r.setupSelectListener(),r.currencyCode&&(r.symbol=a.getCurrencySymbol(r.currencyCode))},this.$onChanges=function(){r.symbol=a.getCurrencySymbol(r.currencyCode)},this.onChange=function(){r.modalBindValue=r.model,r.symbol=a.getCurrencySymbol(r.currencyCode),0<r.model?(r.form.amount.$setValidity("required",!0),r.form.amount.$setValidity("max",!0),r.form.amount.$setValidity("min",!0)):void 0===r.model&&r.form.amount.$setValidity("required",!1)},this.onBlur=function(){r.form.amount.$$rawModelValue||(r.form.amount.$setPristine(),r.form.amount.$error.required=!1,r.form.amount.$error.max=!1,r.form.amount.$error.min=!1)},this.setupSelectListener=function(){r.selectOn&&n.$on(r.selectOn,function(){e.find("input").focus(),e.find("input").select()})},this.getStylesDefault=function(){return{"background-color":r.colorAccentOpaque,"border-color":r.colorAccentOpaque}},this.getStylesSelected=function(){return{"border-color":r.colorPrimary,"background-color":r.colorPrimary}},n.$on("selectedAmountChange",function(e,n){r.model=0<n?n:""})}]}),angular.module("classy").component("dropdownInputField",{template:'\n    <form-label\n    required="$ctrl.required"\n    ng-if="$ctrl.label"\n    _spec="label">\n      {{ $ctrl.label }}\n    </form-label>\n\n    <div class="dropdown-input__wrapper" name="{{:: $ctrl.name }}">\n      <number-field\n        model="$ctrl.model"\n        min="$ctrl.min"\n        max="$ctrl.max"\n        required="$ctrl.required"\n        on-change="$ctrl.inputModelChange()"\n        no-spacer="true"\n        data-disable-flag="$ctrl.disableFlag"\n        placeholder="::$ctrl.placeholder"\n        aria-label="\'Select promo code discount type\'">\n      </number-field>\n      <select class="dropdown-input__select"\n        ng-model="$ctrl.selectedModel"\n        ng-change="$ctrl.dropdownModelChange()"\n        data-ng-disabled="$ctrl.disableFlag"\n\n        ng-options="option as option.label for option in $ctrl.dropdownOptions"\n        _spec="select"\n        aria-label="{{:: $ctrl.ariaLabel }}">\n      </select>\n    </div>\n\n    <form-error\n    name="$ctrl.name"\n    messages="$ctrl.errorMessages"\n    _spec="errors"></form-error>\n  ',bindings:{model:"=",disableFlag:"<",dropdownModel:"=",dropdownOptions:"<",min:"<?",max:"<?",name:"<",required:"<?",placeholder:"<?",label:"<?",onDropdownModelChange:"&?",onInputModelChange:"&?",ariaLabel:"@?"},controller:["$timeout",function(e){var n=this,t={errorMessages:{required:"This field is required."}};this.$onInit=function(){_.defaultsDeep(n,t),n.index=_.findIndex(n.dropdownOptions,{value:n.dropdownModel})||0,n.selectedModel=n.dropdownOptions[n.index]},this.dropdownModelChange=function(){n.currDropdownLabel=n.selectedModel.label,n.dropdownModel=n.selectedModel.value,e(function(){n.onDropdownModelChange()})},this.inputModelChange=function(){e(function(){n.onInputModelChange()})}}]}),angular.module("classy").component("genderField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <select-field\n        name="$ctrl.name"\n        aria-label="gender select"\n        class-prop="form__select--light"\n        options="$ctrl.genderOptions"\n        model="$ctrl.model"\n        placeholder="\'Select a gender\'"\n        getter-setter="$ctrl.getterSetter"\n        required="$ctrl.required"\n      ></select-field>\n\n      \x3c!-- hidden input for final model --\x3e\n      <input class="form__dropdown--hidden"\n      ng-model="$ctrl.model"\n      ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n      sc-validity-reporter\n      ng-required="$ctrl.required"\n      type="text"\n      name="{{:: $ctrl.name }}">\n    ',bindings:{model:"=",label:"<",name:"<",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",options:"<?"},controller:function(){var e=this,n={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,options:[]};this.$onInit=function(){_.defaultsDeep(e,n),e.genderOptions=e.options.map(function(e){return{label:e,value:e}})}}}),angular.module("classy").component("imageListField",{templateUrl:"global/components/fields/imageList/template",bindings:{model:"=",config:"<?",customNextBtn:"<?",customCancelBtn:"<?",required:"<?",formName:"<?",buttonLock:"<?",mode:"<?",imgLimit:"<?",sortable:"<?",video:"<?",errorMessages:"<?",lockField:"<?"},controller:["$attrs","scCampaignsTemplateService","$stateParams","accessibilityService",function(t,a,i,n){var o=this,r={config:{hideActionButtons:!(this.remove=function(){this.model=null}),label:"Upload an image",imgOptions:null,mmOptions:{useReactEditor:!1,reactEditorOptions:{}}},customNextBtn:{action:null,label:null},customCancelBtn:{action:null,label:null},errorMessages:{required:"This field is required."},required:!1,video:!1,sortable:!1,mode:"single",imgLimit:1};this.onKeyDown=function(e){e&&n.isValidKeyBoardEvent(e)&&(e.preventDefault(),o.customCancelBtn.action&&!o.model?o.customCancelBtn.action():o.remove())},this.onkeydownCustomNextBtn=function(e){e&&n.isValidKeyBoardEvent(e)&&o.customNextBtn.action()},this.$onInit=function(){var e,n;void 0===o.lockField&&SC.campaign&&SC.campaign.campaignTemplateData&&(o.lockField=!1,(e=_.find(SC.blocks,{id:i.blockId}))?(e=e.type,(e=a.getBlockByType(e))&&(n=t.model.split(".").splice(-2)[0],t.model.includes("image"))&&e.item_attributes&&e.item_attributes[n]&&e.item_attributes[n].image&&(o.lockField=e.item_attributes[n].image.locked)):"landing"===i.step&&(e=a.getBlockByType("crowdfunding"))&&(n=t.model.split(".")[2],_.includes(["headlineImage","background"],n))&&e.item_attributes&&e.item_attributes[n]&&e.item_attributes[n].image&&(o.lockField=e.item_attributes[n].image.locked)),_.defaultsDeep(o,r)}}]}),angular.module("classy").component("mergeTagTooltip",{template:'\n    <div class="merge-tag-select" _spec="merge-select">\n      <div class="merge-tag-select_header">\n        <i class="fa fa-chevron-left merge-tag-select_view-prev"\n          ng-if="$ctrl.mergeTagEditor.currentView !== $ctrl.mergeTagService.views[0]"\n          ng-click="$ctrl.mergeTagEditor.changeView($ctrl.mergeTagService.views.indexOf($ctrl.mergeTagEditor.currentView) - 1)"\n          ng-keydown="$ctrl.mergeTagEditor.changeView($ctrl.mergeTagService.views.indexOf($ctrl.mergeTagEditor.currentView) - 1, $event)"\n          tabindex="0"></i>\n        <span ng-if="$ctrl.mergeTagEditor.currentView === $ctrl.mergeTagService.views[0]">Smart Variable Type</span>\n        <span ng-if="$ctrl.mergeTagEditor.currentView === $ctrl.mergeTagService.views[1]">Smart Variables</span>\n        <span ng-if="$ctrl.mergeTagEditor.currentView === $ctrl.mergeTagService.views[2]">{{$ctrl.mergeTagEditor.selectedTag.name}} Fallback</span>\n        <i class="merge-tag-select_close ci ci-panel-close" tabindex="0"></i>\n      </div>\n\n      <section class="merge-tag-select_view"\n        ng-show="$ctrl.mergeTagEditor.currentView === $ctrl.mergeTagService.views[0]">\n        <div class="merge-tag-select_cards">\n          <div class="merge-tag-select_card"\n            data-type="{{type}}"\n            data-ng-click="$ctrl.mergeTagEditor.selectType(type)"\n            data-ng-keydown="$ctrl.mergeTagEditor.selectType(type, $event)"\n            ng-repeat="(type, numType) in $ctrl.availableTagTypes"\n            ng-bind="type"\n            tabindex="0">\n          </div>\n        </div>\n      </section>\n\n      <section class="merge-tag-select_view"\n        ng-show="$ctrl.mergeTagEditor.currentView === $ctrl.mergeTagService.views[1]">\n        <div class="merge-tag-select_cards">\n          <div class="merge-tag-select_card"\n            ng-click="$ctrl.mergeTagEditor.selectTag(tag)"\n            ng-keydown="$ctrl.mergeTagEditor.selectTag(tag, $event)"\n            ng-repeat="tag in $ctrl.mergeTagService.availableTags | filter: {type: $ctrl.mergeTagEditor.selectedType}:true"\n            ng-bind="tag.name"\n            tabindex="0">\n          </div>\n        </div>\n      </section>\n\n      <section class="merge-tag-select_view"\n        ng-show="$ctrl.mergeTagEditor.currentView === $ctrl.mergeTagService.views[2]">\n        What would you like to show recipients if you don\'t have their {{$ctrl.mergeTagEditor.selectedTag.name.toLowerCase()}}?\n        <div class="merge-tag-select_input">\n          <input type="text" class="merge-tag-select_input-box"\n            ng-keydown="$ctrl.mergeTagEditor.saveTag($event)"\n            ng-model="$ctrl.mergeTagEditor.selectedTag.default"\n            placeholder="{{$ctrl.mergeTagEditor.selectedTag.suggested_values[0]}}"/>\n          <button class="merge-tag-select_button" ng-click="$ctrl.mergeTagEditor.saveTag($event)">Save</button>\n        </div>\n      </section>\n\n    </div>\n  ',bindings:{message:"=?"},controller:["$element","scMergeTags_service",function(t,a){var i=this;this.$onInit=function(){var e=_.uniqueId("merge-tag-select"),n=t.parent().siblings("[data-froala]");t.find(".merge-tag-select").attr("id",e),n.attr("data-merge-tag-select-id",e),i.mergeTagEditor=a.get(n.attr("id")),i.mergeTagService=a,i.availableTagTypes=_.countBy(i.mergeTagService.availableTags,"type")}}]}),angular.module("classy").component("radioField",{template:'\n    <div class="radio-field" data-ng-class="{ \'admin-body__lock-field form__text-input__outer\': $ctrl.lockField }">\n      \n      <form-label  required="$ctrl.required" data-ng-if="$ctrl.label" _spec="label">{{::$ctrl.label}}</form-label>\n      <div class="form__sublabel" ng-if="$ctrl.sublabel">{{::$ctrl.sublabel}}</div>\n\n      <div ng-if="$ctrl.lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"></div>\n\n      <radio-control\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        ng-required="$ctrl.required"\n        sc-validity-reporter\n        sc-validity-classes\n        value="$ctrl.radioValueA"\n        disabled="$ctrl.disabled"\n        name="{{::$ctrl.name }}"\n        size="::$ctrl.size"\n        _spec="input"\n        aria-label="{{::$ctrl.radioLabelA}}">{{::$ctrl.radioLabelA}}\n        \n        <div ng-if="$ctrl.tooltipTextValueA"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="$ctrl.tooltipTextValueA"\n        class="admin-body__tooltip-element"></div>\n        \n        </radio-control>\n\n      \x3c!-- No name on second radio --\x3e\n      <radio-control class="radio-field"\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        ng-required="$ctrl.required"\n        sc-validity-reporter="$ctrl.name"\n        sc-validity-classes\n        value="$ctrl.radioValueB"\n        disabled="$ctrl.disabled"\n        size="::$ctrl.size"\n        _spec="inputB"\n        aria-label="{{::$ctrl.radioLabelB}}">{{::$ctrl.radioLabelB }}\n        \n        <div ng-if="$ctrl.tooltipTextValueB"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="$ctrl.tooltipTextValueB"\n        class="admin-body__tooltip-element"></div>\n        \n        </radio-control>\n      <form-error name="$ctrl.name" messages="$ctrl.errorMessages" _spec="errors"></form-error>\n    </div>\n  ',bindings:{model:"=",label:"<",sublabel:"@?",name:"<",size:"<?",radioLabelA:"@",radioValueA:"<",radioLabelB:"@",radioValueB:"<",errorMessages:"<?",getterSetter:"<?",required:"<?",disabled:"<?",lockField:"<?",tooltipTextValueA:"@",tooltipTextValueB:"@"},controller:function(){var e={errorMessages:{required:"This field is required."},getterSetter:!1,required:!1,size:"medium"};this.$onInit=function(){_.defaultsDeep(this,e)}}}),angular.module("classy").component("stateProvinceField",{template:'\n      <form-label\n      required="$ctrl.required"\n      _spec="label">\n        {{:: $ctrl.label }}\n      </form-label>\n\n      <select-field\n        ng-if="$ctrl.countryValue == \'US\' && !$ctrl.customState"\n        aria-label="state select"\n        class-prop="form__select--light"\n        options="$ctrl.stateOptions"\n        model="$ctrl.model"\n        placeholder="\'Select a state\'"\n        getter-setter="$ctrl.getterSetter"\n      ></select-field>\n\n      <select-field\n        ng-if="$ctrl.countryValue == \'CA\' && !$ctrl.customState"\n        aria-label="province select"\n        class-prop="form__select--light"\n        options="$ctrl.provinceOptions"\n        model="$ctrl.model"\n        placeholder="\'Select a province\'"\n        getter-setter="$ctrl.getterSetter"\n      ></select-field>\n\n      <input-field\n        ng-if="($ctrl.countryValue != \'CA\' && $ctrl.countryValue != \'US\') || $ctrl.customState"\n        placeholder="\'State/region/district\'"\n        getter-setter="true"\n        no-spacer="true"\n        model="$ctrl.model"\n        aria-label="State/Province"></input-field>\n\n      \x3c!-- hidden input for final model --\x3e\n      <input class="form__dropdown--hidden"\n        ng-model="$ctrl.model"\n        ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n        sc-validity-reporter\n        ng-required="$ctrl.required"\n        type="text"\n        name="{{:: $ctrl.name }}">\n\n      <form-error\n        name="$ctrl.name"\n        messages="$ctrl.errorMessages"\n        _spec="errors"></form-error>\n    ',bindings:{model:"=",label:"<",name:"<",country:"<",countryGetterSetter:"<?",placeholder:"<?",errorMessages:"<?",getterSetter:"<?",required:"<?",type:"<?",onlyStates:"<?"},controller:["US_STATE_LIST","CA_PROVINCE_LIST",function(e,n){function t(){return _.isNull(i.country)?null:i.countryGetterSetter?i.country():i.country}function a(e){return e?(i.getterSetter?i.model(e):i.model=e,null):i.getterSetter?i.model():i.model}var i=this,o={errorMessages:{required:"This field is required."},getterSetter:!1,countryGetterSetter:!1,required:!1,type:"enum"};this.placeholder&&(this.model=""),this.stateOptions=_.cloneDeep(e),this.provinceOptions=_.cloneDeep(n),this.onlyStates&&(this.stateOptions=_.filter(this.stateOptions,function(e){return!e.canadian})),this.isListedStateOrProvince=function(){return a()&&(_.filter(i.stateOptions,{value:a()}).length||_.filter(i.provinceOptions,{value:a()}).length)},this.$onInit=function(){i.onlyStates&&(i.stateOptions=_.filter(i.stateOptions,function(e){return!e.canadian})),_.defaultsDeep(i,o),i.countryValue=t(),a()&&!i.isListedStateOrProvince()&&(i.customState=!0)},this.$doCheck=function(){var e=t();i.countryValue!==e&&(a(""),i.countryValue=e)}}]}),angular.module("classy").component("intelligentAskLearnMore",{templateUrl:"global/components/intelligent-ask/learn-more/global.components.intelligent-ask.learn-more",bindings:{header:"@",description:"@",href:"@"}}),angular.module("classy").component("intelligentAskToggle",{templateUrl:"global/components/intelligent-ask/toggle/global.components.intelligent-ask.toggle",bindings:{isIaaActive:"<",isRecurringAvailable:"<",isOneTimeAvailable:"<",onChange:"<"},controller:["$log","$scope","$timeout","scCampaignsService",function(e,a,i,n){var t=this,o=this;function r(e){var n=e.oneTime,t=e.recurring;a.iaa=n||t,o.isIaaActive=a.iaa,i(function(){o.onChange({oneTime:n,recurring:t})})}this.campaign=n.active,a.oneTime=n.active.hasIntelligentAskOneTime()&&o.isOneTimeAvailable,a.recurring=n.active.hasIntelligentAskRecurring()&&o.isRecurringAvailable,a.iaa=a.oneTime||a.recurring,e.log("[intelligentAskToggle] init [oneTime, recurring]: ",a.oneTime,a.recurring),o.$onChanges=function(e){e.isOneTimeAvailable&&(a.oneTime=n.active.hasIntelligentAskOneTime()&&e.isOneTimeAvailable.currentValue),e.isRecurringAvailable&&(a.recurring=n.active.hasIntelligentAskRecurring()&&e.isRecurringAvailable.currentValue),r({oneTime:a.oneTime,recurring:a.recurring})},a.onIAAChange=function(e){e?(a.oneTime=!1,a.recurring=!1):(a.oneTime=!0,a.recurring=!0),i(function(){t.onChange({oneTime:a.oneTime,recurring:a.recurring})})},a.onOneTimeClick=function(e){a.oneTime=!e,i(r({oneTime:a.oneTime,recurring:a.recurring}))},a.onRecurringClick=function(e){a.recurring=!e,i(r({oneTime:a.oneTime,recurring:a.recurring}))}}]}),angular.module("classy").component("browseTeamsModal",{template:'\n      <modal-frame theme="\'dark\'">\n\n        <modal-title>{{:: $ctrl.title }}</modal-title>\n\n        <div class="browse-teams-modal__search">\n          <i class="fa fa-search browse-teams-modal__search-icon"></i>\n          <input class="browse-teams-modal__search-input"\n          ng-model="$ctrl.query"\n          ng-model-options="{ debounce: 500 }"\n          placeholder="Search for a team" />\n        </div>\n\n        <ul class="browse-teams-modal__list"\n        ng-show="!$ctrl.loading && $ctrl.teams.length">\n          <li class="browse-teams-modal__team"\n          ng-repeat="team in $ctrl.teams"\n          ng-click="$ctrl.onSelect({ $team:team })">\n            <img class="browse-teams-modal__team-logo"\n            ng-src="{{ $ctrl.getTeamPhoto(team) }}" />\n            <div class="browse-teams-modal__team-info">\n              <h1 class="browse-teams-modal__team-info-name">{{:: team.name }}</h1>\n              <span class="browse-teams-modal__team-info-details">\n                {{:: $ctrl.memberText(team) }} &bull;\n                {{:: team.goal * (team.percent_to_goal/100) | currency:\'$\':0 }} Raised\n              </span>\n            </div>\n            <i class="browse-teams-modal__team-select ci ci-right-arrow"></i>\n          </li>\n        </ul>\n\n\n        <div class="browse-teams-modal__none"\n        ng-show="!$ctrl.loading && !$ctrl.teams.length">\n          <p class="create-flow_teams-none-message">\n          No teams found.<br/>\n          <span ng-if="$ctrl.campaign.allow_team_fundraising">Want to <a class="create-flow_teams-none-link" href data-ng-click="$ctrl.goToCreate()">create a new one?</a></span>\n          </p>\n        </div>\n\n        <div class="browse-teams-modal__loading"\n        ng-show="$ctrl.loading">\n          <span class="browse-teams-modal__loading-spinner"\n          ng-style="{ color: $ctrl.primaryColor }"></span>\n        </div>\n\n        <div class="browse-teams-modal__pager"\n        sc-paging="$ctrl.getTeamsEndpoint"\n        ng-model="$ctrl.teams"\n        loading="$ctrl.loading"\n        sort="{ name: \'asc\' }"\n        per-page="$ctrl.perPage"\n        filter="$ctrl.filter">\n        </div>\n\n      </modal-frame>\n    ',bindings:{campaignId:"<",primaryColor:"<",title:"<",onSelect:"&",goToCreate:"&"},controller:["scFundraisingTeamsService","scCampaignsService",function(e,n){this.$onInit=function(){this.getTeamsEndpoint="/campaign/"+this.campaignId+"/joinable-teams",this.teams=[],this.loading=!0,this.perPage=5,this.filter=null},this.campaign=n.active.current,this.getTeamPhoto=e.getTeamPhoto,this.memberText=function(e){return 1===e.total_fundraisers?"1 Member":e.total_fundraisers+" Members"},this.$doCheck=function(){this.query!==this.cachedQuery&&(this.cachedQuery=this.query,this.query?this.filter={name:[{operand:"*=",value:this.query}]}:this.filter=null)}}]}),angular.module("classy").component("countryBlockModal",{template:'\n    <div class="country-block-modal">\n      <div class="country-block-modal__icon-container">\n        <div class="country-block-modal__icon__frame">\n          <i class="ci ci-icon-popup-warning country-block-modal__icon__frame__warning-icon"></i>\n        </div>\n      </div>\n      <div tabindex="0">\n        <modal-title>{{::$ctrl.data.headline}}</modal-title>\n        <modal-subtitle>{{::$ctrl.data.body_text}}</modal-subtitle>\n      </div>\n      <div class="country-block-modal__btn-container">\n        <button\n          class="country-block-modal__btn-container__continue-btn"\n          ng-click="$ctrl.onApproval()">\n          Continue\n        </button>\n      </div>\n    </div>\n  ',bindings:{data:"<",handleContinue:"&",cookieKey:"<",activeElement:"<"},controller:["scFlowModalService","ipCookie",function(e,n){var t=this;this.onApproval=function(){n(t.cookieKey,!0,{expires:1,path:"/"}),e.clearFocus(),e.close(),t.handleContinue()}}]}),(()=>{var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.accessibilityService=e}angular.module("classy").component("entitySwitchModal",{template:'\n      <modal-frame>\n\n        <modal-title tabindex="0">{{:: $ctrl.title }}</modal-title>\n\n        <div class="entity-switch-modal__container">\n          <a class="entity-switch-modal__button" \n          role="button"\n          href=""\n          ng-if="!entity.hide"\n          ng-repeat="entity in $ctrl.entities"\n          ng-click="entity.onSelect()"\n          ng-keydown="$ctrl.select(entity, $event)"\n          ng-class="{ disabled: $ctrl.isDisabled }">\n            <i class="{{:: entity.icon }} entity-switch-modal__icon"></i>\n            <span class="entity-switch-modal__message">\n              {{:: entity.message }}\n            </span>\n          </a>\n        </div>\n        \n      </modal-frame>\n    ',bindings:{entities:"<",title:"<"},controller:(n.$inject=["accessibilityService"],e(n,null,[{key:"$inject",get:function(){return["accessibilityService"]}}]),e(n,[{key:"$onInit",value:function(){this.disableButtons=!1}},{key:"select",value:function(e,n){n&&!this.accessibilityService.isValidKeyBoardEvent(n)||(this.disableButtons=!0,_.find(this.entities,e).onSelect())}}]),n)})})(),angular.module("classy").component("exitCartModal",{template:'\n      <modal-frame theme="\'dark\'">\n\n        <modal-title ng-if="!$ctrl.isReserved">Your cart is not yet reserved!</modal-title>\n        <modal-subtitle>Are you sure you\'d like to leave?</modal-subtitle>\n        <div class="exit-cart-modal__btn-container">\n          <button class="exit-cart-modal__btn"\n          ng-click="$ctrl.exitAction()"\n          ng-style="{ \'background-color\': $ctrl.primaryColor }">\n            Yes, leave cart.\n          </button>\n          <p class="exit-cart-modal__cancel"\n          ng-click="$ctrl.stayAction()"\n          tabindex="0">Stay on this page.</p>\n        </div>\n\n      </modal-frame>\n    ',bindings:{exitAction:"&",stayAction:"&?",primaryColor:"&?",isReserved:"<?"},controller:["scFlowModalService",function(e){var n=this,t={stayAction:e.close,isReserved:!0};this.$onInit=function(){_.defaultsDeep(n,t)}}]}),angular.module("classy").component("incompleteFormAlertModal",{template:'\n      <div class="incomplete-form-alert-modal">\n        <modal-title>Are you sure?</modal-title>\n        <modal-subtitle>You will lose the information on this page if you leave.</modal-subtitle>\n        <div class="incomplete-form-alert-modal__btns">\n          <div class="incomplete-form-alert-modal__btn--leave"\n          ng-click="$ctrl.leave()">Exit</div>\n\n          <div class="incomplete-form-alert-modal__btn--confirm"\n          ng-click="$ctrl.onClose()">Stay on page</div>\n        </div>\n      </div>\n    ',bindings:{cart:"=",leave:"&",onClose:"&?"},controller:["scFlowModalService",function(e){var n={onClose:function(){e.close()}};this.$onInit=function(){_.defaultsDeep(this,n)}}]}),angular.module("classy").component("joinTeamModal",{template:'\n      <modal-frame theme="\'dark\'">\n\n        <modal-title>{{ $ctrl.title }}</modal-title>\n        <modal-subtitle data-ng-if="$ctrl.subtitle">{{ $ctrl.subtitle }}</modal-subtitle>\n\n        <div class="join-team-modal__avatars">\n          <img class="join-team-modal__avatar" ng-src="{{ $ctrl.fundraisingPage.logo.src ? $ctrl.fundraisingPage.logo.src : ($ctrl.fundraisingPage.logo.cdn_url ? $ctrl.fundraisingPage.logo.cdn_url : \'/static/global/images/individual_default_image.png\')}}" />\n          <i class="fa fa-arrow-right"></i>\n          <img class="join-team-modal__avatar" ng-src="{{ $ctrl.newTeam.logo.src ? $ctrl.newTeam.logo.src : ($ctrl.newTeam.logo.cdn_url ? $ctrl.newTeam.logo.cdn_url : \'/static/global/images/team_default_image.png\') }}" />\n        </div>\n\n        <p class="join-team-modal__explainer-title">\n          {{ $ctrl.currentTeam.id ? \'Switching to\' : \'Joining\' }} this team means you will\n        </p>\n        <p class="join-team-modal__explainer" ng-if="$ctrl.currentTeam.id">\n          Leave {{ $ctrl.currentTeam.name }}\n        </p>\n        <p class="join-team-modal__explainer">\n          Move all {{ $ctrl.adminLingo ? ($ctrl.fundraisingPage.alias || $ctrl.fundraisingPage.title) + "\'s" : "your" }} progress to {{ $ctrl.newTeam.name }}\n        </p>\n        <p class="join-team-modal__explainer">\n          {{ $ctrl.adminLingo ? ($ctrl.fundraisingPage.alias || $ctrl.fundraisingPage.title) + \' will be able to access\' : \'Access\' }} this team from the Fundraiser Dashboard\n        </p>\n\n        <div class="join-team-modal__button-container"">\n          <a href class="join-team-modal__button cancel"\n            ng-click="$ctrl.closeModal()">\n            Cancel\n          </button>\n\n          <a href class="join-team-modal__button join"\n            ng-click="$ctrl.confirmJoin()"\n            ng-style="{ \'background-color\': $ctrl.primaryColor }">\n            {{ $ctrl.currentTeam.id ? \'Switch\' : \'Join\' }}\n          </a>\n        </div>\n\n        <div class="create-flow_processing">\n          <div class="create-flow_processing-spinner white"\n          data-ng-style="{color: $ctrl.primaryColor}"></div>\n        </div>\n      </modal-frame>\n    ',bindings:{fundraisingPage:"<",newTeam:"<",confirmJoin:"&",currentTeam:"<?",closeCallback:"&?"},controller:["$scope","$state","scThemesService",function(e,n,t){var a=this,i={currentTeam:{},primaryColor:_.get(t,"active.current.styles.primaryColor","#36bff7")};this.closeModal=function(){this.closeCallback&&this.closeCallback(),e.$root.flowModal.close(!1)},this.$onInit=function(){_.defaultsDeep(a,i),a.adminLingo=!!n.includes("admin.manage.campaign"),a.adminLingo?a.title=a.currentTeam.id?"Transfer "+(a.fundraisingPage.alias||a.fundraisingPage.title)+" to this team?":"Add "+(a.fundraisingPage.alias||a.fundraisingPage.title)+" to this team?":(a.title=a.currentTeam.id?"Switch to this team?":"Join this team?",a.subtitle="Hey "+a.fundraisingPage.alias+"!")}}]}),angular.module("classy").component("mobileCartModal",{template:'\n      <div class="mobile-cart__container"\n      ng-class="{\'empty\': !$ctrl.cart.stagedItems.length}">\n\n        <modal-title ng-if="$ctrl.cart.stagedItems.length">Your order</modal-title>\n        <modal-title ng-if="!$ctrl.cart.stagedItems.length">Your cart is currently empty.</modal-title>\n        <div class="mobile-cart">\n          <registration-cart-list data-cart="$ctrl.cart"></registration-cart-list>\n        </div>\n      </div>\n    ',bindings:{cart:"="}}),angular.module("classy").component("restartCartModal",{template:'\n      <div class="restart-cart-modal" role="dialog" aria-labelledby="dialog_start_over_warning">\n        <div id="dialog_start_over_warning">\n          <modal-title>Are you sure you want to start over?</modal-title>\n          <modal-subtitle>This will release your {{::$ctrl.ticketTerm}}.</modal-subtitle>\n        </div>\n        <div class="restart-cart-modal__btns">\n          <button class="restart-cart-modal__btn--confirm"\n          ng-style="{\'background-color\': $ctrl.primaryColor}"\n          ng-click="$ctrl.startOver($ctrl.item)">Yes, start over.</button>\n          <button\n          class="restart-cart-modal__btn--cancel"\n          ng-click="$ctrl.cancel()">Stay on this page.</button>\n        </div>\n      </div>\n    ',bindings:{cart:"=",item:"=?"},controller:["$state","scFlowModalService","scCartService","scCampaignsService","scThemesService","scCurrencyService","ticketTerms","registrationRoutes","scAnalytics",function(t,e,a,i,n,o,r,s,l){var c=s.TICKETS_ROUTE,d=s.CAMPAIGN_ROUTE;this.primaryColor=n.active.current.styles.primaryColor,this.ticketTerm=r[n.active.getTicketTerm()].plural,this.startOver=function(e){var n;a.create().then(function(){"required"==i.active.current.team_membership_policy?t.go(d):t.go(c)}),e&&Object.prototype.hasOwnProperty.call(e,"product_id")&&(n="USD",i.active&&i.active.current&&(n=o.getEntityCampaignCurrency(i.active.current)),l.eventBeacon({category:"frs "+i.active.current.type,action:"remove",label:"Remove from Cart",ticket_id:e.product_id,product_name:e.name,currency:n}))},this.cancel=function(){e.close()}}]}),angular.module("classy").component("teamDetailsModal",{template:'\n      <modal-frame>\n\n        <modal-title>{{:: $ctrl.title }}</modal-title>\n\n        <form class="team-details-modal__form"\n        novalidate\n        name="create_team_details"\n        data-sc-submit="$ctrl.onNext()">\n          <form-table>\n\n            \x3c!-- Name --\x3e\n            <form-row>\n              <team-name-field\n              model="$ctrl.teamNameModel"\n              campaign-id="$ctrl.campaignId"\n              primary-color="$ctrl.primaryColor"\n              validate-inline="true">\n              </team-name-field>\n            </form-row>\n\n            \x3c!-- Goal --\x3e\n            <form-row ng-if="$ctrl.teamsCanSetGoal">\n              <currency-field\n              model="$ctrl.teamGoalModel"\n              name="\'goal\'"\n              label="\'Set Team Fundraising Goal\'"\n              sub-label="\'Currency cannot be changed once a donation to your team has been made.\'"\n              placeholder="$ctrl.campaign.current.default_team_goal"\n              min="1"\n              required="true">\n              </currency-field>\n            </form-row>\n\n            \x3c!-- Description --\x3e\n            <form-row ng-if="$ctrl.teamsCanSetAppeal">\n              <froala-field\n              model="$ctrl.teamDescriptionModel"\n              name="\'headline\'"\n              label="$ctrl.descriptionLabel"\n              froala-options="$ctrl.froalaOptions"\n              wrapper-class="\'form__froala-wrapper--dark create-flow_textarea-wrap\'"\n              required="true"\n              aria-label="Enter Team Page Headline">\n              </froala-field>\n            </form-row>\n\n            \x3c!-- Vanity URL --\x3e\n            <div ng-if="$ctrl.includeVanityUrl"\n              <form-row>\n                <vanity-url-field\n                model="$ctrl.teamVanityUrlModel"\n                label="$ctrl.vanityUrlLabel"\n                campaign-id="$ctrl.campaignId"\n                entity-type="\'fundraising-teams\'">\n                </vanity-url-field>\n              </form-row>\n            </div>\n          </form-table>\n\n          <modal-submit primary-color="$ctrl.primaryColor">\n            Create Team\n          </modal-submit>\n\n        </form>\n\n      </div>\n    ',bindings:{campaignId:"<",primaryColor:"<",title:"<",onNext:"&",teamNameModel:"=",teamGoalModel:"=",teamDescriptionModel:"=",teamsCanSetGoal:"=",teamsCanSetAppeal:"=",teamVanityUrlModel:"=",includeVanityUrl:"<?"},controller:["scFroalaOptions","scCampaignsService","CHAR_LIMITS",function(e,n,t){var a=this;this.$onInit=function(){a.froalaOptions=e({type:"textarea-counter"},{charCounterCount:!0,charCounterMax:t.DEFAULT_PAGE_APPEAL}),a.descriptionLabel="Team Page Headline",a.campaign=n.active}}]}),angular.module("classy").component("teamQuestionsModal",{template:'\n      <modal-frame>\n\n        <modal-title>{{:: $ctrl.title }}</modal-title>\n        <modal-subtitle>{{:: $ctrl.subtitle }}</modal-subtitle>\n\n        <form class="team-questions-modal__form"\n        novalidate\n        name="create_team_questions"\n        data-sc-submit="$ctrl.onNext()">\n        \n          <form-table>\n\n            <custom-fields \n            questions="$ctrl.questions"\n            answers="$ctrl.answers"></custom-fields>\n\n          </form-table>\n\n          <modal-submit primary-color="$ctrl.primaryColor">\n            {{:: $ctrl.submitText }}\n          </modal-submit>\n\n        </form>\n\n      </div>\n    ',bindings:{campaignId:"<",primaryColor:"<",title:"<",subtitle:"<",submitText:"<",questions:"<",answers:"<",onNext:"&"}}),(()=>{function e(i){return{replace:!0,require:"ngModel",scope:!0,transclude:!0,template:'<button type="button" class="{{::classStem}} {{checked}}" data-ng-click="toggle()" role="checkbox" aria-checked="{{ !!checked }}"><span class="{{::classStem}}_input"></span><span class="{{::classStem}}_label" data-ng-transclude aria-hidden="true"></span></button>',link:function(n,e,t,a){n.classStem=t.classStem?i(t.classStem)(n):"sc-checkbox",n.checked="",n.toggle=function(){var e=!a.$modelValue;a.$setViewValue(e),a.$setTouched(),a.$setDirty(),n.checked=a.$modelValue?"checked":""},a.$isEmpty=function(e){return!e},a.$formatters.push(function(e){n.checked=e?"checked":""})}}}e.$inject=["$parse"],angular.module("classy").directive("scCheckbox",e)})(),(()=>{function e(h,v,b,y,k){return{replace:!0,link:function(t,e,n){var a=n.labelClass?h(n.labelClass)(t):"donation",i=h(n.scCustomFields)(t),o=angular.element('<label class="'+a+'_form-field-label"></label>'),r=h(n.modelPrefix)(t)||"",s=h(n.modelSuffix)(t)||"",l=h(n.formName)(t),c=h(n.nameSuffix)(t)||"";if("text_opt_in"!=i.tag||k.active.current.mgive_settings){var d=void 0,u=void 0,m=(t.openFlags=[],t.openDate=function(e,n){e.preventDefault(),t.openFlags[n]=!0},o.addClass("sc-custom-question-label"),"boolean"==i.type&&"text_opt_in"!==i.tag?(o.text("Event Waiver"),o.addClass("waiver-label")):o.text(i.label),i.is_required&&o.addClass("required"),o.text());switch(i.type){case"string":(d=angular.element('<input qa-id="'+y.singleLineTextInput+'" />')).attr({type:"text",class:"form_text-input desktop-full",maxlength:"255"});break;case"text":d=angular.element('<textarea qa-id="'+y.textAreaField+'"></textarea>'),"signup_questions"!==l&&"create_fundraising_page_questions"!==l&&"create_team_questions"!==l||d.attr({"data-froala":"froalaOptions"}),d.attr({class:"form_text-area desktop-full",maxlength:"255"});break;case"date":d=angular.element('<input qa-id="'+y.dateField+'" />'),"birthdate"==i.tag?d.attr({"data-sc-birthday":""+r+i.id+s,name:"cq_"+i.id+c}):d.attr({class:"datepicker form_text-input desktop-third mobile-ls-half","data-uib-datepicker-popup":"MM/dd/yyyy","data-is-open":"visible","data-ng-click":"visible = true",type:"text","show-weeks":!1,"ng-model":r+i.id+s,name:"cq_"+i.id+c,role:"combobox",placeholder:"Enter date in the format: MM/DD/YYYY"}),o.text(m+" (MM/DD/YYYY)");break;case"yes_no":(d=angular.element("<input />")).attr({type:"radio",value:"yes",id:"radio-custom-"+i.id+"-y",class:"form_radio-input"}),(u=angular.element("<input />")).attr({type:"radio",value:"no",id:"radio-custom-"+i.id+"-n",class:"form_radio-input",name:"cq_"+i.id+c,"ng-model":r+i.id+s});break;case"integer":(d=angular.element('<input qa-id="'+y.singleLineTextInput+'" />')).attr({type:"number",value:h(r+i.id+s)(t),class:"form_text-input desktop-full","sc-numeric":!0});break;case"currency":(d=angular.element('<input qa-id="'+y.singleLineTextInput+'" />')).attr({type:"number",value:h(r+i.id+s)(t),class:"dollar form_text-input desktop-half","sc-dollar":!0});break;case"enum":(d=angular.element('<select qa-id="'+y.selectField+'"></select>')).attr({class:"form_select desktop-third mobile-ls-full"}),d.html('<option value="">Please Select</option>'),i.enum_options.forEach(function(e){var e=e.label,n=angular.element("<option></option>");n.text(e).val(e),d.append(n)});break;case"boolean":(d=angular.element('\n          <input class="form_checkbox-input" aria-describedby="checkbox-customq-'+i.id+'__sublabel" />')).attr({type:"checkbox","ng-checked":r+i.id+s+"== 1",id:"checkbox-customq-"+i.id,"ng-model":r+i.id+s})}"state"===i.tag&&(d=angular.element("<div data-sc-select-states></div>")).attr({class:"form_select desktop-third"});var g,n=_.get(k,"active.current.restricted_country_information"),p=("country"===i.tag&&n&&(d=angular.element("<div data-sc-select-countries></div>")).attr({class:"form_select desktop-third"}),d.attr("id")||(d.attr("id","custom_field_{{ $index }}"),o.attr("for","custom_field_{{ $index }}")),d.attr({name:"cq_"+i.id+c}),"date"!=i.type&&d.attr({"ng-model":r+i.id+s}),angular.element("<div></div>")),f=angular.element("<span></span>");p.attr({"ng-show":"showFormError('cq_"+i.id+c+"')",class:"form_error",role:"alert"}),i.is_required&&(d.attr("required","true"),"yes_no"==i.type&&u.attr("required","true"),(f=angular.element("<span></span>")).attr({"ng-show":l+".cq_"+i.id+c+".$error.required",class:"sc-custom-question-error-required"}),"currency"===i.type?f.text("Please enter a dollar amount."):f.text("The field "+i.label+" is required."),p.append(f)),"integer"==i.type?((f=angular.element("<span></span>")).attr({"ng-show":l+".cq_"+i.id+c+".$error.numeric",class:"sc-custom-question-error-numeric"}),f.text("Please enter numbers only."),p.append(f)):"currency"==i.type&&((f=angular.element("<span></span>")).attr({"ng-show":l+".cq_"+i.id+c+".$error.dollar",class:"sc-custom-question-error-dollar"}),f.text("Please enter a valid dollar amount."),p.append(f)),e.after(v(p)(t)),"text_opt_in"!==i.tag&&e.append(o),o.wrap('<div class="'+a+'_form-table sc-custom-question-table"></div>'),"boolean"==i.type&&"text_opt_in"!==i.tag&&(g=angular.element("<span></span>"),e.append(g),g.attr({class:"waiver desktop-full"}).html(b("nl2br")(i.label))),e.append(d),"date"==i.type?(d.wrap('<span class="dateField"></span>'),f.attr({"ng-show":l+".cq_"+i.id+c+".$error.date",class:"sc-custom-question-error-date"}),f.text("Please enter a valid date."),p.append(f)):"yes_no"==i.type?(d.wrap('<div role="radiogroup" aria-labelledby="custom_label_{{ $index }}" class="'+a+'_form-field-thin"></div>'),o.attr("id","custom_label_{{ $index }}"),d.after(u),d.after('<label for="radio-custom-'+i.id+'-y" class="form_radio-label" qa-id="'+y.radioField+'"> Yes</label>'),u.after('<label for="radio-custom-'+i.id+'-n" class="form_radio-label" qa-id="'+y.radioField+'"> No</label>')):"currency"==i.type?d.wrap('<div class="dollarAmtField"></div>'):"text_opt_in"==i.tag?d.wrap('<div class="form_field-input desktop-full waiver-checkbox"></div>').after('\n          <label\n            for="checkbox-customq-'+i.id+'"\n            class="form_checkbox-label"\n            qa-id="'+y.checkboxField+'">\n            Receive text-message updates and info on your cell phone\n          </label>\n          <div id="checkbox-customq-'+i.id+'__sublabel" class="form__sublabel cq__checkbox-sublabel">'+k.active.current.mgive_settings.messaging+"</div>"):"boolean"==i.type?d.wrap('<div class="form_field-input desktop-full waiver-checkbox"></div>').after('\n          <label\n            for="checkbox-customq-'+i.id+'"\n            class="form_checkbox-label"\n            qa-id="'+y.checkboxField+'">\n            I Accept the Waiver Agreement\n          </label>'):"country"===i.tag&&n&&d.after('<div class="form__helper">\n            '+n.drop_down_text+"\n          </div>"),v(e.contents())(t)}}}}e.$inject=["$parse","$compile","$filter","scQaId","scOrganizationsService"],angular.module("classy").directive("scCustomFields",e)})(),(()=>{e.$inject=["scResourceSearchModel"];var t=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e){var n=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var t=this,e=(a.__proto__||Object.getPrototypeOf(a)).call(this,"campaigns",e,n);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),t(a,[{key:"getReadableTypeName",value:function(){return"campaigns"}},{key:"getName",value:function(e){return!SC.public&&e.internal_name||e.name}},{key:"getDescription",value:function(e){return e.description.replace(/<\/?(.*?)>/g,"")}}]),a}angular.module("classy").factory("scCampaignSearchModel",e)})(),(()=>{e.$inject=["scResourceSearchModel"];var t=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e){var n=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var t=this,e=(a.__proto__||Object.getPrototypeOf(a)).call(this,"fundraising-pages",e,n);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),t(a,[{key:"getReadableTypeName",value:function(){return"fundraisers"}},{key:"getLogo",value:function(e){return _.get(e,"logo.asset.src",_.get(e,"logo.cdn_url","/static/global/images/individual_default_image.png"))}},{key:"getName",value:function(e){return e.alias||e.title}},{key:"getDescription",value:function(e){return _.get(e,"intro_text","").replace(/<\/?(.*?)>|&nbsp;/g,"").replace(/&amp;/g,"&")}}]),a}angular.module("classy").factory("scFundraisingPageSearchModel",e)})(),(()=>{e.$inject=["scResourceSearchModel"];var t=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e){var n=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var t=this,e=(a.__proto__||Object.getPrototypeOf(a)).call(this,"fundraising-teams",e,n);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),t(a,[{key:"getReadableTypeName",value:function(){return"teams"}},{key:"getLogo",value:function(e){return _.get(e,"logo.asset.src",_.get(e,"logo.cdn_url","/static/global/images/team_default_image.png"))}},{key:"getName",value:function(e){return e.name}}]),a}angular.module("classy").factory("scFundraisingTeamSearchModel",e)})(),(()=>{e.$inject=["scResourceSearchModel"];var t=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function e(e){var n=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var t=this,e=(a.__proto__||Object.getPrototypeOf(a)).call(this,"members",e,n);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),t(a,[{key:"getReadableTypeName",value:function(){return"members"}},{key:"getName",value:function(e){return e.first_name+" "+e.last_name}},{key:"getDescription",value:function(){return""}}]),a}angular.module("classy").factory("scMemberSearchModel",e)})(),(()=>{function e(y,k,w,C,S,T){return{require:["ngModel","^?form"],templateUrl:"global/directives/form/scResourceSearch/template",link:function(o,t,e,n){var a=function e(n,t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.label=n,this.services=(n=_.isArray(t)?t:[t],_.map(n,function(e){return new(S.get(e.service))(e.fields,e.queryParams)}))},i=["image","description"],r=n[0],n=n[1],s=!_.isUndefined(o.admin)&&o.admin(),l=o.bc||"resource-search",c=(()=>{var n,t;return _.isUndefined(o.include)?{image:!0,description:!1}:(n=o.include(),t={},_.forEach(i,function(e){t[e]=-1<n.indexOf(e)}),t)})(),d=(()=>{var t=[],e=o.scResourceSearch();return _.isPlainObject(e)&&!e.service?_.forEach(e,function(e,n){t.push(new a(n,e))}):t.push(new a(null,e)),t})(),u=13,m=38,g=40;o.activeMode=d[0],o.admin=s,o.bc=l,o.disabled=!1,o.features=c,o.modes=d,o.scQaId=T,o.results=[],o.clearSelection=function(){_.isFunction(o.onClear)&&o.onClear({$removed:o.selection});o.focusSearchBox=!0,h()},o.getSearchPlaceholder=function(){var e=_(o.activeMode.services).map(function(e){return e.getReadableTypeName()}).uniq().value();if(1==e.length)return"search "+e[0];var n=e.pop();return"search "+e.join(", ")+" and "+n},o.isFetchingResults=function(){return o.query&&!o.isBlurred&&!o.selection&&!o.results.length&&o.isFetching},o.isResultsEmpty=function(){return o.query&&!o.isBlurred&&!o.selection&&o.resultsFor===o.query&&!o.results.length&&!o.isFetching},o.onInputFocus=v,o.selectResource=function(e){var n=e._service.getType();_.isFunction(o.onSelect)&&o.onSelect({$selection:e,$type:n});r.$setViewValue(e),o.resourceType=n,f(e),o.focusRemoveButton=!0},o.showDropdown=function(){return(!o.selection||o.showDropdownWithSelection)&&1<d.length},o.showResults=function(){return o.query&&!o.isBlurred&&!o.selection&&o.results.length},o.getActiveDescendentId=function(){var e="search-result";{if(o.isResultsEmpty())return e+"--empty";if(o.selection)return e+"-"+o.selection.id;if(!o.query)return null}return e+"-container"},o.onSearchBoxKeydown=function(e){o.results&&o.results.length&&(e.keyCode===u||e.keyCode===g?(e.preventDefault(),$("#search-result-"+o.results[0].id).focus()):e.keyCode===m&&(e.preventDefault(),$("#search-result-"+o.results[o.results.length-1].id).focus()))},o.onResultItemKeydown=function(e,n){{var t,a;o.results&&o.results.length&&(t=o.results.findIndex(function(e){return e===n}),e.keyCode===g?(e.preventDefault(),(a=t+1)>o.results.length-1&&(a=0),a=o.results[a].id,$("#search-result-"+a).focus()):e.keyCode===m&&(e.preventDefault(),(a=t-1)<0&&(a=o.results.length-1),e=o.results[a].id,$("#search-result-"+e).focus()))}},_.isUndefined(o.selectInitial)&&(o.selectInitial=!0);function p(e,n){var a=e&&e.trim(),e=n&&n.trim(),i=o.activeMode;a!==e&&(a?(o.isFetching=!0,C.cancel(o.debounce),o.debounce=C(function(){var n,t,e;n=a,t=i,e=_.map(t.services,function(e){return e.search(n,o.context&&o.context())}),w.all(e).then(function(e){n!==o.query.trim()||o.selection||t===o.activeMode&&(o.results=_.flattenDeep(e),o.results=_.uniq(o.results,"id"),o.results=o.results.filter(function(n,e,t){return e===t.findIndex(function(e){return e.id===n.id&&e.title===n.title})}),o.resourceFilter&&"function"==typeof o.resourceFilter&&(o.results=o.resourceFilter({results:o.results})),o.resultsFor=n)}).catch(function(e){k.warn(e)}).finally(function(){o.isFetching=!1})},300)):(o.results=[],o.resultsFor=null,C.cancel(o.debounce),o.isFetching=!1))}function f(e){o.selection=e,o.query=""}function h(){r.$setViewValue(o.nullValue),o.selection=null,o.query=""}function v(){C(function(){o.isBlurred=!1})}function b(n){C(function(){var e=n.originalEvent;angular.element(e.target).closest(t).length||(o.isBlurred=!0,o.selection)||(o.query="")})}y.enabled(t,!1),n&&n.$removeControl(n.scResourceSearchQuery),o.$watch("query",p),o.$watch("activeMode",function(e,n){e!==n&&h()}),t.find("input").on("focus",v),angular.element("body").on("click",b),o.$on("$destroy",function(){angular.element("body").off("click",b)}),r.$parsers.push(function(e){return o.idOnly?_.get(e,"id",null):e}),r.$formatters.push(function(e){o.disabled=!0;var n,t;return(e?(n=_(d).map(function(e){return e.services}).flatten().value(),(t=_.find(n,function(e){return e.getType()==o.resourceType}))||"fundraising-teams"!=o.resourceType||(t=new(S.get("scFundraisingTeamSearchModel"))),_.find(d,function(e){_.find(e.services,function(e){if(e.getType()==o.resourceType)return!0})&&(o.activeMode=e)}),o.idOnly?t?t.getResourceById(e).then(function(e){return e._service=t,e}):w.resolve(null):(e._service||(e._service=t),w.resolve(e))):w.resolve(null)).then(function(e){o.selectInitial&&f(e)}).catch(function(e){k.error(e),f(null)}).finally(function(){o.disabled=!1}),null})},scope:{scResourceSearch:"&",resourceType:"=?",context:"&?",nullValue:"=?",selectInitial:"=?",idOnly:"=?",onFocus:"&?",onSelect:"&?",onClear:"&?",include:"&?",admin:"&?",bc:"@",showDropdownWithSelection:"=?",resourceFilter:"&?"}}}e.$inject=["$animate","$log","$q","$timeout","$injector","scQaId"],angular.module("classy").directive("scResourceSearch",e)})(),(()=>{n.$inject=["$http","$q"];var e=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(u,m){return e(a,[{key:"getName",value:function(){throw new Error("ResourceSearchModel#get must be implemented by child class.")}},{key:"getReadableTypeName",value:function(){throw new Error("ResourceSearchModel#getReadableTypeName must be implemented by child class.")}},{key:"search",value:function(e,n){var t=this;return this.query(e,n).then(function(e){return _.forEach(e,function(e){e._service=t}),e})}},{key:"query",value:function(e,n){n=this.buildScope(n)+"/"+this.type;return this.executeQueries(n,e)}},{key:"buildScope",value:function(e){var n,t,a,i;return e?(n=e.organization_id,t=e.campaign_id,a=e.fundraising_team_id,i=e.fundraising_page_id,"/frs-api"+((e=e.member_id)?"/members/"+e:i?"/fundraising-pages/"+i:a?"/fundraising-teams/"+a:t?"/campaigns/"+t:n?"/organizations/"+n:"")):"/frs-api"}},{key:"executeQueries",value:function(n,t){var e,a,i=this,o=[],r=_.clone(this.fields),s=_.get(this.queryParams,"filter",null)?","+this.queryParams.filter:"",l=_.findIndex(r,function(e){return-1<e.indexOf("last_name")}),c=_.findIndex(r,function(e){return-1<e.indexOf("first_name")}),d=-1<_.indexOf(t," ");return-1<l&&-1<c&&d&&(d=t.indexOf(" "),e=t.substr(0,d).trim(),d=t.substr(d+1).trim(),a=r.splice(c,1)[0],c=r.splice(l-(c<l?1:0),1)[0],l=a+"*="+encodeURIComponent(e)+","+c+"*="+encodeURIComponent(d),a=u.get(n,{params:_.defaults({filter:l+s},this.queryParams)}).then(function(e){return e.data.data}),o.push(a)),r&&r.length&&-1!==r.indexOf("id")&&_.isNaN(+t)&&!t.match(/^[0-9a-fA-F]{24}$/)?m.resolve([]):(_.forEach(r,function(e){e=""+e+("id"===e?"=":"*=")+encodeURIComponent(t),e=u.get(n,{params:_.defaults({filter:e+s},i.queryParams)}).then(function(e){return e.data.data});o.push(e)}),m.all(o).then(function(e){return _.flatten(e)}))}},{key:"getDescription",value:function(e){return _.get(e,"description","").replace(/<\/?(.*?)>|&nbsp;/g,"").replace(/&amp;/g,"&")}},{key:"getResourceById",value:function(e){return u.get("/frs-api/"+this.type+"/"+e).then(function(e){return e.data})}},{key:"getLogo",value:function(e){return _.get(e,"logo.asset.src",_.get(e,"logo.cdn_url",_.get(e,"thumbnail_medium")))||"/static/global/images/individual_default_image.png"}},{key:"getType",value:function(){return this.type}}]),a;function a(e,n,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.type=e,this.fields=n,this.queryParams=t}}angular.module("classy").factory("scResourceSearchModel",n)})(),(()=>{e.$inject=["scResourceSearchModel"];var t=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function e(n,t,a){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,t);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(a):void 0:null!==(i=Object.getPrototypeOf(n))?e(i,t,a):void 0};function e(e){var n=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var t=this,e=(a.__proto__||Object.getPrototypeOf(a)).call(this,"supporters",e,n);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e),t(a,[{key:"getReadableTypeName",value:function(){return"supporters"}},{key:"getLogo",value:function(e){return _.get(e,"member.thumbnail_medium",i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getLogo",this).call(this,e))}},{key:"getName",value:function(e){return e.first_name+" "+e.last_name}},{key:"getDescription",value:function(){return""}}]),a}angular.module("classy").factory("scSupporterSearchModel",e)})(),angular.module("classy").directive("scComment",function(){return{replace:!0,scope:{commentable:"=scComment"},templateUrl:"global/directives/interaction/scComment/template",link:function(){}}}),angular.module("classy").directive("scCommentsButton",function(){return{replace:!0,scope:{commentable:"=scCommentsButton",action:"&?",showCount:"=?"},templateUrl:"global/directives/interaction/scCommentsButton/template",link:function(e){e.action=e.action||_.noop}}}),angular.module("classy").directive("scCommentsList",function(){return{replace:!0,scope:{commentable:"=scCommentsList"},templateUrl:"global/directives/interaction/scCommentsList/template",link:function(){}}}),(()=>{function e(o,r,s){return{replace:!0,scope:{likeable:"=scLikesButton",showCount:"=?",endpointPrefix:"=?"},templateUrl:"global/directives/interaction/scLikesButton/template",link:function(t){var a=t.endpointPrefix||(t.likeable,t.likeable.visibility?"posts":"comments"),i=!1;t.toggleLike=function(){var e=_.get(s,"active.current.id",!1),n=t.likeable.myLike;e&&!i&&(i=!0,(n?(t.likeable.myLike=null,--t.likeable.likes_count,o({method:"DELETE",url:"/frs-api/likes/"+n.id,body:{member_id:e}}).then(_.noop,function(e){t.likeable.myLike=n,t.likeable.likes_count+=1,r.error(e)})):(t.likeable.myLike={},t.likeable.likes_count+=1,o({method:"POST",url:"/frs-api/"+a+"/"+t.likeable.id+"/likes",body:{member_id:e}}).then(function(e){t.likeable.myLike=e.data},function(e){t.likeable.myLike=null,--t.likeable.likes_count,r.error(e)}))).finally(function(){i=!1}))}}}}e.$inject=["$http","$log","scMembersService"],angular.module("classy").directive("scLikesButton",e)})(),(()=>{function e(t,a,i,o,r,s,l,c){return{replace:!0,scope:{post:"=scPost",mode:"=",preview:"=",previewBody:"@",previewTitle:"@",toPostAction:"&?",toListAction:"&?",story:"=?",demo:"=?",excerpt:"=?",latestPost:"=?",postType:"=?",commentsAction:"&?",commentsCount:"=?"},templateUrl:"global/directives/interaction/scPost/template",link:function(n){t.getPrimaryColor().then(function(e){n.primaryColor=e}),n.isMobile=l.isMobile(),n.fundraiser=_.get(r,"active.current",!1),n.team=_.get(s,"active.current",!1),n.theme=o.active.current,n.$watch("commentsCount",function(e){e&&!_.isEmpty(n.post)&&(n.post.comments_count=e)}),n.getAuthorPhoto=function(){return n.fundraiser&&_.get(n.fundraiser,"logo.asset",!1)?n.fundraiser.logo.asset.src:n.team?s.getTeamPhoto():"/static/global/images/individual_default_image.png"};var e=n.post.body;n.excerpt&&"list"==n.mode?n.postBody=c(e,{limit:300}).html:n.postBody=e,n.share=function(){var e=a.getShareableUrl("post");i.share(e)}}}}e.$inject=["scBrandingService","scPagesService","scFacebook","scThemesService","scFundraisingPagesService","scFundraisingTeamsService","scUserAgent","truncateHtml"],angular.module("classy").directive("scPost",e)})(),(()=>{function e(e){return e("scColorpickerField")}e.$inject=["scField"],angular.module("classy").directive("scColorpickerField",e)})(),(()=>{function e(e){return e("scColorpickerMiniField")}e.$inject=["scField"],angular.module("classy").directive("scColorpickerMiniField",e)})(),(()=>{function e(e,t){return e("scDateTimezoneField",{link:function(n){n.$watch("options.timezone.startCondensed",function(e){n.ui={collection:e?"condensed":"all"}}),n.onKeyDown=function(e){e&&t.isValidKeyBoardEvent(e)&&("condensed"===n.ui.collection?n.ui.collection="all":"all"===n.ui.collection&&(n.ui.collection="condensed"))}}})}e.$inject=["scField","accessibilityService"],angular.module("classy").directive("scDateTimezoneField",e)})(),(()=>{function e(e,i,o,r,s,l,c,d,u){return e("scDonationSettingsField",{link:function(a){a.levelErrors=function(e,n){for(var t=0;t<n;t+=1)if(a.showFormError&&a.showFormError(e+"_"+t))return!0;return!1};var e=s.active.current,n=c.getBlockByType("donation"),t=(a.hasPay=o.hasPay(),a.showRecurringExperiment=function(){return l.RECURRING_EXPERIMENT&&o.hasPay()&&(1==parseInt(n.current["recurring-level"],10)||2==parseInt(n.current["recurring-level"],10))},a.experimentDescription='We\'re optimizing a new feature to increase monthly donations. You can opt-out below, or <a target="_blank" href="https://support.classy.org/customer/portal/articles/2892855-details-around-classy%E2%80%99s-recurring-optimization-initiative">learn more here</a>.',a.lockField=!1,a.customStyle="",SC.campaign.campaignTemplateData&&"donation"===u.step&&(t=d.getBlockByType("donation"))&&"DonationBlock.current['recurring-level']"===a.options.givingMode.model&&(a.lockField=t.item_attributes["recurring-level"].locked,a.customStyle="30%"),o.active.current);a.currency=r.getCurrencySymbol(e.raw_currency_code),a.freeOrTrialPlan=i.isFreeOrTrialPlan(t)}})}e.$inject=["scField","scSubscriptionPlan","scOrganizationsService","scCurrencyService","scCampaignsService","globalExperimentSwitch","scBlocksService","scCampaignsTemplateService","$stateParams"],angular.module("classy").directive("scDonationSettingsField",e)})(),angular.module("classy").directive("scDonationSettingsFieldRf",["$stateParams","$rootScope","accessibilityService","scField","scBlocksService","scCampaignsTemplateService","scCampaignsService","scOrganizationsService","scThemesService",function(l,c,d,e,u,m,g,p,f){return e("scDonationSettingsFieldRf",{link:function(a){var e,n,i=u.getBlockByType("donation"),t=i.current["donation-levels"],o=i.current["recurring-donation-levels"],r=i.current["recurring-level"],s=g.active;a.hasIntelligentAsk="donation"===s.current.type&&!p.getTag("data-use-restriction",!0)&&_.get(p,"active.current.plan.intelligent_ask_amounts",!1),a.isIaaActive=!1,a.iaa={isOneTimeEnabled:!1,isRecurringEnabled:!1},a.showAskAmounts=!0,a.theme=f.active.current,a.preventOldrfForDeque=p.active.preventOldrfForDeque(),a.showRecurringDonationArray=!a.preventOldrfForDeque&&"one-time"!==i.current["recurring-default"],a.frequencyError=!1,a.donationAmtError=!1,a.recurringDonationAmtError=!1,a.handleIaaChange=function(e){var n=e.oneTime,e=e.recurring,t=i.current["recurring-default"];a.iaa.isOneTimeEnabled=n,a.iaa.isRecurringEnabled=e,a.isIaaActive=n||e,a.onlyOneTimeFrequency()?a.showAskAmounts=!a.iaa.isOneTimeEnabled:a.onlyReccurringFrequency()?a.showAskAmounts=!a.iaa.isRecurringEnabled:a.showAskAmounts=!(a.iaa.isOneTimeEnabled&&a.iaa.isRecurringEnabled),a.selectDonationArray(a.iaa.isOneTimeEnabled&&!a.iaa.isRecurringEnabled),a.iaa.isOneTimeEnabled&&(n=r.findIndex(function(e){return"one-time"===e.type}),r[n].display_on_page=!0,i.current["donation-default"]=null),a.iaa.isRecurringEnabled&&(r.forEach(function(e){"one-time"!==e.type&&(e.display_on_page="monthly"===e.type)}),"one-time"!==t&&"monthly"!==t&&(i.current["recurring-default"]="monthly"),i.current["recurring-donation-default"]=null),g.active.setIntelligentAsk({oneTime:!(!a.iaa||!a.iaa.isOneTimeEnabled),recurring:!(!a.iaa||!a.iaa.isRecurringEnabled)})},a.hideFrequency=function(e){return s&&s.hasEmbeddedGiving()||a.iaa.isRecurringEnabled?"one-time"!==e&&"monthly"!==e:a.preventOldrfForDeque&&["daily","weekly","bi-weekly"].includes(e)},a.frequencyToggle=function(){var e=r.filter(function(e){return e.display_on_page});e.length<1?(i.current["recurring-default"]=r[0].type,a.frequencyError=!0):(1===e.length?(i.current["recurring-default"]=e[0].type,a.showRecurringDonationArray=!a.preventOldrfForDeque&&"one-time"!==i.current["recurring-default"]):(e.some(function(e){return e.type===i.current["recurring-default"]})||(i.current["recurring-default"]=e[0].type),a.onlyReccurringFrequency()&&(a.showRecurringDonationArray=!a.preventOldrfForDeque&&!0)),a.frequencyError=!1),a.preventOldrfForDeque||c.$broadcast("updateFrequencyInPreview",i.current["recurring-default"])},a.selectDonationArray=function(e,n){n&&!d.isValidKeyBoardEvent(n)||(a.showRecurringDonationArray=!a.preventOldrfForDeque&&e)},a.getRecurringLevels=function(){return r.filter(function(e){return"one-time"!==e.type&&e.display_on_page})},a.onlyReccurringFrequency=function(){return!r.some(function(e){return"one-time"===e.type&&e.display_on_page})},a.onlyOneTimeFrequency=function(){var e=r.filter(function(e){return e.display_on_page});return 1===e.length&&"one-time"===e[0].type},a.recurringBtnText=function(){return 1<a.getRecurringLevels().length?"recurring":a.getRecurringLevels()[0].type},a.oneTimeBtnStyle=function(){return a.iaa.isOneTimeEnabled?{"background-color":"white",color:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 0, 0, 0.4)"}:{"background-color":a.showRecurringDonationArray?"#fff":a.theme.styles.primaryColor,color:a.showRecurringDonationArray?a.theme.styles.primaryColor:"#fff",border:"2px solid "+a.theme.styles.primaryColor}},a.recurringBtnStyle=function(){return a.iaa.isRecurringEnabled?{"background-color":"white",color:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 0, 0, 0.4)"}:{"background-color":a.showRecurringDonationArray?a.theme.styles.primaryColor:"#fff",color:a.showRecurringDonationArray?"#fff":a.theme.styles.primaryColor,border:"2px solid "+a.theme.styles.primaryColor}},a.donationAmountToggle=function(e){e.display_on_page=!e.display_on_page,a.donationToggle()},a.recurringAmountToggle=function(e){e.display_on_page=!e.display_on_page,a.recurringDonationToggle()},a.frequencyTypeToggle=function(e){e.display_on_page=!e.display_on_page,a.frequencyToggle()},a.donationToggle=function(){var e=t.filter(function(e){return e.display_on_page});e.length<1?(i.current["donation-default"]=null,a.donationAmtError=!0):(1===e.length?i.current["donation-default"]=e[0].amount:e.some(function(e){return e.amount===i.current["donation-default"]})||(i.current["donation-default"]=null!==i.current["donation-default"]?e[0].amount:null),a.donationAmtError=!1)},a.recurringDonationToggle=function(){var e=o.filter(function(e){return e.display_on_page});e.length<1?(i.current["recurring-donation-default"]=null,a.recurringDonationAmtError=!0):(1===e.length?i.current["recurring-donation-default"]=e[0].amount:e.some(function(e){return e.amount===i.current["recurring-donation-default"]})||(i.current["recurring-donation-default"]=null!==i.current["recurring-donation-default"]?e[0].amount:null),a.recurringDonationAmtError=!1)},a.clearDefault=function(e){1===(a.showRecurringDonationArray?o:t).filter(function(e){return e.display_on_page}).length?e.preventDefault():a.showRecurringDonationArray?i.current["recurring-donation-default"]=null:i.current["donation-default"]=null},a.onChangeAmount=function(e,n){null!==i.current["donation-default"]&&n===a.defaultAmountIdx&&i.current["donation-default"]!==e&&(i.current["donation-default"]=e)},a.onChangeRecurringDonationAmount=function(e,n){null!==i.current["recurring-donation-default"]&&n===a.defaultRecurringAmountIdx&&i.current["recurring-donation-default"]!==e&&(i.current["recurring-donation-default"]=e)},a.disableClearDefault=function(){return 1===(a.showRecurringDonationArray?o:t).filter(function(e){return e.display_on_page}).length},SC.campaign.campaignTemplateData&&"donation"===l.step&&((e=m.getBlockByType("donation"))&&"DonationBlock.current['recurring-level']"===a.options.givingMode.model&&(a.lockFieldFrequency=e.item_attributes["recurring-level"].locked),e)&&"DonationBlock.current['donation-levels']"===a.options.levels&&(a.lockFieldDonation=e.item_attributes["donation-levels"].locked),g.active&&g.active.hasEmbeddedGiving()&&(n=!1,_.forEach(r,function(e){"one-time"!==e.type&&"monthly"!==e.type&&(e.display_on_page=!1,n=!0)}),n)&&a.frequencyToggle(),a.$watch('DonationBlock.current["donation-default"]',function(e){e&&(a.defaultAmountIdx=t.findIndex(function(e){return e.amount===i.current["donation-default"]}))}),a.$watch('DonationBlock.current["recurring-donation-default"]',function(e){e&&(a.defaultRecurringAmountIdx=o.findIndex(function(e){return e.amount===i.current["recurring-donation-default"]}))}),a.$on("DonationAmountErrorEvent",function(e,n){e.preventDefault(),a.showRecurringDonationArray=!a.preventOldrfForDeque&&n})}})}]),(()=>{function e(e){return e("scErrorField")}e.$inject=["scField"],angular.module("classy").directive("scErrorField",e)})(),(()=>{function e(e){return e("scImgCropPreviewField",{controller:["$scope","scCampaignsTemplateService","$stateParams",function(e,n,t){var a;e.lockField=!1,SC.campaign.campaignTemplateData&&("team"===t.step&&(a=n.getBlockByType("team"))&&"teamBlock.current.defaultTeamLogo"===e.options.model&&(e.lockField=a.item_attributes.defaultTeamLogo.locked),"fundraiser"===t.step)&&(a=n.getBlockByType("fundraiser"))&&"fundraiserBlock.current.defaultFundraiserLogo"===e.options.model&&(e.lockField=a.item_attributes.defaultFundraiserLogo.locked)}],link:function(i){i.ui={loading:!1,previewStyle:function(){var e=i.options.previewWidth,n=i.options.previewHeight,t=i.options.width,a=i.options.height;return{width:(e||t)+"px",height:(n||a)+"px",lineHeight:(n||a)+"px"}},mmConfig:_.merge(i[i.options.mmConfig]||{},{image:{crop:{width:i.options.width||250,height:i.options.height||250}}})}}})}e.$inject=["scField"],angular.module("classy").directive("scImgCropPreviewField",e)})(),(()=>{function e(e){return e("scImgListField")}e.$inject=["scField"],angular.module("classy").directive("scImgListField",e)})(),(()=>{function e(e){return e("scLocationField")}e.$inject=["scField"],angular.module("classy").directive("scLocationField",e)})(),(()=>{function e(e){return e("scSubcheckboxField")}e.$inject=["scField"],angular.module("classy").directive("scSubcheckboxField",e)})(),(()=>{function e(e){return e("scTextBoxField",{link:function(e){e.ui={inputCounterClass:{"has-counter":!!e.options.characterCounter},divCounterClass:{"form_char-counter":!!e.options.characterCounter}}}})}e.$inject=["scField"],angular.module("classy").directive("scTextBoxField",e)})(),(()=>{function e(e,t){return e("scTimezonesField",{link:function(n){n.ui={collection:n.options.startCondensed?"condensed":"all"},n.onKeyDown=function(e){e&&t.isValidKeyBoardEvent(e)&&("condensed"===n.ui.collection?n.ui.collection="all":"all"===n.ui.collection&&(n.ui.collection="condensed"))}}})}e.$inject=["scField","accessibilityService"],angular.module("classy").directive("scTimezonesField",e)})(),(()=>{function e(n,e,t,a,i,o){var r=this;this.init=function(e){return r.$body=e||angular.element("body"),r.active=!1,r.loggedIn=!!o.active.current.id,r.campaignType=t.active.current.type,r.campaignId=t.active.current.id,r.menu=r.buildMenu(r.loggedIn,r.campaignType),r.refEl=null,n.$watch(function(){return _.get(t,"active.current.id")},function(e,n){e!==n&&(r.campaignId=e,r.campaignType=t.active.current.type,r.menu=r.buildMenu(r.loggedIn,r.campaignType))}),n.$watch(function(){return _.get(o,"active.current.id")},function(e,n){e!==n&&(r.loggedIn=!!e,r.menu=r.buildMenu(r.loggedIn,r.campaignType))}),n.$watchCollection(function(){return _.get(a,"userFundraisers")},function(e,n){e!==n&&(r.menu=r.buildMenu(r.loggedIn,r.campaignType))}),n.$watchCollection(function(){return _.get(i,"userTeams")},function(e,n){e!==n&&(r.menu=r.buildMenu(r.loggedIn,r.campaignType))}),r},this.buildMenu=function(){return[e.header(this),e.campaign(this),e.fundraisingPages(this),e.fundraisingTeams(this),e.share(this)].filter(function(e){return e&&!_.isEmpty(e)})},this.setRef=function(e){e&&e!==r.refEl&&(r.refEl=e)},this.open=function(e){r.setRef(e.currentTarget),r.active=!0,r.$body.css({overflow:"hidden"})},this.close=function(){r.refEl&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0])&&r.refEl.focus(),r.$body.css({overflow:"auto"}),r.active=!1}}e.$inject=["$rootScope","mobileMenuGroups","scCampaignsService","scFundraisingPagesService","scFundraisingTeamsService","scMembersService"],angular.module("classy").service("mobileMenuAPI",e)})(),(()=>{function e(n,i,o,t,a,r,s,l,c,e,d){this.profile=function(){return{label:"My Profile",figure:{type:"icon",icon:"ci ci-profile"},action:function(){o.location.href="/profile/"+e.active.current.id}}},this.logout=function(){return{label:"Sign out",figure:{type:"icon",icon:"ci ci-logout"},action:function(){r.logout()}}},this.login=function(e){return{label:"Sign in",figure:{type:"icon",icon:"ci ci-login"},action:function(){e.close(),r.login({callback:o.location.href})}}},this.startFundraising=function(e){return{label:"Start Fundraising",figure:{type:"icon",icon:"ci ci-fundraising-cash"},action:function(){e.close(),t()}}},this.register=function(e){return{label:"Register",figure:{type:"icon",icon:"ci ci-fundraising-cash"},action:function(){e.close(),a()}}},this.donate=function(e){var n="donation",t="Campaign";return _.get(l,"active.current.id")&&(n="teamDonation",t="Team"),_.get(s,"active.current.id")&&(n="fundraiserDonation",t="Fundraiser"),{label:"Donate to "+t,figure:{type:"icon",icon:"ci ci-profile-coin"},action:function(){i.includes("frs.donation")&&!i.includes("frs.donation.thankYou")||(o.location.href=c.getUrl({pageType:n,includeBase:!0}).url),e.close()}}},this.campaign=function(e){var n=[];"reg_w_fund"==e.campaignType?n.push(this.register(e),this.donate(e)):n.push(this.startFundraising(e),this.donate(e))},this.userFundraisingPages=function(n){var t=[],a=!i.includes("frs.donation");return d.getFundraisingPages().forEach(function(e){t.push({label:e.current.alias,figure:{type:"image",src:_.get(e,"current.logo.src","/static/global/images/individual_default_image.png")},action:function(){n.close(),a?i.go("frs.fundraiser.index",{fundraisingPageId:e.current.id}):o.location.href=c.getUrl({pageType:"fundraiser",includeBase:!0,fundraiserId:e.current.id}).url}})}),d.canLoadMorePages()&&t.push(this.loadMore("pages")),t},this.userFundraisingTeams=function(n){var t=[],a=!i.includes("frs.donation");return d.getFundraisingTeams().forEach(function(e){t.push({label:e.current.name,figure:{type:"image",src:_.get(e,"current.logo.src","/static/global/images/team_default_image.png")},action:function(){n.close(),a?i.go("frs.team.index",{fundraisingTeamId:e.current.id}):o.location.href=c.getUrl({pageType:"team",includeBase:!0,teamId:e.current.id}).url}})}),d.canLoadMoreTeams()&&t.push(this.loadMore("teams")),t},this.share=function(e){return{label:"Share this page",figure:{type:"icon",icon:"ci ci-share-o",style:{"font-size":"19px"}},action:function(){e.close(),n.$broadcast("scSocialButtons.open")}}},this.canLoadMoreTeams=function(){return d.canLoadMoreTeams()},this.canLoadMorePages=function(){return d.canLoadMorePages()},this.loadMore=function(e){return{label:"Load more...",action:function(){return"teams"===e?d.loadMoreTeams():d.loadMoreFundraisingPages()}}}}e.$inject=["$rootScope","$state","$window","fundraiseSwitchFlow","registrationEntityFlow","scAuth","scFundraisingPagesService","scFundraisingTeamsService","scPagesService","scOrganizationsService","scSupporterNavService"],angular.module("classy").service("mobileMenuActions",e)})(),(()=>{function e(t){this.header=function(e){var n=[];return e.loggedIn?n.push(t.profile(e),t.logout(e)):n.push(t.login(e)),{title:"",menu:n}},this.campaign=function(e){var n=[];switch(e.campaignType){case"p2p":e.loggedIn&&this.fundraisingPages(e)||n.push(t.startFundraising(e),t.donate(e));break;case"crowdfunding":n.push(t.donate(e));break;case"reg_w_fund":e.loggedIn&&this.fundraisingPages(e)||n.push(t.register(e),t.donate(e))}return n.length?{title:"Campaign",menu:n}:null},this.fundraisingPages=function(e){var n=[];return e.loggedIn&&["p2p","reg_w_fund"].includes(e.campaignType)&&Array.prototype.push.apply(n,t.userFundraisingPages(e)),n.length?{title:"Fundraising Pages",menu:n}:null},this.fundraisingTeams=function(e){var n=[];return e.loggedIn&&["p2p","reg_w_fund"].includes(e.campaignType)&&Array.prototype.push.apply(n,t.userFundraisingTeams(e)),n.length?{title:"Fundraising Teams",menu:n}:null},this.share=function(e){var n=[];return n.push(t.share(e)),{title:"",menu:n}}}e.$inject=["mobileMenuActions"],angular.module("classy").service("mobileMenuGroups",e)})(),(()=>{function e(b,y,k,w){return function(n){var e=n.event,t=n.scope,r=n.element,s=n.width,a=n.scroll,i=n.bg||"#ffffff",o='\n      <div class="big-tip">\n        <div class="big-tip_content" style="background-color:'+i+';">\n        '+n.template+"\n        </div>\n      </div>\n    ",l='\n      <div class="big-tip_caret" style="color:'+i+';"></div>\n    ',c={active:!1,frameRequested:!1,deregister:_.noop,bg:i},d={tooltip:null,caret:null,win:angular.element(y),body:angular.element("body")};function u(){(c.active?m:g)()}function m(){var e=n.element;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&e.attr("tabindex","0").focus(),c.active&&(c.active=!1,d.tooltip)&&(d.tooltip.remove(),d.tooltip=null,r.attr("aria-expanded",!1))}function g(){var e;r.attr("aria-expanded",!0),r.is(":visible")&&(d.tooltip||(d.tooltip=b(o)(t),d.caret=angular.element(l),d.tooltip.append(d.caret)),c.active=!0,p(),d.tooltip.appendTo("body"),void 0!==r.attr("aria-expanded")&&(r.attr("aria-expanded",!0),d.tooltip.attr("tabindex","0").focus()),d.tooltip.attr("tabindex","0").focus(),a&&angular.element("html, body").animate({scrollTop:r.offset().top-15}),(e=document.querySelector(".big-tip")).addEventListener(w.CONSTANTS.KEYDOWN_EVENT,t.handleKeyEvents(e)))}function p(){var e=window.innerWidth,n=Math.min(e-30,s),t=r.offset(),a=r.outerWidth(),i=r.outerHeight(),o=t.top,t=t.left+a/2-11,a=e<=768?(e-n)/2:31+t-n,e=t-a;d.tooltip.css({top:o+i+15,left:a,width:n}),d.caret.css({left:e})}function f(){c.frameRequested||(c.frameRequested=!0,k(function(){c.frameRequested=!1,c.active&&(r.is(":visible")?p:m)()}))}function h(){d.body.off("resize orientationchange",f),c.deregister()}function v(e){e=angular.element(e.target);e.closest(r).length||e.closest(d.tooltip).length||m()}switch(r.attr("aria-expanded",!1),e){case"click":r.on(e,u),d.win.on(e,v),c.deregister=function(){r.off(e,u),d.win.off(e,v)};break;case"hover":r.on("mouseover",g),r.on("mouseout",m),c.deregister=function(){r.off("mouseover",g),r.off("mouseout",m)};break;default:c.deregister=t.$on(e,u)}return d.win.on("resize orientationchange",f),t.$on("$destroy",function(){m(),h()}),{open:g,style:p,close:m,destroy:h,ui:c,el:d}}}e.$inject=["$compile","$window","scRequestAnimationFrame","accessibilityService"],angular.module("classy").factory("linkBigTip",e)})(),(()=>{function e(s,l,c,d){return function(e,n,t){var a=c(t.on)(e)||"click",i=c(t.scBigTip)(e),i=d.get(i),o=c(t.width)(e)||400,r=c(t.bg)(e)||"#ffffff",t=c(t.scroll)(e)||!0;e.bigTip=s({event:a,template:i,scope:e,element:n,width:o,scroll:t,bg:r}),e.bigTip.primaryColor=_.get(l,"active.current.styles.primaryColor")}}e.$inject=["linkBigTip","scThemesService","$parse","$templateCache"],angular.module("classy").directive("scBigTip",e)})(),angular.module("classy").component("egCampaignWhitelisting",{templateUrl:"global/embedded-giving/components/campaign-whitelisting/eg.components.campaign-whitelisting",bindings:{campaign:"=",width:"@"},controller:["$log",function(e){var i=this,n=this;function o(){var e=n.campaign.current;n.urls=e.whitelist_url?e.whitelist_url.split(" "):[]}function r(e){return(e=(e=(e=(e=(e=e.replace(new RegExp(/^\s+/),"")).replace(new RegExp(/\s+$/),"")).replace(new RegExp(/\\/g),"/")).replace(new RegExp(/^http:\/\/|^https:\/\/|^ftp:\/\//i),"")).replace(new RegExp(/\/(.*)/),"")).match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))?e=e.replace(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i),""):e.match(new RegExp(/\.[a-z]{2,4}$/i))&&(e=e.replace(new RegExp(/\.[a-z]{2,4}$/i),"")),!!e.match(new RegExp(/\./g))}this.draftUrl="",this.urls=[],this.activeError=null,this.errors={2:{message:"Please enter a URL to embed this campaign"},3:{message:"Please make sure you enter a valid URL with https"},4:{message:'Please ensure the website URL begins with "https://" for a secure connection'}},this.$onInit=function(){i.campaign||e.error("[egCampaignWhtelisting]: campaign model is required"),o(),i.width=i.width||"100%"},this.isValidUrl=function(e){var e=e||i.draftUrl,n=1;return e&&e.length?(e=>{var n=void 0;try{n=new URL(e)}catch(e){return}return n})(e)?(e=>{var n=void 0;try{n=new URL(e)}catch(e){return}return n&&"https:"===n.protocol})(e)?i.activeError=null:i.setActiveErrorDebounce(i.errors[n=4]):i.setActiveErrorDebounce(i.errors[n=3]):(n=2,i.activeError=null),n},this.setActiveErrorDebounce=_.debounce(function(e){n.activeError=e},50),this.addUrl=function(e){var n,t=""+i.draftUrl,a=(-1===t.indexOf("https://")&&-1===t.indexOf("http://")&&(t="https://"+t),i.isValidUrl(t));e&&(e.stopPropagation(),e.preventDefault()),i.campaign&&1===a&&(e=t.match(/^(https?):\/\/[^/]+/))&&(t=[a=e[0]],e=a,n=new URL(e),e=r(e)?n.hostname.split(".").splice(1).join("."):n.hostname,r(a)?t.push("https://"+e):t.push("https://www."+e),t.forEach(function(e){i.campaign.whitelistUrl(e)}),i.draftUrl="",o())},this.removeUrl=function(e){i.campaign&&(i.campaign.removeWhitelistedUrl(e),o())}}]}),angular.module("classy").component("egCustomQuestions",{templateUrl:"global/embedded-giving/components/custom-questions/eg.components.custom-questions",bindings:{parentForm:"<"},controller:["scOrganizationsService","scCampaignsService","scFroalaOptions","CHAR_LIMITS",function(e,n,t,a){function i(e,n){return e.weight===n.weight?0:n.weight<e.weight?1:-1}var o=this,e=(this.organization=e.active,this.campaign=n.active.current,this.currency=this.organization.currency(),this.campaign.questions),n=[],r=[];_.isEmpty(e)||(e.optional&&e.optional.length&&(n=e.optional.filter(function(e){return"homephone"!==e.tag})).sort(i),e.custom&&e.custom.length&&(r=e.custom).sort(i)),this.optionalQuestions=n,this.customQuestions=r,this.$onInit=function(){o.parentForm=o.parentForm||{},o.froalaCustomQuestionsOptions=t({type:"textarea-counter"},{charCounterCount:!0,charCounterMax:a.DEFAULT_PAGE_CUSTOM_QUESTION}),o.isInit=!0},this.optionalFieldPartial=function(e){return"global/embedded-giving/components/custom-questions/fields/optional/"+e},this.customFieldPartial=function(e){return"global/embedded-giving/components/custom-questions/fields/custom/"+e},this.ERROR_MESSAGES={ANONYMOUS_DONATION_TOOLTIP_TEXT:"We will only use your name to send you a receipt with tax information.",ANONYMOUS_DONATION_CHECKBOX_LABEL:"Hide my name from the public.",ANONYMOUS_DONATION_AMOUNTS_LABEL:"Hide my donation amount from the public.",BLOG_ADDRESS_REQUIRED_ERROR_TEXT:"Please enter a blog address.",CELL_NUMBER_REQUIRED_ERROR_TEXT:"Please enter your cell number.",CHARACTER_LIMIT_ERROR_TEXT:"Please enter 1000 characters or less.",COMPANY_REQUIRED_ERROR_TEXT:"Please enter a company.",DOLLAR_AMOUNT_VALID_ERROR_TEXT:"Please enter a valid dollar amount.",DATE_VALID_ERROR_TEXT:"Please enter a valid date (MM/DD/YYYY)",EMAIL_ADDRESS_REQUIRED_ERROR_TEXT:"Don't forget your email address.",EMAIL_ADDRESS_FORMAT_ERROR_TEXT:"Please enter in the format: name@domain.com.",FIELD_REQUIRED_ERROR_TEXT:"This field is required.",GENDER_REQUIRED_ERROR_TEXT:"Please select a gender.",PRONOUN_REQUIRED_ERROR_TEXT:"Please select a pronoun.",NUMBERS_ONLY_ERROR_TEXT:"Please enter numbers only.",PHONE_NUMBER_VALID_ERROR_TEXT:"Please enter a valid phone number.",PHONE_NUMBER_REQUIRED_ERROR_TEXT:"Don't forget your phone number.",TITLE_REQUIRED_ERROR_TEXT:"Please select a title.",SUFFIX_REQUIRED_ERROR_TEXT:"Please select a suffix.",WEBSITE_REQUIRED_ERROR_TEXT:"Please enter a website.",CHARACTER_LIMIT_255_MESSAGE:"Please limit your answer to 255 or less characters."}}]}),angular.module("classy").directive("egDonationCurrency",["$state","$location","EmbeddedGivingColors","EmbeddedGivingPaths","scCurrencyService","scCampaignsService","scOrganizationsService","scThemesService",function(s,l,c,e,d,u,m,g){return{templateUrl:e.components.donationCurrency,scope:{entity:"=?currencyEntity",model:"=?currencyModel",editable:"<?",disabled:"<?",selected:"<?"},link:function(n){var t=this;function e(){n.currency=_.filter(n.currencyOptions,function(e){return e.currency==n.entityCurrency})[0]||n.currencyOptions[0],_.get(n,"currency.fullSymbol",!1)||(n.currency.fullSymbol=d.getCurrencySymbol(n.entityCurrency)),n.syncCurrencyModel()}this.getColorPrimary=function(){return c.getPrimary(g.active)},this.getColorAccentOpaque=function(){return c.getAccentOpaque(g.active)},n.getCurrencyWrapperStyles=function(e){return e?{color:"#fff","border-color":t.getColorPrimary(),"background-color":t.getColorPrimary()}:{"border-color":t.getColorAccentOpaque(),"background-color":t.getColorAccentOpaque()}},n.getCurrencyLabelStyles=function(e){return e?{color:"#fff","background-color":t.getColorPrimary(),"background-image":n.showDropdown?"url(/static/global/images/dropdown-arrow.svg":"","border-radius":"3px 0px 0px 3px"}:{"border-color":t.getColorAccentOpaque(),"background-color":t.getColorAccentOpaque(),"border-right":"1px solid WHITE"}},n.isCurrencySelectionDisabled=function(){return"reg_w_fund"===u.active.current.type||"ticketed"===u.active.current.type||m.active.multiCurrencyDisabled()},n.syncCurrencyModel=function(){n.model=n.currency.currency},n.onCurrencySelect=function(){n.isCurrencySelectionDisabled()&&window.newrelic&&(window.newrelic.log("currency_donor_selection",{level:"trace",customAttributes:{model_currency:n.model,currency:n.currency.currency,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),n.currency.currency=d.getDefaultCurrency()||"USD"),n.syncCurrencyModel()},u.active&&u.active.current&&"reg_w_fund"!==u.active.current.type&&"ticketed"!==u.active.current.type&&l.path().includes("manage")&&u.active.getOverview().then(function(e){0<e.transactions_count&&(n.disabled=!0,n.tooltipText="Goal currency cannot be changed after a campaign has received its first donation.")}),_.isUndefined(n.editable)?u.active?n.showDropdown=!u.active.multiCurrencyDisabled():n.showDropdown=["crowdfunding","p2p","donation"].includes(s.params.campaignType)&&!m.active.multiCurrencyDisabled():n.showDropdown=n.editable;var a,i=n.model||d.localeCurrency,o=(n.currencyOptions=d.currencies,["RUB","BYN"]),r=(o.includes(i)&&(i="USD"),"donation"===n.entity&&(n.currencyOptions=n.currencyOptions.filter(function(e){return!o.includes(e.currency)})),s.params.currency);r&&n.isCurrencySelectionDisabled()&&window.newrelic&&window.newrelic.log("currency_url_param",{level:"trace",customAttributes:{urlParam:r.toLocaleUpperCase(),url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),!n.isCurrencySelectionDisabled()&&r&&n.currencyOptions.length&&n.currencyOptions.find(function(e){return e.currency===r.toLocaleUpperCase()})?n.entityCurrency=r.toLocaleUpperCase():(a=d.getDefaultCurrency(),n.showDropdown?"campaign"!=n.entity||n.model||_.get(u,"active",!1)?"donation"!=n.entity?n.model||_.get(n,"entity.id",!1)?n.model?n.entityCurrency=n.model:n.entityCurrency=d.getEntityCurrency(n.entity):n.entityCurrency=i||d.getEntityCurrency(n.entity):-1<s.current.name.indexOf("setup")||-1<s.current.name.indexOf("create")||-1<s.current.name.indexOf("design")||SC.preview?n.entityCurrency=d.getEntityCurrency(u.active.current):(n.currencyOptions.length||(n.showDropdown=0,n.currencyOptions=[{currency:a,meta:{code:a,symbol:d.getCurrencySymbol(a)}}]),n.entityCurrency=i||a):n.entityCurrency=i||d.getDefaultCurrency():n.entityCurrency=n.model||a),e()}}}]),angular.module("classy").component("egDonationCustomAmount",{templateUrl:"global/embedded-giving/components/donation-custom-amount/eg.components.donation-custom-amount",bindings:{model:"=",disableFlag:"=?",name:"<",currencyCode:"<?",label:"<",placeholder:"<",errorMessages:"<?",getterSetter:"<?",roundCurrency:"<?",currencyAriaLabel:"@?",modalBindValue:"=?",selected:"<?",inputDataId:"@?"},require:{form:"^form"},controller:["$element","$scope","EmbeddedGivingColors","scCurrencyService","scQaId","scThemesService","EmbeddedGiving",function(e,n,t,a,i,o,r){var s=this;this.isPreviewing=r.isPreviewing,this.scQaId=i,this.getterSetter=!1,this.required=!1,this.disabled=!1,this.roundCurrency=!0,this.min=1,this.max=1e7,this.errorMessages={min:"Please enter an amount greater than or equal to 1.",max:"Please enter an amount smaller than or equal to 10,000,000.",required:"Please enter an amount.",parse:"Please enter a valid currency amount."},this.colorPrimary=t.getPrimary(o.active),this.colorAccent=t.getAccent(o.active),this.colorAccentOpaque=t.getAccentOpaque(o.active),this.getColorPrimary=function(){return t.getPrimary(o.active)},this.getColorAccent=function(){return t.getAccent(o.active)},this.getColorAccentOpaque=function(){return t.getAccentOpaque(o.active)},this.$onInit=function(){0<s.modalBindValue&&setTimeout(function(){s.form.amount.$setValidity("min",!0),s.form.amount.$setValidity("max",!0)},50),s.setupSelectListener(),s.currencyCode&&(s.symbol=a.getCurrencySymbol(s.currencyCode))},this.onChange=function(){s.modalBindValue=s.model,0<s.model?(s.form.amount.$setValidity("required",!0),s.form.amount.$setValidity("max",!0),s.form.amount.$setValidity("min",!0)):void 0===s.model&&s.form.amount.$setValidity("required",!1)},this.setupSelectListener=function(){s.selectOn&&n.$on(s.selectOn,function(){e.find("input").focus(),e.find("input").select()})},this.getStylesDefault=function(){return{"background-color":s.getColorAccentOpaque(),"border-color":s.getColorAccentOpaque()}},this.getStylesSelected=function(){return{"border-color":s.getColorPrimary(),"box-shadow":"inset 1px 2px 12px rgba(0,0,0,0.2), inset 1px 2px 2px rgba(0, 0, 0, 0.2)"}},n.$on("selectedAmountChange",function(e,n){s.model=0<n?n:""})}]}),angular.module("classy").component("egDonationDedication",{templateUrl:"global/embedded-giving/components/donation-dedication/eg.components.donation-dedication",bindings:{parentModel:"<"},controller:["scCampaignsService","EMAIL_VALIDATION_REGEX","EmbeddedGivingPaths",function(n,t,e){var a=this;function i(){return{type:"honor",honoree_first_name:null,honoree_last_name:null,email_address:null,first_name:null,last_name:null,ecard_message:null,ecard_id:null,country:null,address:null,city:null,state:null,postal_code:null}}function o(e){return n.active&&n.active.current&&n.active.current[e]}function r(e){return!!(e&&e.dedication&&e.dedication.honoree_first_name&&e.dedication.honoree_last_name)}this.isOpen=!1,this.isEnabled=!o("hide_dedications"),this.eCards=o("ecards"),this.isECardEnabled=o("allow_ecards"),this.isEmailEnabled=o("send_dedication_emails"),this.isPrintedCardEnabled=o("offer_dedication_postal_notifications"),this.isPrintedCardChecked=!1,this.toggleIcon=e.images.dedication,this.dedication={},this.$onInit=function(){a.dedication=i()},this.onClose=function(){a.isOpen=!1,a.isPrintedCardValid()||(a.isPrintedCardChecked=!1)},this.onOpen=function(){a.isOpen=!0,r(a.parentModel)&&(a.dedication=Object.assign({},a.parentModel.dedication))},this.onSave=function(){a.parentModel&&(a.parentModel.dedication=Object.assign({},a.dedication),a.onClose())},this.onRemove=function(){a.parentModel&&(a.parentModel.dedication=null,a.dedication=i(),a.onClose())},this.onSelectECard=function(e){a.dedication.ecard_id=e},this.isRemoveVisible=function(){return r(a.parentModel)},this.isSaveDisabled=function(){var e=!1;return(a.dedication.email_address||a.dedication.ecard_id)&&(e=!t.test(a.dedication.email_address)||!a.dedication.first_name||!a.dedication.last_name),a.isPrintedCardValid()||(e=!0),e=a.dedication.honoree_first_name&&a.dedication.honoree_last_name?e:!0},this.isPrintedCardValid=function(){if(a.isPrintedCardChecked){var e="US"===a.dedication.country,n="CA"===a.dedication.country,e=!e&&!n||!!a.dedication.state;if(!(a.dedication.first_name&&a.dedication.last_name&&a.dedication.country&&a.dedication.address&&a.dedication.city&&a.dedication.postal_code&&e))return!1}return!0},this.stateField=function(){var e="US"===a.dedication.country,n="CA"===a.dedication.country;return{isUS:e,isCA:n,show:e||n,label:e?"State":"Province",reset:function(){a.dedication.state=null}}},this.isRecipientVisible=function(){return a.isEmailEnabled||a.isPrintedCardChecked},this.isRecipientEmailRequired=function(){return!!a.dedication.email_address||!!a.dedication.ecard_id},this.isRecipientNameRequired=function(){return a.dedication.email_address||a.isPrintedCardChecked||!!a.dedication.ecard_id},this.isECardMessageVisible=function(){return a.isECardEnabled||a.isEmailEnabled||a.isPrintedCardChecked},this.getToggleValue=function(){var e=a.parentModel.dedication;return r(a.parentModel)?"In "+e.type+" of "+e.honoree_first_name+" "+e.honoree_last_name:""},this.getToggleButtonLabel=function(){return r(a.parentModel)?"Edit":"Add"}}]}),angular.module("classy").component("egDonationDetails",{templateUrl:"global/embedded-giving/components/donation-details/eg.components.donation-details",bindings:{donationContext:"=",frequencyLevels:"=",settingPageFrequency:"<",frequency:"=",recurUntil:"=",levels:"=",recurringDonationLevels:"=",amount:"=",previousFrequencyPrice:"=",newAmount:"<",currency:"=",iaa:"<",iaaState:"<"},require:{form:"^form"},controller:["$state","$scope","$timeout","cpIntelligentAsk","accessibilityService","EmbeddedGivingColors","scAnalytics","scBlocksService","scCampaignsService","scCurrencyService","scOrganizationsService","scThemesService",function(t,e,a,i,o,r,n,s,l,c,d,u){var m=this,g=this,p="rgba(0,0,0,0.9)",f=l.active.current.type;function h(){var n;g.preview?(g.amount=0,g.otherAmount=0):(n=l.active,a(function(){var e;n.hasIntelligentAsk()&&i.isInit&&i.hasAccessAmounts()&&(e=g.isOneTime()?"oneTime":"recurring",g.isOneTime()?n.hasIntelligentAskOneTime():n.hasIntelligentAskRecurring())&&g.iaaState[e]&&(g.showCustomAmtSelected=!0,g.otherAmount=g.iaaState[e],g.amount=g.iaaState[e])}))}this.preventOldrfForDeque=d.active.preventOldrfForDeque(),this.showRecurringEndDate=l.active.current.hide_recurring_end_date,this.recurringFrequencyArray=["monthly","yearly","quarterly","semi-annually","daily","weekly","bi-weekly"],e.$on("cpIntelligentAsk:amountsUpdated",h),this.$onInit=function(){var n,e;m.DonationBlock=s.getBlockByType("donation"),m.defaultFrequency=m.frequency||m.DonationBlock.current["recurring-default"],m.visible=!1,m.today=new Date,m.today.setDate(m.today.getDate()+1),m.theme=u.active.current,m.showCustomAmtSelected=!1,m.frequencyToggleClick=0,m.colorPrimary=r.getPrimary(u.active),m.colorAccent=r.getAccent(u.active),m.colorAccentOpaque=r.getAccentOpaque(u.active),m.getColorPrimary=function(){return r.getPrimary(u.active)},m.getColorAccent=function(){return r.getAccent(u.active)},m.getColorAccentOpaque=function(){return r.getAccentOpaque(u.active)},m.ctaStyle={"background-color":m.getColorAccentOpaque()},l.active.multiCurrencyDisabled()||(m.currency=c.localeCurrency),m.show={inputFocus:!1},(n=_.get(t,"params.amount",!1))||0===g.amount||(n=g.amount),g.showCustomAmtSelected="Custom"===g.amount,g.showCustomAmtSelected&&(g.amount=""),"Custom"===g.previousFrequencyPrice&&(g.previousFrequencyPrice=""),g.showRecurringDonationArray="one-time"!==g.frequency,e=g.showRecurringDonationArray?g.recurringDonationLevels:g.levels,e=_.filter(e,function(e){return!0===e.display_on_page}),n&&!e.some(function(e){return e.amount==n})&&(e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})?(g.showCustomAmtSelected=!0,g.otherAmount=isNaN(n)?0:n):!e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})&&e.length&&1!==e.length?g.amount=g.showRecurringDonationArray?g.DonationBlock.current["recurring-donation-default"]||0:g.DonationBlock.current["donation-default"]||0:g.amount=isNaN(n)?0:n),m.analyticsInitialized=!0},this.getStylesHoverFrequencyBtn=function(e,n){angular.element(".hover-state_"+e).hasClass("selected")||angular.element(".hover-state_"+e).css({color:n?m.getColorPrimary():p})},this.getStylesFrequencyOneTimeBtn=function(e){e=m.frequency==e;return{transition:"all 0.2s ease-in-out",border:"2px solid "+m.getColorAccentOpaque(),color:m.isOneTime()?"#fff":p,"background-color":e?m.getColorPrimary():m.getColorAccentOpaque(),"border-radius":"24px"}},this.getStylesFrequencyRecurringBtn=function(e){e=m.recurringFrequencyArray.includes(e);return{transition:"all 0.2s ease-in-out",border:"2px solid "+m.getColorAccentOpaque(),color:e?"#fff":p,"background-color":e?m.getColorPrimary():m.getColorAccentOpaque(),"border-radius":"24px"}},this.getStylesDonationAmountBtn=function(e){e=!m.showCustomAmtSelected&&m.amount===e;return{transition:"all 0.2s ease-in-out",border:"2px solid "+(e?m.getColorPrimary():m.getColorAccentOpaque()),color:e?"#fff":p,height:"56px",margin:"2px","background-color":e?m.getColorPrimary():m.getColorAccentOpaque(),"border-radius":"8px","box-shadow":e?"inset 1px 2px 12px rgba(0,0,0,0.2), inset 1px 2px 2px rgba(0, 0, 0, 0.2)":"none"}},this.getStylesHoverDonationAmountBtn=function(e,n){n?angular.element(".hover-state_"+e).css({color:"#fff","background-color":m.getColorPrimary()}):angular.element(".hover-state_"+e).hasClass("selected")||angular.element(".hover-state_"+e).css({color:p,"background-color":m.getColorAccentOpaque()})},this.showFrequencyForDeque=function(e){return!["daily","weekly","bi-weekly"].includes(e)},this.$onChanges=function(e){e.newAmount&&e.newAmount.currentValue&&(m.value=e.newAmount.currentValue),e.settingPageFrequency&&(m.freqValue=e.settingPageFrequency.currentValue,m.analyticsInitialized)&&n.eventBeacon({category:"frs "+f,action:"click",label:"Donation Frequency – "+e.settingPageFrequency.currentValue+" (non-text link)"}),m.isDonationPage="donation"===t.params.step,m.preview&&m.isDonationPage&&m.freqValue&&m.showDropdownOnPreview(m.freqValue),e.iaaState&&!e.iaaState.isFirstChange()&&e.iaaState.previousValue!==e.iaaState.currentValue&&h()},this.recurringLevels=function(e){return e.filter(function(e){return"one-time"!==e.type&&e.display_on_page})},this.onlyReccurringFrequency=function(e){return!e.some(function(e){return"one-time"===e.type&&e.display_on_page})},this.recurringBtnText=function(){return 1<m.recurringLevels(m.frequencyLevels).length?"recurring":m.recurringLevels(m.frequencyLevels)[0].type},this.recurringBtnSelected=function(e){return m.recurringFrequencyArray.includes(e)},this.showFreqDropdown=function(e){"one-time"===e?(m.isFreqDropdown=!1,m.frequency="one-time",m.recurUntil=null):(m.isFreqDropdown=!1,m.frequency="recurring"===e||"monthly"===e?"monthly":m.defaultFrequency)},this.isRecurringFrequency=function(e){var n;m.preventOldrfForDeque||e.currentTarget&&e.currentTarget.classList.contains("selected")||(m.showRecurringDonationArray=!m.preventOldrfForDeque&&"one-time"!==m.frequency,m.frequencyToggleClick+=1,e=m.previousFrequencyPrice,m.previousFrequencyPrice=m.amount,m.amount=e,m.otherAmount=m.showCustomAmtSelected?"":m.otherAmount,m.previousFrequencyPrice=m.showCustomAmtSelected?0:m.previousFrequencyPrice,m.showCustomAmtSelected=!!m.otherAmount,n=_.get(t,"params.amount",!1),1===m.frequencyToggleClick&&n&&(e=m.showRecurringDonationArray?m.recurringDonationLevels:m.levels,e=_.filter(e,function(e){return!0===e.display_on_page}),n)&&!e.some(function(e){return e.amount==n})&&(e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})?(m.showCustomAmtSelected=!0,m.otherAmount=isNaN(n)?0:n):!e.find(function(e){return"Custom"===e.amount&&!0===e.display_on_page})&&e.length&&1!==e.length?m.amount=m.showRecurringDonationArray?m.DonationBlock.current["recurring-donation-default"]||0:m.DonationBlock.current["donation-default"]||0:m.amount=isNaN(n)?0:n))},this.noOfFrequencyLevel=function(e){return e.filter(function(e){return e.display_on_page}).length},this.noOfDonationAmount=function(e){return e.filter(function(e){return e.display_on_page}).length},this.showCustomAmtField=function(e){e=e.some(function(e){return e.display_on_page&&"Custom"===e.amount});return e||(m.showCustomAmtSelected=!1),e},this.canShowLevel=function(e){if(!m.preview){if(_.isEmpty(e)||e.loading)return!1;if(m.iaa&&i.isEnabled(SC.campaign)&&i.hasEmbeddedSDK){if(!m.iaa.isInit)return!1;if(m.iaa.isFetching)return!1;if(!m.iaa.triedToInit)return!1}}return!0},this.getAriaLabel=function(e){var n=void 0;switch(e){case"one-time":case"monthly":case"yearly":case"weekly":case"daily":n="Make a "+e+" gift";break;case"quarterly":n="Make a gift every three months";break;case"semi-annually":n="Make a gift every six months";break;case"bi-weekly":n="Make a gift every two weeks"}return n},this.isOneTime=function(){return"one-time"===m.frequency},this.selectFrequency=function(e,n,t){n&&!o.isValidKeyBoardEvent(n)||(!n||13!==n.keyCode&&32!==n.keyCode||("selectDropdown"==t?n.preventDefault():"one-time"===e?(m.frequency=e,m.isFreqDropdown=!1):(m.frequency="one-time"===m.defaultFrequency?m.recurringLevels(m.frequencyLevels)[0].type:m.defaultFrequency,m.isFreqDropdown="one-time"!==e&&1<m.recurringLevels(m.frequencyLevels).length)),h())},this.setPreventDefault=function(e){13===e.keyCode&&e.preventDefault()},this.selectAmount=function(e,n){var t=m.preventOldrfForDeque||"one-time"===m.frequency?m.levels:m.recurringDonationLevels;m.isOtherInputPresent=t.some(function(e){return"Custom"===e.amount&&e.display_on_page}),m.isOtherInputPresent&&"Custom"!==e&&(m.otherAmount="",a(function(){m.form.amount.$setValidity("required",!0),m.form.amount.$setValidity("min",!0),m.form.amount.$setValidity("max",!0)})),n&&!o.isValidKeyBoardEvent(n)||(m.showCustomAmtSelected="Custom"===e,m.showCustomAmtSelected?m.amount=m.otherAmount||0:m.amount=e)}}]}),(()=>{function g(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").component("egProgramDesignation",{templateUrl:"global/embedded-giving/components/program-designation/eg.components.program-designation",bindings:{parentModel:"="},controller:["scCampaignsService","designationsService","$log","EmbeddedGivingPaths","EmbeddedGiving","$timeout","$scope","$element",function(e,n,i,t,a,o,r,s){var l,c=this,d=(this.campaign=e.active.current,this.showGroupLabels=this.campaign.display_group_name,this.sort=n.parseSortOrder(this.campaign.sort_designation_by),this.page=1,this.maxPage=!1,this.designations={},this.uiItems=[],this.getCampaignDesignationItems=function(e){return n.getGroupedCampaignDesignations(c.campaign.id,{filter:e,per_page:100,page:c.page,sort:c.sort}).then(function(e){return c.buildDesignationsByGroup(e)})},this.toggleIcon=t.images.designation,this.buildDesignationsByGroup=function(e){var n={};return e.forEach(function(e){0<e.designations.length&&(n[e.name]=e.designations)}),n},this.addDesignationsByGroup=function(t){Object.keys(t).forEach(function(e){var n=t[e];c.designations[e]||(c.designations[e]=[]),c.designations[e]=_.union(c.designations[e],n),c.designations[e]=_.uniqBy(c.designations[e],"id")})},this.buildUIItems=function(){var n=[];Object.keys(c.designations).forEach(function(e){n.push({isGroupLabel:!0,label:e}),n=_.union(n,c.designations[e])}),c.uiItems=n},this.searchTerm="",this.isEnabled=e.active.DESIGNATIONS_ENABLED&&1<e.active.current.designations_count,this.isLoading=!1,this.isOpen=!1,this.$onInit=function(){o(function(){c.parentModel=c.parentModel||{},document.getElementById("designations-drawer").addEventListener("scroll",c.onScroll,!0),c.parentModel&&c.parentModel.designation?c.designationId=c.parentModel.designation_id:c.designationId=a.opts.default.designation,c.designationId?c.designation=null:c.designation=Object.assign({},c.campaign.designation)||null,m()})},this.toggleLoading=function(){o(function(){c.isLoading=!c.isLoading})},this.setDesignation=function(e){e&&o(function(){c.designation=e,c.parentModel.designation=e,c.parentModel.designation_id=e.id})},this.onSearch=function(e){return!e.hidden},this.onClearSearch=function(){c.reset(),c.searchTerm="",m()},this.hasSearchResults=function(){return!_.isEmpty(c.designations)},this.onOpen=function(){c.reset(),c.isOpen=!0,m()},this.onClose=function(){c.searchTerm="",c.reset(),c.isOpen=!1},this.onSelect=function(e){e&&e.id&&c.setDesignation(e),c.onClose()},this.onScroll=function(e){e=e.target;.9<e.scrollTop/(e.scrollHeight-e.clientHeight)&&d()},_.debounce(function(){c.page+=1,m()},250)),u=(this.reset=function(){c.designations={},c.uiItems=[],c.page=1,c.maxPage=!1},_.debounce(function(){return m()},1e3)),m=(l=g(regeneratorRuntime.mark(function e(){var n,t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.maxPage)return e.abrupt("return");e.next=2;break;case 2:return n=c.searchTerm.toLowerCase(),1===c.page&&c.toggleLoading(),e.prev=4,t="is_active=true",n?t+=",name*="+n:c.designationId&&!c.isOpen&&(t+=",id="+c.designationId),e.next=9,c.getCampaignDesignationItems(t);case 9:t=e.sent,_.isEmpty(t)&&(c.maxPage=!0),c.addDesignationsByGroup(t),c.buildUIItems(),n||!c.designationId||c.designation||(a=t[Object.keys(t)[0]][0],c.setDesignation(a)),o(function(){}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),i.error("Unable to fetch designations",e.t0);case 20:return e.prev=20,1===c.page&&c.toggleLoading(),e.finish(20);case 23:case"end":return e.stop()}},e,c,[[4,17,20,23]])})),function(){return l.apply(this,arguments)});r.$watch(function(){return c.searchTerm},function(e,n){e!==n&&(c.reset(),u())}),r.$watch(function(){return c.isLoading},function(e){var n=s.find("#searchInputEG");e&&n.attr("disabled","disabled"),e||(n.removeAttr("disabled"),n[0].focus())})}]})})(),angular.module("classy").service("EmbeddedGivingRecurringNudge",["$stateParams",function(e){this.isEnabled=function(){return!!e.egrn},this.isShowable=function(e,n,t,a){return!(!e||"one-time"!==e||n<=a||t<=n)},this.getNudgeAmount=function(e){return Math.round(e/4)},this.getNudgeFrequency=function(){return"monthly"}}]).component("egRecurringNudge",{templateUrl:"global/embedded-giving/components/recurring-nudge/eg.components.recurring-nudge",bindings:{colorPrimary:"=",colorBackground:"=",currency:"=",currentAmount:"=",currentFrequency:"=",parentModel:"<"},controller:["$log","$rootScope","EmbeddedGivingRecurringNudge",function(e,n,t){var a=this;this.nudgeIcon="/static/global/images/embedded-giving/embedded-giving-recurring-nudge.svg",this.$onInit=function(){return a.parentModel=a.parentModel||{},_.isEmpty(a.parentModel)?e.error("[egRecurringNudge:$onInit] ERR - no parent model"):a.colorPrimary&&a.colorBackground?(a.currentAmount=a.currentAmount||100,a.currentFrequency=a.parentModel.frequency||"one-time",a.nudgeAmount=t.getNudgeAmount(a.currentAmount),a.nudgeFrequency=t.getNudgeFrequency()):e.error("[egRecurringNudge:$onInit] ERR - primary and background colors required"),a},this.acceptNudge=function(){a.parentModel.frequency=a.nudgeFrequency,a.parentModel.items[0].raw_final_price=a.nudgeAmount,n.$broadcast("recurring-nudge-event","accept")},this.rejectNudge=function(){n.$broadcast("recurring-nudge-event","reject")},this.goBack=function(){n.$broadcast("recurring-nudge-event","back")}}]}),angular.module("classy").component("egRootDonateButton",{templateUrl:"global/embedded-giving/components/root-donate-button/eg.components.root-donate-button",bindings:{amountGetter:"&",globalState:"=",parentModel:"=",isDisabled:"&",onClickHandler:"&"},controller:["$log",function(e){var n=this;this.processingStyles={color:"#ccc",fadeColor:"transparent",top:"-14px",left:"63%"},this.$onInit=function(){n.parentModel||e.warn("[egDonateButton:$onInit] binding @parentModel required")},this.onClick=function(){_.isFunction(n.onClickHandler)?n.onClickHandler():e.debug("[egDonateButton:onClick] no on click handler provided")},this.getDonationAmount=function(){return _.isFunction(n.amountGetter)?n.amountGetter():0},this.isEnabled=function(){return!!_.isFunction(n.isDisabled)&&!n.isDisabled()},this.shouldUseDonateButton=function(){return SC.organization&&SC.organization.tags&&SC.organization.tags.includes("early-access:eg-donate-button")}}]}),angular.module("classy").factory("PaymentGateway",function(){return function(){}}),angular.module("classy").factory("PaymentMethod",["$log","cpConstants",function(e,n){var t=n.PAYMENT_METHODS;function a(e){e=e||{};this.key=e.key,this.name=e.name||"",this.status=e.status||"inactive",this.currency=e.currency||"USD",this.setPaymentProcessor(e.paymentProcessor),this.$$initLabel()}return a.prototype.serialize=function(){return this.paymentProcessor?{status:this.status}:(e.warn("No payment processor present"),null)},a.prototype.setStatus=function(e){this.status=e||"inactive"},a.prototype.setPaymentProcessor=function(e){this.paymentProcessor=e},a.prototype.$$initLabel=function(){var e="Payment";switch(this.name){case t.STRIPE:case t.CC:e="Card Number";break;case t.ACH:e="Bank Info";break;case t.PAYPAL_COMMERCE:case t.PAYPAL:e="PayPal Account";break;default:e="Payment"}this.$$label=e},a}]),angular.module("classy").factory("PaymentProcessor",function(){function e(e){e=e||{};this.id=e.id||"",this.key=e.key,this.name=e.name||"",this.status=e.status||"inactive",this.currency=e.currency||"USD"}return e.prototype.setStatus=function(e){this.status=e||"inactive"},e}),angular.module("classy").service("EmbeddedGivingPayDAL",["$http","$q","$window","cpAPI","cpConstants","PaymentMethod","PaymentProcessor",function(n,e,t,a,i,o,r){var s,l,c=this,d=this;function u(e){var t={},a=[];return _.forEach(e,function(e,n){e=new r(_.extend({},e,{key:n}));a.push(t[n]=e)}),d.paymentProcessors=t,d.paymentProcessorsArr=a,d.paymentProcessors}this.paymentMethods={},this.paymentMethodsArr=[],this.paymentProcessors={},this.paymentProcessorsArr=[],this.getPaymentMethods=function(){return c.paymentMethods},this.getPaymentMethodByKey=function(e){return c.paymentMethods&&c.paymentMethods[e]},this.getPaymentProcessors=function(){return c.paymentProcessors?e.when(c.paymentProcessors):c.fetchPaymentProcessors()},this.fetchPaymentProcessors=function(){var e="/frs-api/pay/processors?appId="+a.getApplicationId();return n.get(e).then(function(e){return u(e.data||{})})},u(t.SC.processors),s={},l=[],_.forEach(i.PAYMENT_METHODS,function(e,n){e=new o(_.extend({},{key:n,name:e}));l.push(s[n]=e)}),d.paymentMethods=s,d.paymentMethodsArr=l,d.paymentMethods}]),angular.module("classy").service("EmbeddedGivingPayPaths",function(){var e="global/embedded-giving/pay/";this.views={root:e+"views/eg.pay",payments:e+"views/payments/eg.pay.views.payments",paymentDetails:e+"views/payment-details/eg.pay.views.payment-details"}}),angular.module("classy").service("EmbeddedGivingPayUtil",["cpConstants",function(e){var t,a=e.PAYMENT_METHODS;_.forEach(a,function(e,n){t=n.toLowerCase(),a[t]=e}),this.isValidPaymentMethod=function(e){return e&&!!a[e]},this.getValidPaymentMethods=function(e){var t=this,a={};return _.isObject(e)&&_.forEach(e,function(e,n){t.isValidPaymentMethod(n)&&(a[n]=e)}),a},this.getPaymentMethodsByStatus=function(e,t){var a={};return _.isObject(e)&&_.forEach(e,function(e,n){e.status&&e.status===t&&(a[n]=e)}),a}}]),angular.module("classy").controller("EmbeddedGivingPayCtrl",["$log","$scope","$timeout","EmbeddedGivingPay","EmbeddedGivingPayUtil",function(n,t,a,i,o){t.dataId="",t.ActivePaymentMethod=null,t.ActivePaymentMethods={},t.VisiblePaymentMethods={},t.egPay={isInitializing:!0,hideBillingAddressAutocomplete:!1},t.setActivePaymentMethod=function(e){t.ActivePaymentMethod=e},t.setPaymentMethods=function(e){t.ActivePaymentMethods=o.getValidPaymentMethods(e),t.VisiblePaymentMethods=o.getPaymentMethodsByStatus(t.ActivePaymentMethods,"ready")},t.syncPaymentMethods=function(e){i.syncPaymentMethodStatuses(e)},t.goBackDonationConfirmation=function(){t.hideBillingAddressAutocomplete=!1,t.goDonationPaymentMethods()},t.isFullAddress=function(){return t.eg.isRequiredFullAddress||t.block.billing_address_autocomplete&&t.egPay.hideBillingAddressAutocomplete},t.isAutocomplete=function(){return!t.isFullAddress()&&t.block.billing_address_autocomplete&&!t.egPay.hideBillingAddressAutocomplete},t.isZipcode=function(){return!t.isFullAddress()&&!t.isAutocomplete()},t.useFullAddress=function(){t.egPay.hideBillingAddressAutocomplete=!0},t.handleAutocomplete=function(e){a(function(){_.merge(t.MODEL,{billing_address1:e.address,billing_address2:e.subpremise,billing_postal_code:e.postalCode,billing_city:e.city,billing_state:e.state,billing_country:e.country}),t.egPay.hideBillingAddressAutocomplete=!0})},t.isValidDonationAddress=function(){var e=t.FORM;if(t.isFullAddress()){if(!e.billing_country||!e.billing_country.$valid)return n.debug("[isValidDonationAddress] billing_country not valid"),!1;if(!e.billing_address1||!e.billing_address1.$valid)return n.debug("[isValidDonationAddress] billing_address1 not valid"),!1;if(!e.billing_city||!e.billing_city.$valid)return n.debug("[isValidDonationAddress] billing_city not valid"),!1;if(!e.billing_state||!e.billing_state.$valid)return n.debug("[isValidDonationAddress] billing_state not valid"),!1}return e.billing_postal_code&&e.billing_postal_code.$valid?t.eg.isBillingAddressAutocompleteEnabled&&!e.billing_address1?(n.debug("[isValidDonationAddress] isBillingAddressAutocompleteEnabled not valid"),!1):!(t.eg.isBillingAddressAutocompleteEnabled&&e.billing_city&&!e.billing_city.$valid&&(n.debug("[isValidDonationAddress] isBillingAddressAutocompleteEnabled not valid"),1)):(n.debug("[isValidDonationAddress] billing_postal_code not valid"),!1)},t.isValidDonationPayment=function(){var e=t.FORM||{};return!(!t.eg.isValidPayment||(e.billing_postal_code&&!e.billing_postal_code.$valid?(n.debug("[isValidDonationAddress] billing_postal_code not valid"),1):e.routingNumber&&!e.routingNumber.$valid||e.accountNumber&&(e.accountNumber.$pristine||!e.accountNumber.$valid)||t.eg.showIsCompanyCard()&&_.get(t.META,"showCompanyName")&&!e.company_name.$valid||!t.isValidDonationAddress()))},t.processKeydownEventPay=function(e){13===(e&&e.keyCode)&&t.META.showPaymentDetails&&!t.eg.isCheckoutOut&&t.isValidDonationPayment()&&(e.stopPropagation(),e.preventDefault(),a(function(){t.goDonationConfirmation()}))},t.$watchCollection("MODEL.payment",function(e){t.syncPaymentMethods(e)}),t.$watchCollection("META.paymentMethod",function(e){switch(e){case"card":t.dataId="paymentMethod-card-continue";break;case"ach":t.dataId="paymentMethod-ach-continue";break;default:t.dataId="paymentMethod-continue"}}),i.init().then(function(){t.egPay.isInitializing=!1}),t.handleBillingAddressKeyDown=function(e){13===(e&&e.keyCode)&&e.preventDefault()}}]),angular.module("classy").component("registrationEntityBrowse",{template:'\n      <browse-teams-modal\n      title="\'Select a team to join\'"\n      on-select="$ctrl.selectTeam($team)"\n      go-to-create="$ctrl.goToCreate()"\n      campaign-id="$ctrl.campaignId"\n      primary-color="$ctrl.primaryColor">\n      </browse-teams-modal>\n    ',bindings:{model:"<",joinTeam:"&",goToCreate:"&",campaignId:"<",primaryColor:"<"},controller:function(){var n=this;this.selectTeam=function(e){n.model.team_id=e.id,n.model.team_answers=null,n.joinTeam({team:e})}}}),angular.module("classy").component("registrationEntitySwitch",{template:'\n      <entity-switch-modal\n      title="\'How would you like to register?\'"\n      entities="$ctrl.entities">\n      </entity-switch-modal>\n    ',bindings:{goToCheckout:"&",goToBrowse:"&",goToCreate:"&",disableIndividualFundraising:"&",disableTeamJoin:"&",disableTeamCreate:"&"},controller:["scCampaignsService","scCurrencyService","scAnalytics",function(n,t,a){this.$onInit=function(){var e=this;this.entities=[{message:"As an individual",icon:"user-outline",hide:this.disableIndividualFundraising(),onSelect:function(){e.goToCheckout()}},{message:"Join a team",icon:"join-team",hide:this.disableTeamJoin(),onSelect:function(){e.goToBrowse(),e.beginCheckout()}},{message:"Create a team",icon:"create-team",hide:this.disableTeamCreate(),onSelect:function(){e.goToCreate(),e.beginCheckout()}}]},this.beginCheckout=function(){var e=t.getEntityCampaignCurrency(n.active.current);a.eventBeacon({label:"Begin Checkout",action:"checkout",currency:e,items:[{item_id:n.active.current.id,item_name:n.active.current.name,item_category:n.active.current.type,currency:e}]})}}]}),angular.module("classy").component("registrationEntityTeamDetails",{template:'\n      <team-details-modal\n      title="\'Create your team\'"\n      primary-color="$ctrl.primaryColor"\n      campaign-id="$ctrl.campaignId"\n      team-name-model="$ctrl.model.team_name"\n      team-goal-model="$ctrl.model.team_goal"\n      teams-can-set-goal="$ctrl.teamsCanSetGoal"\n      teams-can-set-appeal="$ctrl.teamsCanSetAppeal"\n      team-description-model="$ctrl.model.team_description"\n      include-vanity-url="false"\n      on-next="$ctrl.goToQuestions()">\n      </team-details-modal>\n    ',bindings:{model:"<",goToQuestions:"&",campaignId:"<",primaryColor:"<",teamsCanSetGoal:"=?",teamsCanSetAppeal:"=?"}}),angular.module("classy").component("registrationEntityTeamQuestions",{template:'\n      <team-questions-modal\n      title="\'Team Questions\'"\n      subtitle="\'Tell us a little more about yourself.\'"\n      submit-text="\'Register\'"\n      questions="$ctrl.questions"\n      answers="$ctrl.model.team_answers"\n      primary-color="$ctrl.primaryColor"\n      on-next="$ctrl.goToCheckout()">\n      </team-details-modal>\n    ',bindings:{model:"<",questions:"<",goToCheckout:"&",primaryColor:"<",campaignId:"<"}}),angular.module("classy").component("mediaManagerEditor",{bindings:{aspectRatio:"<",circle:"<",fileName:"<?",handleUpload:"&",height:"<",heroFullHeight:"<?",maxFileSize:"<?",mode:"<?",onCancel:"&?",outputMaxWidth:"<?",src:"<",visible:"<"},template:'\n  <div class="media-manager_editor">\n\n    <image-editor\n      aspect-ratio="$ctrl.aspectRatio"\n      canvas-data="$ctrl.canvasData"\n      circle="$ctrl.circle"\n      file-name="$ctrl.fileName"\n      height="$ctrl.height"\n      hero-full-height="$ctrl.heroFullHeight"\n      max-file-size="$crtl.maxFileSize"\n      mode="$ctrl.mode"\n      on-cancel="$ctrl.onCancel"\n      output-max-width="$ctrl.outputMaxWidth"\n      position="$ctrl.position"\n      save-function="$ctrl.saveFunction"\n      src="$ctrl.src"\n      toggle-visible="$ctrl.toggleVisible"\n      visible="$ctrl.visible"\n    />\n  ',controller:function(){var t=this;this.$onInit=function(){["full","basic"].includes(t.mode)||(t.mode="full"),_.defaultsDeep(t,{mode:"full",circle:!1,aspectRatio:16/9,src:"",visible:!0,toggleVisible:function(e){t.visible=e},saveFunction:function(e,n){t.handleUpload({imgFile:e,imageData:n}),t.toggleVisible(!1)}})}}}),(()=>{function e(n){n.changeCollection=function(e){switch(n.ui.image.search.collection=e){case"all":n.ui.image.search.querySuffix="";break;case"humanRights":n.ui.image.search.querySuffix="human rights";break;default:n.ui.image.search.querySuffix=e}}}e.$inject=["$scope"],angular.module("classy").controller("scMediaManagerImageCtrl",e)})(),angular.module("classy").constant("RECURRING_LEVELS",{ONE_TIME_DEFAULT:"1",RECURRING_DEFAULT:"2",RECURRING_FIXED_AMOUNT:"3",RECURRING_ONLY:"4",ONE_TIME_ONLY:"5",ONE_TIME_FIXED_AMOUNT:"6"}),(()=>{function e(u,m,g,p,f,h){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.scope=!0,e.link=(c=>{var e=c.link,n=void 0,d=void 0;return _.isFunction(e)?d=e:_.isPlainObject(e)&&(n=_.get(e,"pre",null),d=_.get(e,"post",null)),{pre:n,post:function(t,a){var n=void 0;function e(){m(function(){var e=!_.isUndefined(c.responsiveSettings)&&f(c.responsiveSettings);e!=n&&(o(),n=e,t.block.template=n||"desktop")})}angular.element(g).on("resize.window",e).trigger("resize.window"),t.$on("$destroy",function(){angular.element(g).off("resize.window",e)});var i=void 0;function o(){var e,n=p(t.block,c.responsiveSettings);i!==n&&(e=u(n)(t),a.html(e),i=n)}if(o(),d){for(var r=arguments.length,s=Array(2<r?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];d.apply(this,[t,a].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(s)))}t.getLock=function(e){return h.getLock("block",e,{id:t.block.id})}}}})(e),e}}e.$inject=["$compile","$timeout","$window","scGetBlockTemplate","scBlockTemplateBreakpoint","scTemplateLockingService"],angular.module("classy").factory("scBlock",e)})(),(()=>{function e(e){return{header:new e({type:"header"}),crowdfunding:new e({type:"crowdfunding",donateButtonText:"Donate Now"}),about:new e({type:"about"}),donation:new e({type:"donation",background:{preset:"coverfixed"}}),thankYou:new e({type:"thank-you",background:{preset:"coverfixed"}}),impact:new e({type:"impact"}),activity:new e({type:"activity"}),footer:new e({type:"footer"}),optional:{header:1,impact:1,text:-1,images:0,footer:2}}}e.$inject=["scBlockModel"],angular.module("classy").factory("scCrowdfundingCampaignDefaultBlocks",e)})(),(()=>{function e(e){return{header:new e({type:"header"}),donation:new e({type:"donation",background:{preset:"coverfixed"}}),thankYou:new e({type:"thank-you",background:{preset:"coverfixed"}}),footer:new e({type:"footer"})}}e.$inject=["scBlockModel"],angular.module("classy").factory("scDonationCampaignDefaultBlocks",e)})(),(()=>{function e(e){return{header:new e({type:"header"}),crowdfunding:new e({type:"crowdfunding",layout:"p2p",useFeatured:!1,joinButtonText:null,donateButtonText:"Donate Now",donateButtonStyle:{border:"solid 3px rgb(161, 168, 172)",backgroundColor:"transparent",color:"rgb(161, 168, 172)",borderRadius:4,preset:"roundedWire"},joinButtonStyle:{border:"3px solid",borderRadius:4,preset:"rounded"}}),about:new e({type:"about"}),donation:new e({type:"donation",background:{preset:"coverfixed"}}),thankYou:new e({type:"thank-you",background:{preset:"coverfixed"}}),impact:new e({type:"impact",headline:"Start Fundraising",impactType:"fundraise"}),activity:new e({type:"activity"}),footer:new e({type:"footer"}),team:new e({type:"team",donateButtonStyle:{borderRadius:4,preset:"rounded",color:"white"},joinButtonStyle:{border:"3px solid",borderRadius:4,preset:"roundedWire"}}),fundraiser:new e({type:"fundraiser",donateButtonStyle:{borderRadius:4,preset:"rounded",color:"white"}}),fundraisers:new e({type:"fundraisers"})}}e.$inject=["scBlockModel"],angular.module("classy").factory("scP2PCampaignDefaultBlocks",e)})(),(()=>{function e(e){return{header:new e({type:"header"}),crowdfunding:new e({type:"crowdfunding",layout:"rwf",headline:'<p class="heading">Name of Your Event</p>',useFeatured:!1,joinButtonStyle:{borderRadius:3,preset:"rounded"},background:{preset:"adaptive"}}),about:new e({type:"about",background:{preset:"adaptive"}}),donation:new e({type:"donation",background:{preset:"coverfixed"}}),thankYou:new e({type:"thank-you",background:{preset:"coverfixed"}}),"progress-circle":new e({type:"progress-circle",background:{preset:"adaptive"}}),activity:new e({type:"activity",background:{preset:"adaptive"}}),footer:new e({type:"footer"}),team:new e({type:"team",donateButtonStyle:{borderRadius:3,preset:"rounded",color:"white"},joinButtonStyle:{border:"3px solid",borderRadius:3,preset:"roundedWire"},background:{preset:"adaptive"}}),fundraiser:new e({type:"fundraiser",donateButtonStyle:{borderRadius:3,preset:"rounded",color:"white"},background:{preset:"adaptive"}}),fundraisers:new e({type:"fundraisers"}),location:new e({type:"location"}),registration:new e({type:"registration",background:{preset:"adaptive"}})}}e.$inject=["scBlockModel"],angular.module("classy").factory("scRegWFundCampaignDefaultBlocks",e)})(),(()=>{function e(e){return{header:new e({type:"header"}),crowdfunding:new e({type:"crowdfunding",layout:"rwf",headline:'<p class="heading">Name of Your Event</p>',useFeatured:!1,joinButtonStyle:{borderRadius:3,preset:"rounded"},background:{preset:"adaptive"}}),about:new e({type:"about",background:{preset:"adaptive"},headline:"About the Event",content:"<p style='font-size: 22px'>We're addressing an important issue that affects many people. Our mission is to spread awareness and raise money  for solutions we have identified.</p><p>We created this event for everyone to contribute at various impact levels.  Be sure to review the ways you can make an impact and please share this page with your family and friends.</p><p>Your involvement is critical to our success and solving this issue. Thank you again for your help.</p>"}),donation:new e({type:"donation",background:{preset:"coverfixed"}}),thankYou:new e({type:"thank-you",background:{preset:"coverfixed"}}),"progress-circle":new e({type:"progress-circle",background:{preset:"adaptive"},registerButtonText:"Get Tickets",headline:"We're raising money for the cause to make a difference!",subheadline:"Help the cause by attending the event or making a donation"}),activity:new e({type:"activity",background:{preset:"adaptive"},headline:"<span>Activity</span>",cta:"Share a message of support for the cause"}),footer:new e({type:"footer"}),location:new e({type:"location"}),registration:new e({type:"registration",background:{preset:"adaptive"},title:"Tickets",headline:"Tickets",subheading:"Purchase your tickets before the event",registerButtonText:"Get Tickets"})}}e.$inject=["scBlockModel"],angular.module("classy").factory("scTicketedEventDefaultBlocks",e)})(),angular.module("classy").factory("scFundraisingActivityDemo",["scOrganizationsService","scCampaignsService","scMembersService",function(n,t,a){return function(e){return{current_page:1,data:[{fundraising_team_id:null,link_id:1,link_text:"Fundraiser's Name",id:1,type:"creation",member_id:1,organization_id:n.active.current.id,campaign_id:t.active.current.id,fundraising_page_id:e,created_at:(new Date).toISOString(),transaction_id:0,organization:n.active.current,member:a.you.current,member_name:"undefined undefined",fundraising_team:null,transaction:null,campaign:t.active.current,comments:[],business:null,feedable_type:"fundraising_page",designation:{id:1,name:"General Fund Project"},demo:!0}],from:1,last_page:1,next_page_url:null,per_page:20,prev_page_url:null,to:1,total:1}}}]),angular.module("classy").factory("scFundraisingPageDemo",["scOrganizationsService","scCampaignsService",function(e,n){return function(){return{goal:null,raw_goal:n.active.current.default_page_goal,intro_text:null,logo:null,cover_photo:null,alias:"Fundraiser's Name",average_donation:15,campaign_id:n.active.current.id,designation_id:1,ended_at:moment().add(1,"months").format("YYYY-MM-DD HH:mm:ss"),team:{description:"",goal:3e3,raw_goal:3e3,id:1,name:"Team's Name",campaign:n.active.current.id,total_raised:450,raw_currency_code:n.active.current.raw_currency_code||e.active.current.currency},fundraising_team_id:7,id:1,largest_donation:0,member_email_text:"Aliquam malesuada suscipit lacus et convallis. Ut egestas lobortis varius. Phasellus quis hendrerit mauris. Curabitur varius erat euismod tortor congue porta. Praesent at consequat mi. Nullam velit orci, consectetur sed finibus non, blandit sed dui. Aliquam non metus semper metus maximus dapibus at in nulla. In mi augue, aliquet vitae diam eu, sodales egestas nulla. Nunc ex dui, congue eget enim vitae, vulputate consequat metus. Vestibulum lacinia et ante sit amet ullamcorper. Maecenas fermentum rutrum neque, quis molestie ante congue vitae. Vivamus faucibus, elit eget eleifend pretium, eros elit dictum tellus, quis tempor leo dui a erat. Integer at ipsum eget urna commodo porttitor id ac mi. Nunc lacinia accumsan ultrices. Duis cursus nunc eget interdum volutpat. Donec scelerisque nibh ut lorem ullamcorper viverra.",member_id:1,organization_id:e.active.current.id,percent_to_goal:50,raw_currency_code:n.active.current.raw_currency_code||e.active.current.currency,started_at:moment().subtract(1,"weeks").format("YYYY-MM-DD HH:mm:ss"),status:"active",thankyou_email_text:"Quisque tincidunt, justo in efficitur sollicitudin, neque sem tincidunt turpis, ac semper mi augue quis mi. Ut ac fringilla lorem. Integer eu est eget massa malesuada vehicula. Sed eu placerat justo. Vestibulum et diam in turpis vulputate ornare. Phasellus nec nisi a est commodo elementum ac id urna. Aenean auctor sem non mauris convallis euismod. Nullam ex odio, pharetra vel mi sollicitudin, vehicula blandit ligula. Integer mauris eros, lacinia at turpis at, posuere vulputate libero. Proin ultrices consequat sem eu bibendum. Integer nec odio molestie, blandit velit a, mattis metus. Pellentesque mauris orci, imperdiet id augue eu, tempus posuere lacus. Vivamus in facilisis quam. Vivamus tempor, massa vitae consectetur consectetur, nunc erat scelerisque lorem, ut dictum magna dolor ac lorem.",title:"Fundraiser's Name",total_donations:20,total_donors:18,total_raised:300}}}]),angular.module("classy").factory("scFundraisingPostsDemo",["scCampaignsService",function(n){return function(e){return{current_page:1,data:[{id:1,member_id:1,asset_id:null,postable_id:e,postable_type:"fundraising-page",title:n.active.current.default_page_post_title,body:n.active.current.default_page_post_body,status:"published",visibility:"public",comments_count:0,likes_count:0,created_at:moment().subtract(1,"weeks").toString(),updated_at:moment().subtract(1,"weeks").toString(),poster_name:"Leah E. Melo"}],from:1,last_page:1,next_page_url:null,per_page:20,prev_page_url:null,to:1,total:1}}}]),(()=>{function e(n,t,a){return function(e){return{current_page:1,data:[{fundraising_team_id:null,link_id:1,link_text:a.you.current.first_name+" "+a.you.current.last_name,member_name:"undefined undefined",id:1,type:"creation",member_id:1,organization_id:n.active.current.id,campaign_id:t.active.current.id,fundraising_page_id:e,created_at:(new Date).toISOString(),transaction_id:0,organization:n.active.current,member:a.you.current,fundraising_team:null,transaction:null,campaign:t.active.current,comments:[],business:null,feedable_type:"fundraising_team",designation:{id:1,name:"General Fund Project"},demo:!0}],from:1,last_page:1,next_page_url:null,per_page:20,prev_page_url:null,to:1,total:1}}}e.$inject=["scOrganizationsService","scCampaignsService","scMembersService"],angular.module("classy").factory("scFundraisingTeamActivityDemo",e)})(),(()=>{function e(e){return function(){return{goal:null,raw_goal:e.active.current.default_team_goal,description:null,logo:null,cover_photo:null,percent_to_goal:20,name:"Team's Name",campaign:e.active.current.id,total_donations:20,total_donors:18,total_raised:300,team_policy:{allow_subteams:!1},members:{0:{title:"Team Captain",type:"fundraiser",alias:"Smith McSmithy",id:123},1:{title:"Fundraiser",type:"fundraiser",alias:"Janelle Jo",id:123}}}}}e.$inject=["scCampaignsService"],angular.module("classy").service("scFundraisingTeamDemo",e)})(),(()=>{function e(n){return function(e){return{current_page:1,data:[{id:1,member_id:1,asset_id:null,postable_id:e,postable_type:"fundraising-team",title:n.active.current.default_team_post_title,body:n.active.current.default_team_post_body,status:"published",visibility:"public",comments_count:0,likes_count:0,created_at:moment().subtract(1,"weeks").toString(),updated_at:moment().subtract(1,"weeks").toString(),poster_name:"Leah E. Melo"}],from:1,last_page:1,next_page_url:null,per_page:20,prev_page_url:null,to:1,total:1}}}e.$inject=["scCampaignsService"],angular.module("classy").factory("scFundraisingTeamPostsDemo",e)})(),angular.module("classy").constant("scCrowdfundingThemeDefaults",{type:"crowdfunding",start:{date:new Date,time:new Date},styles:{headerLogo:null,primaryColor:"rgba(66, 92, 205, 1)",aboutBgColor:"rgba(255,255,255,1)",footerBgColor:"rgba(26,26,26,1)",aboutContentColor:"rgba(26,26,26,1)",headlineColor:"rgba(255,255,255,1)",background:{color:"rgba(64, 72, 78, 1)",image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},scss:null,css:null},background:{},pages:{landing:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["crowdfunding","impact","about","activity"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},donation:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["donation"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},"thank-you":{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["thank-you"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]}}}),angular.module("classy").constant("scDonationThemeDefaults",{type:"donation",start:{date:new Date,time:new Date},styles:{headerLogo:null,primaryColor:"rgba(66, 92, 205, 1)",footerBgColor:"rgba(26,26,26,1)",background:{preset:"adaptive",color:"rgba(64, 72, 78, 1)",image:null,repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0,position:"center center",size:"initial",fixed:!1},registerBtnText:"Reserve",scss:null,css:null},pages:{donation:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["donation"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},"thank-you":{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["thank-you"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]}}}),angular.module("classy").constant("scP2PThemeDefaults",{type:"p2p",start:{date:new Date,time:new Date},styles:{headerLogo:null,primaryColor:"rgba(66, 92, 205, 1)",footerBgColor:"rgba(26, 26, 26, 1)",aboutBgColor:"rgba(255, 255, 255, 1)",donateButtonColor:"rgba(230, 232, 239,1)",aboutContentColor:"rgba(26,26,26,1)",headlineColor:"rgba(255,255,255,1)",background:{color:"rgba(17, 17, 17, 1)",image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},scss:null,css:null},pages:{landing:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["crowdfunding","about","impact","fundraisers","activity"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},team:{block_sections:[{name:"header",position:"top",blocks:["header"]},{name:"body",blocks:["team"]},{name:"footer",position:"bottom",blocks:["footer"]}]},fundraiser:{block_sections:[{name:"header",position:"top",blocks:["header"]},{name:"body",blocks:["fundraiser"]},{name:"footer",position:"bottom",blocks:["footer"]}]},donation:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["donation"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},"thank-you":{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["thank-you"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]}}}),angular.module("classy").constant("scRegWFundThemeDefaults",{type:"reg_w_fund",start:{date:new Date,time:new Date},styles:{headerLogo:null,primaryColor:"rgba(66, 92, 205, 1)",footerBgColor:"rgba(26, 26, 26, 1)",aboutBgColor:"rgba(255, 255, 255, 1)",aboutContentColor:"rgb(26,26,26,1)",locationBgColor:"rgba(255, 255, 255, 1)",headlineColor:"rgba(26,26,26,1)",background:{preset:"adaptive",color:"rgba(248, 248, 248, 1)",image:null,repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0,position:"center center",size:"initial",fixed:!1},registerBtnText:"Reserve",scss:null,css:null,ticketedEvent:{ticketTerm:"registrations"}},pages:{landing:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["crowdfunding","about","progress-circle","location","registration","fundraisers","activity"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},team:{block_sections:[{name:"header",position:"top",blocks:["header"]},{name:"body",blocks:["team"]},{name:"footer",position:"bottom",blocks:["footer"]}]},fundraiser:{block_sections:[{name:"header",position:"top",blocks:["header"]},{name:"body",blocks:["fundraiser"]},{name:"footer",position:"bottom",blocks:["footer"]}]},donation:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["donation"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},"thank-you":{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["thank-you"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]}}}),angular.module("classy").constant("scTicketedThemeDefaults",{type:"ticketed",start:{date:new Date,time:new Date},styles:{headerLogo:null,primaryColor:"rgba(66, 92, 205, 1)",aboutBgColor:"rgba(255,255,255,1)",footerBgColor:"rgba(26,26,26,1)",aboutContentColor:"rgba(26,26,26,1)",locationBgColor:"rgba(255, 255, 255, 1)",headlineColor:"rgba(26,26,26,1)",background:{preset:"adaptive",color:"rgba(248,248,248,1)",image:null,repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0,position:"center center",size:"initial",fixed:!1},registerBtnText:"Reserve",scss:null,css:null,ticketedEvent:{ticketTerm:"tickets"}},pages:{landing:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["crowdfunding","about","progress-circle","location","registration","activity"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},donation:{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["donation"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]},"thank-you":{background:{color:null,image:null,position:"top center",size:"cover",repeat:"no-repeat",imageOpacity:100,colorOpacity:100,blur:0},block_sections:[{blocks:["header"],name:"header",position:"top"},{blocks:["thank-you"],name:"body"},{blocks:["footer"],name:"footer",position:"bottom"}]}}}),(()=>{function e(e,t,n,s,l,a){var i={name:"google_adwords"},c=a.debugLog,d=n.REGISTRATION_CREATE_BEGIN,u=n.REGISTRATION_CREATE_COMPLETE;return i.recordPageView=function(){},i.registerSuperProperties=function(){},i.identifyMember=function(){},i.eventBeacon=function(){},i.track=function(e,n){t.google_trackConversion&&t.google_trackConversion(o(e,n))},i.loaded=function(){return SC.hasAdwords?e(function(e){SC.onAdwordsLoaded(function(){e()})}):e.reject()},Object.assign(i,{_parseAdwordsEvent:o});function o(e,n){if(!l.isBot()){var t,a=s.getByName("campaign","google_adwords"),i=_.get(a,["tracked_events",e],void 0),a=_.get(a,["parameters","conversion_id"],!1),o=parseFloat(_.get(n,"amount",0)),r=_.get(n,"id",null),n=_.get(n,"items.length",0)+(_.get(n,"donation_amount",null)?1:0);if(_.isUndefined(i)&&(t=s.getByName("organization","google_adwords"),i=_.get(t,["tracked_events",e],void 0),a=_.get(t,["parameters","conversion_id"],!1)),a&&i)return c("adwords",e+" action called with id "+a+" and label "+i+", value of "+o),t={google_conversion_id:a,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:i,google_conversion_value:o},r&&(t.google_conversion_order_id=r),[d,u].includes(e)&&(t.google_custom_params={items:n}),t}}}e.$inject=["$q","$window","ANALYTICS_EVENTS","scAnalyticsServiceSettings","scUserAgent","scAnalyticsUtils"],angular.module("classy").factory("adwordsService",e)})(),(()=>{function n(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(e,t,a){var i=this,o={name:"meta_capi",registerSuperProperties:function(){},identifyMember:function(){},eventBeacon:function(){}},r=["fundraising-page/create/complete","donation/create/begin","donation/create/complete","registration/create/begin","registration/create/complete","recurring-donation/create/complete"];return o.loaded=function(){return e((t=n(regeneratorRuntime.mark(function e(n,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s())return e.abrupt("return",n());e.next=4;break;case 4:return e.abrupt("return",t());case 5:case"end":return e.stop()}},e,i)})),function(e,n){return t.apply(this,arguments)}));var t},o.recordPageView=function(e){s()&&(e=t.buildChannelEventObject("ViewContent",e),o.sendEvent(e))},o.track=function(e,n){s()&&_.includes(r,e)&&(e=t.buildChannelEventObject(e,n),o.sendEvent(e))},o.sendEvent=function(e){var n=SC.organization.id;try{a({method:"POST",url:"/frs-api/organizations/"+n+"/channel-events",data:e})}catch(e){}},o;function s(){var e=_.get(SC.organization,"metaCapiChannel");return _.get(e,"pixelID",null)}}e.$inject=["$q","scAnalyticsUtils","$http"],angular.module("classy").factory("capiService",e)})(),(()=>{function l(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}function e(e,a,n,i){var o=this,t={name:"facebook_pixel"},r=n.debugLog;return t.registerSuperProperties=function(){},t.identifyMember=function(){},t.eventBeacon=function(){},t.loaded=function(){return e((t=l(regeneratorRuntime.mark(function e(n,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s()){e.next=9;break}case 1:if(a.fbq){e.next=6;break}return e.next=4,new Promise(function(e){return setTimeout(e,50)}).then(function(){return void 0!==a.fbq});case 4:e.next=1;break;case 6:return e.abrupt("return",n());case 9:return e.abrupt("return",t());case 10:case"end":return e.stop()}},e,o)})),function(e,n){return t.apply(this,arguments)}));var t},t.recordPageView=function(e){fbq("track","ViewContent",{content_name:e.title,content_url:window.location.pathname+window.location.search+window.location.hash},{eventID:_.get(e,"event_id")})},t.track=function(e,n){var t=n;if(s())if((e=>{var n=i.getByName("campaign","facebook_pixel");return _.get(n,["tracked_events",e],!1)})(e)||(e=>{var n=i.getByName("organization","facebook_pixel");return _.get(n,["tracked_events",e],!1)})(e)){r("facebook_pixel",t);var a=_.get(t,"items.length",0)+(_.get(t,"donation_amount",null)?1:0);switch(e){case"fundraising-page/create/complete":fbq("track","CompleteRegistration",{content_name:"Fundraising Page Signup"},{eventID:_.get(t,"event_id")});break;case"donation/create/begin":fbq("track","InitiateCheckout",{},{eventID:_.get(t,"event_id")});break;case"donation/create/complete":fbq("track","Purchase",{content_name:"Donation",content_category:"one-time",value:_.get(t,"amount",0),currency:_.get(t,"currency","USD")},{eventID:_.get(t,"event_id")});break;case"registration/create/begin":fbq("track","AddToCart",{content_name:"Registration",value:_.get(t,"amount",null),currency:_.get(t,"currency","USD"),items:_.get(t,"items.length",0)},{eventID:_.get(t,"event_id")});break;case"registration/create/complete":fbq("track","CompleteRegistration",{content_name:"Registration",value:_.get(t,"amount",0),currency:_.get(t,"currency","USD"),items:a,donation_frequency:_.get(t,"donation_frequency","")},{eventID:_.get(t,"event_id")});break;case"recurring-donation/create/complete":fbq("track","Purchase",{content_name:"Donation",content_category:"recurring",value:_.get(t,"amount",0),currency:_.get(t,"currency","USD")},{eventID:_.get(t,"event_id")})}}},t;function s(){var e=i.getByName("campaign","facebook_pixel"),n=i.getByName("organization","facebook_pixel");return _.get(e,["parameters","pixel_id"],_.get(n,["parameters","pixel_id"],!1))}}e.$inject=["$q","$window","scAnalyticsUtils","scAnalyticsServiceSettings"],angular.module("classy").factory("fbqService",e)})(),(()=>{function h(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(e,t,n,a){var i={name:"google_analytics_4",hasBridge:function(){return a.isInit()}},o=n.debugLog,r=n.isPublicPage,s=n.isFunnelConversionEvent,l=n.isEmbeddedGivingEvent,p=n.getCampaign,f=n.getRegistrationQuantity;return i.registerSuperProperties=function(){},i.identifyMember=function(){},i.loaded=function(){return a.canInit()?(a.isInit()||a.init(),e.when()):e(function(e){return SC.onGA4Loaded(function(){return e()})})},i.recordPageView=function(e){r()&&c()&&(o("GA4 Client PageView"),c((e=_.extend(_.cloneDeep(e),{integration:"client"})).integration))&&(a.isInit()?a.track({eventName:"page_view",eventData:e}):t.gtag("event","page_view",e))},i.track=function(e,n){c()&&(s(e)&&(o("GA4 Client Track"),a.isInit()?a.track(e,d(_.extend(_.cloneDeep(n),{integration:"client"}))):function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};window.gtag("event","purchase",d(e,n))}(e,_.extend(_.cloneDeep(n),{integration:"client"}))),l(e))&&(o("GA4 Client Track - Embedded Giving"),a.isInit()?a.track(e,_.extend(_.cloneDeep(n),{category:"embedded-giving",integration:"client"})):function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};window.gtag("event",e,n)}(e,_.extend(_.cloneDeep(n),{category:"embedded-giving",integration:"client"})))},i.eventBeacon=function(e){var n;c()&&(o("GA4 Client Event Beacon"),n=c(),window.gtag("config",n,{send_page_view:!1}),e=((n,t)=>{var e={add_to_cart:function(e){return{items:[{item_id:e.ticket_id,item_name:e.product_name,currency:e.currency||"USD",item_category:"Additional Donation"===e.product_name?"Additional Donation":"Ticket",quantity:e.quantity||1,price:e.price}]}},remove_from_cart:function(e){return{items:[{item_id:e.ticket_id,item_name:e.product_name,currency:e.currency||"USD",item_category:"Additional Donation"===e.product_name?"Additional Donation":"Ticket",quantity:e.quantity||1,price:e.price}]}},new_fundraising_page:function(e){return{entity_id:e.entity_id,category:e.category,action:e.action,fundraiser:{alias:e.fundraiser.alias,campaign_id:e.fundraiser.campaign_id,created_at:e.fundraiser.created_at,normalized_currency_code:e.fundraiser.normalized_currency_code,designation_id:e.fundraiser.designation_id,designation_name:e.fundraiser.designation_name,fundraising_team_id:e.fundraiser.fundraising_team_id,normalized_goal:e.fundraiser.normalized_goal,id:e.fundraiser.id,member_id:e.fundraiser.member_id,organization_id:e.fundraiser.organization_id,raw_currency_code:e.fundraiser.raw_currency_code,raw_goal:e.fundraiser.raw_goal,currency_code:e.fundraiser.currency_code,goal:e.fundraiser.goal,status:e.fundraiser.status,team_role:e.fundraiser.team_role,title:e.fundraiser.title}}}};if(!e[n])return t;try{return(0,e[n])(t)}catch(e){return o("Failed to parse event data for "+n),t}})(n=(n=e.label||"").match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.toLowerCase()}).join("_"),e),t.gtag("event",n,e))},i;function c(){return SC.clientGA4Id}function d(e,n){var i,o,n=1<arguments.length&&void 0!==n?n:{},t=n.amount||0,e="registration/create/complete"===e,a=n.raw_currency_code,r=n.donation_amount,s=n.campaignName,l=n.designationId,c=n.frequency,d=n.country,u=n.promoCode,m=e?n.registration_transaction_id:n.transactionId,g=[];return(!e||0<r)&&g.push({item_id:"1",item_name:"Donation",affiliation:"Classy",currency:a,item_category:e?"Additional Donation":"Direct Donation",price:e?r:t,quantity:1}),e&&(r=(r=Object.assign(n,{transactionId:m})).items||[],i=p().current.ticketTypes||[],o=[],_.forEach(r,function(n){var e=_.find(i,function(e){return e.id===n.product_id}),t=_.get(e,"name",null),e=_.get(e,"price",0),a=f(n),t={id:n.id.toString(),name:t,category:"Ticket",price:e,quantity:a};o.push(t)}),e=o,g=[].concat(h(g),h(e))),{transaction_id:m,affiliation:"Classy",value:0<t?t:(n=g,_.reduce(n,function(e,n){return e+parseFloat(n.price)},0)),tax:0,shipping:0,currency:a,items:g,item_category2:s,item_category3:c,item_category4:d,item_category5:l,coupon:u}}}e.$inject=["$q","$window","scAnalyticsUtils","EmbeddedGivingBridgeGA4"],angular.module("classy").factory("ga4Service",e)})(),(()=>{function h(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(e,i,n,a,o,r,s,l,t,c){var d={name:"google_tag_manager"},u=t.getCampaign,m=t.isFunnelConversionEvent,g=t.getUtmParameters,p=t.getRegistrationQuantity,f=_.extend({fundraising_page_sign_up:"New Fundraising Page",fundraising_team_sign_up:"New Team",supporter_loaded:"supporter_loaded",cart:"cart",transaction:"transaction",custom_page_view:"custom_page_view",ga_add_to_cart:"add to cart",ga_remove_from_cart:"remove from cart",ga_purchase:"ga_purchase"},c.getGTMEventLabelMapper());return d.registerSuperProperties=function(){},d.identifyMember=function(){},d.loaded=function(){return e(function(e,n){return(d.hasGTM()?e:n)()})},d.eventBeacon=function(e){var n,t=_.get(e,"label","").toLowerCase(),a=e;t.includes("new fundraising page")||t.includes("new team")?(n=t.includes("fundraising")?"fundraiser":"team",a=_.pick(e,"event",n),d.updateDataLayer({event:e.label,data:a})):"add to cart"!==t&&"remove from cart"!==t||d.buildEcommerceObject({event:t,items:[{id:e.ticket_id||e.id,name:e.product_name,price:e.price,quantity:1}]})},d.recordPageView=function(){var e={event:"custom_page_view"},n=r.get("EXTRA_GTM_PAGEVIEW_DATA")||{},t=_.get(o,"active.current.id",void 0);Object.assign(e,{member:{id:t,loggedIn:!!t},page:{name:a.getPageName()}},n),d.updateDataLayer({data:e})},d.track=function(e,n){var t;m(e)?function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=t.amount||0,r=t.donation_amount,s="registration/create/complete"===e,l=s?t.registration_transaction_id:t.transactionId;d.loaded().then(function(){var e,i,o,n=[];(!s||0<r)&&n.push({id:l,name:"Donation",sku:"1",category:s?"Additional Donation":"Direct Donation",price:s?r:a,quantity:1}),s&&(e=(e=Object.assign(t,{transactionId:l})).items||[],i=u().current.ticketTypes||[],o=[],_.forEach(e,function(n){var e=_.find(i,function(e){return e.id===n.product_id}),t=_.get(e,"name",null),e=_.get(e,"price",0),a=p(n),t={id:n.id,name:t,sku:n.id.toString(),category:"Ticket",price:e,quantity:a};o.push(t)}),e=o,n=[].concat(h(n),h(e))),d.buildEcommerceObject({event:"ga_purchase",transaction:{actionField:{id:l,revenue:a,coupon:t.promo_code_code}},items:n})})}(e,n):("transaction"==e&&(t=n,Object.prototype.hasOwnProperty.call(t,"transaction"))&&(Object.prototype.hasOwnProperty.call(t.transaction,"items")?_.forEach(t.transaction.items,function(e){_.forEach(e.registrants,function(e){e.email=e.email_address})}):(t.transaction.first_name=t.transaction.billing_first_name,t.transaction.last_name=t.transaction.billing_last_name,t.transaction.email=t.transaction.member_email_address)),d.updateDataLayer({event:e,data:n}))},d.hasGTM=function(){return n.getByName("organization","google_tag_manager")&&i.dataLayer},d.updateDataLayer=function(){var n,t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=e.event,e=e.data,e=void 0===e?{}:e;d.hasGTM()&&(n=Object.assign({},e),t=e.event||a,n.event=_.findKey(f,function(e){return e===t}),!l.isBot())&&n.event&&(Object.keys(n).forEach(function(e){n[e]=s.getSanitizedData(e,n[e])}),(e=g())&&(n.utm=e),i.dataLayer.push(n))},d.buildEcommerceObject=function(e){var n,t,a,i=e.event,o=e.transaction,o=void 0===o?{}:o,e=e.items,e=void 0===e?[]:e;i&&d.hasGTM()&&(o.actionField&&(!o.actionField.revenue||o.actionField.revenue<=0)&&(o.actionField.revenue=_.reduce(e,function(e,n){return e+(parseFloat(n.price)||0)},0)),n="",i===f.ga_purchase?n="purchase":i===f.ga_add_to_cart?n="add":i===f.ga_remove_from_cart&&(n="remove"),a={ecommerce:(e={products:e},(a=n)in(t={})?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t)},Object.assign(a.ecommerce[n],o),d.updateDataLayer({event:i,data:a}))},d}e.$inject=["$q","$window","scAnalyticsServiceSettings","pageNameService","scMembersService","scTransientsService","whitelistedPropertyService","scUserAgent","scAnalyticsUtils","EmbeddedGivingUtil"],angular.module("classy").factory("gtmService",e)})(),(()=>{function n(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}angular.module("classy").provider("$heap",function(){this.isFetching=!1;function l(){var e=document.cookie.split("; ").find(function(e){return e.startsWith(c+"=")});return!(!(e=e?e.split("=")[1]:null)||"function"!=typeof window.heap.addEventProperties||"function"!=typeof window.heap.addUserProperties||(window.heap.addEventProperties(n({},c,e)),window.heap.addUserProperties(n({},c,e)),console.log('[$heap:addClassySessionIdToHeap] added "'+c+'" to event and user properties:',e),0))}var c="classy-session-id";this.$get=function(){return SC.heapLoaded?(console.log("[$heap:$get] heap already present, no need to fetch"),l()):this.isFetching||SC.heapLoaded||(console.log("[$heap:$get] starting..."),this.isFetching=!0,window.heap=window.heap||[],heap.load=function(e,n){console.log("[$heap:$get] loading heap... appId - ",e),window.heap.appid=e,window.heap.config=n||{},l()||(t=0,a=setInterval(function(){t+=1,(l()||20<=t)&&(clearInterval(a),20<=t)&&console.warn('[$heap:addClassySessionIdToHeap] Max checks reached without finding "'+c+'".')},200));var t,a,i=n.forceSSL||"https:"===document.location.protocol,o=document.createElement("script"),n=(o.onload=n.loaded,o.type="text/javascript",o.async=!0,o.defer=!0,o.src=(i?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js",document.getElementsByTagName("script")[0]);n.parentNode.insertBefore(o,n);for(var r=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],s=0;s<r.length;s+=1)heap[r[s]]=(e=>function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))})(r[s]);this.isFetching=!1}),window.heap}}).service("heapService",["$injector","$log","$q","$rootScope","IA_HEAP_PREFIX","EG_EVENTS","scAnalyticsUtils","scOrganizationsService","scThemesService",function(e,c,n,t,a,i,o,r,s){var l=this,d=void 0,u=this,m=(this.name="heap",this.isFetching=!1,o.debugLog),g=o.getCampaign,p=o.isEmbeddedGivingEvent,f=o.isFunnelConversionEvent,h=o.isDigitalWalletsLoadedEvent,v=o.isPublicPage,b=void 0,y=void 0;this.init=function(){if(SC.heapId)return d?c.debug("[heapService:init] heap already initialized"):l.isFetching?c.warn("[heapService:init] already "+(l.isLoading?"loading...":"loaded")):(c.debug("[heapService:init] loading..."),l.isFetching=!0,(d=e.get("$heap")).load(SC.heapId,{forceSSL:!0,secureCookie:!0,loaded:function(){c.log("[heapService:init] loaded!"),SC.heapLoaded=!0,u.isFetching=!1,t.$broadcast("heapService:load")}})),d;c.warn("[heapService:init] SC.heapId not present")},this.loaded=function(){return SC.heapId?SC.heapLoaded?n.resolve():b=b||n(function(e,n){var t=0;y=setInterval(function(){200<(t+=1)&&(clearInterval(y),n()),SC.heapLoaded&&(clearInterval(y),e())},100)}):(c.warn("[heapService:loaded] heapId not present"),n.reject())},this.recordPageView=function(e){SC.heapLoaded?window.heap.track("Page View",Object.assign({},e,{environment:SC.env,is_public:v()})):c.warn("[heapService:recordPageView] $heap not present")},this.track=function(e,n){c.debug("[heapService:track] start event... ",e,JSON.stringify(n)),SC.heapLoaded?e===i.open.modal||e===i.open.inline?c.debug("[heapService:track] open event"):f(e)?function(e){var n,t,a,i,o,r,s,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};SC.heapLoaded?(m("heap conversion",l),n=l.amount||0,t=l.raw_currency_code,a=l.donation_amount,i=(e="registration/create/complete"===e)?l.registration_transaction_id:l.transactionId,o=e?"Event Cart - Successful Payment":"Donation Page - Successful Payment",r=!e&&l.digitalWalletsPresent,s=e?"":l.paymentRequestButton,e=e?"":l.paymentSource,window.heap.track(o,{id:i,revenue:n,donation_amount:a||void 0,num_attendees:l.items?l.items.length:0,raw_currency_code:t,digitalWalletsPresent:r.toString(),paymentRequestButton:s,paymentSource:e})):c.warn("[heapService:trackTransactionEvent] heap not present")}(e,n):h(e)?function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};SC.heapLoaded?(e=n.digitalWalletsLoaded?"Donation Page - View Page - Digital Wallet":"Donation Page - View Page - Standard",window.heap.track(e,n)):c.warn("[heapService:trackDigitalWalletsLoadedEvent] $heap not present")}(n):p(e)&&function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};SC.heapLoaded?(c.debug("[heapService:trackEmbeddedGivingEvent]: ",e,JSON.stringify(n)),window.heap.track(e,n)):c.warn("[heapService:trackEmbeddedGivingEvent] $heap not present")}(e,n):c.warn("[heapService:track] $heap not present",e,JSON.stringify(n))},this.identifyMember=function(e,n){SC.heapLoaded?(window.heap.identify(e.toString()),window.heap.addUserProperties(n)):c.warn("[heapService:identifyMember] $heap not present")},this.eventBeacon=function(e){SC.heapLoaded?window.heap.track(e.label,e):c.warn("[heapService:eventBeacon] $heap not present")},this.registerSuperProperties=function(){var e;SC.heapLoaded?(e=g(),e={environment:SC.env,organization_id:r.active.current.id,payment_processor:r.active.current.payment_provider_name,campaign:e.current.id,campaign_type:e.current.type,duplicate_fundraisers:e.current.allow_duplicate_fundraisers,additional_donation_enabled:_.get(s.active.current.styles,"ticketedEvent.additionalDonation",void 0),existing_fundraiser:!1},window.heap.addEventProperties(e)):c.warn("[heapService:registerSuperProperties] $heap not present")},this.trackIntelligentAskEvent=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};SC.heapLoaded?e&&e.length&&0!==!e.indexOf(a)?(c.debug("[heapService:trackIntelligentAskEvent]: ",e,n),window.heap.track(e,n)):c.warn("[heapService:trackIntelligentAskEvent] IA event name prefix required"):c.warn("[heapService:trackIntelligentAskEvent] $heap not present")},this.destroy=function(){c.warn("[heapService] destroying..."),d=null,l.isFetching=!1,SC.heapLoaded=!1,t.$broadcast("heapService:loaded"),delete window.heap}}])})(),angular.module("classy").provider("$optimizely",function(){this.$get=function(){var e,n;return this.hasSrc||window.optimizely||((e=document.createElement("script")).type="text/javascript",e.async=!0,e.src="https://cdn.optimizely.com/js/4753700085301248.js",(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,n),this.hasSrc=!0),window.optimizely}}).service("Optimizely",["$log","$injector","EG_EVENTS",function(t,e,a){this.isInit=!1;var i=void 0;this.init=function(){this.isInit||(i=e.get("$optimizely"),this.isInit=!0)},this.track=function(e,n){i&&i.push?e?e===a.open.modal||e===a.open.inline?t.debug("[Optimizely:track] Optimizely open event"):_.isEmpty(n)?(t.info("[Optimizely:track] Optimizely sending event... ",e),i.push({type:"event",eventName:e})):(t.info("[Optimizely:track] Optimizely sending event... ",e,n),i.push({type:"event",eventName:e,tags:n})):t.warn("[Optimizely:track] Optimizely event name required"):t.warn("[Optimizely:track] Optimizely not found")}}]),angular.module("classy").component("cpAchTokenizer",{require:{ngModelCtrl:"ngModel"},template:'<div aria-labelledby="bank-account-routing-label" data-tracked-element="donation-page_checkout_account-number-input" class="cp-ach-tokenizer-control__iframe {{$ctrl.isLoading ? \'loading\' : \'\'}} {{$ctrl.showErrorMsg ? \'sc-form-error\' : \'\'}}" id="accountNumberContainer" data-sc-form-error="highlight if accountNumber fails">\n              <div ng-style="{display: $ctrl.isLoading ? \'none\' : \'block\'}" id="account-number-iframe-container"></div>\n              <span class="cp-ach-tokenizer__status-loading" aria-hidden="true"></span>\n            </div>\n            <p class="form__error" data-sc-form-error="show if accountNumber fails customRegEx" ng-hide="$ctrl.showErrorMsg" aria-live="polite">{{$ctrl.errorMsgs[\'customRegEx\']}}</p>\n            <p class="form__error" data-sc-form-error="show if accountNumber fails format" ng-hide="$ctrl.showErrorMsg" aria-live="polite">{{$ctrl.errorMsgs[\'format\']}}</p>\n            <p class="form__error" data-sc-form-error="show if accountNumber fails required" ng-hide="$ctrl.showErrorMsg" aria-live="polite">{{$ctrl.errorMsgs[\'required\']}}</p>\n            <p class="form__error" data-sc-form-error="hide if accountNumber fails" ng-if="$ctrl.showErrorMsg" aria-live="polite" ng-bind="$ctrl.errorMessage"></p>',bindings:{onFocus:"<",onToken:"&"},controller:["cpAPI","$window","$scope","$timeout","scScriptLoaderService","bugsnagClient",function(n,t,e,a,i,o){var r=this,s=!!window.MSInputMethodContext&&!!document.documentMode;this.$onInit=function(){r.id="account-number-iframe-container",r.isLoading=!0,i.loadScript(SC.tokenex.tokenex_url+"/iframe/iframe-v3.min.js").then(function(){r.buildIframe()}).catch(function(e){o.notify(e)}),r.errorMsgs={required:"Account number is required.",format:"Account number should be greater than 4 and less than 17 digits.",customRegEx:"Account number should be greater than 4 and less than 17 digits."},r.showErrorMsg=!1,e.$on("tokenizer",function(e,n){"reset"===n?r.iframe.reset():"tokenize"!==n&&""!==n||r.iframe&&(r.ngModelCtrl.$setDirty(),r.iframe.validate(),r.iframe.tokenize())})},this.updateErrorMessage=function(e){r.errorMessage=r.errorMsgs[e.validator],r.showErrorMsg=!e.isValid&&r.ngModelCtrl.$dirty},this.buildIframe=function(){r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$setPristine(),r.ngModelCtrl.$setUntouched();var e=t.location.origin;n.getAccountRoutingTokenExConfig(e).then(function(e){e.styles={base:"\n              width:85%;\n              height:38px;\n              background:transparent;\n              border:0;\n              line-height:20px;\n              vertical-align:middle;\n              font-size:16px;\n              font-family:'Mulish',Arial,Helvetica,sans-serif;\n              color: #444b55;\n              outline:none;\n              padding:0 10px;\n              font-weight:400;\n            ",placeholder:'\n              color: #444b55;\n              opacity:0.5;\n              font-family:"Mulish",Arial,Helvetica,sans-serif;\n              font-weight:400;\n            '},e.font="Mulish",e.placeholder="Account number",r.iframe=new TokenEx.Iframe(r.id,e),r.iframe.on("focus",r.handleFocus),r.iframe.on("blur",r.handleBlur),r.iframe.on("validate",r.handleValidate),r.iframe.on("tokenize",r.handleToken),r.iframe.on("change",r.handleChange),r.iframe.on("load",r.handleLoad),r.iframe.load()})},this.handleToken=function(e){r.ngModelCtrl.$setViewValue(e.token),r.iframe.validate(),r.onToken({token:e})},this.handleValidate=function(e){r.ngModelCtrl.$setValidity("customRegEx",!0),r.ngModelCtrl.$setValidity("required",!0),r.ngModelCtrl.$setValidity("format",!0),s&&r.ngModelCtrl.$setValidity("origin",!0),e.isValid||r.ngModelCtrl.$setValidity(e.validator,e.isValid),r.ngModelCtrl.$syncValidity(),r.updateErrorMessage(e)},this.handleBlur=function(){r.onFocus(!1)},this.handleFocus=function(){r.onFocus(!0)},this.handleChange=function(){r.ngModelCtrl.$setDirty(),r.iframe.validate()},this.handleLoad=function(){a(function(){r.isLoading=!1})}}]}),angular.module("classy").component("egPayAch",{templateUrl:"global/embedded-giving/pay/components/ach/eg.pay.components.ach",bindings:{payment:"<"},controller:["scThemesService",function(e){var n=this;this.accountNumberFocus=!1,this.accountNumberHover=!1,this.routingNumberFocus=!1,this.routingNumberHover=!1,this.$onInit=function(){n.showManualACH=!1,n.primaryColor=e.active.current.styles.primaryColor},this.onAccountNumberFocus=function(e){n.accountNumberFocus=e},this.show={checkDefault:function(){return!(n.routingNumberHover||n.accountNumberHover||n.routingNumberFocus||n.accountNumberFocus)},checkRouting:function(){return(n.routingNumberHover||n.routingNumberFocus)&&!n.accountNumberHover},checkAccount:function(){return(n.accountNumberHover||n.accountNumberFocus)&&!n.routingNumberHover}}}]}),angular.module("classy").component("egPayAchTokenizer",{require:{ngModelCtrl:"ngModel"},templateUrl:"global/embedded-giving/pay/components/ach/eg.pay.components.ach.tokenizer",bindings:{onFocus:"<"},controller:["cpAPI","$rootScope","$window","$scope","$timeout","scCampaignsService","scScriptLoaderService","bugsnagClient",function(t,n,a,e,i,o,r,s){var l=this,c=!!window.MSInputMethodContext&&!!document.documentMode;this.$onInit=function(){l.id="account-number-iframe-container",l.isLoading=!0,l.showErrorMsg=!1,l.errorMsgs={required:"Account number is required.",format:"Account number should be between 4 and 17 digits.",customRegEx:"Account number should be between 4 and 17 digits."},r.loadScript(SC.tokenex.tokenex_url+"/iframe/iframe-v3.min.js").then(function(){l.buildIframe()}).catch(function(e){s.notify(e)}),e.$on("tokenizer",function(e,n){"reset"===n&&l.iframe.reset()})},this.updateErrorMessage=function(e){l.errorMessage=l.errorMsgs[e.validator],l.showErrorMsg=!e.isValid&&l.ngModelCtrl.$dirty},this.buildIframe=function(){l.ngModelCtrl.$setViewValue(null),l.ngModelCtrl.$setPristine(),l.ngModelCtrl.$setUntouched();var e=a.location.origin,n=_.get(o,"active.current.whitelist_url");(n=n.split(" ").join(","))&&0<n.length&&(e+=","+n),t.getAccountRoutingTokenExConfig(e).then(function(e){e.styles={base:"\n                width:85%;\n                height:38px;\n                background:transparent;\n                border:0;\n                line-height:38px;\n                vertical-align:middle;\n                font-size:15px;\n                font-family:'Mulish',Arial,Helvetica,sans-serif;\n                color: #444b55;\n                outline:none;\n                padding:0 10px;\n                font-weight:400;\n              ",placeholder:'\n                color: #444b55;\n                opacity:0.5;\n                font-family:"Mulish",Arial,Helvetica,sans-serif;\n                font-weight:400;\n              '},e.font="Mulish",e.placeholder="000123456789",l.iframe=new TokenEx.Iframe(l.id,e),l.iframe.on("focus",l.handleFocus),l.iframe.on("blur",l.handleBlur),l.iframe.on("validate",l.handleValidate),l.iframe.on("tokenize",l.handleToken),l.iframe.on("change",l.handleChange),l.iframe.on("load",l.handleLoad),l.iframe.load()})},this.handleToken=function(e){l.ngModelCtrl.$setViewValue(e.token),l.ngModelCtrl.$setValidity("required",!0)},this.handleValidate=function(e){l.ngModelCtrl.$setValidity("customRegEx",!0),l.ngModelCtrl.$setValidity("required",!0),l.ngModelCtrl.$setValidity("format",!0),c&&l.ngModelCtrl.$setValidity("origin",!0),e.isValid||l.ngModelCtrl.$setValidity(e.validator,e.isValid),l.ngModelCtrl.$syncValidity(),l.updateErrorMessage(e),n.$broadcast("eg.donation-payment.is-valid",{isValid:e.isValid})},this.handleBlur=function(){l.onFocus(!1)},this.handleFocus=function(){l.onFocus(!0)},this.handleChange=function(){l.ngModelCtrl.$setDirty(),l.iframe.tokenize(),l.iframe.validate()},this.handleLoad=function(){i(function(){l.isLoading=!1})}}]}),(()=>{function m(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").component("egPayDigitalWallets",{templateUrl:"global/embedded-giving/pay/components/digital-wallets/eg.pay.components.digital-wallets",bindings:{frequency:"<",amount:"<",fot:"<",classyMode:"<",currency:"<",submit:"<",payType:"="},controller:["$http","$q","$window","cpConstants","cpAPI","scAnalytics","scCurrencyService","scDigitalWalletsService","scThemesService","scCampaignsService",function(e,n,t,a,i,o,r,s,l,c){var d,u=this,l=l.active.current;this.dataId="",this.payLogo="",this.payType="",this.showDigitalWallets=!1,this.useAnotherPaymentBtnStyle={color:l.styles.primaryColor,border:"2px solid "+l.styles.primaryColor},this.$onInit=m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.currency=u.currency||r.getDefaultCurrency(),u.amount=u.amount||0,u.classyMode=u.classyMode||c.active.current.classy_mode_enabled,s.isLoaded){e.next=6;break}return e.next=6,u.initDW();case 6:case"end":return e.stop()}},e,u)})),this.$onChanges=(d=m(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.currency&&n.currency.isFirstChange())return e.abrupt("return");e.next=2;break;case 2:if(isNaN(u.amount))return e.abrupt("return");e.next=4;break;case 4:if(s.isLoaded){e.next=9;break}return e.next=7,u.initDW();case 7:e.next=10;break;case 9:0!==u.amount&&(t={amount:u.amount,frequency:u.frequency,currency:u.currency,fot:u.fot,classyMode:u.classyMode,submit:u.submit},s.updatePaymentRequest(t));case 10:case"end":return e.stop()}},e,u)})),function(e){return d.apply(this,arguments)}),this.digitalWalletsEnabled=m(regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.PAYMENT_METHODS,e.next=3,u.getProcessors();case 3:return t=e.sent,e.abrupt("return",n.DW in t);case 5:case"end":return e.stop()}},e,u)})),this.getProcessors=function(){return t.SC.processors?n.resolve(t.SC.processors):e.get("/frs-api/pay/processors?appId="+i.getApplicationId()).then(function(e){return e.data})},this.showDigitalWalletsListener=function(e){(u.showDigitalWallets=e)&&(u.determineLogo(s.isApplePay),u.setDataId())},this.setDataId=function(){switch(u.payType){case"Apple Pay":u.dataId="paymethod-applepay";break;case"Google Pay":u.dataId="paymethod-googlepay";break;case"Microsoft Pay":u.dataId="paymethod-microsoftpay";break;default:u.dataId=""}},this.initDW=m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.digitalWalletsEnabled();case 2:e.sent?(s.initDigitalWallets({currency:u.currency,frequency:u.frequency,amount:u.amount,fot:u.fot,classyMode:u.classyMode,submit:u.submit}),e.next=8):e.next=6;break;case 6:o.track("dw_loaded",{digitalWalletsLoaded:!1}),s.showDigitalWallets(!1);case 8:case"end":return e.stop()}},e,u)})),s.addShowDigitalWalletsListener(this.showDigitalWalletsListener),this.determineLogo=function(e){var n=-1!==navigator.userAgent.indexOf("Chrome"),t=-1!==navigator.userAgent.indexOf("Edg");n&&(u.payLogo="/static/global/images/digitalWallets/GooglePay-logo.svg",u.payType="Google Pay"),t&&(u.payLogo="/static/global/images/digitalWallets/MicrosoftPay-logo.svg",u.payType="Microsoft Pay"),e&&(u.payLogo="/static/global/images/digitalWallets/ApplePay-logo.svg",u.payType="Apple Pay")},this.openDWModal=s.openDWModal}]})})(),angular.module("classy").component("egPayPlaid",{require:{ngModelCtrl:"ngModel"},templateUrl:"global/embedded-giving/pay/components/plaid/eg.pay.components.plaid",bindings:{model:"<",onSuccess:"&",onCancel:"&",currency:"<",style:"<"},controller:["$log","cpAPI","bugsnagClient","cpConstants","EmbeddedGivingPaths","scThemesService","scDigitalWalletsService","$state","$rootScope",function(e,t,a,i,n,o,r,s,l){var c=this;this.constants=i,this.config={},this.primaryColor=o.active.current.styles.primaryColor,this.isDonationAchTerms=!!s.current.name.includes("frs.donation.checkout"),this.EmbeddedGivingPaths=n,this.clientUserId=(SC.member.id||SC.heapId).toString(),this.$onChanges=function(){this.currency&&this.model.status!==i.STATUS.INACTIVE&&this.setupPlaid()},this.setupPlaid=function(){var n=this;t.getPlaidToken(this.clientUserId).then(function(e){e=e.linkToken;n.model.status=i.STATUS.READY,n.config.linkToken=e}).catch(a.notify)},this.openPlaidDialog=function(){this.onCancel();var e=this.config.linkToken;Plaid.create({product:["auth"],clientName:"Classy Pay",selectAccount:!0,token:e,onSuccess:this.onPlaidSuccess.bind(this),onExit:this.onPlaidCancel.bind(this)}).open()},this.onPlaidReady=function(){e.log("Plaid Ready")},this.onPlaidSuccess=function(e,n){this.model.status=i.STATUS.SUCCESS,this.model.accountId=n.account_id,this.model.accountName=n.account.name,this.model.publicToken=e,this.model.achTermsAccepted=!1,this.ngModelCtrl.$setValidity("required",!0),this.ngModelCtrl.$setDirty();e=n.account.mask,n=n.account.subtype;this.onSuccess({lastFour:e,accountType:n})},r.addOnDigitalWalletsSubmitListener(function(){c.model.status===i.STATUS.SUCCESS&&c.onPlaidCancel()}),this.onPlaidCancel=function(){this.ngModelCtrl.$setViewValue(i.STATUS.READY),this.ngModelCtrl.$setPristine(),this.ngModelCtrl.$setUntouched(),this.onCancel()},l.$on("openPaymentModal",function(e,n){n===c.constants.PAYMENT_METHODS.ACH&&c.openPlaidDialog()})}]}),angular.module("classy").component("egPayCreditCard",{templateUrl:"global/embedded-giving/pay/components/credit-card/eg.pay.components.credit-card",bindings:{onToken:"&",onCard:"&",payment:"<",label:"<?",primaryColor:"<?",hidePostal:"<?",hideLabel:"<"},controller:["$sce","$scope","$rootScope","$templateCache","$timeout","scDigitalWalletsService","scFeeOnTopService",function(n,e,a,t,i,o,r){var s=this;this.$onInit=function(){this.label=this.label||"Card number",this.mode="number",this.modeChanged=!1,this.formName="cpCreditCardWidget",this.numberInvalid=!1,this.detailsInvalid=!1,this.expirationDateInvalid=!1,this.securityCodeInvalid=!1,this.postalOrZipInvalid=!1,this.errorVisible=!1,e.$on("scValidity.update",function(e,n,t){n===this.formName&&(a.$broadcast("eg.donation-payment.is-valid",{isValid:t.valid}),this.errorVisible=!1,this.errorMessage="",this.numberInvalid=!1,this.detailsInvalid=!1,this.expirationDateInvalid=!1,this.securityCodeInvalid=!1,this.postalOrZipInvalid=!1,this.shouldShowErrorMessage(t))&&(n=t.error,this.errorVisible=!0,_.size(n.token)||!this.payment.lastFour?(this.numberInvalid=!0,this.errorMessage="Please enter a valid credit card number.",this.changeMode("number",!1)):(this.detailsInvalid=!0,_.get(n,"expirationMonth.required")&&_.get(n,"expirationYear.required")?(this.errorMessage="Please enter an expiration date.",this.expirationDateInvalid=!0):_.get(n,"expirationMonth.scPattern")||_.get(n,"expirationYear.scPattern")?(this.errorMessage="Please enter in MM/YY format.",this.expirationDateInvalid=!0):_.get(n,"expirationMonth.cpExpirationDate")||_.get(n,"expirationYear.cpExpirationDate")?(this.errorMessage="Please enter a valid expiration date.",this.expirationDateInvalid=!0):_.size(n.securityCode)?(this.errorMessage="Please enter a valid security code.",this.securityCodeInvalid=!0):_.get(n,"postalCode.required")?("US"===this.payment.country?this.errorMessage="Please enter a zip code.":this.errorMessage="Please enter a postal code.",this.postalOrZipInvalid=!0):(_.get(n,"postalCode.minlength")||_.get(n,"postalCode.maxlength"))&&(this.errorMessage="Please enter between 2 and 10 characters.",this.postalOrZipInvalid=!0)))}.bind(this))},this.handleValidCard=function(e,n){this.form&&(this.payment.brand=e,this.payment.isAmex="americanExpress"===e,r.setAmex(this.payment.isAmex),a.$broadcast("donationPage:recalculateFees"),this.payment.lastFour=n,this.modeChanged||(this.form.token.$blur(),e&&(this.modeChanged=!0,this.form.$autofocus("expirationMonth"))),this.onCard({brand:e,lastFour:n}))},this.handleToken=function(e){this.onToken(e)},this.changeMode=function(e,n){var t=this;this.mode=e,n&&i("details"===e?function(){t.modeChanged=!0,t.form.$autofocus("expirationMonth")}:function(){t.form.$autofocus("token")},400)},this.handleReset=function(){this.modeChanged=!1,this.errorVisible=!1,this.errorMessage="",this.numberInvalid=!1,this.detailsInvalid=!1,this.expirationDateInvalid=!1,this.securityCodeInvalid=!1,this.postalOrZipInvalid=!1},this.brandIcon=function(){var e=void 0;switch(this.payment.brand){case"visa":e=t.get("global/classy-pay/svg/visa");break;case"americanExpress":e=t.get("global/classy-pay/svg/amex");break;case"discover":e=t.get("global/classy-pay/svg/discover");break;case"masterCard":e=t.get("global/classy-pay/svg/mastercard");break;case"diners":e=t.get("global/classy-pay/svg/diners-club");break;default:e="<i class='cp-credit-card__brand-icon ci ci-credit-card'></i>"}return n.trustAsHtml(e)},this.codeName=function(){switch(this.payment.brand){case"masterCard":case"maestro":return"CVC";case"americanExpress":case"discover":return"CID";default:return"CVV"}},this.codePattern=function(){return"americanExpress"!==this.payment.brand?"^[0-9]{3}$":"^[0-9]{4}$"},this.zipName=function(){return"US"===this.payment.country?"Zip":"Postal"},e.$watch(function(){return s.payment.country},function(){s.form.$scValidityReporter.update()}),this.shouldShowErrorMessage=function(t){if(o.isDigitalWalletSubmission)return!1;var e=Object.keys(t.error);if(e.length!==this.form.$$controls.length)return!1;var n=e.reduce(function(e,n){return _.isEmpty(t.error[n])?e:[].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(e),[n])},[]);if(!n.length)return!1;if(t.uiValid&&n.length>=e.length-1)return!1;for(var a=0;a<e.length;a+=1){var i=e[a],i=_.get(this.form,"["+i+"].$$element");if(i&&i.is(":focus"))return!1}return!0}}]}),angular.module("classy").component("egPayCreditCardTokenizer",{require:{ngModelCtrl:"ngModel"},templateUrl:"global/embedded-giving/pay/components/credit-card/eg.pay.components.credit-card.tokenizer",bindings:{cmdEvent:"<",onToken:"&",onValid:"&",onReset:"&",cardBrand:"<?"},controller:["$element","$scope","$timeout","$window","$templateCache","$sce","cpAPI","onIOSBlur","scBanner","scCampaignsService","scScriptLoaderService","bugsnagClient",function(n,e,t,a,i,o,r,s,l,c,d,u){var m=this;this.$onInit=function(){var e=this;this.haveShownTokenExAlert=!1,this.iframeTimeout=!1,this.subscribeToCommands(),this.isLoading=!0,this.id="cp-tokenizer-control__iframe",this.empty=!0,this.ngModelCtrl.$isEmpty=function(){return e.isEmpty()}},this.$postLink=function(){var e=this;d.loadScript(SC.tokenex.tokenex_url+"/iframe/iframe-v3.min.js").then(function(){e.buildIframe()}).catch(function(e){u.notify(e)}),this.deregisterIOSBlur=s(n,function(){return e.handleBlur()})},this.$onDestroy=function(){this.deregisterIOSBlur()},this.brandIcon=function(){var e=void 0;switch(this.cardBrand){case"visa":e=i.get("global/classy-pay/svg/visa");break;case"americanExpress":e=i.get("global/classy-pay/svg/amex");break;case"discover":e=i.get("global/classy-pay/svg/discover");break;case"masterCard":e=i.get("global/classy-pay/svg/mastercard");break;case"diners":e=i.get("global/classy-pay/svg/diners-club");break;default:e="<i class='cp-credit-card__brand-icon ci ci-credit-card'></i>"}return o.trustAsHtml(e)},this.buildIframe=function(){m.ngModelCtrl.$setViewValue(null),m.ngModelCtrl.$setPristine(),m.ngModelCtrl.$setUntouched(),m.isLoading=!0;var e=a.location.origin,n=_.get(c,"active.current.whitelist_url");(n=n.split(" ").join(","))&&0<n.length&&(e+=","+n),m.iframe&&m.iframe.remove(),r.getTokenexData(e).then(function(e){e.styles={base:"\n                width:85%;\n                height:38px;\n                background:transparent;\n                border:0;\n                line-height:38px;\n                vertical-align:middle;\n                font-size:15px;\n                font-family:'Mulish',Arial,Helvetica,sans-serif;\n                color: #444b55;\n                outline:none;\n                padding:0 10px;\n                font-weight:400;\n              ",placeholder:'\n                color: #444b55;\n                opacity:0.5;\n                font-family:"Mulish",Arial,Helvetica,sans-serif;\n                font-weight:400;\n              '},e.font="Mulish",e.placeholder="Credit Card",e.enablePrettyFormat=!0,e.enableValidateOnKeyUp=!0,e.enableAutoComplete=!0,m.iframe=new TokenEx.Iframe(m.id,e),m.iframe.on("focus",m.handleFocus),m.iframe.on("blur",m.handleBlur),m.iframe.on("validate",m.handleValidate),m.iframe.on("tokenize",m.handleToken),m.iframe.on("load",function(){t(function(){m.isLoading=!1,m.$iframe=angular.element("#tx_iframe_cp-tokenizer-control__iframe"),m.$iframe.attr("title","Credit Card details")})}),m.iframe.load(),m.setIframeTimeout()})},this.subscribeToCommands=function(){var t=this;e.$on(this.cmdEvent,function(e,n){return t.handleCommand(n)})},this.handleCommand=function(e){switch(e){case"reset":this.resetIframe();break;case"tokenize":this.iframe&&this.iframe.tokenize()}},this.setIframeTimeout=function(){this.iframeTimeout&&t.cancel(this.iframeTimeout);this.iframeTimeout=t(this.resetIframe.bind(this),15e5)},this.resetIframe=function(){this.iframeTimeout=void 0,this.buildIframe(),this.onReset(),this.handleValidate({isValid:!1,validator:"required"})},this.handleToken=function(e){m.ngModelCtrl.$setViewValue(e.token),m.onToken({token:e})},this.handleFocus=function(){-1===(document.head.textContent||document.head.innerText).indexOf("Evernote Clipper")||m.haveShownTokenExAlert||(l("Some supporters with the Evernote extension are experiencing issues entering credit card information. Simply deactivating the extension fixes the issue","error",!0),m.haveShownTokenExAlert=!0),m.ngModelCtrl.$focus&&(m.ngModelCtrl.$setTouched(),m.ngModelCtrl.$focus())},this.handleBlur=function(){m.ngModelCtrl.$setDirty(),n.blur(),m.ngModelCtrl.$blur&&m.ngModelCtrl.$blur(),m.iframe.validate()},this.handleValidate=function(e){m.ngModelCtrl.$setValidity("required",!0),m.ngModelCtrl.$setValidity("format",!0),m.ngModelCtrl.$setValidity("signature",!0),m.ngModelCtrl.$setValidity("luhnCheck",!0),e.isValid?(m.empty=!1,m.onValid({brand:e.cardType,lastFour:e.lastFour})):("required"===e.validator&&(m.empty=!0),m.onValid({brand:null,lastFour:null}),m.ngModelCtrl.$setValidity(e.validator,e.isValid)),m.ngModelCtrl.$syncValidity()},this.isEmpty=function(){return this.empty}}]}),(()=>{function k(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,r){return function n(e,t){try{var a=s[e](t),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});o(i)}("next")})}}angular.module("classy").component("egPayPaypalCommerce",{templateUrl:"global/embedded-giving/pay/components/paypal/eg.pay.components.paypal-commerce",bindings:{hasPaypal:"<",hasVenmo:"<",modelPaypal:"<",modelVenmo:"<",amount:"<",fot:"<",frequency:"<",onSuccess:"&",onCancel:"&",enablePaymentButtons:"&",disablePaymentButtons:"&"},controller:["$log","$timeout","bugsnagClient","PayPalSDK","cpConstants","scFeeOnTopService","scOrganizationsService","$q",function(o,n,t,r,e,a,i,s){function l(){return d.apply(this,arguments)}function c(e){g.selectedPayment=e}var d,u,m,g=this,p=this,f=e.STATUS,h=void 0,v=(this.$onInit=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.amount=g.amount||0,g.orgName=i.active.current.name,g.paypal={},g.venmo={},g.FUNDING_SOURCES=[],e.next=7,r.init({commit:!1}).then(function(e){var n=e.paypal,t=e.paypalRecurring,e=e.merchantId;g.paypalOneTime=n,g.paypalRecurring=t,g.merchantId=e,g.showButtons={},g.hasPaypal&&g.FUNDING_SOURCES.push(g.paypalOneTime.FUNDING.PAYPAL),g.hasVenmo&&g.FUNDING_SOURCES.push(g.paypalOneTime.FUNDING.VENMO),g.FUNDING_SOURCES.forEach(function(e){g.createButtons(e)})});case 7:g.addDataIds();case 8:case"end":return e.stop()}},e,g)})),this.$onChanges=function(e){var n,t,e=e||{};(e.amount||e.frequency||e.fot)&&(n=e&&e.amount,t=e&&e.frequency,e=e&&e.fot,n&&n.currentValue&&"0"!==n.currentValue&&"0.00"!==n.currentValue||t||e?(_.has(p.paypal,"actionsOnce")&&p.paypal.actionsOnce.enable(),_.has(p.venmo,"actionsOnce")&&p.venmo.actionsOnce.enable(),p.actionsMonthly&&p.actionsMonthly.enable()):(_.has(p.paypal,"actionsOnce")&&p.paypal.actionsOnce.disable(),_.has(p.venmo,"actionsOnce")&&p.venmo.actionsOnce.disable(),p.actionsMonthly&&p.actionsMonthly.disable()),h&&h.resolve(),h=s.defer(),(n&&n.currentValue||e)&&(g.totalAmount=g.amount,(n&&g.isValidAmount(n.currentValue)||e&&!e.isFirstChange())&&a.transactionEstimate(g.amount,{processor_name:"PAYPAL_COMMERCE",fot:g.fot},{timeout:h.promise},g.frequency).then(function(e){var e=e.data,n=e.charge_summary,e=e.gross_adjustment;a.donorCoveredFeesEnabled&&(g.totalAmount=n.total_charge);n=parseFloat(e.raw_processor_fee_amount)+parseFloat(e.raw_application_fee_amount)-.018*g.totalAmount-.3;g.platformFee=n<=0?0:n}).catch(function(){}),a.fixedFotEnabled)&&(g.totalAmount=(g.fot?Number(g.amount+a.calculateFixedFeeOnTop(g.amount)):g.amount).toFixed(2)),!t||t.isFirstChange()||g.modelPaypal.status!==f.SUCCESS&&g.modelVenmo!==f.SUCCESS||"one-time"!==t.currentValue&&"one-time"!==t.previousValue||g.onCancel())},this.isValidAmount=function(e){return e&&0<e&&"0"!==e&&"0.00"!==e&&"clear"!==e},this.showOneTime=function(){return"one-time"===g.frequency&&(g.hasPaypal||g.hasVenmo)},this.showRecurring=function(){return"one-time"!==g.frequency&&g.hasPaypal},d=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.createBillingAgreementToken());case 1:case"end":return e.stop()}},e,g)})),this.createButtons=function(t){var a,e={height:40},n=g.paypalOneTime.Buttons({fundingSource:t,style:e,createOrder:(a=t,function(e,n){return r.createOrder(g.totalAmount,"USD","venmo"===a?"Venmo":"PayPal_Commerce")}),onInit:function(e,n){p[t].actionsOnce=n,p.amount<=0&&p[t].actionsOnce.disable()},onApprove:v,onClick:function(){p.disablePaymentButtons(),c(t)},onCancel:function(){p.enablePaymentButtons(),this.onCancel()},onError:y}),e=g.paypalRecurring.Buttons({fundingSource:t,style:e,createBillingAgreement:l,onApprove:b,onInit:function(e,n){p.actionsMonthly=n,p.amount<=0&&p.actionsMonthly.disable()},onClick:function(){c(t)},onError:y});g.showButtons[t]=n.isEligible(),n.isEligible()&&n.render("#button-container-one-time"),e.isEligible()&&e.render("#button-container-recurring")},this.addDataIds=function(){var e=document.getElementById("button-container-one-time").getElementsByClassName("paypal-buttons");0<e.length&&e[0].setAttribute("data-id","eg-paymethod-"+g.FUNDING_SOURCES[0]),1<e.length&&e[1].setAttribute("data-id","eg-paymethod-"+g.FUNDING_SOURCES[1]);e=document.getElementById("button-container-recurring").getElementsByClassName("paypal-buttons");0<e.length&&e[0].setAttribute("data-id","eg-paymethod-paypal")},u=k(regeneratorRuntime.mark(function e(n,t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.orderID,e.next=3,r.getOrderDetails(i).then(function(e){var e=e.data,n=_.get(e,"payer.email_address"),t=_.get(e,"payer.name.given_name"),a=_.get(e,"payer.name.surname"),e=_.get(e,"purchase_units[0].shipping.address"),n={email:n,firstName:t,lastName:a,orderId:i,status:f.SUCCESS,shippingAddress:e};g.onSuccess({params:{details:n,fundingSource:g.selectedPayment}})});case 3:case"end":return e.stop()}},e,g)})),function(e,n){return u.apply(this,arguments)}),b=(m=k(regeneratorRuntime.mark(function e(n,t){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getBillingAgreementToken(),i={email:"PayPal Account",agreementId:a,status:f.SUCCESS},e.prev=2,e.next=5,r.getBillingAgreementTokenDetails(a).then(function(e){e=e.data;i.email=_.get(e,"payer_info.email"),i.firstName=_.get(e,"payer_info.first_name"),i.lastName=_.get(e,"payer_info.last_name"),i.shippingAddress=_.get(e,"shipping_address")});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),o.warn("[egPayPaypalCommerce:onApproveRecurring] ERR: ",e.t0);case 10:g.onSuccess({params:{details:i}});case 11:case"end":return e.stop()}},e,g,[[2,7]])})),function(e,n){return m.apply(this,arguments)}),y=function(e){n(function(){!g.amount||g.amount<=0||t.notify(e)})}}]})})(),angular.module("classy").component("egPayPaypal",{require:{ngModelCtrl:"ngModel"},templateUrl:"global/embedded-giving/pay/components/paypal/eg.pay.components.paypal",bindings:{model:"<",onReady:"&",onSuccess:"&",onCancel:"&",currency:"<"},controller:["$window","cpAPI","cpConstants","scDigitalWalletsService","$rootScope",function(t,e,a,i,n){var o=this;this.constants=a,this.config={},this.$onChanges=function(){this.currency&&this.setupPaypal()},this.setupPaypal=function(){var n=this;e.getBraintreeToken(this.currency).then(function(e){t.braintree.setup(e,"custom",{paypal:{headless:!0,onCancelled:n.onPaypalCancel},onPaymentMethodReceived:function(e){n.model.status=a.STATUS.SUCCESS,n.model.nonce=e.nonce,n.onSuccess({params:e}),n.ngModelCtrl.$setValidity("required",!0),n.ngModelCtrl.$setDirty()},onReady:function(e){n.paypal=e.paypal,n.teardown=e.teardown,n.onReady()}})}),this.onPaypalCancel=function(){n.model.status=a.STATUS.READY,n.model.nonce=null,n.onCancel(),n.ngModelCtrl.$setViewValue(null),n.ngModelCtrl.$setPristine(),n.ngModelCtrl.$setUntouched()},i.addOnDigitalWalletsSubmitListener(function(){n.model.status===a.STATUS.SUCCESS&&n.onPaypalCancel()})},this.openModal=function(){o.onCancel(),o.paypal&&o.paypal.initAuthFlow()},n.$on("openPaymentModal",function(e,n){n===o.constants.PAYMENT_METHODS.PAYPAL&&o.openModal()})}]}),angular.module("classy").component("egPayStripe",{templateUrl:"global/embedded-giving/pay/components/stripe/eg.pay.components.stripe",bindings:{cardErrorClassName:"@",inputClassName:"@",sourceData:"<",model:"<",hidePostal:"<",currency:"<"},controller:["$rootScope","scStripeService","scFeeOnTopService","bugsnagClient",function(a,i,o,n){var r={sourceData:{}};this.$onChanges=function(){var e=this,n=(_.defaultsDeep(this,r),this.$errorMessageElement=$("#card-errors"),this.$errorMessageElement.text("").hide(),this.cardElement=document.getElementById("card-element"),{base:this.inputClassName}),t={base:{fontFamily:'system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif'}};this.model.getSource=this.getSource.bind(this),this.model.onError=this.onError.bind(this),i.init().then(function(){e.stripe=i.stripe,e.elements=e.stripe.elements(),e.card=e.elements.create("card",{style:t,classes:n,hidePostalCode:e.hidePostal}),e.card.mount(e.cardElement),e.card.addEventListener("change",e.onChange.bind(e))})},this.getSource=function(){var n=this;return this.stripe.createSource(this.card,this.sourceData).then(function(e){return e.error?n.onError(e.error):(e=e.source)?n.model.source=e:n.onError(new Error("source object missing in stripe response"))})},this.onError=function(e){throw"validation_error"===e.type?this.$errorMessageElement.text(e.message).show():e.type?n.notify(new Error("Stripe Error: "+e.type+" - "+e.message)):n.notify(e),new Error(e.message)},this.onChange=function(e){e.error?(a.$broadcast("eg.donation-payment.is-valid",{isValid:!1}),this.$errorMessageElement.text(e.error.message).show()):(this.$errorMessageElement.text("").hide(),e.complete?a.$broadcast("eg.donation-payment.is-valid",{isValid:!0}):a.$broadcast("eg.donation-payment.is-valid",{isValid:!1}));var n=o.isAmex,t=!1;"amex"!==e.brand&&"american_express"!==e.brand||(t=!0,a.$broadcast("donationPage:recalculateFees"),a.$broadcast("cart:setIsAmex",t)),o.setAmex(t),n!==o.isAmex&&(a.$broadcast("donationPage:recalculateFees"),a.$broadcast("cart:setIsAmex",t))}}]}),angular.module("classy").component("egPayPaymentDetails",{templateUrl:"global/embedded-giving/pay/views/payment-details/eg.pay.views.payment-details",bindings:{label:"<",show:"<",details:"=",paymentMethod:"<",payment:"<",onToken:"&",onCard:"&",primaryColor:"<",hidePostal:"<",currency:"<"},controller:["$log","$rootScope",function(n,e){var t=this;this.$onChanges=function(e){e=e.paymentMethod;n.debug("[egPayPaymentDetails:$onChanges]: ",e),e&&e.currentValue&&(t.waitingChange=!1)},this.changeAccount=function(e){t.details="",t.waitingChange=!0,t.changeAccountTo=e},this.openModal=function(){t.waitingChange=!1,e.$broadcast("openPaymentModal",t.paymentMethod)}}]}),angular.module("classy").component("egPayPayments",{templateUrl:"global/embedded-giving/pay/views/payments/eg.pay.views.payments",bindings:{payment:"<",parentModel:"<",meta:"<",feeProcessing:"<",submitDigitalWallets:"<",api:"=",hidePostal:"<",disabledPaymentMethods:"<",currency:"<"},controller:["$log","$rootScope","$state","$timeout","$q","cpConstants","EG_EVENTS","EmbeddedGivingAnalytics","EmbeddedGivingPaths","EmbeddedGivingPay","EmbeddedGivingUtil","scCampaignsService","scDigitalWalletsService","scOrganizationsService","scFeeOnTopService","scThemesService","metaService",function(a,i,e,o,n,t,r,s,l,c,d,u,m,g,p,f,h){var v=this,b=t.STATUS,y=t.EVENTS,k=t.PAYMENT_METHODS;this.STATUS=b,this.PAYMENT_METHODS=k,this.EVENTS=y,this.arePaymentButtonEnabled=!0,this.disablePaymentButtons=function(){var e=this;o(function(){e.arePaymentButtonEnabled=!1,o(function(){e.arePaymentButtonEnabled=!0},5e3)})},this.enablePaymentButtons=function(){var e=this;o(function(){e.arePaymentButtonEnabled=!0})},this.isTrial="trial"===g.getOrgStatus(),this.theme=f.active.current,this.EmbeddedGivingPaths=l,this.paymentTypeInitStatus=function(e){return _.get(v.payment,e+".status")||b.INACTIVE},this.$onInit=function(){v.parentModel=v.parentModel||{},v.disabledPaymentMethods=v.disabledPaymentMethods||[],v.isDonationCheckoutPage=!!e.current.name.includes("frs.donation.checkout"),v.api=v.api||{},v.api.setModelPayment=v.setModelPayment.bind(v),v.api.getPaymentLabel=v.getPaymentLabel.bind(v),v.api.reloadTokenexIframe=v.reloadTokenexIframe.bind(v),v.api.resetPaymentMethod=v.resetPaymentMethod.bind(v),v.api.getPaymentMethod=v.getPaymentMethod.bind(v),v.api.setModelPaymentMethodGateway=v.setModelPaymentMethodGateway.bind(v),v.api.showFeeOnTop=v.showFeeOnTop.bind(v),v.getProcessors().then(function(e){v.processors=e,v.isPaypalReady=null!==_.get(v.payment.paypal,"status",null),v.syncPaymentMethodStatuses(v.isPaypalReady);e="STRIPE"===_.get(v.processors,"ACH.name",null);v.achAccountRoutingEnabled=SC.organization.achAccountRoutingEnabled&&e}),v.paymentDetails="",v.isClassyMode=u.active.current.classy_mode_enabled},this.$onChanges=function(e){var e=e.currency;e&&!e.isFirstChange()&&(_.has(v.processors,k.ACH)||_.has(v.processors,k.PAYPAL_COMMERCE)||_.has(v.processors,k.VENMO))&&("USD"!==e.currentValue?((e=v.getPaymentMethod())!==k.ACH&&e!==k.PAYPAL_COMMERCE&&e!==k.VENMO||(v.hidePaymentDetails(),v.syncPaymentMethodStatuses()),v.disabledPaymentMethods.push(k.ACH),v.disabledPaymentMethods.push(k.PAYPAL_COMMERCE),v.disabledPaymentMethods.push(k.VENMO),v.payment.ach.status=b.INACTIVE,v.payment.paypal_commerce.status=b.INACTIVE,v.payment.venmo.status=b.INACTIVE):(v.disabledPaymentMethods=v.disabledPaymentMethods.filter(function(e){return e!==k.ACH&&e!==k.PAYPAL_COMMERCE&&e!==k.VENMO}),v.syncPaymentMethodStatuses()))},this.syncPaymentMethodStatuses=function(e){v.payment.ach={status:v.getPaymentMethodStatus(v.processors,k.ACH)},v.payment.cc={status:v.getPaymentMethodStatus(v.processors,k.CC)},v.payment.stripe=Object.assign(v.payment.stripe||{},{status:v.getPaymentMethodStatus(v.processors,k.STRIPE)}),v.payment.paypal_commerce={status:v.getPaymentMethodStatus(v.processors,k.PAYPAL_COMMERCE)},v.payment.venmo={status:v.getPaymentMethodStatus(v.processors,k.VENMO)},e&&v.payment.paypal.status!==b.PENDING||(v.payment.paypal={status:v.getPaymentMethodStatus(v.processors,k.PAYPAL)}),p.setAmex(!1)},this.isValidDonationAmount=function(){return v.amount&&0<v.amount},this.showDigitalWalletsListener=function(e){v.showDW=e},m.addShowDigitalWalletsListener(this.showDigitalWalletsListener),this.onOpenDigitalWalletModalListener=function(){v.syncPaymentMethodStatuses(),v.payment.stripe.status=b.READY,v.paymentDetails="",i.$broadcast("donationPage:recalculateFees")},m.addOnOpenDigitalWalletModalListener(this.onOpenDigitalWalletModalListener),m.addOnDigitalWalletsSubmitListener(function(){v.syncPaymentMethodStatuses()}),this.getProcessors=function(){return c.getPaymentProcessors()},this.resetPaymentMethod=function(){v.syncPaymentMethodStatuses()},this.getAmount=function(){return v.isClassyMode?v.meta.summaryAmount:v.parentModel.items[0].raw_final_price},this.getPaymentMethod=function(){return v.paymentTypeInitStatus("paypal")===b.SUCCESS?k.PAYPAL:v.paymentTypeInitStatus("paypal_commerce")===b.SUCCESS?k.PAYPAL_COMMERCE:v.paymentTypeInitStatus("venmo")===b.SUCCESS?k.VENMO:v.paymentTypeInitStatus("ach")===b.SUCCESS?k.ACH:v.show.stripe()?k.STRIPE:k.CC},this.getPaymentMethodStatus=function(e,n){return e[n]&&!v.disabledPaymentMethods.includes(n)?b.READY:b.INACTIVE},this.getPaymentLabel=function(){switch(v.getPaymentMethod()){case k.STRIPE:case k.CC:return"Card Number";case k.ACH:return"Bank Info";case k.PAYPAL_COMMERCE:case k.PAYPAL:return"PayPal Account";case k.VENMO:return"Venmo Account";default:return"Payment"}},this.setModelPayment=function(){var e=void 0;switch(v.setModelPaymentMethodGateway()){case k.CC:e=v.getTokenexToken();break;case k.STRIPE:e=v.payment.stripe.getSource();break;case k.ACH:case k.PAYPAL:case k.PAYPAL_COMMERCE:case k.VENMO:e=n.resolve();break;default:return n.reject(new Error("invalid payment method"))}return e},this.showFeeOnTop=function(){return v.isStripeOrCCOnly()||v.isStripeOrCCAndDigitalWalletsOnly()&&!v.showDw},this.isStripeOrCCOnly=function(){return!(_.has(v.processors,k.DW)||_.has(v.processors,k.ACH)||_.has(v.processors,k.PAYPAL)||_.has(v.processors,k.PAYPAL_COMMERCE)||_.has(v.processors,k.VENMO))},this.isStripeOrCCAndDigitalWalletsOnly=function(){return _.has(v.processors,k.DW)&&!_.has(v.processors,k.ACH)&&!_.has(v.processors,k.PAYPAL)&&!_.has(v.processors,k.PAYPAL_COMMERCE)&&!_.has(v.processors,k.VENMO)},this.isStripeOrCCAndACHOnly=function(){return _.has(v.processors,k.ACH)&&!_.has(v.processors,k.DW)&&!_.has(v.processors,k.PAYPAL)&&!_.has(v.processors,k.PAYPAL_COMMERCE)&&!_.has(v.processors,k.VENMO)},this.isStripeOrCCAndPayPalCommerceOnly=function(){return _.has(v.processors,k.PAYPAL_COMMERCE)&&!_.has(v.processors,k.ACH)&&!_.has(v.processors,k.DW)&&!_.has(v.processors,k.PAYPAL)&&!_.has(v.processors,k.VENMO)},this.isStripeOrCCAndVenmoOnly=function(){return _.has(v.processors,k.VENMO)&&!_.has(v.processors,k.ACH)&&!_.has(v.processors,k.DW)&&!_.has(v.processors,k.PAYPAL)&&!_.has(v.processors,k.VENMO)},this.showPaymentDetails=function(){a.debug("[egPayPayments:showPaymentDetails]"),s.track(r.donationDetails,d.getAnalyticsEventData()),v.meta.showPaymentDetails=!0},this.hidePaymentDetails=function(){a.debug("[egPayPayments:hidePaymentDetails]"),s.track(r.donation,d.getAnalyticsEventData()),v.meta.showPaymentDetails=!1},this.showCardInputs=function(){v.payment.cc.status=b.READY,v.payment.stripe.status=b.READY,v.syncPaymentMethodStatuses(),v.meta.paymentMethod="card",v.showPaymentDetails(),v.paymentDetails="",i.$broadcast("checkPaymentAuthStatus",!1),i.$broadcast("donationPage:recalculateFees")},this.showAccountRouting=function(){v.syncPaymentMethodStatuses(),v.payment.ach.status=b.SUCCESS,v.payment.cc.status=b.PENDING,v.payment.stripe.status=b.PENDING,v.meta.paymentMethod="ach",v.showPaymentDetails(),v.paymentDetails="",i.$broadcast("checkPaymentAuthStatus",!0),i.$broadcast("donationPage:recalculateFees")},this.resetAccountRouting=function(){v.payment.ach={status:b.SUCCESS}},this.setModelPaymentMethodGateway=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?k.STRIPE:v.getPaymentMethod();return v.payment.method=e,v.payment.gateway=v.processors[e],e},this.show={cc:function(){var e=_.get(v.processors,[k.STRIPE,"currency"]),n=_.get(v.processors,[k.CC,"currency"]);return v.paymentTypeInitStatus("cc")===b.READY&&v.currency!==e&&(v.currency===n||v.paymentTypeInitStatus("stripe")!==b.READY)},stripe:function(){var e=_.get(v.processors,[k.STRIPE,"currency"]),n=_.get(v.processors,[k.CC,"currency"]);return v.paymentTypeInitStatus("stripe")===b.READY&&(v.currency===e||v.currency!==n)},achButton:function(){return v.paymentTypeInitStatus("ach")!==b.INACTIVE&&!v.achAccountRoutingEnabled},ach:function(){return v.paymentTypeInitStatus("ach")===b.SUCCESS&&!v.achAccountRoutingEnabled},accountRoutingButton:function(){return v.paymentTypeInitStatus("ach")!==b.INACTIVE&&v.achAccountRoutingEnabled},accountRouting:function(){return[b.SUCCESS].includes(v.paymentTypeInitStatus("ach"))&&v.achAccountRoutingEnabled},paypal:function(){var e=_.get(v.processors,[k.PAYPAL,"currency"]);return v.paymentTypeInitStatus("paypal")!==b.INACTIVE&&(v.paymentTypeInitStatus("paypal_commerce")===b.INACTIVE||"USD"!==v.currency&&(v.currency===e||v.paymentTypeInitStatus("paypal")!==b.INACTIVE))},paypalCommerce:function(){return"USD"===v.currency&&v.paymentTypeInitStatus("paypal_commerce")!==b.INACTIVE},venmo:function(){return"USD"===v.currency&&v.paymentTypeInitStatus("venmo")!==b.INACTIVE}},this.loggedIn=function(){return[v.paymentTypeInitStatus("paypal"),v.paymentTypeInitStatus("ach")].includes(b.SUCCESS)},this.getRelevantCurrency=function(){return v.meta.unsupportedTaxCompliance?_.get(v.meta,"estimatedCharge.currency",!1):v.payment.raw_currency_code},this.on=function(e,n){var t=_.get(v.eventCallbacks,e,[]);t.push(n),_.set(v.eventCallbacks,e,t)},this.once=function(e,n){n.once=!0,v.on(e,n)},this.emit=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];o(function(){var e=_.get(v.eventCallbacks,n,[]);_.forEach(e,function(e){return e.apply(void 0,t)}),_.remove(e,"once")})},this.handleTokenexCard=function(e,n){v.payment.cc=v.payment.cc||{},v.payment.cc.card_type=e,v.payment.cc.card_last_four=n},this.handleTokenexToken=function(e){v.activeSubmit.resolve(e)},this.getTokenexToken=function(){return v.activeSubmit=n.defer(),i.$broadcast("tokenizer","tokenize"),v.activeSubmit.promise.catch(function(e){return i.SC.status.banner={type:"error",msg:"Please check your payment information and try again.",timeout:!1},n.reject(e)})},this.reloadTokenexIframe=function(){i.$broadcast("tokenizer","reset"),v.getPaymentMethod()===k.ACH&&v.achAccountRoutingEnabled?v.resetAccountRouting():v.syncPaymentMethodStatuses()},this.onAchReady=function(){a.log("ACH Ready"),v.payment.paypal.status=b.READY},this.onAchSuccess=function(e,n){o(function(){v.paymentDetails=n.charAt(0).toUpperCase()+n.slice(1)+" Account ending in "+e,a.log("ACH Success"),v.showPaymentDetails(),i.$broadcast("checkPaymentAuthStatus",!0),i.$broadcast("donationPage:recalculateFees"),i.$broadcast("eg.donation-payment.is-valid",{isValid:!0}),v.payment.cc.status=b.PENDING,v.payment.stripe.status=b.PENDING})},this.onAchCancel=function(){a.log("ACH Cancel"),i.$broadcast("checkPaymentAuthStatus",!1),i.$broadcast("donationPage:recalculateFees"),i.$broadcast("eg.donation-payment.is-valid",{isValid:!1}),v.syncPaymentMethodStatuses()},this.onPaypalReady=function(){a.log("PayPal Ready"),v.payment.paypal.status=v.payment.paypal.status===b.PENDING?b.READY:v.payment.paypal.status},this.onPaypalSuccess=function(t){o(function(){a.log("PayPal Success"),v.paymentDetails=t.details.email,v.showPaymentDetails(),v.payment.cc.status=b.PENDING,v.payment.stripe.status=b.PENDING,Object.assign(v.payment.paypal,t.details),v.parentModel&&_.forEach({billing_first_name:"firstName",billing_last_name:"lastName",billing_address1:"billingAddress.streetAddress",billing_address2:"billingAddress.extendedAddress",billing_postal_code:"billingAddress.postalCode",billing_city:"billingAddress.locality",billing_state:"billingAddress.region",billing_country:"countryCode",member_email_address:"email"},function(e,n){v.parentModel[n]||(v.parentModel[n]=_.get(t.details,e))}),i.$broadcast("checkPaymentAuthStatus",!0),i.$broadcast("donationPage:recalculateFees"),i.$broadcast("eg.donation-payment.is-valid",{isValid:!0})})},this.onPaypalCommerceSuccess=function(e){var n=e.details,t=e.fundingSource;o(function(){a.log("PayPal Commerce Success"),v.syncPaymentMethodStatuses(),v.paymentDetails=n.email,v.showPaymentDetails(),v.payment.cc.status=b.PENDING,v.payment.stripe.status=b.PENDING;var e=_.get(n,"shippingAddress",null);t&&"venmo"===t?Object.assign(v.payment.venmo,n):Object.assign(v.payment.paypal_commerce,n),v.parentModel&&e&&(""===h.getMetaParam("member_first_name")&&h.setMetaParam("member_first_name",n.firstName),""===h.getMetaParam("member_last_name")&&h.setMetaParam("member_last_name",n.lastName),v.parentModel.member_name=""===v.parentModel.member_name?n.firstName+" "+n.lastName:v.parentModel.member_name,v.parentModel.member_email_address=""===v.parentModel.member_email_address?n.email:v.parentModel.member_email_address,v.parentModel.billing_first_name=n.firstName,v.parentModel.billing_last_name=n.lastName,v.parentModel.billing_address1=e.address_line_1||e.line1,v.parentModel.billing_address2=e.address_line_2||e.line2,v.parentModel.billing_city=e.admin_area_2||e.city,v.parentModel.billing_country=e.country_code,v.parentModel.billing_postal_code=e.postal_code,v.parentModel.billing_state=e.admin_area_1||e.state),i.$broadcast("donationPage:recalculateFees"),i.$broadcast("eg.donation-payment.is-valid",{isValid:!0})})},this.onPaypalCancel=function(){a.log("PayPal Cancel"),v.syncPaymentMethodStatuses(),i.$broadcast("checkPaymentAuthStatus",!1),i.$broadcast("donationPage:recalculateFees"),i.$broadcast("eg.donation-payment.is-valid",{isValid:!1})},this.onPaypalCommerceCancel=function(){a.log("PayPal Commerce Cancel"),v.syncPaymentMethodStatuses(),v.hidePaymentDetails(),i.$broadcast("checkPaymentAuthStatus",!1),i.$broadcast("donationPage:recalculateFees"),i.$broadcast("eg.donation-payment.is-valid",{isValid:!1})}}]}),(()=>{function e(t,a){return function(e){var n=e.$new();return n.login=function(){t.login(n.authOptions)},n.signup=function(){t.signup(n.authOptions)},n.eventBeacon=function(){a.eventBeacon({category:"frs "+n.campaign.current.type,action:"triggers",label:"Login/Signup Step"})},{id:"indiv.auth.switch",templateUrl:n.flow.template("auth-switch"),maxWidth:410,context:n,eventBeacon:n.eventBeacon}}}e.$inject=["scAuth","scAnalytics"],angular.module("classy").factory("CFPAuthSwitchView",e)})(),(()=>{function e(i,o,r,s,l){return function(e){var n=e.$new(),t=(n.member=r.active,n.froalaOptions=i({type:"textarea"},{charCounterCount:!0,charCounterMax:l.DEFAULT_PAGE_APPEAL}),n.today=new Date,n.show={inputFocus:!1},n.designationOptions={fieldName:"program",valueKey:"id",labelKey:"name",required:!1,check:{enabled:!0,condition:"$scope.form.program.$dirty && $scope.form.program.$valid && $scope.form.program.$touched"}},n.getTeamName=function(){return n.ui.hasTeam?o.active.current.name:null},n.getTeamLogo=function(){return n.ui.hasTeam?_.get(o,"active.current.logo.src","/static/global/images/team_default_image.png"):null},n.eventBeacon=function(){s.eventBeacon({category:"frs "+n.campaign.current.type,action:"triggers",label:"Create Your Page"})},n.fundraiser.current.is_tribute=!1,n.fundraiser.current.alias="",null),a=null;return n.tributeCheckboxOnChange=function(){null===t&&(t=e.fundraiser.current.goal,a=e.fundraiser.current.logo),n.fundraiser.current.is_tribute?(n.$parent.fundraiser.current.goal=0,n.$parent.fundraiser.current.logo=null):(n.$parent.fundraiser.current.goal=t,n.$parent.fundraiser.current.logo=a)},{id:"indiv.details",templateUrl:n.flow.template("details"),maxWidth:400,context:n,eventBeacon:n.eventBeacon}}}e.$inject=["scFroalaOptions","scFundraisingTeamsService","scMembersService","scAnalytics","CHAR_LIMITS"],angular.module("classy").factory("CFPDetailsView",e)})(),(()=>{function e(n){return function(e){e=e.$new();return e.done=function(){n.close()},{id:"indiv.existing-page",templateUrl:e.flow.template("existing-page"),maxWidth:385,context:e}}}e.$inject=["scFlowModalService"],angular.module("classy").factory("CFPExistingPageView",e)})(),angular.module("classy").factory("CFPExitView",function(){return function(e){var n=e.$new();return n.closeOut=function(){n.flow.abort(),n.closeOutPromise.resolve()},n.goBack=function(){n.closeOutPromise.reject(),n.flow.to(n.ui.previousView)},{id:"indiv.exit",templateUrl:n.flow.template("exit"),maxWidth:500,context:n}}}),(()=>{function e(i,o,r,n,s,t){return function(e){var a=e.$new();return a.newTeam=_.get(a,"newTeam",_.get(t,"active.current",{})),a.primaryColor=_.get(a,"ui.primaryColor",n.active.current.styles.primaryColor),a.state={},a.confirmJoin=function(n){var t=a.fundraisingPage?s.getSpecificMemberPage(a.fundraisingPage.id):s.getCurrentMemberPage();a.loading=!0,t.joinTeam(n).then(function(){a.loading=!1,t.current.fundraising_team_id=n,s.add(t.current),r.whitelist("frs.team.index"),a.flow.to("indiv.join-team.success","slideLeft"),i.go("frs.team.index",{fundraisingTeamId:n});var e=a.$on("$stateChangeSuccess",function(){o(function(){r.close(!0),e()},3e3)})})},a.flow.views.push({id:"indiv.join-team.success",templateUrl:a.flow.template("join-team/success"),maxWidth:396,duration:1e3,context:a}),{id:"indiv.join-team",templateUrl:a.flow.template("join-team"),maxWidth:385,context:a}}}e.$inject=["$state","$timeout","scFlowModalService","scThemesService","scFundraisingPagesService","scFundraisingTeamsService"],angular.module("classy").factory("CFPJoinTeamView",e)})(),(()=>{function e(a,i,o,r,s){return function(e){var n=e.$new(),t=a.defer();return n.isDomainMasked=!1,SC.organization.domain_mask&&(n.isDomainMasked=!0),n.state={},n.userAccess=t.promise,n.$watch(function(){return _.get(r,"active.current.id")},function(e){n.state.profileImgSrc=_.get(r,"active.current.thumbnail_large",null),n.state.useProfile=!!n.state.profileImgSrc,e&&t.resolve(),n.state.useProfile&&(n.fundraiser.current.logo={isProfileImg:!0,src:n.state.profileImgSrc})}),n.getFacebookProfilePicture=function(){i.getProfilePicture().then(function(e){n.fundraiser.current.logo=o.fromURL(e.data.url,"Profile Photo"),n.flow.to("indiv.logo","slideRight")})},n.mediaManagerConfig={image:{model:"fundraiser.current.userPhoto",minWidth:300,minHeight:300,crop:{cancel:"indiv.logo.media"},guide:{title:"Page Photo",message:"This will appear on your personal fundraising page.",size:"300x300"}},buttons:{custom:{action:"mmCancel()",text:"Cancel"},submit:{action:"mmSubmit($images)"}},userAccess:"userAccess"},n.mmCancel=function(){n.flow.to("indiv.logo","slideRight")},n.mmSubmit=function(e){n.fundraiser.current.logo=e[0],n.flow.to("indiv.logo","slideRight")},n.eventBeacon=function(){s.eventBeacon({category:"frs "+n.campaign.current.type,action:"triggers",label:"Choose Your Photo"})},n.flowToMediaManager=function(){n.mediaManagerConfig.title=n.fundraiser.current.is_tribute?"Choose a photo":"Choose your photo",n.fundraiser.current.is_tribute&&(n.mediaManagerConfig.image.guide.message="This will appear on your fundraising page."),n.flow.to({template:"<div data-sc-media-manager='mediaManagerConfig'></div>",maxWidth:980,context:n})},n.flow.addView({id:"indiv.logo.switch",templateUrl:n.flow.template("logo/switch"),maxWidth:415,context:n}),{id:"indiv.logo",templateUrl:n.flow.template("logo"),maxWidth:385,context:n,eventBeacon:n.eventBeacon}}}e.$inject=["$q","scFacebook","scImg","scMembersService","scAnalytics"],angular.module("classy").factory("CFPLogoView",e)})(),(()=>{function u(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(r,e,s,l,c,d){return function(a){var i=a.$new();function n(e){return e.map(function(e){return e.current||e}).map(function(e){var n=e.id,t=e.ended_at;return{id:n,raw_currency_code:e.raw_currency_code,logo:e.logo,total_raised:e.total_raised,alias:e.alias,completed:t&&o.isAfter(t)}}).sort(function(e,n){return e.completed-n.completed})}i.primaryColor=_.get(i,"ui.primaryColor",d.active.current.styles.primaryColor),i.newPage=function(){"reg_w_fund"===i.campaign.type?r.go("frs.landing.name.campaign.registration.new.tickets",{team_id:i.team.current.id,team_answers:null,campaignId:i.campaign.id,eventName:e("scSlugify")(i.campaign.name).toLowerCase()}):i.flow.to("indiv.details")},i.fetch=function(){return i.multipleFundraisingCurrentPage<i.lastPageOfFundraisers?(i.multipleFundraisingCurrentPage+=1,i.getPages(i.multipleFundraisingCurrentPage).then(function(e){i.listOfPages=[].concat(u(i.listOfPages),u(n(_.get(e,"data.data",[]))))})):(i.stop=!0,s.resolve())},i.useExistingPage=function(e){var n,t=c.userFundraisers[e];i.options.teamId&&i.options.teamId!=t.current.fundraising_team_id?(n=l.get(i.options.teamId),a.teamName=n.current.name,a.teamId=n.current.id,a.newTeam=n.current,a.fundraisingPage=t.current,a.currentTeam=_.get(l,"teams["+t.current.fundraising_team_id+"].current",{}),i.flow.to("indiv.join-team")):(r.go("frs.fundraiser.index",{fundraisingPageId:e}),i.flow.to("indiv.welcome-back"),a.redirectToPageId=e)};var t,o=moment().utc();return i.multipleFundraisingCurrentPage=1,i.stop=1===i.lastPageOfFundraisers,i.listOfPages=[],i.buttonText="reg_w_fund"===i.campaign.type?"Register with a new page":"Start a new page",i.subtitle="reg_w_fund"===i.campaign.type?"Click to continue or register with a new page":"Click to continue or start new page",i.fundraisingPagesList?i.listOfPages=[].concat(u(i.listOfPages),u(n(i.fundraisingPagesList))):t=i.$watch("fundraisingPagesList",function(e){e&&e.length&&(i.listOfPages=[].concat(u(i.listOfPages),u(n(e))),t())}),{id:"indiv.multiple-pages",templateUrl:i.flow.template("multiple-fundraisers"),maxWidth:411,context:i}}}e.$inject=["$state","$filter","$q","scFundraisingTeamsService","scFundraisingPagesService","scThemesService"],angular.module("classy").factory("CFPMultiplePagesView",e)})(),(()=>{function e(r,s,n,l,c){return function(e){var t=e.$new(),a=1,i=500,o=0;return function n(){s.get("/frs-api/campaign/"+t.campaign.current.id+"/questions").then(function(e){e=e.data.data,_.forEach(e,function(e){"page_creation"===e.location&&t.list.questions.push(e)}),t.list.questions=r("orderBy")(t.list.questions,"weight",!1),t.ui.questionsLoading=!1,"indiv.wait"===t.ui.currentView&&(t.list.questions.length?t.flow.to("indiv.questions"):t.flow.end())}).catch(function(e){e.message+="| Questions could not be loaded",bugsnagClient.notify(e),o<a?setTimeout(n,i):t.ui.questionsLoading=!1,o+=1})}(),t.isDisabled=function(){var n=!0;if(_.get(t,"list.questions.length"))return _.forEach(t.list.questions,function(e){"date"!==e.type||!0!==e.is_required||!1!==e.is_deleted||t.list.answers["qid_"+e.id]||(n=!1)}),t.signup_questions.$invalid||!n},t.eventBeacon=function(){n.eventBeacon({category:"frs "+t.campaign.current.type,action:"triggers",label:"Complete Custom Questions"})},t.froalaOptions=l({type:"textarea"},{charCounterCount:!0,charCounterMax:c.DEFAULT_PAGE_CUSTOM_QUESTION}),{id:"indiv.questions",templateUrl:t.flow.template("questions"),maxWidth:460,context:t,eventBeacon:t.eventBeacon}}}e.$inject=["$filter","$http","scAnalytics","scFroalaOptions","CHAR_LIMITS"],angular.module("classy").factory("CFPQuestionsView",e)})(),(()=>{function e(n){return function(e){e=e.$new();return e.done=function(){n.close()},{id:"indiv.success",templateUrl:e.flow.template("success"),maxWidth:385,context:e}}}e.$inject=["scFlowModalService"],angular.module("classy").factory("CFPSuccessView",e)})(),(()=>{function e(n,a,t,i,e){a.mason=new e(a);var o={initialized:!1,query:"",querySuffix:"",processing:!1,currentPage:1,totalPages:1,results:[],loaded:0,empty:!1,complete:!1};a.ui.image.search=o,a.fetchImages=function(){a.mason.clear(),o.processing=!0,o.currentPage=1,o.totalPages=1,o.results=[],o.loaded=0,o.empty=!1,o.complete=!1;var e=(o.query+" "+o.querySuffix).trim();i.search(e,o.currentPage).then(function(e){e.data.error?(o.totalPages=o.currentPage,n.error("Failed to fetch images from Pixabay:",e.data.error)):e.data.hits.length?(o.results=e.data.hits,o.totalPages=Math.ceil(e.data.totalHits/100),a.loadImages()):o.empty=!0}).catch(function(e){n.error("Failed to fetch images from Pixabay:",e)}).finally(function(){o.processing=!1})},a.loadImages=function(){for(var e=o.loaded,n=o.loaded+10,t=e;t<n;t+=1){if(!o.results[t]){a.fetchMoreImages();break}a.mason.push(o.results[t]),o.loaded+=1}},a.fetchMoreImages=function(){var e;o.processing||(o.currentPage>=o.totalPages?o.complete=!0:(o.currentPage+=1,a.ui.image.search.processing=!0,e=(o.query+" "+o.querySuffix).trim(),i.search(e,o.currentPage).then(function(e){e.data.error?(o.totalPages=o.currentPage,n.error("Failed to fetch images from Pixabay: "+e.data.error)):(_.forEach(e.data.hits,function(n){var t=!1;_.forEach(o.results,function(e){n.id_hash===e.id_hash&&(t=!0)}),t||o.results.push(n)}),a.loadImages())}).catch(function(e){n.error("Failed to fetch images from Pixabay:"+e)}).finally(function(){o.processing=!1})))},a.$watch("ui.image.search.querySuffix",function(e,n){e!==n&&a.fetchImages()}),a.$watch("ui.image.source",function(e){"library"!==e||o.initialized||t(function(){a.mason.init(),o.initialized=!0})}),a.userAccess?a.userAccess.then(function(){a.fetchImages()}):a.fetchImages()}e.$inject=["$log","$scope","$timeout","remoteAssetsService","scMason"],angular.module("classy").controller("scMediaManagerImageLibraryCtrl",e)})(),(()=>{function e(t,a,i,o,n){a.el.$input=a.el.main.find(".media-manager_dropper-input"),a.el.$input.on("change",function(){var e=this.files;e.length&&n(function(){a.handleUpload(e)})}),a.handleUpload=function(e){var n=e[0],e=a.options.useReactEditor?4:2;/image\/[jpeg|gif|png]/.test(n.type)?n.size>1024*e*1024?t.SC.status.banner={type:"error",msg:"Please upload a file under "+e+"MB."}:a.isImgValid(n).then(function(){var e=new i(n);a.stage({image:e,libraryLoaded:!1}),a.ui.image.uploaded=[e]},function(){t.SC.status.banner={type:"error",msg:"Image is corrupted, please upload a valid image."}}):t.SC.status.banner={type:"error",msg:"Please upload a JPEG, GIF, or PNG file."}},a.isImgValid=function(e){var n=o.defer(),t=new FileReader;return t.onload=function(){var e=new Image;e.onload=function(){n.resolve(!0)},e.onerror=function(){n.reject(!1)},e.src=t.result},t.readAsDataURL(e),n.promise},a.$on("$destroy",function(){a.el.$input.remove()})}e.$inject=["$rootScope","$scope","scImg","$q","$timeout"],angular.module("classy").controller("scMediaManagerImageUploadCtrl",e)})(),(()=>{function e(n,e,o,r,t,a,i,s,l,c,d,u){var m=e,g={types:{all:{tabName:"All",total:0},comments:{tabName:"Comments",total:0},donations:{tabName:"Donors",total:0}}};switch(m.type){case"campaign":m.modelTitle="Campaign";break;case"fundraising-page":m.modelTitle="Fundraising",m.service=l;break;case"fundraising-team":m.modelTitle="Team",m.service=c;break;case"organization":m.modelTitle="Campaign";break;case"update":break;default:n.warn('scFeed: the type "'+m.type+'" is not supported for having a feed.')}m.allowCommenting=!!_.isUndefined(m.allowCommenting)||m.allowCommenting;var p=void 0,p="update"==m.type?"/frs-api/"+m.type+"s/"+m.model.id+"/comments":"/frs-api/"+m.type+"s/"+m.model.id+"/feed-items",f="",h="?with=member,linkable"+(f="fundraising-team"==m.type?",feedable":f)+"&per_page=5";function v(e,n){return e.slice(0,n).concat(e.slice(n+1))}switch("update"===m.type?h+="&sort=created_at:desc":h+="&sort=linkable_effective_at:desc,linkable_id:desc",m.activeType="all",m.displayLoadMore=!1,m.feed=[],m.feedTotal=0,m.form={},m.form.comment="",m.me=a.you.current,m.pageToRetrieve=1,m.searchQuery="",m.types=g.types,m.campaign=d.active.current,m.activityFeed=[],m.activityQuery="",m.activityPage=1,m.activityMore=!1,m.commentFeed=[],m.commentQuery="&filter=type=comment",m.commentPage=0,m.commentMore=!1,m.donorFeed=[],m.donorQuery="&filter=linkable_type~*donation,offline_donation,commitment_charge",m.donorPage=0,m.donorMore=!1,m.loadMoreFeedItems=y,m.matchType=function(e){var n=m.activeType;m.type;return((e,n)=>"all"===e&&"association"!==n.type)(n,e)||((e,n)=>"donations"===e&&("donation"===n.linkable_type||"offline_donation"===n.linkable_type||"commitment_charge"===n.linkable_type))(n,e)||((e,n)=>"comments"===e&&"comment"===n.type)(n,e)},m.submitComment=function(){var e,n,t,a,i;m.form.comment&&(e=m.form.comment,m.form.comment=null,n={comment:e,feedable_type:m.type,member_name:m.me.first_name+" "+m.me.last_name,member:m.me,provisional:!0,type:"comment"},a=t=void 0,"comments"==m.activeType&&0!==m.activityFeed.length?t=m.activityFeed.unshift(n):"all"==m.activeType&&0!==m.commentFeed.length&&(a=m.commentFeed.unshift(n)),i=m.feed.unshift(n),m.types.all.total+=1,m.types.comments.total+=1,o.post(p,{comment:e,body:e}).then(function(e){_.merge(n,e.data),n.provisional=!1},function(){m.form.comment=e,m.feed.splice(i-1,1),t?m.activityFeed.splice(t-1,1):a&&m.commentFeed.splice(a-1,1),--m.types.all.total,--m.types.comments.total,r.SC.status.banner={type:"error",msg:"Sorry, your comment could not be posted. Please try again later."}}))},m.switchType=function(e){switch(m.activeType){case"all":m.activityPage=m.pageToRetrieve,m.activityFeed=m.feed,m.activityMore=m.displayLoadMore;break;case"donations":m.donorPage=m.pageToRetrieve,m.donorFeed=m.feed,m.donorMore=m.displayLoadMore;break;case"comments":m.commentPage=m.pageToRetrieve,m.commentFeed=m.feed,m.commentMore=m.displayLoadMore}switch(m.activeType=e,m.activeType){case"all":m.pageToRetrieve=m.activityPage,m.feed=m.activityFeed,m.searchQuery=m.activityQuery,m.displayLoadMore=m.activityMore;break;case"donations":m.pageToRetrieve=m.donorPage,m.feed=m.donorFeed,m.searchQuery=m.donorQuery,m.displayLoadMore=m.donorMore;break;case"comments":m.pageToRetrieve=m.commentPage,m.feed=m.commentFeed,m.searchQuery=m.commentQuery,m.displayLoadMore=m.commentMore}0===m.pageToRetrieve&&y()},m.getDonationLink=function(){return"fundraising-page"!=m.type?"fundraising-team"!=m.type?"/give/"+m.campaign.id+"/#!/donation/checkout":"/give/t"+c.active.current.id+"/#!/donation/checkout":"/give/f"+l.active.current.id+"/#!/donation/checkout"},!m.model.id||t.is("admin.manage.campaign.step.setup")||m.demo||t.is("admin.create.exists.step")||"true"===_.get(t,"params.preview","")?"fundraising-team"==m.type?k(i().data):"fundraising-page"==m.type&&k(s().data):"update"===m.type?o.get("/frs-api/updates/"+m.model.id+"/comments"+h).then(function(e){e=e.data;m.displayLoadMore=!!e.next_page_url,m.types.all.total=e.total,m.types.comments.total=e.comment_count,m.types.donations.total=e.donor_count,m.types.comments.total||m.allowCommenting||(m.types.comments.disable=!0),k(e.data)},function(e){n.log(e)}):(h+="&campaignId="+m.campaign.id,o({method:"GET",url:"/frs-api/"+m.type+"s/"+m.model.id+"/initial-feed"+h}).then(function(e){var n,t=[];"active"==m.campaign.status&&_.get(e,"data.data.length",!1)?(n=_.filter(e.data.data,function(e){return!(e.linkable&&-1<_.indexOf(e.linkable_type,"donation"))||"success"==e.linkable.status}),(t=e.data).data=n):t=e.data,"fundraising-team"!=m.type&&"fundraising-page"!=m.type||(n=_.filter(t.data,function(e){return"comment"==e.type}),m.service.setCommentsNumber(n.length)),e.data.total?(m.displayLoadMore=!!t.next_page_url,m.types.all.total=t.total,m.types.comments.total=t.comment_count,m.types.donations.total=t.donor_count):(n={},"fundraising-team"==m.type?n=i():"fundraising-page"==m.type&&(n=s()),t.data=n.data),m.types.comments.total||m.allowCommenting||(m.types.comments.disable=!0),k(t.data)},function(e){n.log(e)})),e.type){case"campaign":e.block=_.filter(u.blocks,function(e){return"activity"==e.current.type})[0].current;break;case"fundraising-team":e.block=_.filter(u.blocks,function(e){return"team"==e.current.type})[0].current;break;case"fundraising-page":e.block=_.filter(u.blocks,function(e){return"fundraiser"==e.current.type})[0].current;break;case"update":var b=-1<t.current.name.indexOf("team")?"team":"fundraiser";e.block=_.filter(u.blocks,function(e){return e.current.type==b})[0].current}function y(){m.pageToRetrieve+=1,o.get(p+h+m.searchQuery+"&page="+m.pageToRetrieve).then(function(e){e=e.data;m.displayLoadMore=!!e.next_page_url,k(e.data)})}function k(e){var n;e&&(e=e.filter(function(e){return"commitment"===e.linkable_type||!e.linkable_value||!e.linkable_value.includes("Payment_error")}),(n=m.feed).push.apply(n,(e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(e)))}e.$watch("block",function(e){!_.get(e,"allowCommenting",!1)&&_.filter(m.feed,function(e){return"comment"===e.type}).length<1?m.types.comments.disable=!0:m.types.comments.disable=!1},!0),e.$on("removeFeedItem",function(e){var n=e.targetScope.comment,t=_.findIndex(m.feed,function(e){return e.id==n});if(m.feed=v(m.feed,t),--m.types[m.activeType].total,"all"!==m.activeType)t=_.findIndex(m.activityFeed,function(e){return e.id==n}),m.activityFeed=v(m.activityFeed,t),--m.types.all.total;else{e=e.targetScope.feedItem.type;switch(e){case"comment":t=_.findIndex(m.commentFeed,function(e){return e.id==n}),m.commentFeed=v(m.commentFeed,t);break;case"donation":t=_.findIndex(m.donorFeed,function(e){return e.id==n}),m.donorFeed=v(m.donorFeed,t)}--m.types[e+"s"].total}}),e.$watch(function(){return _.get(a,"active.current")},function(e,n){e!==n&&(m.me=e)})}e.$inject=["$log","$scope","$http","$rootScope","$state","scMembersService","scFundraisingTeamActivityDemo","scFundraisingActivityDemo","scFundraisingPagesService","scFundraisingTeamsService","scCampaignsService","scBlocksService"],angular.module("classy").directive("scFeed",function(){return{scope:{model:"=scFeed",type:"@",allowCommenting:"=?",theme:"=?",demo:"=?",hideActivityTabs:"=?",lock:"=?"},templateUrl:"global/objects/scBlock/shared/feed/template",controller:e}})})(),(()=>{function f(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(a,i,t,n,e,o,r,s,l,c,d,u){var m=a,g=moment.utc().format(),p=1,r=(m.commentOpen=!1,m.form={},m.form.commentBody="",m.me=o.you.current,m.theme=r.active.current,m.feedItem.comments=m.feedItem.latest_comments||[],m.feedItem.open=!1,m.feedItem.showName=!m.feedItem.linkable||!m.feedItem.linkable.is_anonymous,m.clickComment=function(){m.commentOpen?m.commentOpen=!1:(m.commentOpen=!0,m.focusComment=!0)},m.closeComment=function(){m.commentOpen=!1},m.getActionText=e,m.min=Math.min,m.showMoreComments=function(){var e={per_page:10,page:p,sort:"created_at:desc",filter:"created_at<"+g};i.get("/frs-api/feed-items/"+m.feedItem.id+"/comments",{params:e}).then(function(e){var e=e.data,n=m.feedItem.comments;1===p?n.push.apply(n,f(e.data.slice(n.length))):n.push.apply(n,f(e.data)),p+=1},function(){})},m.submitComment=function(){var e,n,t,a;m.form.commentBody&&(e=m.form.commentBody,m.commentOpen=!1,m.form.commentBody="",n={body:e,member:m.me,provisional:!0},t=m.feedItem.comments.unshift(n),m.feedItem.visibleComments+=1,m.feedItem.comments_count+=1,a=t-1,i.post("frs-api/feed-items/"+m.feedItem.id+"/comments",{body:e}).then(function(e){_.merge(n,e.data),n.provisional=!1},function(){m.feedItem.comments.splice(a,1),--m.feedItem.comments_count,--m.feedItem.visibleComments,m.commentOpen=!0,m.form.commentBody=e}))},m.removeFeedItem=function(e){m.comment=e,m.$emit("removeFeedItem",m.comment)},m.showImage=function(){return!m.feedItem.is_anonymous&&m.feedItem.showName&&(_.get(m,"feedItem.member.thumbnail_medium",null)||_.get(m,"feedItem.commenter.thumbnail_medium",null))},m.getMemberFirstInitial=o.getMemberFirstInitial,m.displayLink=!1,m.feedItem.linkable_type);"creation"!==m.feedItem.type||"fundraising_team"!==r&&"fundraising_page"!==r||(m.displayLink=!0),m.canManage=c.pageAccess,!m.canManage&&-1<t.current.name.indexOf("fundraiser")?m.canManage=s.active.checkDashboardAccess():!m.canManage&&-1<t.current.name.indexOf("team")&&l.active.checkDashboardAccess().then(function(e){m.canManage=e}),"update"===m.feedItem.commentable_type&&(m.feedItem.type="comment",m.feedItem.feedable_type="update"),"fundraising_team"===m.feedItem.feedable_type?(m.feedItem.createImg=SC.team&&SC.team.logo?SC.team.logo.cdn_url:"/static/global/images/team_default_image.png",m.feedItem.fallbackImg="/static/global/images/team_default_image.png"):"fundraising_page"===m.feedItem.feedable_type?(m.feedItem.createImg=SC.fundraiser&&SC.fundraiser.logo?SC.fundraiser.logo.cdn_url:"/static/global/images/individual_default_image.png",m.feedItem.fallbackImg="/static/global/images/higher_contrast_individual_default_image.png"):m.feedItem.fallbackImg="/static/global/images/individual_default_image.png",m.$watch(function(){return _.get(o,"active.current")},function(e,n){e!==n&&(m.me=e,-1<t.current.name.indexOf("fundraiser")?m.canManage=s.active.checkDashboardAccess():-1<t.current.name.indexOf("team")&&l.active.checkDashboardAccess().then(function(e){m.canManage=e}))}),"business"===m.feedItem.agent_type&&"campaign"===m.feedItem.feedable_type&&i({method:"GET",url:"/frs-api/campaign/"+m.feedItem.feedable_id+"/business-logo?filter=business_id="+encodeURIComponent(m.feedItem.agent_id),loadingScope:!0}).then(function(e){m.feedItem.member={thumbnail_medium:null},m.feedItem.member.thumbnail_medium=_.get(e,"data.cdn_url",null)}),"business"!==m.feedItem.agent_type||"fundraising_page"!==m.feedItem.feedable_type&&"fundraising_team"!==m.feedItem.feedable_type||i({method:"GET",url:"/frs-api/campaign/"+m.feedItem.linkable.campaign_id+"/business-logo?filter=business_id="+encodeURIComponent(m.feedItem.agent_id),loadingScope:!0}).then(function(e){m.feedItem.member={thumbnail_medium:null},m.feedItem.member.thumbnail_medium=_.get(e,"data.cdn_url",null)}).catch(function(e){n.log(e)}),m.feedable="update"!==m.feedItem.feedable_type,m.deleteComment=function(e,n){a.commentId=e,a.feedable=n,d.open({templateUrl:"global/objects/scBlock/shared/feed/delete-comment-modal",context:a,maxWidth:320})},m.keyPressed=function(e,n,t){e.keyCode!==u.CONSTANTS.ENTER_KEY&&e.keyCode!==u.CONSTANTS.SPACE_KEY||(n?m.confirmDelete(n,t):a.$root.flowModal.close(!1),document.querySelector(".activity_comment-input").focus())},m.confirmDelete=function(n,e){a.loading=!0,e?i.delete("/frs-api/feed-items/"+n).then(function(){a.removeFeedItem(n)},function(){}):i.delete("/frs-api/comments/"+n).then(function(){var e;"update"==m.feedItem.feedable_type?a.removeFeedItem(n):(e=m.feedItem.comments,_.remove(e,function(e){return e.id==n}),--m.feedItem.comments_count,--m.feedItem.visibleComments)},function(){}),d.close(),a.loading=!1}}e.$inject=["$scope","$http","$state","$log","scFeedItemText","scMembersService","scThemesService","scFundraisingPagesService","scFundraisingTeamsService","scPageAccessService","scFlowModalService","accessibilityService"],angular.module("classy").directive("scFeedItem",function(){return{scope:{feedItem:"=scFeedItem",theme:"=",block:"=",me:"=",fundraisingDashboard:"=",allowCommenting:"="},templateUrl:"global/objects/scBlock/shared/feed/feed-item",controller:e}})})(),(()=>{function e(t,a){return function(e){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1])return"";if(e.linkable&&!e.linkable.amount)return e.linkable.is_donor_covered_fee?t("scFormatCurrency")(e.linkable.raw_initial_gross_amount,e.linkable.raw_currency_code,2):e.linkable.charged_currency_code===e.linkable.raw_currency_code?t("scFormatCurrency")(e.linkable.charged_total_gross_amount,e.linkable.charged_currency_code,2):t("scFormatCurrency")(e.linkable.raw_total_gross_amount,e.linkable.raw_currency_code,2);var e=e.linkable_value,n=_.get(a,"active.current.currency_code","USD"),n=_.get(e.split(" "),"[1]",n),e=parseFloat(e.split(" ")[0].replace(/[$,]/g,""));return t("scFormatCurrency")(e,n,2)}}e.$inject=["$filter","scCampaignsService"],angular.module("classy").factory("scFeedItemAmount",e)})(),(()=>{function e(d,u,m,g,p,f){return function(e){var n="",t="",a="",i=(e.hideActivity=!1,_.get(e,"linkable_type",null)),o=i?_.capitalize(_.get(i.split("_"),"[2]","")):null,r=e.linkable&&e.linkable.hide_amount,s=e.linkable&&e.linkable.is_donor_covered_fee;{var l,c;"business"===e.agent_type?n="matched the previous donation"+(r?"":" of "+g(e)):"donation"!==i&&"offline_donation"!==i||"creation"!==e.type?"creation"===e.type&&"registration"===i?(l=p.active?p.active.getTicketTerm():"registrations",l=f[l].singular,c=e.linkable_value?parseFloat(e.linkable_value.split(" ")[0].replace(/[$,]/g,"")):null,n="entry"===l?(0===c?"reserved":"purchased")+" an entry":(0===c?"reserved":"purchased")+" a "+l):"good"!==i&&"auction"!==i||"creation"!==e.type?"creation"===e.type&&"undefined undefined"===e.member_name?(a=h(e.feedable_type),n=(t="The ? was created").replace("?",a),e.showName=!1):"commitment_charge"===i?(c=parseFloat(e.linkable_value.split(" ")[0]),l=u("scFormatCurrency")(c,m.active.current.currency,2),n="donated "+l):"creation"===e.type&&"soft_credit"===e.linkable_type&&"fundraising_page"===e.feedable_type?(e.showName=!1,c="",-1<d.current.name.indexOf("frs.fundraiser")?c+="the":c+='<a href="/fundraiser/'+e.feedable_id+'">'+e.feedable_value+"'s</a>",l=_.get(e,"linkable.memo","").indexOf("from campaign"),n=-1<l?"A "+g(e)+" registration was credited to "+c+" page":g(e)+" was credited to "+c+" page by the team"):o?(e.showName=!1,"Doublethedonation"===o?e.member_name||e.agent_name?n=(e.member_name||e.agent_name)+" matched a donation of "+g(e):e.hideActivity=!0:n=g(e)+" was donated on "+(o.match("^[aieouAIEOU].*")?"an":"a")+" "+o+" Fundraiser"):(t=(e=>{switch(e){case"onboarding":return"was onboarded for the ?";case"creation":return"created the ?";case"update":return"updated their ?";case"association":return"joined the ?";default:return}})(e.type),a=h(e.feedable_type),n=t?t.replace("?",a):""):(l=e.linkable&&e.linkable.is_anonymous,c="auction"===i?"auction item":"item",n=l?"A "+g(e)+" "+c+" was purchased anonymously":"purchased a "+g(e)+" "+c):(o="",-1<d.current.name.indexOf("team")&&!_.isEmpty(e.feedable)&&e.feedable.alias&&(t="/fundraiser/"+e.feedable.id,o='to <a href="'+t+'">'+e.feedable.alias+"</a> "),e.member_name&&e.agent_name?(n="donated "+g(e,r)+" "+o,s&&(n+="and generously covered the transaction fee")):(a=g(e,r),n=r?"An anonymous donation was made "+o:s?a+" was anonymously donated "+o+"and fees were generously covered":a+" was donated anonymously "+o))}return n};function h(e){switch(e){case"fundraising_page":return"page";case"fundraising_team":return"team";default:return e}}}e.$inject=["$state","$filter","scOrganizationsService","scFeedItemAmount","scThemesService","ticketTerms"],angular.module("classy").factory("scFeedItemText",e)})(),(()=>{function e(n,e){n.getSubteamsEndpoint="/fundraising-teams/"+n.parent+"/subteams?with=team_lead",n.query={queryString:""},n.filter={},n.mobile=e.isMobile,n.$watch("query.queryString",function(e){n.filter=""!==e?{name:[{operand:"*=",value:e}]}:{}}),n.prefilter=function(e){return n.defaultSubteams=_.cloneDeep(e),e},n.logoSrc=function(e){return _.get(e,"logo.cdn_url","/static/global/images/individual_default_image.png")},n.$watch("pagedSubteams",function(e){n.loading=_.isUndefined(e)})}e.$inject=["$scope","scResponsiveWidth"],angular.module("classy").directive("scSubteams",function(){return{scope:{subteams:"=scSubteams",parent:"=",hideMemberCount:"=?"},templateUrl:"global/objects/scBlock/shared/subteams/template",controller:e}})})(),angular.module("classy").constant("scBlockActivityThumbnailPresets",{circle:{label:"Circle",styles:{"border-radius":"50px"}},square:{label:"Square",styles:{"border-radius":"0px"}},roundedsqaure:{label:"Rounded Square",styles:{"border-radius":"4px"}}}),angular.module("classy").constant("scBlockBackgroundPresets",{adaptive:{label:"Adaptive Cover",styles:{position:"center center",size:"initial",repeat:"no-repeat",fixed:!1}},center:{label:"Center",styles:{position:"center center",size:"auto auto",repeat:"no-repeat",fixed:!1}},tile:{label:"Tile",styles:{position:"top left",size:"auto auto",repeat:"repeat",fixed:!1}},stretch:{label:"Stretch",styles:{position:"center center",size:"cover",repeat:"no-repeat",fixed:!1}},coverfixed:{label:"Cover & Fixed",styles:{position:"center center",size:"cover",repeat:"no-repeat",fixed:!0}}}),angular.module("classy").constant("scBlockHeroDonateButtonPresets",{rectangle:{label:"Rectangle",styles:{border:"solid 3px","border-radius":"0px"}},rectangleWire:{label:"Rectangle Wire",styles:{border:"solid 3px","border-radius":"0px","background-color":"transparent"}},rounded:{label:"Rounded",styles:{border:"solid 3px","border-radius":"4px"}},roundedWire:{label:"Rounded Wire",styles:{border:"solid 3px","border-radius":"4px","background-color":"transparent"}},pill:{label:"Pill",styles:{border:"solid 3px","border-radius":"60px"}},pillWire:{label:"Pill Wire",styles:{border:"solid 3px","border-radius":"60px","background-color":"transparent"}}}),angular.module("classy").factory("scBlockStyles",function(){return function(e,n){return{backgroundColor:e.styles.background.color,backgroundImage:e.pages[n].background.image?"url("+e.pages[n].background.image.src+")":"none"}}}),(()=>{function e(e,n,t){var a=e.getLocks({about:{headlineColor:{locked:!1}}});return t({link:function(e){e.headlineColor=a.about.headlineColor,e.froalaOptionsContent=n({type:"edit-inline-about"},{scImgAssetFroalaUpload:!0,ariaLabel:"About Content"}),e.froalaOptionsTitle=n({type:"edit-inline-about-title"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"About Headline",toolbarButtons:["bold","italic","underline","align","fontFamily","fontSize",e.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsMD:["bold","italic","underline","align","fontFamily","fontSize",e.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsSM:["bold","italic","underline","align","fontFamily","fontSize",e.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsXS:["bold","italic","underline","align","fontFamily","fontSize",e.headlineColor.locked?void 0:"color","paragraphStyle"]}),e.contentOptions={fontBase:22,fontRatio:18}}})}e.$inject=["scCampaignsTemplateService","scFroalaOptions","scBlock"],angular.module("classy").directive("scAboutBlock",e)})(),angular.module("classy").constant("scAboutBlockDefaults",{title:"About",type:"about",disable:!1,headline:"About the Campaign",hideHeadline:!1,headlineColor:"rgb(26,26,26,1)",background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},mobileTemplates:!1,content:"<p style='font-size: 22px'>We're addressing an important issue that affects many people. Our mission is to spread awareness and raise money  for solutions we have identified.</p><p>We created this campaign for everyone to contribute at various impact levels.  Be sure to review the ways you can make an impact and please share this page with your family and friends.</p><p>Your involvement is critical to our success and solving this issue. Thank you again for your help.</p>",remove:!1}),(()=>{function e(e){return{scope:!0,templateUrl:"global/objects/scBlock/types/about/settings",controller:["$scope",function(n){n.froalaOptionsHeader=e({type:"bare-headline"}),n.froalaOptions=e({type:"bare-paragraph"}),n.aboutOptions=e({type:"inline-with-video"},{ariaLabel:"Content"}),n.headerOptions=e({type:"inline-header"},{ariaLabel:"Headline"}),n.showHeadline=!n.block.hideHeadline,n.$watch("showHeadline",function(e){n.block.hideHeadline=!e})}],link:function(e){e.bgMediaManagerOptions={title:"Select a Description Background",image:{guide:{title:"Description Background",message:"You're not tied to a color. Add a background image.",size:"1280 x 720 pixels"}}}}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scAboutBlockSettings",e)})(),(()=>{function e(n,e){return e({link:function(e){e.froalaOptionsPreviewHeadline=n({type:"edit-inline-about-title"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Activity Headline"}),e.froalaOptionsPreviewContent=n({type:"edit-inline-about-title"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Activity Content"})}})}e.$inject=["scFroalaOptions","scBlock"],angular.module("classy").directive("scActivityBlock",e)})(),angular.module("classy").constant("scActivityBlockDefaults",{title:"Activity",type:"activity",cta:"See who supports your cause and what they have to say about it!",allowCommenting:!0,thumbnail:{preset:"circle","border-radius":"50px"},disable:!1,hideHeadline:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},headline:"<span>Campaign Activity</span>",remove:!1}),(()=>{function e(e){return{scope:!0,templateUrl:"global/objects/scBlock/types/activity/settings",controller:["$scope",function(n){n.froalaOptions=e({type:"bare-headline"}),n.aboutOptions=e({type:"inline-with-video"},{ariaLabel:"Content"}),n.headerOptions=e({type:"inline-header"},{ariaLabel:"Headline"}),n.showHeadline=!n.block.hideHeadline,n.$watch("showHeadline",function(e){n.block.hideHeadline=!e})}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scActivityBlockSettings",e)})(),(()=>{function e(c,n,a,i,o,d,e,r,s,u,m,l,g,p,f,h,v,b,y){return e({responsiveSettings:{tablet:"mobile-ls"},controller:["$scope",function(t){t.$watch("block.enableProgressMetrics",function(e,n){e!=n&&(t.block.enablePercentOfGoal=e,t.block.enableNumSupporters=e,t.block.enableDaysLeft=e)});var e=_.get(t,"campaign.timezone_identifier",!1)||moment.tz.guess(),e=o.convertUtcToTimezone(t.campaign.started_at,e),n=s.getLocks({crowdfunding:{dateAndTime:{locked:!1},headlineColor:{locked:!1}}}),n=(t.headlineColor=n.crowdfunding.headlineColor,n.crowdfunding.dateAndTime),e=(t.prettyStartedAt=moment(e).format("dddd MMMM Do YYYY [•] h:mm a"),t.block.dateAndTime||n.locked||(t.block.dateAndTime=t.prettyStartedAt),t.displayRegisterBtn="ticketed"===r.active.current.type||r.active.current.allow_fundraising_pages,t.disableJoinButton=function(){return!!_.includes(["reg_w_fund","p2p"],t.campaign.type)&&r.active.isInactive()},t.prettyVenue="",t.campaign.venue&&(t.prettyVenue+=t.campaign.venue),t.campaign.venue&&(t.campaign.address1||t.campaign.city||t.campaign.state)&&(t.prettyVenue+=", "),t.campaign.address1&&(t.prettyVenue+=t.campaign.address1+", "),t.campaign.city&&(t.prettyVenue+=t.campaign.city+", "),t.campaign.state&&(t.prettyVenue+=t.campaign.state),t.block.venueLocation||(t.block.venueLocation=t.prettyVenue),t.layoutClass={},t.ticketedEventAlignment=function(){switch(t.block.layoutPosition){case"center":t.layoutClass.row="rwf-hero__row",t.layoutClass.buttons="rwf-hero__buttons";break;case"left":t.layoutClass.row="rwf-hero__row--left",t.layoutClass.buttons="rwf-hero__buttons--left"}},r.active.IS_TICKETED&&t.$watch("block.layoutPosition",function(){t.ticketedEventAlignment()}),r.active.IS_TICKETED?(t.ticketTermCta=h.active.getTicketTerm("cta"),t.block.joinButtonText=t.block.joinButtonText||t.ticketTermCta):t.block.joinButtonText=t.block.joinButtonText||"Become a Fundraiser",t.block.donateButtonText=t.block.donateButtonText||"Donate",t.getBGStyle=function(){var e=void 0,e={"background-color":t.theme.styles.background.color};return e=_.get(t,"block.background.color",!1)?{"background-color":t.block.background.color}:e},angular.copy(t.block.joinButtonColor));!_.isNull(e)&&e!==t.theme.styles.primaryColor||"reg_w_fund"==t.campaign.type||t.$watch("theme.styles.primaryColor",function(e){t.block.joinButtonColor=e}),t.donateButtonStyle=function(){var e={},n=(_.merge(e,t.block.donateButtonStyle),t.block.donateButtonColor||t.theme.styles.donateButtonColor||t.theme.styles.primaryColor);return _.endsWith(t.block.donateButtonStyle.preset,"Wire")?(e.color=n,e["border-color"]=n):(e.color="white",e["background-color"]=n,e["border-color"]=n,e.border="3px solid "+n),e},t.rwfShadeButtonStyle=function(){var e,n={};return _.merge(n,t.block.donateButtonStyle),null==t.block.donateButtonColor?(e=t.block.joinButtonColor||t.theme.styles.primaryColor,e=i("shadeBlendColor")(.1,e),t.block.donateButtonStyle.color=e,_.endsWith(t.block.donateButtonStyle.preset,"Wire")||(n.color="white",n["background-color"]=e),n.border="3px solid "+e):n=t.donateButtonStyle(),n},t.joinButtonStyle=function(){var e={},n=(_.merge(e,t.block.joinButtonStyle),t.disableJoinButton()?"#d2d2d2":t.block.joinButtonColor||t.theme.styles.primaryColor);return t.block.joinButtonStyle.color=n,_.endsWith(t.block.joinButtonStyle.preset,"Wire")||(e.color="white",e["background-color"]=n),e.border="3px solid "+n,e},t.fundraiseSwitch=function(){t.demo?a.SC.status.banner={type:"error",msg:"Whoops, this is just a preview of your campaign page. Please publish your page first."}:y.checkOrganizationRestrictions(l.fundraiseSwitch)},t.handleRegistrationSwitch=function(e){y.checkOrganizationRestrictions(function(){return t.registrationSwitch(e)})},t.registrationSwitch=function(e){e&&"click"!==e.type&&!b.isValidKeyBoardEvent(e)||(e=_.get(e,"currentTarget",null),r.active.IS_TICKETED&&_.get(f,"active.isReserved",!1)?p.goToLastState():g(e))}}],link:function(r){r.froalaOptionsPreview=d({type:"edit-inline-header"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Hero Headline",toolbarButtons:["bold","italic","underline","align","fontFamily","fontSize",r.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsMD:["bold","italic","underline","align","fontFamily","fontSize",r.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsSM:["bold","italic","underline","align","fontFamily","fontSize",r.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsXS:["bold","italic","underline","align","fontFamily","fontSize",r.headlineColor.locked?void 0:"color","paragraphStyle"]}),r.registerFroalaOptionsColors=d({type:"inline-just-colors"},{ariaLabel:"Hero Register Button"}),r.donateNowFroalaOptionsColors=d({type:"inline-just-colors"},{ariaLabel:"Hero Donate Now button"}),r.daysLeft=(e=r.campaign.ended_at)?(e=-1*Date.parse(e).getElapsed(),e=Math.floor(e/1e3/60/60/24),Math.max(0,e)):null,r.mobileSlideMedia=[],r.supporters=_.get(r.campaign,"overview.donors_count",0);var e=v.getCampaignProgress(r.campaign),s=(r.goal=e.goal,r.total=e.totalRaised,r.percentRaised=i("scPercent")(e.percentToGoal,0),r.slideshowAPI=new u,r.mobileSlideshowAPI=new u,"\n        <div class='crowdfunding_slide-bg' data-ng-style=\"{\n          'position': 'absolute',\n          'width': '100%',\n          'height': '100%',\n          'background-image':'url(' + img.src + ')',\n          'background-size':'cover',\n          'background-repeat': 'no-repeat',\n          'background-position': 'center center',\n          'top': '0px'\n        }\"></div>\n      "),t='\n        <h1 class="crowdfunding_header"\n        data-sc-filler-text\n        data-parent-container="\'.slideshow_slide\'"\n        data-title-container="\'.crowdfunding_header-title\'"\n        data-ng-if="block.headline && !block.hideHeadline && !block.replaceHeadline"\n        data-ng-style="{\'color\':block.headlineColor}">\n          <span class="crowdfunding_header-title mobile"\n          data-ng-bind-html="block.headline | scTrustedHtml">\n          </span>\n        </h1>\n        <div class="crowdfunding_headline-image-container crowdfunding_display">\n          <img class="crowdfunding_headline-image" data-ng-if="block.replaceHeadline && block.headlineImage.image.src" ng-src="{{block.headlineImage.image.src}}">\n        </div>\n      ',l='\n        <div class="crowdfunding_featured-media-video"\n          data-ng-if="img"\n          data-thumbnail="thumbnail"\n          data-type="type"\n          data-url="{{ url }}"\n          data-sc-video="img.url">\n        </div>\n      ';function a(){return r.block.useFeatured?c.all(r.block.featuredImg.map(function(n){var t,e,a,i,o=r.$new();return"video"==n.type?(t=(o.img=n).url,o.img.title=t,e=t,a=m.getType(e),i=c.defer(),"vimeo"==a?m.getVimeoThumbnail(e).then(function(e){e=_.get(e,"data[0].thumbnail_large",!1);r.thumbnailUrl=e,i.resolve({thumb:e,type:"vimeo"})},function(){i.resolve(null)}):"youtube"==a?(a=m.getYoutubeThumbnail(e),i.resolve({thumb:a,type:"youtube"})):i.resolve(null),i.promise.then(function(e){return o.thumbnail=e.thumb,o.type=e.type,o.url=t,{key:n,tpl:l,ctx:o}},function(){return{key:n,tpl:l,ctx:o}})):((o.img=n).download(),{key:n,tpl:s,ctx:o})})):c.resolve([])}r.$watchCollection("block.featuredImg",function(e,n){"crowdfunding"==r.campaign.type&&(e===n?a().then(function(e){r.slideshowAPI.init(e);e=[{key:"cover",tpl:t,ctx:r}].concat(e);r.mobileSlideshowAPI.init(e)}):a().then(function(e){r.slideshowAPI.update(e);e=[{key:"cover",tpl:t,ctx:r}].concat(e);r.mobileSlideshowAPI.update(e)}))}),n.params.register&&r.registrationSwitch(),r.isPreview=function(){return n.is("admin.manage.campaign.step.setup")||n.is("admin.manage.campaign.step.design.views.content-blocks")||n.is("admin.manage.campaign.step.design.views.block")}}})}e.$inject=["$q","$state","$rootScope","$filter","mySqlDateTime","scFroalaOptions","scBlock","scCampaignsService","scCampaignsTemplateService","SlideshowAPI","scVideoSvc","scSwitchFlowPickerService","registrationEntityFlow","registrationNavigator","scCartService","scThemesService","scProgressDataFactory","accessibilityService","countryBlockService"],angular.module("classy").directive("scCrowdfundingBlock",e)})(),angular.module("classy").constant("scCrowdfundingBlockDefaults",{title:"Hero",type:"crowdfunding",disable:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:75,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},headline:'<p class="heading">Your Headline Goes Here</p><p class="subheading">Your subheadline goes here</p>',enableHeadline:!0,hideHeadline:!1,replaceHeadline:!1,headlineColor:"rgb(255,255,255)",dateAndTime:"",showDateAndTime:!0,venueLocation:"",showVenueLocation:!0,layoutPosition:"center",headlineImage:{color:null,image:null,colorOpacity:100,imageOpacity:75,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},enableProgressBar:!0,progressBarColor:null,progressBarBgColor:null,enableProgressMetrics:!0,enablePercentOfGoal:!0,enableNumSupporters:!0,enableDaysLeft:!0,dynamicHeight:!1,donateButtonColor:null,donateButtonStyle:{preset:"rounded","border-radius":"4px",color:null},joinButtonColor:null,joinButtonStyle:{preset:"rounded","border-radius":"4px",color:null},featuredType:"image",featuredVideo:"",featuredImg:[],useFeatured:!0,mobileTemplates:!1,hideFeaturedCtrls:!1,donateButtonText:"Donate Now",joinButtonText:null,unsortable:!0,remove:!1}),(()=>{function e(t,a){return{scope:!0,templateUrl:"global/objects/scBlock/types/crowdfunding/settings",controller:["$scope",function(e){var n;e.lockLayoutPosition=!1,e.isHeroImgLocked=!1,e.locks=a.getLocks({crowdfunding:{featuredImg:{locked:!1},useFeatured:{locked:!1},headlineImage:{image:{locked:!1}}}}).crowdfunding,SC.campaign&&SC.campaign.campaignTemplateData&&((n=a.getBlockByType("crowdfunding"))&&(e.lockLayoutPosition=n.item_attributes.layoutPosition&&n.item_attributes.layoutPosition.locked),e.isHeroImgLocked=_.get(SC.campaign.campaignTemplateData,"components.theme.component_items[0].item_attributes.styles.background.image.locked",!1)),e.headerOptions=t({type:"inline-header"},{ariaLabel:"Headline"}),e.headlineImgMediaManagerOptions={mmOptions:{title:"Select a Headline Image",image:{guide:{title:"Headline Image",message:"Put an artistic spin on your headline text."}}}},e.featuredImgMediaManagerOptions={title:"Add Your Featured Media",image:{guide:{title:"Featured Image",message:"Choose a photo that adds context to your campaign story.",size:"628 x 353 pixels"}}},e.setFeaturedImgDefaults=function(e,n){n&&"video"!=e.type&&(e.options.position="cover")},e.bgImgUploadOptions={hideActionButtons:!0,description:"For best quality, use a 1280 x 720 px image.",preview:550,mmOptions:{useReactEditor:!0,reactEditorOptions:{heroFullHeight:_.get(e,"block.dynamicHeight",!1)}}}}],link:function(t){t.campaign.current.is_ended_at_hidden&&(t.block.enableDaysLeft=!1),t.$watch("block.enableDaysLeft",function(e){t.campaign.current.is_ended_at_hidden=!e}),t.$watch("block.dynamicHeight",function(e){t.bgImgUploadOptions.mmOptions.reactEditorOptions.heroFullHeight=e}),t.$watch("block.showAdvanced",function(e){e&&(t.visible=!0)}),t.$watch("block.disable",function(e,n){n!=e&&!0===e&&t.block.replaceHeadline&&!t.block.headlineImage.image&&(t.block.replaceHeadline=!1)})}}}e.$inject=["scFroalaOptions","scCampaignsTemplateService"],angular.module("classy").directive("scCrowdfundingBlockSettings",e)})(),(()=>{function e(e){return e({link:function(){}})}e.$inject=["scBlock"],angular.module("classy").directive("scCustomBlock",e)})(),angular.module("classy").constant("scCustomBlockDefaults",{title:"Custom",type:"custom",remove:!0,mobileTemplates:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},unsafeHtml:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec finibus finibus elit in ullamcorper.</p>",html:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec finibus finibus elit in ullamcorper.</p>",unsafeCss:"",css:""}),(()=>{function e(a,i,o,r,s){return{scope:!0,templateUrl:"global/objects/scBlock/types/custom/settings",controller:["$scope",function(n){var e,t;n.config={bgMediaManagerOptions:{title:"Select a Custom Section Background",image:{guide:{title:"Custom Section Background",message:"You're not tied to a color. Add a background image.",size:"1280 x 720 pixels"}}},htmlEditorOptions:{useWrapMode:!0,theme:"monokai",mode:"html",showGutter:!1,onLoad:function(e){e.getSession().setOptions({tabSize:2,useSoftTabs:!0})}},cssEditorOptions:{useWrapMode:!0,theme:"monokai",mode:"css",showGutter:!1,onLoad:function(e){e.getSession().setOptions({tabSize:2,useSoftTabs:!0})}}},n.disableCustomBlock=!1,n.isCustomMarkupDisabled=!1,n.isCustomBgDisabled=!1,SC.campaign&&SC.campaign.campaignTemplateData&&(n.disableCustomBlock=s.getAddContentToPageBlock(r.blockId),"custom"===n.block.type)&&(t=null,e=s.getBlockComponent(r.blockId),t=s.getActiveBlock(e),n.isCustomMarkupDisabled=_.get(t,"item_attributes.html.locked",!1),n.isCustomBgDisabled=_.get(t,"item_attributes.background.locked",!1)),n.state={activeTab:"html",processingHtml:!1,processingCss:!0},n.sanitizeHtml=function(){n.processingHtml=!0,a.post("/frs-api/sanitize/html",{content:n.block.unsafeHtml}).then(function(e){n.block.html=e.data.html}).catch(function(e){i.error(e),o("Sorry, your HTML could not be processed. Please check your syntax and try again.")}).finally(function(){n.state.processingHtml=!1})},n.sanitizeCss=function(){n.processingCss=!0,a.post("/frs-api/sanitize/css",{content:n.block.unsafeCss,scope:"#block-"+n.block.id}).then(function(e){n.block.css=e.data.css}).catch(function(e){i.error(e),o("Sorry, your CSS could not be processed. Please check your syntax and try again.")}).finally(function(){n.state.processingCss=!1})},n.tab=function(e){n.state.activeTab=e}}]}}e.$inject=["$http","$log","scBanner","$stateParams","scCampaignsTemplateService"],angular.module("classy").directive("scCustomBlockSettings",e)})(),(()=>{e.$inject=["$scope","$location","DonationService","$timeout","scCampaignsService","scFundraisingTeamsService","scMembersService","scOrganizationsService","$window","$rootScope","$state","$stateParams","scGetQueryParams","scFroalaOptions","scCampaignModel","scQaId"];var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function e(t,e,n,a,i,o,r,s,l,c,d,u,m,g,p,f){function h(){return t.you=r.you,_.merge(SC.donation,{isPayPal:null===SC.organization.payment_provider_name||"Paypal External"===SC.organization.payment_provider_name,isWePay:"WePay"===SC.organization.payment_provider_name,isAuthorize:"Authorize.net DPM"===SC.organization.payment_provider_name,name:{first:t.you.current.first_name,last:t.you.current.last_name},phone:t.you.current.phone,email:t.you.current.email_address,payment:{name:{},address:t.you.current.address1,address2:t.you.current.address2,city:t.you.current.city,zip:t.you.current.postal_code,country:t.you.current.country,state:t.you.current.state},dedication:{},optIn:t.campaign.current.opt_in_checked_by_default,canadian:"CA"==SC.organization.country})}var v,b=_.get(d,"current.name",""),f=(t.edit=!1,(-1<b.indexOf("design")||-1<b.indexOf("manage"))&&(t.edit=!0),t.scQaId=f,t.froalaOptionsPreview=g({type:"edit-inline"}),SC.donation=SC.donation||{},t.demo||(b=_.get(i.active.current.questions,"optional",[]),t.optionalQs={},b.forEach(function(e){"donation_page"==e.location&&(t.optionalQs[e.tag]=e)}),t.primaryPhone={required:_.get(t.optionalQs,"homephone.is_required",!1)},v=s.active,t.show={mgive:function(){return!!v.current.mgive_settings&&t.optionalQs.cellphone&&t.optionalQs.text_opt_in}}),t.donateDoubleLoaded=!1,t.feeCalculating=!1,void 0===i.active&&void 0!==SC.campaign?(i.add(SC.campaign),i.setActive(u.campaignId),t.campaign=i.active):void 0===i.active?t.campaign=new p({type:u.campaignType,organization_id:d.params.organizationId}):t.campaign=i.active,t.members=r,t.you=r.you,t.$watch("campaign.current.classy_mode_enabled",function(e){t.campaign.current.classy_mode_enabled=e}),t.organization=s.active.current,t.organization.mgive=_.get(t.organization,"mgive_settings",!1),SC.donation=h(),t.$watch(function(){return _.get(r,"active.current.id")},function(e,n){e!==n&&e&&(t.Donation=h())}),SC.zipOnly=!1,t.emailValidationRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"classy.local"!==e.host()&&"localhost"!==e.host()||_.merge(SC.donation,{name:{first:"Dev",last:"Eloper"},email:"deloper@classy.org",payment:{card:{num:"4444333322221111",cvv:"123"},address:"123",city:"San Diego",state:"CA",zip:"92101"}}),SC.availableCardTypes=["Visa","MasterCard"],"CAD"!=SC.organization.currency&&(SC.availableCardTypes.push("American Express"),SC.availableCardTypes.push("Discover")),t.SC=SC,t.Donation=SC.donation,t.Fundraiser=SC.fundraiser||{},t.Team=SC.team||{},t.Charity=SC.organization,t.Donation.fee_on_top=t.campaign.current.classy_mode_checked_by_default,!_.isEmpty(SC.team)&&_.isEmpty(t.team)&&(o.add(SC.team),o.setActive(SC.team.id),t.team=o.active.current),t.Donation.payType="direct",t.Charity.currency&&"CAD"==t.Charity.currency.toUpperCase()&&(t.Donation.dedication.country="CA",t.Donation.payment.country="CA"),t.Donation.dedication.emailImg=null,m()),g=f.return_url?f.return_url.replace(/~2F/g,"/"):"",y=(t.Donation.amount=parseFloat(f.amount||t.Donation.amount),t.Donation.recurring="0",t.Donation.name.first=f.first||t.Donation.name.first,t.Donation.name.last=f.last||t.Donation.name.last,t.Donation.email=f.email||t.Donation.email,t.Donation.phone=f.phone||t.Donation.phone,t.Donation.payment.address=f.street||t.Donation.payment.address,t.Donation.payment.city=f.city||t.Donation.payment.city,t.Donation.payment.state=f.state||t.Donation.payment.state,t.Donation.payment.zip=f.zip||t.Donation.payment.zip,t.returnUrl=g||t.returnUrl,t.buttonPresets={preset1:f.preset1,preset2:f.preset2,preset3:f.preset3,preset4:f.preset4},void 0);_.forEach(t.buttonPresets,function(e,n){(y=(y=e)instanceof Array?y[0]:y)&&(y=y.replace(/[^\d]/g,""),1e7<(y=(y=parseInt(y,10))<1?void 0:y))&&(y=1e7),t.buttonPresets[n]=y}),t.displayFundraiserDetails=!1,t.fundraisers=[],t.selectedFundraiser={obj:null},t.invalidSearch=!1,t.isIndividualCampaign=function(){return!_.isEmpty(t.Fundraiser)&&(t.selectedFundraiser.obj=t.Fundraiser,t.Fundraiser.photo=_.get(t.Fundraiser,"logo.cdn_url","/static/global/images/individual_default_image.png"),t.displayFundraiserDetails=!0)},t.isTeamCampaign=function(){return!_.isEmpty(t.Team)&&(t.displayFundraiserDetails=!0,t.Team.photo=_.get(t.Team,"logo.cdn_url","/static/global/images/team_default_image.png"),!0)},t.initFundraiser=function(){t.isTeamCampaign()&&(t.selectedFundraiser.obj=t.Team,t.updated_percent_to_goal=t.Team.percent_to_goal)},t.crediteeSearchDefault=function(){return t.isTeamCampaign()?t.Team:null},t.searchTerms=[{service:"scFundraisingPageSearchModel",fields:["alias"],queryParams:{aggregates:!0,filter:"status=active"}}],t.isTeamCampaign()||t.searchTerms.push({service:"scFundraisingTeamSearchModel",fields:["name"],queryParams:{aggregates:!0,filter:"status=active"}}),t.searchContext=(b={},t.isTeamCampaign()?b.fundraising_team_id=t.Team.id:b.campaign_id=t.campaign.current.id,b),t.crediteeSearchTeamId=function(){return t.isTeamCampaign()?t.Team.id:null},t.newTargetDonation={obj:null},t.Donation.urlParam={cid:s.active.current.id,eid:i.active.current.id,fcid:t.Fundraiser.id,ftid:t.Team.id},t.$watch("newTargetDonation.obj",function(){_.isObject(t.newTargetDonation.obj)&&(t.selectedFundraiser=_.cloneDeep(t.newTargetDonation),t.newTargetDonation.obj.team_lead_id?t.selectedFundraiser.obj.photo=_.get(t.newTargetDonation.obj,"logo.cdn_url","/static/global/images/individual_default_image.png"):t.selectedFundraiser.obj.photo=_.get(t.newTargetDonation.obj,"logo.cdn_url","/static/global/images/team_default_image.png"),t.Donation.amount?(e=t.Donation.amount+t.selectedFundraiser.obj.total_raised,t.updated_percent_to_goal=e/t.selectedFundraiser.obj.goal*100):t.updated_percent_to_goal=t.selectedFundraiser.obj.percent_to_goal),"object"===k(t.selectedFundraiser.obj)&&"object"===k(t.newTargetDonation.obj)&&(t.displayFundraiserDetails=!0),_.isObject(t.newTargetDonation.obj)&&(t.selectedFundraiser=_.cloneDeep(t.newTargetDonation),_.isEmpty(t.newTargetDonation.obj))&&(t.displayFundraiserDetails=!1,_.isEmpty(t.Team)||(t.selectedFundraiser.obj=t.Team));var e=_.get(t.selectedFundraiser,"obj.team_lead_id",!1);_.isEmpty(t.newTargetDonation.obj)&&(t.displayFundraiserDetails=!1,t.Donation.urlParam={cid:SC.organization.id,eid:t.campaign.current.id,fcid:t.Fundraiser.id,ftid:t.Team.id}),_.isObject(t.selectedFundraiser.obj)&&(_.isObject(t.newTargetDonation.obj)||e&&t.selectedFundraiser.obj.id===t.Team.id||!e&&t.selectedFundraiser.obj.id===t.Fundraiser.id)&&(t.displayFundraiserDetails=!0),_.isObject(t.newTargetDonation.obj)&&_.isEmpty(t.Fundraiser)&&!_.get(t.newTargetDonation,"obj.team_lead_id")?t.Donation.urlParam={cid:void 0,eid:void 0,fcid:t.newTargetDonation.obj.id,ftid:void 0}:_.isObject(t.newTargetDonation.obj)&&_.isEmpty(t.Fundraiser)&&_.get(t.newTargetDonation,"obj.team_lead_id")&&(t.Donation.urlParam={cid:void 0,eid:void 0,fcid:void 0,ftid:t.newTargetDonation.obj.id})},!0),t.willReachGoal=function(){return 100<=t.updated_percent_to_goal},t.goalReached=function(){return 100<=t.selectedFundraiser.obj.percent_to_goal},t.amountChanged=function(){var e;angular.isUndefined(t.Donation.amount)||(t.Donation.amountFloat=parseFloat(t.Donation.amount),t.Donation.amountChanged=!0,null!==t.selectedFundraiser.obj?(.99<(e=(t.selectedFundraiser.obj.total_raised+t.Donation.amount)/t.selectedFundraiser.obj.goal)&&e<1&&(e=.99),t.updated_percent_to_goal=100*_.round(e,2)):t.updated_percent_to_goal=1)},t.submitPaypal=function(){var e;t.paypalErrors=!0,t.Donation.payType="paypal",[t.Donation.amount,t.Donation.name.first,t.Donation.name.last,t.Donation.email].every(function(e){return e&&!e.$invalid})?t.submit():(e=!!angular.element(".donation_form").find(".ng-pending, .ng-invalid:first").offset()&&angular.element(".donation_form").find(".ng-pending, .ng-invalid:first").offset().top,l.scrollTo(0,e-100),c.SC.status.banner={type:"error",msg:"Oops! Please complete the required fields."})},t.hasSupporters=0,t.isTeamCampaign()?t.team.getSupporterCounts().then(function(e){t.hasSupporters=e.childPages}):t.isIndividualCampaign()||t.campaign.getSupporterCounts().then(function(e){t.hasSupporters=e.fundraiserCount+e.captainCount}),t.submit=function(){if($(window).scrollTop(0),t.Donation.z&&0<t.Donation.z.length)return!(window.location.href="/checkout/error");if(t.submitErrorMsg=null,!t.block.processing){if(t.block.processing=!0,"paypal"!=t.Donation.payType){if(t.Donation.isWePay)return n.processWePay({block:t.block,returnUrl:t.returnUrl}),!1;if(t.Donation.isAuthorize)return n.processAuthorize(t.Donation.payment.card,t.Donation.payment.cvv),!1}n.processDonation({block:t.block,returnUrl:t.returnUrl})}},a(function(){u.scroll&&$("html, body").animate({scrollTop:$("[name="+u.scroll+"]").offset().top},1e3)}),t.defaultClassyModeAppeal="<p>I'd like to cover the processing fee so 100% of my donation goes to\n   "+s.active.current.name+".</p>"}angular.module("classy").controller("donationMainCtrl",e)})(),(()=>{function e(e){return e({responsiveSettings:{"mobile-ls":"mobile-ls"}})}e.$inject=["scBlock"],angular.module("classy").directive("scDonationBlock",e)})(),angular.module("classy").constant("scDonationBlockDefaults",{title:"Donation",type:"donation",loaded:!0,headline:'<span style="font-size: 40px">You\'re making a difference</span>',description:"",questions:[],"recurring-level":"1","recurring-type":"default","donation-levels":[{amount:500},{amount:100},{amount:50},{amount:25}],"donation-default":null,"submit-button-text":"Give now!",billing_address_autocomplete:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!0,preset:"coverfixed"},unsortable:!0,recurring_donation_experiment:!1}),angular.module("classy").constant("scDonationBlockDefaultsRf",{title:"Donation",type:"donation",loaded:!0,headline:'<span style="font-size: 40px">You\'re making a difference</span>',description:"",donation_amount_appeal:"",questions:[],"recurring-level":[{type:"one-time",name:"One-time",display_on_page:!0},{type:"daily",name:"Daily",display_on_page:!1},{type:"weekly",name:"Weekly",display_on_page:!1},{type:"bi-weekly",name:"Bi-weekly (every 2 weeks)",display_on_page:!1},{type:"monthly",name:"Monthly",display_on_page:!0},{type:"quarterly",name:"Quarterly (every 3 months)",display_on_page:!1},{type:"semi-annually",name:"Semi-annually (every 6 months)",display_on_page:!1},{type:"yearly",name:"Yearly (every 12 months)",display_on_page:!1}],"recurring-default":"one-time","recurring-type":"default","donation-levels":[{amount:500,display_on_page:!0},{amount:100,display_on_page:!0},{amount:50,display_on_page:!0},{amount:25,display_on_page:!0},{amount:"Custom",display_on_page:!0}],"recurring-donation-levels":[{amount:500,display_on_page:!0},{amount:100,display_on_page:!0},{amount:50,display_on_page:!0},{amount:25,display_on_page:!0},{amount:"Custom",display_on_page:!0}],"donation-default":null,"recurring-donation-default":null,"submit-button-text":"Give now!",billing_address_autocomplete:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!0,preset:"coverfixed"},unsortable:!0,recurring_donation_experiment:!1}),(()=>{function e(n){return{scope:!0,templateUrl:"global/objects/scBlock/types/donation/settings",controller:["$scope",function(e){e.fieldOptions={headline:{model:"block.headline",required:!1,placeholder:"Thank you for your gift",characterCounter:120}},e.appealOptions=n({type:"inline-with-video"}),e.headerOptions=n({type:"inline-header"},{charCounterCount:!0,charCounterMax:120,ariaLabel:"Headline"}),e.donationPhotoMediaManagerOptions={title:"Select a Background Image",image:{guide:{title:"Donation Page Background Image",message:"Brand your donation page with a unique background image.",size:"1280 x 720 pixels"}}}}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scDonationBlockSettings",e)})(),(()=>{function e(e){return e({link:function(){}})}e.$inject=["scBlock"],angular.module("classy").directive("scFeaturedBlock",e)})(),angular.module("classy").constant("scFeaturedBlockDefaults",{title:"Featured",type:"featured",disable:!1,headline:"Featured",hideHeadline:!1,subheading:"Use a second line of text to describe what's featured",hideSubheading:!1,headlineColor:"rgb(0,0,0)",features:[{name:"Register as Individual",action:"register",description:"Write a brief description of this feature and why it matters.",btnLabel:"Register",btnColor:"rgb(54, 191, 247)"},{name:"Create a Team",action:"create_team",description:"Write a brief description of this feature and why it matters.",btnLabel:"Create a Team",btnColor:"rgb(54, 191, 247)"},{name:"Join a Team",action:"join_team",description:"Write a brief description of this feature and why it matters.",btnLabel:"Join a Team",btnColor:"rgb(54, 191, 247)"}],background:{color:"rgb(248, 248, 248)",image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},mobileTemplates:!1,remove:!0}),(()=>{function e(n,e,r,s,l,c,d,u,m){return e({controller:["$scope","$state",function(t,e){t.$state=e,t.campaign=r.active.current;var a,i=s.active.current;function o(e){var n=e&&!_.isEmpty(e)?e:i;t.orgName=(e=e,(s.active.multiCurrencyDisabled()||!e.name?s.active.current:e).name),t.address=n.address,c.getContactEmail().then(function(e){t.contactEmail=e}),c.getContactPhoneNumber().then(function(e){t.contactPhone=e}),t.phone=(e=n,(s.active.multiCurrencyDisabled()||!e.contact_phone?s.active.current:e).contact_phone),t.location=((e,n)=>(n=n.filter(Boolean).join(" "),[e,n].filter(Boolean).join(", ")))(n.city,[n.province||n.state,n.postal_code,n.country])}!s.active.multiCurrencyDisabled()&&e.is("frs.donation.thankYou")&&(t.orgName=l.currentTaxableEntity.name),t.currencyService=d,r.active.multiCurrencyDisabled()||!e.is("frs.donation.checkout")?l.getDefaultTaxEntity(t.campaign).then(function(e){o(l.currentTaxableEntity&&!_.isEmpty(l.currentTaxableEntity)?l.currentTaxableEntity:e)}):(a=void 0,l.getTaxEntity(i.currency).then(function(e){a||o(e)}),t.$on("donationRawCurrencyChange",function(e,n){a=l.getTaxEntity(n.currency).then(function(e){o(e),a=null})})),t.scAuth=u,t.loggedIn=!!m.active.current.id,t.login=function(){u.loginOnly({callback:n.location.href})},t.$watch(function(){return _.get(m,"active.current.id")},function(e,n){e!==n&&(t.loggedIn=!!e)})}]})}e.$inject=["$window","scBlock","scCampaignsService","scOrganizationsService","scTaxEntitiesService","orgContactService","scCurrencyService","scAuth","scMembersService"],angular.module("classy").directive("scFooterBlock",e)})(),angular.module("classy").constant("scFooterBlockDefaults",{title:"Footer",type:"footer",disable:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},top:{text:{color:"rgb(255,255,255)"}},bottom:{text:{color:"rgb(255,255,255)"}},poweredByClassy:!0,backToTop:!0,remove:!1,unsortable:!0}),angular.module("classy").directive("scFooterBlockSettings",function(){return{scope:!0,templateUrl:"global/objects/scBlock/types/footer/settings",link:function(e){e.logoMediaManagerOptions={title:"Select a Footer Logo",image:{guide:{title:"Footer Logo",message:"Use your campaign or organization logo.",size:"300 x 50 pixels"}}},e.bgMediaManagerOptions={title:"Select a Footer Background",image:{guide:{title:"Footer Background",message:"You're not tied to a color. Add a background image.",size:"1280 x 720 pixels"}}}}}}),(()=>{function U(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function e(a,l,c,d,i,u,m,g,p,f,h,v,b,y,k,e,w,C,S,T,E,x,D,A,M,P,I,O,F,L,q,R,B,N){return e({link:function(o,r){var e,n;o.preventRecurringFrequency=E.active.preventRecurringFrequencies(),o.CryptoGiving=k,a.enabled(r,!1),L.checkOrganizationRestrictions(),o.MODEL={payment:{}},o.API={},o.META={errorList:[]},o.CONTEXT=(n=_.get(f,"SC.donationContext","campaign"),e=["Visa","MasterCard"],"CAD"!=E.active.current.currency&&(e.push("American Express"),e.push("Discover")),{isFundraisingPage:"fundraisingPage"===n,isFundraisingTeam:"fundraisingTeam"===n,isCampaign:"campaign"===n,type:n,autofill:F(),availableCardTypes:e}),o.UTIL={showError:function(e,n){if(o.FORM)return n?-1<o.FORM.$visibleErrors.indexOf(e+"|"+n):-1<o.FORM.$visibleErrors.indexOf(e)}},o.PREFLIGHT={},o.campaign=w.active,o.organization=E.active,o.theme=P.active,o.team=T.active,o.fundraiser=S.active,o.CURRENCY=o.organization.currency(),o.globalState={processing:!1,feeProcessing:!1,isPreview:!!o.demo,isPublic:!!o.public},o.setFocusVariable=function(e){_.set(o,e,!0)},o.resetFocusVariable=function(e){_.set(o,e,!1)},o.list={components:M(v(),o.block.components)},o.getLock=function(e){return R.getLock("block",e,{id:o.block.id})},o.launchProcessingModal=function(){C.open({templateUrl:"global/objects/scBlock/types/frs-donation/processing-modal",maxWidth:520,context:o},{animate:!0,closable:!1,transitionWhitelist:["frs.donation.thankYou"]})},o.runPreflight=function(){try{var t={};return _.forEach(o.PREFLIGHT,function(e,n){t[n]=e()}),o.preflightResults=i.all(t),o.preflightResults}catch(t){return q.notify(t,{metaData:{userData:_.omit(o.MODEL,"payment")}}),i(function(e,n){return setTimeout(function(){n({status:500,e:t})})})}},o.resetGlobalState=function(){o.globalState=Object.assign({},o.globalState,{feeProcessing:!1}),s(!1)};function s(e){e&&!o.globalState.processing?(o.processingTimer&&(t(),o.processingTimer=null),new Promise(function(e,n){o.processingTimer=setTimeout(function(){C.close(),O("Your payment is taking longer to process. You’ll receive an email receipt once it processes. Please contact the organization if you do not receive an email receipt.","error",!1),n(new Error("ProcessingTimeout"))},3e5)}).catch(function(e){q.notify(e,{metaData:{userData:_.omit(o.MODEL,"payment")}})})):!e&&o.globalState.processing&&t(),o.globalState.processing=e}function t(){clearTimeout(o.processingTimer)}o.submitDigitalWallets=function(e){p(function(){x.onDigitalWalletsSubmit(),o.MODEL.payment.stripe.source=e.paymentMethod,o.FORM.$setSubmitted()}).then(function(){e.complete("success"),o.submit()})},o.submit=function(){if(!o.globalState.processing){if(o.MODEL.z||"trail"===E.active.current)return c.url("/checkout/error"),!1;if(!o.organization.preventRecurringFrequencies()){var e=o.block["donation-levels"],n=e.some(function(e){return"Custom"===e.amount&&e.display_on_page});if(o.MODEL.items[0].raw_final_price<1&&!n)return u.SC.status.banner={type:"error",msg:"Oops! Please select the donation amount."},n=e.filter(function(e){return e.display_on_page}),$("#D-A"+n[0].amount).focus(),!1}if(o.META.fixedDonationAmount&&1<o.MODEL.items[0].raw_final_price&&!o.preventRecurringFrequency&&o.FORM.amount&&(o.FORM.amount.$setValidity("required",!0),o.FORM.amount.$setValidity("min",!0),o.FORM.amount.$setValidity("max",!0)),Object.keys(o.FORM).filter(function(e){return o.FORM[e]instanceof b[0].controller}).forEach(function(e){o.FORM[e].$setSubmitted()}),!_.isEmpty(o.FORM.$error)){var t=["token","expirationMonth","expirationYear","securityCode"],e=function n(e){var t=[];e&&e.$$controls&&e.$$controls.length&&e.$$controls.forEach(function(e){e.$$controls&&e.$$controls.length?t.push.apply(t,U(n(e))):e.$invalid&&t.push({$name:e.$name.replace(/_/g," "),$element:e.$$element})});return t}(o.FORM);if(o.META.errorList=e.filter(function(e){return!_.includes(t,e.$name)}),o.META.errorList.length!==e.length&&o.META.errorList.push({$name:"credit card",$element:$("#cc-entry-el")}),!x.isDigitalWalletSubmission&&!D.isPayPalCommerceSubmission||(n=o.META.errorList,e=0,n.find(function(e){return"credit card"===e.$name})&&(e+=1),n.find(function(e){return"billing address auto"===e.$name})&&(e+=1),n.length!==e))return u.SC.status.banner={type:"error",msg:"Oops! Please complete the required fields."},p(function(){var e;o.META.errorList.find(function(e){return"amount"===e.$name})&&(o.organization.preventRecurringFrequencies()&&$("#D-AOther")[0].click(),$('input[name="amount"]').focus()),o.META.focusFormErrorsLink=!0,r.find(".sc-form-error").offset()&&(e=r.find(".sc-form-error").offset().top-100,angular.element("html, body").animate({scrollTop:e},1e3))}),void x.setIsDigitalWalletsSubmission(!1)}var a=document.getElementsByName("billing_postal_code")[0],i=document.getElementsByName("postal_code")[0];a&&a.classList.contains("sc-form-error")||i&&i.classList.contains("sc-form-error")?(u.SC.status.banner={type:"error",msg:"Oops! Please complete the required fields."},a&&a.classList.contains("sc-form-error")&&a.focus(),i&&i.classList.contains("sc-form-error")&&i.focus()):"CRYPTO"!==o.META.paymentType&&(o.META.numberOfErrors=0,o.globalState.isPreview?(a=A.getUrl({status:"preview",pageType:"thank-you"}).url,u.SC.status.banner={type:"error",msg:'Whoops, this is just a preview. Would you like to <a class="status-banner_link" target="_self" href="'+a+'">preview the thank you page?</a>'},x.setIsDigitalWalletsSubmission(!1)):(s(!0),o.launchProcessingModal(),angular.element("[sc-autofocus]").removeAttr("sc-autofocus"),o.runPreflight().then(function(){return N.createToken("DONATE")}).then(function(e){var n,t,a;return e?(o.MODEL.recur_until&&(o.MODEL.recur_until=moment(o.MODEL.recur_until).format("YYYY-MM-DD")),o.MODEL.comment&&((n=document.createElement("div")).innerHTML=o.MODEL.comment.replace(/<\/?p>|<\/?br>/g," "),o.MODEL.comment=n.textContent||n.innerText||""),0!==_.get(o,"MODEL.answers",[]).length&&_.forEach(o.MODEL.answers,function(e){e.answer&&"text"===e.question_type&&(e.answer=e.answer.replace(/<\/?p>|&nbsp;/g,"")||null)}),window.doublethedonation&&(n=_.get(document.getElementsByName("doublethedonation_company_id"),"[0].defaultValue"),a=_.get(document.getElementsByName("doubledonation_company_name"),"[0].defaultValue"),t=_.get(document.getElementsByName("doublethedonation_entered_text"),"[0].defaultValue"),n&&a&&t?(o.MODEL.employer_match={employer_id:n,employer_name:a,employer_search_text:t},SC.organization.doubleTheDonationChannel.companyId=n):(o.MODEL.employer_match=t?{employer_search_text:t}:null,SC.organization.doubleTheDonationChannel.companyId=null)),((a=m.newData).c_src||a.c_src2)&&(o.MODEL.c_src=[a]),"reg_w_fund"!==w.active.current.type&&"ticketed"!==w.active.current.type||window.newrelic&&window.newrelic.log("currency_donation_submit",{level:"trace",customAttributes:{currency:_.get(o,"MODEL.payment.raw_currency_code"),url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),l({method:"POST",url:"/frs-api/campaign/"+o.campaign.current.id+"/checkout",data:Object.assign(o.MODEL,{token:e})})):Promise.reject("RECAPTCHA")}).then(function(n){o.globalState.redirecting=!0,o.globalState.submitDisabled=!0,x.setIsLoaded(!1),x.setIsDigitalWalletsSubmission(!1),s(!1),"Dwolla"!==(e=n.data).payment_gateway&&"Stripe"!==e.payment_gateway||!e.account_number?"BrainTree"!==e.payment_gateway||e.card_last_four?e.card_last_four?e.payment_type="Credit Card":"Classy Pay"===e.payment_gateway&&"PAYPAL"===e.payment_source&&(e.payment_type="PayPal Commerce"):e.payment_type="PayPal":e.payment_type="ACH",y.isInit&&y.sendHeapEvent("thank-you",o.MODEL,{transactionId:n.data.id,amount:n.data.total_gross_amount,frequency:n.data.frequency});var e={amount:n.data.total_gross_amount,transactionId:n.data.id,raw_currency_code:n.data.raw_currency_code,digitalWalletsPresent:o.META.digitalWalletsEnabled,digitalWalletType:o.META.digitalWalletType,paymentSource:n.data.payment_source,campaignName:o.campaign.current.name,designationId:o.campaign.current.designation_id,country:o.campaign.current.country,frequency:n.data.frequency,promoCode:n.data.promo_code_code},t=("reg_w_fund"!==w.active.current.type&&"ticketed"!==w.active.current.type||window.newrelic&&window.newrelic.log("donation_checkout_response",{level:"trace",customAttributes:{currency:_.get(n,"data.raw_currency_code"),url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),h.track("transaction",{transaction:n.data}),"one-time"!==o.MODEL.frequency?h.track("recurring-donation/create/complete",e):h.track("donation/create/complete",e),u.$broadcast("donation.success",n.status),202===n.status&&(u.SC.status.banner={type:"success",msg:_.get(n,"data.message","Sorry, something went wrong."),timeout:!1},d.warn(n.data)),_.get(o,"CONTEXT.autofill.return_url","").replace(/~2F/g,"/")),a=_.get(n,"data.return_url","");p(function(){var e;o.$destroy(),t?f.location.assign(t):a?(e={status:(e=n.data).status,order_id:e.id,amount:e.charged_total_gross_amount,sc_fee:e.charged_fees_amount,first_name:e.billing_first_name,recurring:e.recurring_donation_plan_id?1:0,event_id:e.campaign_id,charged_currency_code:e.charged_currency_code},e=_.map(e,function(e,n){return encodeURIComponent(n)+"="+encodeURIComponent(e)}).join("&"),f.location.assign(a+"?"+e)):g.go("^.thankYou",{tid:n.data.id,response:n.data})})}).catch(function(e){if(x.setIsDigitalWalletsSubmission(!1),s(!1),C.close(),angular.element('[name="token"]').attr("sc-autofocus",1),angular.element('[name="expirationMonth"]').attr("sc-autofocus",2),angular.element('[name="expirationYear"]').attr("sc-autofocus",3),angular.element('[name="securityCode"]').attr("sc-autofocus",4),angular.element('[name="postalCode"]').attr("sc-autofocus",5),_.get(e,"data.fixed_fot_percent",!1))return u.$broadcast("donation.failure",400),n=e.data.fixed_fot_percent,I.updateFixedFotPercent(n),o.resetGlobalState(),O("Oops. The organization's fees have changed to "+n+"%. See new calulated total below.","neutral",!1);var n;u.$broadcast("donation.failure",e.status),e.status&&"504"!==e.status?O(e.data||"Sorry, something went wrong.","error",!1):"RECAPTCHA"===e?O("Sorry, something went wrong.","error",!1):e.message?O(e.message,"error",!1):O("Your request timed out. Please try again soon.","error",!1),d.error(e.data||e.message)})))}},u.$on("cpDonateFooter:donate:submit",function(){o.globalState.processing||(o.submit(),u.$broadcast("cpDonateFooter:donate:resolved"))}),D.setAutoSubmitPayPalCommerceHandler(function(){p(function(){}).then(function(){o.FORM.$setSubmitted(),o.submit()})}),B.initMeta(o.META),_.set(SC,"donation.isClassyPay",!0),o.demo||(n={organizationId:""+o.organization.current.id,paymentProcessor:"Classy Pay",customQLength:o.campaign.current&&o.campaign.current.questions&&o.campaign.current.questions.custom&&o.campaign.current.questions.custom.length,campaignType:o.campaign.current.type,campaignId:""+o.campaign.current.id,donationTarget:_.get(f,"SC.donationContext","campaign")},h.track("donation/create/begin",n),p(function(){var e;g.params.scroll&&(e="CreditCardNumber"==g.params.scroll?"payment_pan":g.params.scroll,$("html, body").animate({scrollTop:$("[name="+e+"]").offset().top},1e3))}))}})}e.$inject=["$animate","$http","$location","$log","$q","$rootScope","scSourceCodes","$state","$timeout","$window","scAnalytics","frsDonationBlockComponents","formDirective","cpIntelligentAsk","CryptoGiving","scBlock","scCampaignsService","scFlowModalService","scFundraisingPagesService","scFundraisingTeamsService","scOrganizationsService","scDigitalWalletsService","PayPalSDK","scPagesService","scPrepareBlockComponents","scThemesService","scFeeOnTopService","scBanner","scGetQueryParams","countryBlockService","bugsnagClient","scTemplateLockingService","metaService","recaptchaService"],angular.module("classy").directive("frsDonationBlock",e)})(),(()=>{function e(e,n){var t="global/objects/scBlock/types/frs-donation/components/",a={welcome:{active:!0,section:"main",order:1,templateUrl:t+"welcome/template"},credit:{active:function(){return e.active.DESIGNATIONS_ENABLED||e.active.HAS_FUNDRAISING},section:"main",order:6,templateUrl:t+"credit/template"},amount:{active:!0,section:"main",order:2,templateUrl:t+"amount/template"},designation:{active:function(){return _.isArray(e.active.current.designations)&&1<e.active.current.designations.length},section:"main",order:4,templateUrl:t+"designation/template"},matching:{active:function(){return n.active.current.has_employer_match},section:"main",order:5,templateUrl:t+"matching/template"},doubleTheDonation:{active:function(){return SC.organization.has_double_the_donation_employer_match},section:"main",order:5,templateUrl:t+"double-the-donation/template"},dedication:{active:function(){return!e.active.current.hide_dedications},section:"main",order:3,templateUrl:t+"dedication/template"},giftaid:{active:function(){return n.active.current.is_gift_aid_available},section:"main",order:7,templateUrl:t+"gift-aid/template"},donor:{active:!0,section:"main",order:8,templateUrl:t+"donor/template"},shipping:{active:function(){return e.active.current.collect_shipping_address},section:"main",order:9,templateUrl:t+"shipping/template"},payment:{active:!0,section:"main",order:10,templateUrl:t+"payment/template"},footer:{active:!0,section:"main",order:11,templateUrl:t+"footer/template"},faq:{active:!0,section:"aside",order:1,templateUrl:t+"faq/template"}};return function(){return _.cloneDeep(a)}}e.$inject=["scCampaignsService","scOrganizationsService"],angular.module("classy").factory("frsDonationBlockComponents",e)})(),(()=>{function e(n){return{scope:!0,templateUrl:"global/objects/scBlock/types/donation/settings",controller:["$scope",function(e){e.appealOptions=n({type:"inline-with-video"},{ariaLabel:"Appeal"}),e.headerOptions=n({type:"inline-header"},{charCounterCount:!0,charCounterMax:120,ariaLabel:"Headline"})}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("frsDonationBlockSettings",e)})(),angular.module("classy").constant("frsDonationDefaults",{title:"Donation",type:"donation",loaded:!0,headline:'<span style="font-size: 40px">You\'re making a difference</span>',description:"",questions:[],"recurring-level":"1","recurring-type":"default","donation-levels":[{amount:500},{amount:100},{amount:50},{amount:25}],"donation-default":null,"submit-button-text":"Give now!",background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!0,preset:"coverfixed"},unsortable:!0,recurring_donation_experiment:!1}),(()=>{function e(i,r,s,l,c,d,u,m,g,e,p,f,h,v,t,b,y,k,w,C,S){return e({responsiveSettings:{tablet:"tablet"},controller:["$scope",function(e){var n=_.get(e.theme,"styles.primaryColor","white");_.isNull(e.block.donateButtonColor)&&(e.block.donateButtonColor=n),e.block.raisedColor="#f0f0f0",e.scButtonStyleUpdate=t,e.public=e.$parent.public,e.scFundraisingPagesService=p}],link:function(o){o.public=o.$parent.public,o.checkPreview=o.SC.preview,o.teamBlock=k.get(k.getIdByType("team")),o.getFundraiserAlias=function(){return o.fundraiser.getAlias()},o.getHeaderText=function(){return o.fundraiser.current.is_tribute?o.fundraiser.current.intro_text:o.fundraiser.current.alias},o.manage=function(){c.go("frs.fundraiser.dashboardindex.dashboard.overview")},o.canManage=!1,o.$watch(function(){return f.active.current.id},function(){o.fundraiser.checkDashboardAccess().then(function(e){o.canManage=e})}),o.isPreview=function(){return c.is("admin.manage.campaign.step.setup")||c.is("admin.manage.campaign.step.design.views.block")||_.get(c,"params.preview",!1)},o.setActiveActivityTab=function(e){o.activeActivityTab=e},o.setActiveUpdatesTab=function(e){o.activeUpdatesTab=e},o.activeUpdatesTab="story",o.activeActivityTab="fundraiser_activity",o.isPreview()||(e=y.active.current.styles.primaryColor,t=f.active.current,a=p.active,"reg_w_fund"!=o.campaign.type)||_.isUndefined(t)||_.isUndefined(a)||(n=t.first_name||"there",a.current.member_id!==t.id||a.checkDashboardAccess()||b("Hey "+n+"! Please check your email to edit and manage your fundraising page","success",!1,5e3,e),d.is_new&&t.id!==a.current.member_id&&b("Hey "+n+"! "+o.getFundraiserAlias()+" needs to check their email to edit and manage their page","success",!1,5e3,e)),o.updatesPerPage=5,o.loadAdditionalUpdates=function(){o.updatesPerPage+=5},o.donateLink=function(){if(o.public)return o.SC.preview?"/give/"+o.campaign.id+"/?preview=true#!/donation/checkout":"/give/f"+o.fundraiser.current.id+"/#!/donation/checkout"},o.fundraiseSwitch=function(){o.demo?l.SC.status.banner={type:"error",msg:"Whoops, this is just a preview of your campaign page. Please publish your page first."}:v({fundraiser:o.fundraiser.current.id,disableIndividual:!0})},o.teamLink=function(e){return h.getUrl({pageType:"team",teamId:e,example:!1}).url},o.campaignLink=function(){return h.getUrl({pageType:"landing",campaignId:g.active.current.id,campaignName:g.active.current.name,status:g.active.current.status}).url},o.logoSrc=function(){return p.getPagePhoto(o.fundraiser.current)},o.campaignPhoto=o.theme.headerLogo?o.theme.headerLogo.src:"/static/global/images/team_default_image.png",w.getSocialData().then(function(e){o.twitterShareUrl=e.twitter_link,o.emailUrl=e.email_link,o.fbShare=e.facebook_share,w.getInstagramLink().then(function(e){o.instagramUrl=e.instagram_link})}),o.team={fetch:function(){o.fundraiser.getTeam().then(function(e){o.fundraiser.current.team=_.cloneDeep(e.data),o.fundraiser.current.team&&(o.teamPhoto=_.get(o.fundraiser.current,"team.logo.cdn_url",_.get(o.teamBlock.current,"defaultTeamLogo.asset.src","/static/global/images/team_default_image.png")),o.fundraiser.current.team.logo={src:o.teamPhoto})},function(e){r.error(e)})}},o.posts={data:[],total:0,ui:{deferred:s.defer(),loading:!0,active:null,mode:c.is("frs.fundraiser.index.post")?"post":"list"},fetch:function(){o.fundraiser.getPosts().then(function(e){var t;e&&((t=e.data).data.forEach(function(e,n){e.rank=t.total-(t.from+n)+1,e.latest=t.rank===t.total}),o.posts.data=t.data,o.posts.total=t.total,o.posts.ui.active=c.is("frs.fundraiser.index.post")?o.posts.getById(c.params.postId):null,o.campaign.default_page_post_title=o.campaign.default_page_post_title||o.posts.data[0].title,o.campaign.default_page_post_body=o.campaign.default_page_post_body||o.posts.data[0].body,l.$$phase||o.$apply(function(){o.posts.data.length=t.data.length}),o.posts.ui.deferred.resolve())},function(){o.posts.ui.deferred.reject()}).finally(function(){o.posts.ui.loading=!1})},getById:function(n){return o.posts.data.find(function(e){return e.id.toString()===n.toString()})||!1},toPost:function(e){c.is("frs.fundraiser.index")&&c.go(".post",{postId:e.id})},toList:function(){o.posts.ui.active=null,c.is("frs.fundraiser.index.post")&&c.go("^")}},o.scrollToComments=function(){u(function(){var e=angular.element(".activity_comment-input");e.length&&(e.focus(),$("html, body").animate({scrollTop:e.offset().top},400))})},o.stories={data:[],total:0,ui:{deferred:s.defer(),loading:!0,active:null,mode:c.is("frs.fundraiser.index.post")?"post":"list"},fetch:function(){o.fundraiser.getStory().then(function(e){e&&(e=e.data,o.stories.data=e.data[0],o.stories.total=e.total,o.stories.ui.active=c.is("frs.fundraiser.index.post")?o.stories.getById(c.params.storyId):null,o.stories.ui.deferred.resolve())},function(){o.stories.ui.deferred.reject()}).finally(function(){o.stories.ui.loading=!1})},getById:function(e){var n=o.stories.data;return n.id.toString()===e.toString()&&n}},l.$on("$stateChangeSuccess",function(e,n,t,a,i){"frs.fundraiser.index.post"===n.name&&o.posts.ui.deferred.promise.then(function(){o.posts.ui.active=o.posts.getById(t.postId),o.posts.ui.mode="post",u(function(){angular.element("html, body").animate({scrollTop:angular.element(".post").offset().top},400)})}),"frs.fundraiser.index"===n.name&&(o.posts.ui.active=null,o.posts.ui.mode="list",o.stories.fetch(),o.stories.ui.active=null,o.stories.ui.mode="list")}),(_.isEmpty(o.fundraiser)||o.fundraiser.isDemo)&&(o.demo||SC.preview)?o.fundraiser=p.useExample():o.team.fetch();var e,n,t=C.getEntityProgress(o.fundraiser.current),a=(o.fundraiserPercentToGoal=100*t.percentToGoal,o.fundraiserGoal=t.goal,o.currency=t.currency,o.fundraiser.current.display_total_raised=t.totalRaised,o.posts.fetch(),"frs.fundraiser.index.post"!==c.current.name&&o.stories.fetch(),p.userFundraisers);o.fundraiser.current.member_id===o.you.current.id&&(a[o.fundraiser.current.id]=p.active),o.enableTeamJoin=function(){o.fundraiser.getTeam().then(function(e){o.fundraiser.current.member_id===o.you.current.id&&_.isUndefined(e.data)?o.displayJoinTeamBtn=!0:o.displayJoinTeamBtn=!1})},o.enableTeamJoin(),m.deletePage=function(){window.confirm("No, seriously, this will delete this fundraising page. Are you cool with that?")&&i({method:"DELETE",url:"/frs-api/fundraising-pages/"+o.fundraiser.current.id}).then(function(){c.go("frs.landing.name.campaign",{campaignId:o.fundraiser.current.campaign_id,eventType:"campaign"})}).catch(function(e){r.error(e)})},o.isPreviewHeading=function(){return c.is("admin.manage.campaign.step.setup")||c.is("admin.manage.campaign.step.design.views.content-blocks")||c.is("admin.manage.campaign.step.design.views.block")},o.setActiveTab=function(e,n){!n||n.keyCode!==S.CONSTANTS.ENTER_KEY&&n.keyCode!==S.CONSTANTS.SPACE_KEY||(o.activeUpdatesTab=e)}}})}e.$inject=["$http","$log","$q","$rootScope","$state","$stateParams","$timeout","$window","scCampaignsService","scBlock","scFundraisingPagesService","scMembersService","scPagesService","fundraiseSwitchFlow","scButtonStyleUpdate","scBanner","scThemesService","scBlocksService","scSocialShareLinks","scProgressDataFactory","accessibilityService"],angular.module("classy").directive("scFundraiserBlock",e)})(),angular.module("classy").constant("scFundraiserBlockDefaults",{allowCommenting:!0,title:"Fundraiser",type:"fundraiser",textColor:"rgb(44,52,59)",defaultFundraiserLogo:null,pagesCanSetCoverPhoto:!0,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},showFundraiserTeam:!0,showCampaign:!0,donateButtonColor:null,donateButtonStyle:{preset:"rounded","border-radius":"4px",color:"white"},showLeaderboard:!0,showHeadline:!0,showSubTeams:!0,showProgressBar:!0,unsortable:!1}),(()=>{function e(t){return{scope:!0,templateUrl:"global/objects/scBlock/types/fundraiser/settings",controller:["$scope","scCampaignsTemplateService",function(e,n){e.headlineOptions=t({type:"bare-headline"},{heightMin:null,charCounterCount:!0,charCounterMax:200}),e.titleOptions=t({type:"bare-headline"},{heightMin:null,charCounterCount:!0,charCounterMax:180}),e.postBodyOptions=t({type:"update-paragraph"},{heightMin:200,heightMax:200,ariaLabel:"Default story body"}),e.fundraiserPhotoMediaManagerOptions={title:"Select a Fundraiser Default Photo",image:{guide:{title:"Fundraiser Default Photo",message:"Brand your campaign with a unique logo.",size:"320 x 320 pixels"},crop:!0}},e.fundraiserCoverPhotoMediaManagerOptions={title:"Select a Cover Photo",image:{guide:{title:"Fundraiser Cover Photo",message:"Brand your campaign with a unique cover photo.",size:"1400 x 460 pixels"}}},e.block.sectionOpen=null,SC.campaign&&SC.campaign.campaignTemplateData&&(n=n.getBlockByType("fundraiser"),e.bgLock=n.item_attributes.background.locked||n.item_attributes.background.image.locked)}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scFundraiserBlockSettings",e)})(),angular.module("classy").constant("fundraisersBlockDemoData",{teams:[{team_lead_id:2483664,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:0,total_fundraisers:1,total_donors:0,total_raised:300,average_donation:0,largest_donation:0,percent_to_goal:0,id:52261,organization_id:20657,name:"Fundraising Team 1",goal:"400.00",created_at:"2016-02-05 12:41:43",postal_code:""},{team_lead_id:2483664,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:0,total_fundraisers:11,total_donors:150,total_raised:100,average_donation:0,largest_donation:0,percent_to_goal:0,id:52262,organization_id:20657,name:"Fundraising Team 2",goal:"710.00",created_at:"2016-02-05 12:47:27",postal_code:""},{team_lead_id:2483664,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:0,total_fundraisers:0,total_donors:0,total_raised:56,average_donation:0,largest_donation:0,percent_to_goal:0,id:52263,organization_id:20657,name:"Fundraising Team 3",goal:"150.00",created_at:"2016-02-05 13:37:30",postal_code:""},{team_lead_id:2483664,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:0,total_fundraisers:1,total_donors:0,total_raised:54,average_donation:0,largest_donation:0,percent_to_goal:0,id:52264,organization_id:20657,name:"Fundraising Team 4",goal:"110.00",created_at:"2016-02-05 13:37:32",postal_code:""},{team_lead_id:1403661,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:0,total_fundraisers:0,total_donors:0,total_raised:4,average_donation:0,largest_donation:0,percent_to_goal:0,id:52266,organization_id:34,name:"Fundraising Team 5",goal:"10.00",created_at:"2016-02-05 13:37:32",postal_code:""}],fundraisers:[{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:990,average_donation:0,largest_donation:0,percent_to_goal:0,id:468146,member_id:1403661,organization_id:20688,designation_id:null,title:"Fundraising Page 1",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 1"},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:90,total_raised:500,average_donation:0,largest_donation:0,percent_to_goal:0,id:468147,member_id:2483805,organization_id:20688,designation_id:null,title:"Fundraising Page 2",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 2"},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:400,average_donation:0,largest_donation:0,percent_to_goal:0,id:468148,member_id:2483805,organization_id:20688,designation_id:null,title:"Fundraising Page 3",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 3"},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:300,average_donation:0,largest_donation:0,percent_to_goal:0,id:468149,member_id:2483805,organization_id:20688,designation_id:null,title:"Fundraising Page 4",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 4"},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:10,average_donation:0,largest_donation:0,percent_to_goal:0,id:468150,member_id:2483805,organization_id:20688,designation_id:null,title:"Fundraising Page 5",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 5"}],leaders:[{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:990,average_donation:0,largest_donation:0,percent_to_goal:0,id:468146,member_id:1403661,organization_id:20688,designation_id:null,thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 1",order:1,title:"Top Fundraiser",type:"fundraiser",measure:"$",metric:"raised"},{order:2,title:"Most Donors",type:"fundraiser",measure:"",metric:"donors",status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:90,total_raised:500,average_donation:0,largest_donation:0,percent_to_goal:0,id:468147,member_id:2483805,organization_id:20688,designation_id:null,thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Fundraising Page 2"},{order:3,title:"Top Team",type:"team",measure:"$",metric:"raised",team_lead_id:2483664,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:10,total_fundraisers:1,total_donors:0,total_raised:300,average_donation:0,largest_donation:0,percent_to_goal:0,id:52261,organization_id:20657,name:"Fundraising Team 1",goal:"400.00",created_at:"2016-02-05 12:41:43",postal_code:""},{order:4,title:"Most Members",type:"team",measure:"",metric:"members",team_lead_id:2483664,status:"active",city:"",state:"",country:"",campaign_id:54562,total_donations:0,total_fundraisers:11,total_donors:150,total_raised:100,average_donation:0,largest_donation:0,percent_to_goal:0,id:52262,organization_id:20657,name:"Fundraising Team 2",goal:"710.00",created_at:"2016-02-05 12:47:27",postal_code:""}]}),(()=>{function e(o,r,s,l,c,e,d,u,m,g,p,f,h,v,b){return e({link:function(t,e){o.enabled(e,!1),t.froalaOptionsPreview=c({type:"edit-inline"},{scImgAssetFroalaUpload:!0,charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Fundraising Leaderboard Headline"}),t.isRwf=function(){return d.active.isType("reg_w_fund")},t.registrationSwitch=function(e){var n;e&&"click"!==e.type&&!v.isValidKeyBoardEvent(e)||(n=_.get(e,"currentTarget",null),b.checkOrganizationRestrictions(function(){return m(n)}))},t.isMobile=g.isMobile;var a=d.active.current;t.campaignId=a.id,t.leaders=[],t.fundraisers=[],t.teams=[],t.fundHalf=0,t.teamHalf=0,t.fetchNum="5",t.campaignInactive=d.active.isInactive(),angular.isDefined(t.block.headline)||(t.block.headline="reg_w_fund"==a.type?"<span>Register Today</span>":"<span>Start Fundraising</span>");-1<t.block.headline.toString().indexOf("Start Fundraising")&&"reg_w_fund"==a.type&&(t.block.headline=t.block.headline.toString().replace("Start Fundraising","Register Today")),t.show={individuals:function(){return t.block.showIndividuals},individualsOnly:function(){return t.show.individuals()&&!t.show.teams()},teams:function(){return t.block.showTeams},teamsOnly:function(){return t.show.teams()&&!t.show.individuals()},noSupporters:function(){return!t.teams.length&&!t.fundraisers.length},topPerformers:function(){return t.block.showLeaderboard&&t.leaders.length}},t.frSubset=function(){return t.show.individualsOnly()?Math.min(5,Math.ceil(t.fundraisers.length/2)):Math.min(5,t.fundraisers.length)},t.tmSubset=function(){return t.show.teamsOnly()?Math.min(5,Math.ceil(t.teams.length/2)):Math.min(5,t.teams.length)};var n,i={with:"member,primary_captain",filter:"status=active"};t.searchOptionsLoaded=!1,t.search={configuration:{"Fundraising Page":{service:"scFundraisingPageSearchModel",fields:["alias"],queryParams:i},Fundraiser:{service:"scFundraisingPageSearchModel",fields:["member.first_name","member.last_name"],queryParams:i}},subtitle:function(){var e=t.show.individuals()?"fundraiser ":"",n=t.show.teams()?"team ":"";return"Search for a "+e+(e&&n?"or ":"")+n+(t.show.teams()||t.show.individuals()||!t.block.showLeaderboard?"":"fundraiser ")+"to support"},go:function(e,n){switch(n){case"fundraising-teams":return r.go("frs.team.index",{fundraisingTeamId:e.id}),!1;case"fundraising-pages":return r.go("frs.fundraiser.index",{fundraisingPageId:e.id}),!1;default:return!1}}},t.joinButtonStyle=function(){var e;return t.campaignInactive?{}:(e={"background-color":t.block.joinButtonColor||t.theme.styles.primaryColor},_.merge(e,t.block.joinButtonStyle),e)},(t.show.individualsOnly()||t.show.teamsOnly())&&(t.fetchNum="10"),t.fundraiseSwitchFlow=function(e){e&&!v.isValidKeyBoardEvent(e)||b.checkOrganizationRestrictions(u.fundraiseSwitch)},t.generateLeadersList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t.generateTopPage(e),t.generateTopTeam(e),t.generateMostDonorsPage(e),t.generateMostMembersTeam(e)},t.generateTopPage=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={order:1,title:"Top Fundraiser",type:"fundraiser",measure:"$",metric:"raised",placeholder:!0};e.topPage&&Object.assign(n,e.topPage,{placeholder:!1}),t.leaders.push(n)},t.generateTopTeam=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={order:3,title:"Top Team",type:"team",measure:"$",metric:"raised",placeholder:!0};e.topTeam&&Object.assign(n,e.topTeam,{placeholder:!1}),t.leaders.push(n)},t.generateMostDonorsPage=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={order:2,title:"Most Donors",type:"fundraiser",measure:"",metric:"donors",placeholder:!0};e.pageMostDonations&&Object.assign(n,e.pageMostDonations,{placeholder:!1}),t.leaders.push(n)},t.generateMostMembersTeam=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={order:4,title:"Most Members",type:"team",measure:"",metric:"members",placeholder:!0};e.teamMostMembers&&Object.assign(n,e.teamMostMembers,{placeholder:!1}),t.leaders.push(n)},t.setDemoData=function(){var n=p.getEntityCurrency(a);t.leaders=f.leaders,t.teams=f.teams.map(function(e){return Object.assign({},e,{raw_currency_code:n})}),t.teamHalf=Math.ceil(t.teams.length/2),t.fundraisers=f.fundraisers.map(function(e){return Object.assign({},e,{raw_currency_code:n})}),t.fundHalf=Math.ceil(t.fundraisers.length/2)},t.getTopFundraisers=function(){var e;return t.show.individuals()?(e=t.show.individualsOnly()?10:5,e="\n          query {\n            fundraisingPageSearchPublic(\n              filter: {\n                campaign_id: { eq: "+t.campaignId+" },\n                goal_normalized: { gt: 0 },\n                status: { ne: deleted }\n              },\n              sort: { field: progress_bar_amount, order: DESC },\n              count: "+e+"\n            ) {\n              results {\n                id\n                name\n                fundraising_team_id\n                campaign_id\n                organization_id\n                total_raised\n                goal_raw\n                fundraiser_profile_image\n                percent_to_goal\n                currency_code\n                normalized_currency_code\n                goal_normalized\n              }\n            }\n          }\n        ",h.query({query:e}).then(function(e){e=e.data;t.fundraisers=_.get(e,"data.fundraisingPageSearchPublic.results",[]),t.fundraisers.forEach(function(e){e.raw_currency_code=e.currency_code,e.goal=e.goal_normalized})}).catch(function(){t.fundraisers=[]})):l.resolve()},t.getTopTeams=function(){var e;return t.show.teams()?(e=t.show.teamsOnly()?10:5,e="\n          query {\n            fundraisingTeamSearchPublic(\n              filter: {\n                campaign_id: { eq: "+t.campaignId+" },\n                status: { ne: deleted }\n              },\n              sort: { field: progress_bar_amount, order: DESC },\n              count: "+e+"\n            ) {\n              results {\n                id\n                name\n                campaign_id\n                organization_id\n                total_raised\n                goal_raw\n                percent_to_goal\n                pages_count\n                pages_count_active\n                team_profile_image\n                currency_code\n                goal_normalized\n              }\n            }\n          }\n        ",h.query({query:e}).then(function(e){e=e.data;t.teams=_.get(e,"data.fundraisingTeamSearchPublic.results",[]),t.teams.forEach(function(e){e.raw_currency_code=e.currency_code,e.goal=e.goal_normalized}),t.search.configuration["Fundraising Team"]={service:"scFundraisingTeamSearchModel",fields:["name"],queryParams:i},t.search.configuration["Team Captain"]={service:"scFundraisingTeamSearchModel",fields:["primary_captain.first_name","primary_captain.last_name"],queryParams:i}}).catch(function(){t.teams=[]})):l.resolve()},t.demo?t.setDemoData():(e=t.getTopTeams(),n=t.getTopFundraisers(),l.all([e,n]).then(function(){t.searchOptionsLoaded=!0}),s.get("/frs-api/campaigns/"+t.campaignId+"/leaderboard").then(function(e){t.generateLeadersList(e.data)}).catch(function(){}))}})}e.$inject=["$animate","$state","$http","$q","scFroalaOptions","scBlock","scCampaignsService","scSwitchFlowPickerService","registrationEntityFlow","scResponsiveWidth","scCurrencyService","fundraisersBlockDemoData","classyQL","accessibilityService","countryBlockService"],angular.module("classy").directive("scFundraisersBlock",e)})(),angular.module("classy").constant("scFundraisersBlockDefaults",{title:"Fundraising Leaderboard",type:"fundraisers",disable:!1,showTeams:!0,showLeaderboard:!0,showIndividuals:!0,recruitingMode:!1,recruitingCta:"Sign up in support of this campaign!",joinButtonText:"Start Fundraising",supportersHeadline:"<span>Support a Fundraiser</span>",remove:!1}),(()=>{function e(e){return{scope:!0,templateUrl:"global/objects/scBlock/types/fundraisers/settings",controller:["$scope",function(n){n.froalaOptionsHeader=e({type:"bare-headline"}),n.froalaOptions=e({type:"bare-paragraph"}),n.headerOptions=e({type:"inline-header"},{ariaLabel:"Headline"}),n.showHeadline=!n.block.hideHeadline,n.$watch("showHeadline",function(e){n.block.hideHeadline=!e})}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scFundraisersBlockSettings",e)})(),angular.module("classy").constant("scGlobalCssBlockDefaults",{title:"Global Css",type:"global-css",mobileTemplates:!1,remove:!0}),(()=>{function e(n,t,a,i){return{scope:!0,templateUrl:"global/objects/scBlock/types/global-css/settings",controller:["$scope",function(e){e.cssEditorOptions={useWrapMode:!0,theme:"monokai",mode:"css"},e.theme=n.active.current,e.scQaId=t,e.disableGlobalCssBlock=!1,e.disableGlobalSassBlock=!1,SC.campaign&&SC.campaign.campaignTemplateData&&(e.disableGlobalCssBlock=i.getAddContentToPageBlock(a.blockId),e.disableGlobalSassBlock=_.get(SC.campaign.campaignTemplateData,"components.theme.component_items[0].item_attributes.styles.css.locked",!1))}],link:function(){}}}e.$inject=["scThemesService","scQaId","$stateParams","scCampaignsTemplateService"],angular.module("classy").directive("scGlobalCssBlockSettings",e)})(),(()=>{function e(i,o,r,s,l,e,c,d,n,u,m,g,p,f,h){return n({link:function(t){var n=e.BASE_ROUTE,a=e.RECEIPT_ROUTE;t.campaign=u.active,t.theme=f.active,t.mobileMenuIsOpen=!1,t.showLoginShare=function(){var e=h.$$path.split("/");return!(["donation"].includes(e[1])||["select-tickets"].includes(e[6]))},t.showMobileMenuIcon=function(){var e=h.$$path.split("/");return"donation"!==e[1]&&("event"!==e[1]||"register"!==e[4])},t.getLogoLinkLabel=function(){var e=t.block.logoLink||"event",n=t.campaign.current.name||"campaign";return"custom"===e?"Go to "+t.block.logoLinkCustom:"Go to the "+n+" "+e+" page"},t.goToLink=function(){-1<i.current.name.indexOf(n)&&l.setLastState(),o.location.href="custom"==t.block.logoLink?(()=>{var e=t.block.logoLinkCustom;return e=/^(f|ht)tps?:\/\//i.test(e)?e:"http://"+e})():t.headerLink(t.block.logoLink)},t.headerRedirect=function(e){t.scrollToElement("sc-target-logo",e),t.editable||(-1<i.current.name.indexOf(n)&&!i.is(a)&&!m.active.isReserved?l.confirmExit(function(){return t.goToLink()}):t.goToLink())},t.headerLink=function(e){var n;if(t.public)return"donation"===e&&(t.headerTarget="_self"),n="donation"==t.campaign.current.type?"donation":"landing",e=e||n,(n=g.getLandingPageRedirect())?(t.headerTarget="_self",n):(n={pageType:e,campaignId:t.campaign.current.id,campaignName:t.campaign.current.name,status:t.campaign.current.status},g.getUrl(n).url)},t.searchLink=g.getUrl({pageType:"search",campaignId:t.campaign.current.id}).url,t.showSearchIcon=u.active.HAS_FUNDRAISING,t.target=-1<i.current.name.indexOf("frs.landing.name.campaign.registration")?"_blank":"_self",t.cartItems=function(){return _.get(m,"active.quantity",0)},t.goToCheckout=function(e){var n,e=_.get(e,"currentTarget",null);i.includes("frs.landing.name.campaign.registration")?(n=void 0,n=Modernizr.prefixed("matchMedia",window)?window.matchMedia("(max-width: 1023px)").matches:angular.element(o).width()<=1023,t.cart=m.active,n&&p.open({id:"rwf_mobile_cart",context:t,template:'\n                <mobile-cart-modal\n                cart="cart">\n                </mobile-cart-modal>\n              '})):m.active.isReserved?i.includes("frs.donation")?(n=g.getCheckoutRedirect(),o.location.href=n):l.goToLastState():s(e)},t.scAuth=c,t.loggedIn=!!d.active.current.id,t.login=function(){c.loginOnly({callback:o.location.href})},t.$watch(function(){return _.get(d,"active.current.id")},function(e,n){e!==n&&(t.loggedIn=!!e)}),"sso_reset_password_link"===h.search().source&&c.resetPasswordByLink(),t.openMobileMenu=function(e){r.open(e),t.mobileMenuIsOpen=!0},t.$watch(function(){return _.get(r,"active")},function(e,n){e!==n&&(t.mobileMenuIsOpen=e)})}})}e.$inject=["$state","$window","mobileMenuAPI","registrationEntityFlow","registrationNavigator","registrationRoutes","scAuth","scMembersService","scBlock","scCampaignsService","scCartService","scPagesService","scFlowModalService","scThemesService","$location"],angular.module("classy").directive("scHeaderBlock",e)})(),angular.module("classy").constant("scHeaderBlockDefaults",{title:"Header",type:"header",textColor:"rgb(44, 52, 59)",logo:null,background:{color:"rgb(255,255,255)",image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"tile"},remove:!1,unsortable:!0}),(()=>{function e(a,i){return{scope:!0,templateUrl:"global/objects/scBlock/types/header/settings",link:function(e){var n=a.active,t="donation"==e.campaign.current.type?"donation":"landing",t=(e.block.logoLink=e.block.logoLink||t,e.lockLogoLink=!1,i.getBlockByType("header"));t&&(e.lockLogoLink=t.item_attributes.logoLink&&t.item_attributes.logoLink.locked),SC.campaign&&SC.campaign.campaignTemplateData&&(e.headerLogoLock=_.get(SC.campaign.campaignTemplateData,"components.theme.component_items[0].item_attributes.styles.headerLogo.locked",!1)),e.logoLinkOptions=[{label:"To Donation Page",url:"donation"},{label:"Custom URL",url:"custom"}],"donation"!=n.current.type&&e.logoLinkOptions.unshift({label:"To Landing Page",url:"landing"}),e.logoMediaManagerOptions={title:"Select a header logo",image:{guide:{title:"Header logo",message:"This image is used to identify your event in the admin area and in search results.",size:"300 x 50",format:"JPG, PNG, GIF"}}},e.themeMediaManagerOptions={title:"Select a Logo",image:{guide:{title:"Logo",message:""}}},e.backgroundImageMediaManagerOptions={title:"Select an optional Background Image",image:{guide:{title:"Header Background Image",message:"Customize your header with a unique background image.",size:"1350 x 115 pixels"}}}}}}e.$inject=["scCampaignsService","scCampaignsTemplateService"],angular.module("classy").directive("scHeaderBlockSettings",e)})(),(()=>{function e(e,n,t,a){return e({link:function(e){e.public=e.$parent.public,e.scQaId=a,e.froalaOptionsPreview=n({type:"edit-inline"}),e.donationUrl=t.getUrl({pageType:"donation",includeBase:!0}).url}})}e.$inject=["scBlock","scFroalaOptions","scPagesService","scQaId"],angular.module("classy").directive("scHtmlBlock",e)})(),angular.module("classy").constant("scHtmlBlockDefaults",{title:"Html",type:"html",mobileTemplates:!1,content:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et nibh elit. Nunc non sagittis tortor. Quisque cursus posuere velit, non pharetra risus mattis non. Mauris sit amet tortor vitae lorem ullamcorper hendrerit. Cras venenatis, felis ac scelerisque pulvinar, dolor dolor elementum tellus, eget congue sem mauris pharetra purus. Integer cursus viverra ante dictum dictum. Morbi sollicitudin massa sapien, vulputate egestas nisl aliquam eu. Quisque aliquet iaculis molestie. Suspendisse sed aliquet tellus, id porttitor nisl.</p><p>Interdum et malesuada fames ac ante ipsum primis in faucibus. Curabitur vitae neque gravida, porta arcu vel, iaculis quam. Integer a nisl id massa efficitur interdum ac et ipsum. Praesent et scelerisque orci. Sed in egestas neque. Maecenas dui metus, posuere in tempor ac, tempus et urna. Suspendisse porta, turpis eu cursus ullamcorper, dui nulla iaculis massa, eget sodales nisl ligula nec dui.</p>",remove:!0}),(()=>{function e(a,i,o,r){return{scope:!0,templateUrl:"global/objects/scBlock/types/html/settings",controller:["$scope",function(e){var n,t;e.htmlEditorOptions={useWrapMode:!0,theme:"monokai",mode:"html"},e.cssEditorOptions={useWrapMode:!0,theme:"monokai",mode:"css"},e.page=i.active.current.pages[a.step],e.scQaId=o,e.disableCustomHtmlBlock=!1,e.disableCSSBlock=!1,SC.campaign&&SC.campaign.campaignTemplateData&&(e.disableHtmlBlock=r.getAddContentToPageBlock(a.blockId),"html"===e.block.type)&&(t=null,n=r.getBlockComponent(a.blockId),t=r.getActiveBlock(n),e.disableCustomHtmlBlock=_.get(t,"item_attributes.content.locked",!1),e.disableCSSBlock=_.get(SC.campaign.campaignTemplateData,"components.theme.component_items[0].item_attributes.styles.pages.landing.css.locked",!1))}],link:function(){}}}e.$inject=["$stateParams","scThemesService","scQaId","scCampaignsTemplateService"],angular.module("classy").directive("scHtmlBlockSettings",e)})(),(()=>{function e(i,e,n,o,t,r,s,l){var c=t.getLocks({impact:{headlineColor:{locked:!1}}});return n({link:function(t){t.headlineColor=c.impact.headlineColor,t.froalaOptionsPreview=e({type:"edit-inline"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Impact Headline",toolbarButtons:["bold","italic","underline","align","fontFamily","fontSize",t.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsMD:["bold","italic","underline","align","fontFamily","fontSize",t.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsSM:["bold","italic","underline","align","fontFamily","fontSize",t.headlineColor.locked?void 0:"color","paragraphStyle"],toolbarButtonsXS:["bold","italic","underline","align","fontFamily","fontSize",t.headlineColor.locked?void 0:"color","paragraphStyle"]});var a=o.active.current.type;t.public=t.$parent.public,t.hasFundraising=o.active.HAS_FUNDRAISING,t.handleImpactLink=function(e){l.checkOrganizationRestrictions(function(){return t.impactLink(e)})},t.impactLink=function(e){var n=t.demo?"&preview=true":"";s.eventBeacon({category:"frs "+a,action:"click",label:"Fundraise CTA"}),"fundraise"===t.block.impactType?r.fundraiseSwitch({goal:e.amount}):i.location="/give/"+t.campaign.id+"?amount="+e.amount+n+"#!/donation/checkout"}}})}e.$inject=["$window","scFroalaOptions","scBlock","scCampaignsService","scCampaignsTemplateService","scSwitchFlowPickerService","scAnalytics","countryBlockService"],angular.module("classy").directive("scImpactBlock",e)})(),angular.module("classy").constant("scImpactBlockDefaults",{title:"Impact",type:"impact",disable:!1,headline:"How To Help",hideHeadline:!1,headlineColor:"rgb(44,52,59)",textColor:"rgb(44,52,59)",remove:!1,background:{color:"rgb(248,248,248)",image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"}}),(()=>{function e(e,t){return{scope:!0,templateUrl:"global/objects/scBlock/types/impact/settings",controller:["$scope",function(n){n.locks=t.getItemLocks("impact"),n.froalaOptions=e({type:"bare-headline"}),n.headerOptions=e({type:"inline-header"},{ariaLabel:"Headline"}),n.showHeadline=!n.block.hideHeadline,n.$watch("showHeadline",function(e){n.block.hideHeadline=!e})}],link:function(e){e.bgMediaManagerOptions={title:"Select an Impact Background",image:{guide:{title:"Impact Background",message:"You're not tied to a color. Add a background image.",size:"1280 x 720 pixels"}}}}}}e.$inject=["scFroalaOptions","scCampaignsTemplateService"],angular.module("classy").directive("scImpactBlockSettings",e)})(),(()=>{function e(e,n,o){return e({link:function(t){var a="Uncertain";function i(){return _.get(t.block.map,"customMarker.lat")&&_.get(t.block.map,"customMarker.lng")?encodeURI(t.block.map.customMarker.lat+", "+t.block.map.customMarker.lng):a}function e(){var e,n=i();!function(e){e="https://www.google.com/maps/embed/v1/place?key="+SC.gapi+"&q="+((0<arguments.length&&void 0!==e?e:"")||i())+"&zoom="+_.get(t.block,"map.zoomLevel",12),t.googleMapsEmbedUrl=o.trustAsResourceUrl(e)}(n=n===a&&",,"!==(e=((e=t.campaign).address1||"")+", "+(e.city||"")+", "+(e.state||"")+" "+(e.postal_code||"")).replace(/\s/g,"")?encodeURI(e):n)}e(),t.block.headline===n.headline&&t.campaign.venue&&(t.block.headline=t.campaign.venue),t.getOverlay=function(){return{"background-color":t.block.overlay.color||t.theme.styles.primaryColor,opacity:null!=t.block.overlay.opacity?t.block.overlay.opacity/100:.12,"pointer-events":t.editable?"auto":"none"}},t.$watchGroup(["block.map.customMarker.lat","block.map.customMarker.lng","block.map.zoomLevel"],function(){e()})}})}e.$inject=["scBlock","scLocationBlockDefaults","$sce"],angular.module("classy").directive("scLocationBlock",e)})(),angular.module("classy").factory("scLocationBlockDefaults",function(){return{title:"Location",type:"location",headline:"Name of Venue Would go Here",showHeadline:!0,venueAddress:"",showVenueAddress:!0,disable:!1,remove:!1,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},map:{display:"map",link:null,zoomLevel:12,customMarker:{lat:null,lng:null}},overlay:{color:null,opacity:12},content:"Include a quick description or directions about the venue here.",showContent:!0}}),(()=>{function e(n){return{scope:!0,templateUrl:"global/objects/scBlock/types/location/settings",controller:["$scope",function(e){e.contentOptions=n({type:"inline-with-video"},{ariaLabel:"Description"}),e.block.map.customMarker||(e.block.map.customMarker={lat:null,lng:null})}],link:function(e){e.bgImgUploadOptions={hideActionButtons:!0,description:"For best quality, use a 1280 x 720 image"}}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scLocationBlockSettings",e)})(),(()=>{function e(n,a,i,o,e,r,s,l,c,d,u,m){return e({link:function(t){var e=r.active.current;t.theme=s.active,t.handleRegistrationSwitch=function(e){m.checkOrganizationRestrictions(function(){return t.registrationSwitch(e)})},t.registrationSwitch=function(e){e&&"click"!==e.type&&!u.isValidKeyBoardEvent(e)||(e=_.get(e,"currentTarget",null),r.active.IS_TICKETED&&_.get(i,"active.isReserved",!1)?c.goToLastState():a(e))},t.froalaOptionsPreview=o({type:"edit-inline"},{scImgAssetFroalaUpload:!0,charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Progress Circle Headline"}),t.froalaOptionsContent=o({type:"edit-inline-about"},{scImgAssetFroalaUpload:!0,ariaLabel:"Progress Circle Sub Heading"}),t.froalaOptionsColors=o({type:"inline-just-colors"},{ariaLabel:"Progress Circle Register Button"}),t.donateNowFroalaOptionsColors=o({type:"inline-just-colors"},{ariaLabel:"Progress Circle Donate Now button"}),t.progressData=d.getCampaignProgress(e),0!=t.$parent.public||t.progressData.percentToGoal||(t.progressData=d.getCampaignProgress({goal:e.goal,overview:{percent_to_goal:70}})),t.shortenedGrossAmount="$"+n("friendlyShortNumber")(t.progressData.totalRaised),t.amountRaisedAsPercent=Math.round(100*t.progressData.percentToGoal)+"%",t.regBtnStyle=function(){var e=t.block.registerButtonStyle;return e["background-color"]=t.block.registerButtonColor||t.theme.styles.primaryColor,e},t.donateButtonUnshadedStyle=function(){var e={},n=(_.merge(e,t.block.donateButtonStyle),t.block.donateButtonColor||t.theme.current.styles.primaryColor);return t.block.donateButtonStyle.color=n,l(e,n)},t.donateButtonShadedStyle=function(){var e={};return _.merge(e,t.block.donateButtonStyle),l(e,t.block.donateButtonColor||n("shadeBlendColor")(.1,t.theme.current.styles.primaryColor))},t.rwfCampaignInactive=r.active.isInactive(),t.allowFundraisingPages=r.active.current.allow_fundraising_pages,t.registerButtonStyle=function(){var e,n;return t.rwfCampaignInactive?{}:(e={},_.merge(e,t.block.registerButtonStyle),n=t.block.registerButtonColor||t.theme.current.styles.primaryColor,t.block.registerButtonStyle.color=n,l(e,n))},t.progressCircleColor=function(){return t.block.progressBarColor||t.theme.current.styles.primaryColor}}})}e.$inject=["$filter","registrationEntityFlow","scCartService","scFroalaOptions","scBlock","scCampaignsService","scThemesService","scButtonStyleUpdate","registrationNavigator","scProgressDataFactory","accessibilityService","countryBlockService"],angular.module("classy").directive("scProgressCircleBlock",e)})(),angular.module("classy").constant("scProgressCircleBlockDefaults",{title:"Progress Circle",type:"progress-circle",disable:!1,headline:"We're fundraising for the cause to make a difference!",subheadline:"You can help fundraise for the cause once you register. Or just make a donation.",hideHeadline:!1,hideSubheadline:!1,headlineColor:"rgb(26,26,26)",progressBarColor:null,progressBarBackgroundColor:"rgba(0, 0, 0, 0.08)",hideGoal:!1,displayProgress:"dollars",displayRegisterButton:!0,displayDonateButton:!0,background:{color:"rgba(248, 248, 248, 1)",image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},showButtons:!0,registerButtonStyle:{preset:"rounded","border-radius":"4px",color:null},registerButtonColor:null,registerButtonText:"Register",donateButtonStyle:{preset:"rounded","border-radius":"4px",color:null},donateButtonColor:null,donateButtonText:"Donate",mobileTemplates:!1,remove:!1}),(()=>{function e(t,a,i,o){return{scope:!0,templateUrl:"global/objects/scBlock/types/progress-circle/settings",controller:["$scope",function(e){e.campaign=a.active.current,e.lockDisplayProgress=!1;var n=i.getBlockByType("progress-circle");n&&(e.lockDisplayProgress=n.item_attributes.displayProgress&&n.item_attributes.displayProgress.locked),e.headerOptions=t({type:"inline-header"},{ariaLabel:"Headline"}),e.subHeaderOptions=t({type:"inline-header"},{ariaLabel:"Sub Heading"}),e.progressDisplays={percentage:{label:"Percentage"},dollars:{label:"Dollars"}},e.scQaId=o}],link:function(){}}}e.$inject=["scFroalaOptions","scCampaignsService","scCampaignsTemplateService","scQaId"],angular.module("classy").directive("scProgressCircleBlockSettings",e)})(),(()=>{function e(t,e,a,i,o,r,s,l,c){return e({link:function(n){n.registrations=_(a.active.current.ticketTypes).filter(function(e){return moment(e.ended_at)>moment()&&moment(e.started_at)<=moment()}).filter(function(e){return null===e.quantity_available||0<e.quantity_available-(e.quantity_reserved+e.quantity_sold)}).sortBy(["weight","started_at"]).value(),n.handleRegistrationSwitch=function(e){c.checkOrganizationRestrictions(function(){return n.registrationSwitch(e)})},n.registrationSwitch=function(e){e&&"click"!==e.type&&!l.isValidKeyBoardEvent(e)||(e=_.get(e,"currentTarget",null),n.editable?n.scrollToElement("sc-target-reg-button"):a.active.IS_TICKETED&&_.get(i,"active.isReserved",!1)?s.goToLastState():t(e))},n.froalaOptions={headline:o({type:"edit-inline-about-title"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter",ariaLabel:"Registration Heading"}),subheader:{}}},controller:["$scope",function(t){t.rwfCampaignInactive=a.active.isInactive(),t.displayRegisterBtn="ticketed"===a.active.current.type||a.active.current.allow_fundraising_pages,t.regBtnStyle=function(){var e,n;return t.rwfCampaignInactive?{}:(e={},_.merge(e,t.block.registerButtonStyle),n=t.block.registerButtonColor||t.theme.styles.primaryColor,e.color=n,r(e,n))}}]})}e.$inject=["registrationEntityFlow","scBlock","scCampaignsService","scCartService","scFroalaOptions","scButtonStyleUpdate","registrationNavigator","accessibilityService","countryBlockService"],angular.module("classy").directive("scRegistrationBlock",e)})(),angular.module("classy").constant("scRegistrationBlockDefaults",{title:"Registration",type:"registration",disable:!1,headline:"Registration Info",showHeadline:!0,subheading:"All attendees will be given the opportunity to fundraise",showSubheading:!0,headlineColor:"rgb(0,0,0)",registerButtonText:"Register",showRegistrationTitle:!0,showRegistrationPrice:!0,showRegistrationDetails:!0,background:{color:"rgb(248, 248, 248)",image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},registerButtonStyle:{preset:"rounded","border-radius":"4px",color:null},registerButtonColor:null,mobileTemplates:!1,remove:!1}),(()=>{function e(n){return{scope:!0,templateUrl:"global/objects/scBlock/types/registration/settings",link:function(e){e.bgImgUploadOptions={hideActionButtons:!0,description:"For best quality, use a 1280 x 720 image"},e.froalaOptionsTitle=n({type:"edit-inline-about-title"},{charCounterCount:!0,charCounterMax:180,editorClass:"no-counter"})},controller:["$scope",function(e){e.froalaHeadline=n({type:"bare-headline-max-length"},{editorClass:"advanced-designer",ariaLabel:"Heading"})}]}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scRegistrationBlockSettings",e)})(),(()=>{function e(t,a,i,r,s,l,c,d,u,m,g,p,f,h,v,b,e,y,k,w,C,S,T,o,E,x,D,A,M){return e({responsiveSettings:{tablet:"tablet"},controller:["$scope",function(e){var n=_.get(e.theme,"styles.primaryColor","white");_.isNull(e.block.donateButtonColor)&&(e.block.donateButtonColor=n),_.isNull(e.block.joinButtonColor)&&(e.block.joinButtonColor=n),e.scButtonStyleUpdate=o,e.public=e.$parent.public,e.isDisabled=!e.public,Modernizr.prefixed("matchMedia",window)?e.isMobile=Modernizr.mq("(max-width: 568px)"):e.isMobile=angular.element(d).width()<=568,e.scFundraisingTeamsService=y}],link:function(o){o.manage=function(){l.go("frs.team.dashboardindex.dashboard.overview")},o.updatesPerPage=5,o.loadAdditionalUpdates=function(){o.updatesPerPage+=5},o.canManage=!1,o.$watch(function(){return k.active.current.id},function(){o.team.checkDashboardAccess().then(function(e){o.canManage=e})}),o.isPreview=function(){return l.is("admin.manage.campaign.step.setup")||l.is("admin.manage.campaign.step.design.views.block")},_.isEmpty(o.team)&&o.demo&&(o.team=y.useExample(),o.members=o.team.current.members,o.totalMembers=2);var e=x.getEntityProgress(o.team.current);o.teamPercentToGoal=100*e.percentToGoal,o.teamGoal=e.goal,o.campaignLink=function(){return w.getUrl({pageType:"landing",campaignId:C.active.current.id,campaignName:C.active.current.name,status:C.active.current.status}).url},o.scrollToComments=function(){c(function(){var e=angular.element(".activity_comment-input");e.length&&(e.focus(),$("html, body").animate({scrollTop:e.offset().top},400))})},o.team.current.parent_id&&(n="\n          query {\n            fundraisingTeamSearchPublic(\n              filter: { id: { eq: "+o.team.current.parent_id+"}}\n            ) {\n              results {\n                id\n                campaign_id\n                organization_id\n                name\n                description\n                status\n                created_date\n                team_profile_image\n                team_cover_image\n                currency_code\n                goal_raw\n                goal_normalized\n                total_raised\n                total_raised_raw\n                percent_to_goal\n              }\n            }\n          }\n        ",m.query({query:n}).then(function(e){o.parentTeam=_.get(e,"data.data.fundraisingTeamSearchPublic.results[0]",void 0),o.parentTeamLink="/team/"+o.parentTeam.id,y.add(o.parentTeam)}).catch(function(e){return a.error(e)})),o.confirmJoin=function(e){var n=S.getCurrentMemberPage(),n=_.get(n,"current.id",!1),t=S.fundraisers[n];o.loading=!0,t.joinTeam(e).then(function(){t.current.fundraising_team_id=e,S.add(t.current),o.loading=!1,v.to({templateUrl:"global/flows/join-team/views/success",maxWidth:396,transition:"slideLeft",duration:1e3,context:o}),c(function(){v.close(!0)},3e3),o.team.refreshData(),o.totalMembers+=1})},o.handleJoinTeam=function(e,n){A.checkOrganizationRestrictions(function(){return o.joinTeam(e,n)})},o.joinTeam=function(e,n){var t,a,i;o.demo?r.SC.status.banner={type:"error",msg:'Whoops, this is just a preview of a team page. You can join a team from your <a class="status-banner_link" target="_self" href="/campaign/c'+o.campaign.id+(SC.preview?"?preview=true":"")+'">landing page.</a>'}:(o.displayJoinTeamDropdown=!1,(!n||!o.team.current.team_policy.allow_subteams)&&(!o.team.current.team_policy.allow_subteams||(o.team.current.team_policy.allow_subteams,o.displayJoinTeamDropdown))?(o.displayJoinTeamDropdown=!1,(n=S.getCurrentMemberPage())&&!o.campaign.allow_duplicate_fundraisers?(i=_.get(n,"current.id",!1),t=y.active.current.id,i=S.fundraisers[i],a=_.get(n,"current.fundraising_team_id",!1),o.currentTeam=_.get(y,"teams["+a+"].current",{}),o.newTeam=y.active.current,o.fundraisingPage=i?i.current:null,a!==t&&(o.teamName=y.active.current.name,o.teamPurpose=y.active.current.description,o.teamId=y.active.current.id,o.ui={primaryColor:_.get(T,"active.current.styles.primaryColor","#36bff7")},v.open({templateUrl:"global/flows/join-team/views/join-team",maxWidth:396,transition:"slideLeft",duration:1e3,context:o}))):"reg_w_fund"!==o.campaign.type?f({teamId:e.current.id}):"reg_w_fund"===o.campaign.type&&n?(o.fundraisingPagesList=_.values(S.userFundraisers),o.flow={views:[],template:function(e){return"global/flows/create-fundraising-page/views/"+e+"/template"},to:function(e,n){v.to(e,n)}},o.options={teamId:y.active.current.id},o.flow.views.push(new g(o)),o.flow.views.push(new p(o)),v.register("multiplePagesFlow",o,o.flow.views),v.open("multiplePagesFlow",{closeOnClickOut:!1,animate:!0})):"reg_w_fund"===o.campaign.type&&(f({teamId:e.current.id}),i={team_id:e.current.id,team_name:e.current.name,team_answers:null,campaignId:o.campaign.id,eventName:u("scSlugify")(o.campaign.name).toLowerCase()},l.go("frs.landing.name.campaign.registration.new.tickets",i))):o.displayJoinTeamDropdown=!o.displayJoinTeamDropdown)},o.createSubteam=function(){o.team.current.team_policy.allow_subteams&&h({parentId:o.team.current.id})},o.donateLink=function(){if(o.public)return o.SC.preview||o.demo?"/give/"+o.campaign.id+"/"+(SC.preview?"?preview=true":"")+"#!/donation/checkout":"/give/t"+o.team.current.id+"/#!/donation/checkout"},E.getSocialData().then(function(e){o.twitterShareUrl=e.twitter_link,o.emailUrl=e.email_link,o.fbShare=e.facebook_share,E.getInstagramLink().then(function(e){o.instagramUrl=e.instagram_link})}),o.froalaOptionsPreview=b({type:"edit-inline"}),o.logoSrc=function(){return y.getTeamPhoto(o.team.current)},o.posts={data:[],total:0,ui:{deferred:i.defer(),loading:!0,active:null,mode:l.is("frs.team.index.post")?"post":"list"},fetch:function(){o.team&&o.team.getPosts().then(function(e){var t;e&&((t=e.data).data.forEach(function(e,n){e.rank=t.total-(t.from+n)+1,e.latest=t.rank===t.total}),o.posts.data=t.data,o.posts.total=t.total,o.posts.ui.active=l.is("frs.team.index.post")?o.posts.getById(l.params.postId):null,o.campaign.default_team_post_title=o.campaign.default_team_post_title||_.get(o.posts,"data[0].title",null),o.campaign.default_team_post_body=o.campaign.default_team_post_body||_.get(o.posts,"data[0].body",null),o.posts.ui.deferred.resolve())},function(){o.posts.ui.deferred.reject()}).finally(function(){o.posts.ui.loading=!1})},getById:function(n){return o.posts.data.find(function(e){return e.id.toString()===n.toString()})||!1},toPost:function(e){o.posts.ui.mode="post",o.posts.ui.active=e},toList:function(){o.posts.ui.mode="list",o.posts.ui.active=null}},o.stories={data:[],total:0,ui:{deferred:i.defer(),loading:!0,active:null,mode:l.is("frs.fundraiser.index.post")?"post":"list"},fetch:function(){o.team&&o.team.getStory().then(function(e){e&&(e=e.data,o.stories.data=e.data[0],o.stories.total=e.total,o.stories.ui.active=l.is("frs.fundraiser.index.post")?o.stories.getById(l.params.storyId):null,o.stories.ui.deferred.resolve())},function(){o.stories.ui.deferred.reject()}).finally(function(){o.stories.ui.loading=!1})},getById:function(e){var n=o.stories.data[0];return n.id.toString()===e.toString()&&n}},o.$watch("posts.ui.mode",function(e,n){if(e!==n&&l.includes("frs.team.index")&&!o.demo)switch(e){case"list":l.go("frs.team.index");break;case"post":l.go("frs.team.index.post",{postId:o.posts.ui.active.id}),c(function(){angular.element("html, body").animate({scrollTop:angular.element(".post").offset().top},400)})}}),o.topThreeTeams=[],o.posts.fetch(),"frs.team.index.post"!==l.current.name&&o.stories.fetch(),o.team.current.id&&t.get("/frs-api/fundraising-teams/"+o.team.current.id+"/fundraising-pages",{params:{filter:"team_role=primary-captain",with:"member"}}).then(function(e){0<e.data.total?(o.teamCaptain=e.data.data[0],o.captainImage=S.getPagePhoto(o.teamCaptain)):(o.teamCaptain=null,o.captainImage=o.getCaptainImage())}),o.campaignSlug=u("scSlugify")(o.campaign.name),o.team.getSupporterCounts().then(function(e){o.totalMembers=e.fundraiserCount}),o.membersEndpoint="/fundraising-teams/"+o.team.current.id+"/fundraising-pages?aggregates=true",o.membersPerPage=20,o.membersFilter={alias:{}},o.membersSearch={input:""},o.$watch("membersSearch.input",function(e){""!==e?o.membersFilter.alias={operand:"*=",value:e}:o.membersFilter={}},!0),o.sortMembers=function(e){_.isUndefined(e)||!1===o.displaySortOptions?o.displaySortOptions=!0:(o.currentSort=e.text,o.membersSort=e.sort,o.currentFilter=e,o.displaySortOptions=!1)},s.on("click",function(){o.displaySortOptions&&(o.displaySortOptions=!1,o.$apply())}),o.keyPressed=function(e,n){e.keyCode===M.CONSTANTS.ESC_KEY?o.displaySortOptions=!1:e.keyCode!==M.CONSTANTS.ENTER_KEY&&e.keyCode!==M.CONSTANTS.SPACE_KEY||(e.preventDefault(),o.displaySortOptions=!0,n&&o.sortMembers(n))},o.memberFilters=[{text:"Most Raised",sort:{total_raised:"desc"}},{text:"Least Raised",sort:{total_raised:"asc"}},{text:"Recently Active",sort:{updated_at:"desc"}},{text:"Newest Member",sort:{created_at:"desc"}}],o.currentSort=o.memberFilters[0].text,o.sortMembers(o.memberFilters[0]),o.leaders=[],o.demo?(o.team.current.id=1,o.topThreeTeams=D.topThreeTeams,o.leaders=D.leaders):t.get("/frs-api/fundraising-teams/"+o.team.current.id+"/raised-rankings").then(function(e){e=e.data.rankingsList;o.topThreeTeams=e,o.topThreeTeams.forEach(function(e){var n=x.getEntityProgress(e);e.display_total_raised=n.totalRaised})}).catch(function(e){404!==e.status||!l.params.is_new&&0!==o.team.current.total_raised?(o.topThreeTeams=[],o.topThreeTeamsError="Error loading team rankings."):t.get("/frs-api/campaign/"+o.team.current.campaign_id+"/least-raised-teams").then(function(e){e=e.data;o.topThreeTeams=[].concat((e=>{if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)})(e),[Object.assign(o.team.current,{overallRanking:_.get(e,"[1].overallRanking",0)+1})])})}),o.setActiveTab=function(e){o.activeActivityTab=e},o.setActiveUpdatesTab=function(e){o.activeUpdatesTab=e},o.getCaptainImage=function(){return _.get(o,"teamCaptain.member.thumbnail_medium",!1)?o.teamCaptain.member.thumbnail_medium:"/static/global/images/individual_default_image.png"},o.getCaptainName=function(){return o.demo?"Captain Name":_.get(o,"teamCaptain.alias",!1)?o.teamCaptain.alias:"No current captain"},o.captainId=!1,o.team.current.team_lead_id&&t({method:"GET",url:"/frs-api/fundraising-teams/"+o.team.current.id+"/fundraising-pages",params:{filter:"team_role=primary-captain"}}).then(function(e){o.captainId=_.get(e.data,"data[0].id",!1),o.captainId&&(o.captainLink="/fundraiser/"+o.captainId)}),o.activeActivityTab=o.block.showLeaderboard?"leaderboard":"team_members",o.activeUpdatesTab="story",o.enableTeamJoin=function(){var e=S.getCurrentMemberPage(),n=_.get(o,"team.current.team_policy.allow_subteams",!1),e=e&&e.current.fundraising_team_id===o.team.current.id,t=k.active.current,a=S.fundraisers;return o.hasFrPage=_.findKey(a,function(e){return e.current.member_id==t.id}),(n||!e||o.campaign.allow_duplicate_fundraisers)&&(o.campaign.allow_fundraising_pages||o.hasFrPage)&&"prohibited"!==o.campaign.team_membership_policy},o.getButtonStyle=function(){var e=o.campaign.allow_fundraising_pages||o.enableTeamJoin()?o.theme.styles.primaryColor:"lightgray";return{color:e,"border-color":e}},o.enableIndividualJoin=function(){var e=S.getCurrentMemberPage(),n=o.team.current.team_policy.allow_subteams,e=e&&e.current.fundraising_team_id===o.team.current.id;return!(n&&e&&!o.campaign.allow_duplicate_fundraisers)};var n=_.get(o,"team.current.raw_currency_code",!1);o.team.current.display_total_raised=e.totalRaised,!o.isPreview()&&n?(_.isUndefined(o.team.current.total_raised)&&(o.team.current.total_raised=0),o.currency=n):o.currency=C.active.current.raw_currency_code,o.toggleMembersPerPage=function(){o.membersPerPage=20==o.membersPerPage?40:20},d.deleteTeam=function(){window.confirm("No, seriously, this will delete this fundraising team. Are you cool with that?")&&t({method:"DELETE",url:"/frs-api/fundraising-teams/"+o.team.current.id}).then(function(){l.go("frs.landing.name.campaign",{campaignId:o.team.current.campaign_id,eventType:"campaign"})}).catch(function(e){a.error(e)})},o.isPreviewHeading=function(){return l.is("admin.manage.campaign.step.setup")||l.is("admin.manage.campaign.step.design.views.content-blocks")||l.is("admin.manage.campaign.step.design.views.block")}}})}e.$inject=["$http","$log","$q","$rootScope","$document","$state","$timeout","$window","$filter","classyQL","CFPMultiplePagesView","CFPJoinTeamView","createFundraisingPageFlow","createFundraisingTeamFlow","scFlowModalService","scFroalaOptions","scBlock","scFundraisingTeamsService","scMembersService","scPagesService","scCampaignsService","scFundraisingPagesService","scThemesService","scButtonStyleUpdate","scSocialShareLinks","scProgressDataFactory","teamBlockDemoData","countryBlockService","accessibilityService"],angular.module("classy").directive("scTeamBlock",e)})(),angular.module("classy").constant("scTeamBlockDefaults",{title:"Team",type:"team",textColor:"rgb(44,52,59)",defaultTeamLogo:null,teamsCanSetCoverPhoto:!0,background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},thumbnail:{preset:"circle","border-radius":"50px"},donateButtonColor:null,donateButtonStyle:{preset:"rectangular","border-radius":"4px",color:"white"},joinButtonColor:null,joinButtonStyle:{preset:"rectangular","border-radius":"4px"},showProgressBar:!0,showTeamRank:!0,allowCommenting:!0,showLeaderboard:!0,showTeamCaptain:!0,showTeamMembers:!0,showHeadline:!0,showCampaign:!0,showSubTeams:!0,unsortable:!1}),(()=>{function e(t){return{scope:!0,templateUrl:"global/objects/scBlock/types/team/settings",controller:["$scope",function(e){var n;e.block.sectionOpen=null,e.headlineOptions=t({type:"bare-headline"},{heightMin:null,charCounterCount:!0,charCounterMax:200}),e.titleOptions=t({type:"bare-headline"},{heightMin:null,charCounterCount:!0,charCounterMax:180}),e.postBodyOptions=t({type:"update-paragraph"},{ariaLabel:"Default story body",heightMin:200,heightMax:200,scrollableContainer:".edit-design_aside"}),e.teamPhotoMediaManagerOptions={title:"Select a Team Default Photo",image:{crop:!0,guide:{title:"Team Default Photo",message:"Brand your campaign with a unique logo.",size:"320 x 320 pixels"}}},e.teamCoverPhotoMediaManagerOptions={title:"Select a Cover Photo",image:{guide:{title:"Team Cover Photo",message:"Brand your campaign with a unique cover photo.",size:"1400 x 460 pixels"}}},SC.campaign&&SC.campaign.campaignTemplateData&&(n=_.get(SC.campaign.campaignTemplateData,"components.block.component_items",[])).length&&(n=n.find(function(e){return"team"===e.value.type}))&&(e.lockBackground=n.item_attributes.background.locked)}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scTeamBlockSettings",e)})(),angular.module("classy").constant("teamBlockDemoData",{topThreeTeams:[{id:1,overallRanking:1,name:"Team's Name",total_raised:300},{id:2,overallRanking:2,name:"Another Team",total_raised:100},{id:3,overallRanking:3,name:"Team Three",total_raised:56}],leaders:[{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:990,average_donation:0,largest_donation:0,percent_to_goal:0,id:468146,member_id:1403661,organization_id:20688,designation_id:null,title:"Weekly Winner",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Bob Robertson",type:"fundraiser",measure:"$",metric:"raised this week",weekly_raised:725,total_comments:12},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:2990,average_donation:0,largest_donation:0,percent_to_goal:0,id:468146,member_id:1403661,organization_id:20688,designation_id:null,title:"Most Raised",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Rick Dickens",type:"fundraiser",measure:"$",metric:"Raised",weekly_raised:210,total_comments:4},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:52,total_donors:52,total_raised:990,average_donation:0,largest_donation:0,percent_to_goal:0,id:468146,member_id:1403661,organization_id:20688,designation_id:null,title:"Most Donors",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Alice Allison",type:"fundraiser",measure:"$",metric:"Donors",weekly_raised:100,total_comments:6},{status:"active",fundraising_team_id:52262,campaign_id:54562,total_donations:0,total_donors:0,total_raised:990,average_donation:0,largest_donation:0,percent_to_goal:0,id:468146,member_id:1403661,organization_id:20688,designation_id:null,title:"Most Activity",thankyou_email_text:null,member_email_text:null,goal:"10000.00",started_at:"2016-02-11 08:00:00",ended_at:null,alias:"Liz Elizabeths",type:"fundraiser",measure:"$",metric:"Comments",weekly_raised:10,total_comments:74}]}),(()=>{function e(n,e){return e({link:function(e){e.froalaOptionsPreviewHeadline=n({type:"edit-inline-with-events"},{scImgAssetFroalaUpload:!0,ariaLabel:"Text Headline"}),e.froalaOptionsPreviewContent=n({type:"edit-inline-with-events"},{scImgAssetFroalaUpload:!0,ariaLabel:"Text Content"})}})}e.$inject=["scFroalaOptions","scBlock"],angular.module("classy").directive("scTextBlock",e)})(),angular.module("classy").constant("scTextBlockDefaults",{title:"Text",type:"text",headline:"Headline",hideHeadline:!1,headlineColor:"rgb(255,255,255)",background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!1,preset:"stretch"},mobileTemplates:!1,content:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec finibus finibus elit in ullamcorper.</p>",remove:!0}),(()=>{function e(a,i,o,r){return{scope:!0,templateUrl:"global/objects/scBlock/types/text/settings",controller:["$scope",function(e){var n,t;e.isHeadlineLocked=!1,e.contentFroalaOptions=a({type:"inline-with-video"},{ariaLabel:"Content"}),e.headerFroalaOptions=a({type:"inline-header"},{ariaLabel:"Headline"}),e.scQaId=i,e.disableTextBlock=!1,SC.campaign&&SC.campaign.campaignTemplateData&&(e.disableTextBlock=r.getAddContentToPageBlock(o.blockId),t=null,n=r.getBlockComponent(o.blockId),t=r.getActiveBlock(n),e.isHeadlineLocked=_.get(t,"item_attributes.headline.locked",!1),e.isContentLocked=_.get(t,"item_attributes.content.locked",!1),e.isBackgroundLocked=_.get(t,"item_attributes.background.locked",!1))}],link:function(e){e.bgMediaManagerOptions={title:"Select a Text Section Background",image:{guide:{title:"Text Section Background",message:"You're not tied to a color. Add a background image.",size:"1280 x 720 pixels"}}}}}}e.$inject=["scFroalaOptions","scQaId","$stateParams","scCampaignsTemplateService"],angular.module("classy").directive("scTextBlockSettings",e)})(),(()=>{function e(r,s,l,c,d,u,m,g,p,e,f,n,h,v,t,b,y,k,w,C,S){return e({controller:["$scope",function(e){e.primaryColor=t.active.current.styles.primaryColor,e.showManagePane=!0,e.headerOptions=n({type:"edit-inline"},{ariaLabel:"Thankyou Page Body Headline"}),e.subheaderOptions=n({type:"edit-inline-subheader"},{ariaLabel:"Thankyou Page Body Sub Headline"})}],link:function(a){a.$stateParams=s,SC.transactionId=s.tid,a.thankYouText=_.get(SC,"team.thank_you_text",void 0);var e=sessionStorage.getItem("modalTid"),e=e&&e===s.tid,n=(s.tid&&!e&&(h.open({templateUrl:"global/objects/scBlock/types/thank-you/share-modal",context:a,maxWidth:520},{animate:!1,elementToFocusOnClose:".thank-you_headline",closeOnClickOut:!0}),sessionStorage.setItem("modalTid",s.tid)),a.Organization=m.active.current,a.hasDonationInfo=!0,a.demo?(r.SC.status.banner={},a.transaction={id:44444,comment:"Thanks for all you do",frequency:"one-time",display_currency_code:_.get(g,"active.current.raw_currency_code",v.getDefaultCurrency()),raw_total_gross_amount:42.42,recur_until:"31/12/2021"}):(a.transaction=f.get("transaction"),a.transaction?g.active.multiCurrencyDisabled()||b.getTaxEntity(a.transaction.raw_currency_code).then(function(e){b.setCurrentEntity(e)}):(a.transaction={},a.hasDonationInfo=!1),_.get(a,"transaction.dedication")&&(e=a.transaction.dedication.type.toLowerCase(),a.dedicationText=("in honor of"==e||"honor"==e?"In honor of":"In memory of")+" "+a.transaction.dedication.honoree_name)),_.get(c,"active.current.email_address")),t=a.transaction.memberRegistered,i=a.transaction.frequency;function o(e){var n=y.getEntityProgress(e),t=n.totalRaised;a.receivingEntity=Object.assign({},e,{goalReached:n.goal<=t,isTeam:"team"===e.type,isTribute:"fundraiser"===e.type&&!!e.is_tribute})}a.showManagePane=!!t,a.phone_contact=g.active.current.contact_phone,a.email_contact=g.active.current.contact_email,a.donationDestination="campaign",a.showChargedAmount=!g.active.multiCurrencyDisabled()&&a.transaction.charged_currency_code!=a.transaction.raw_currency_code,a.transaction.fundraising_page_id?(a.donationDestination="fundraiser",u.fetch(a.transaction.fundraising_page_id,!0).then(function(e){e.current.type="fundraiser",o(e.current)})):a.transaction.fundraising_team_id&&(a.donationDestination="team",d.fetch(a.transaction.fundraising_team_id,!0).then(function(e){e.current.type="team",o(e.current)})),a.closeModal=function(e){e&&!k.isValidKeyBoardEvent(e)||(h.close(),$(".thank-you_headline").focus())};e=a.transaction.fee_on_top?" plus fees":"";a.convertedAmount=l("scFormatCurrency")(a.transaction.raw_total_gross_amount,a.transaction.raw_currency_code,2)+e,a.demo||p.getSocialData().then(function(e){a.fbShare=e.facebook_share,p.getInstagramLink().then(function(e){a.instagramUrl=e.instagram_link})}),a.build={manageData:function(){return t&&!n?{text:'To manage your donation at any time, please Sign in by clicking the "Sign in" link below.',href:"/sso",buttonText:"Sign in"}:{text:"one-time"===i?"You may set up a password for your donor profile and access receipts for all of your donations by clicking “Manage Donation” below.":"You may make changes to your recurring donation or update payment information from your account below or email confirmation.",href:"/profile/"+a.Organization.id+"/donation-history",buttonText:"Manage Donation"}}},a.isPreview=function(){return w.is("admin.manage.campaign.step.setup")||w.is("admin.manage.campaign.step.design.views.content-blocks")||w.is("admin.manage.campaign.step.design.views.block")||_.get(w,"params.preview",!1)},SC.organization.has_double_the_donation_employer_match&&g.active.getCampaignChannel(C.DTD).then(function(e){a.isEmployerMatchOnThankyouPageEnabled=_.get(e,"[0].metadata.employer_match_on_thankyou_page",null)}).catch(function(){S("There was an error fetching the campaign channel status.","error")})}})}e.$inject=["$rootScope","$stateParams","$filter","scMembersService","scFundraisingTeamsService","scFundraisingPagesService","scOrganizationsService","scCampaignsService","scSocialShareLinks","scBlock","scTransientsService","scFroalaOptions","scFlowModalService","scCurrencyService","scThemesService","scTaxEntitiesService","scProgressDataFactory","accessibilityService","$state","CHANNEL","scBanner"],angular.module("classy").directive("scThankYouBlock",e)})(),(()=>{function e(e){var n={},e=(_.get(e,"active.current.id")&&(n=e.active),_.get(n,"current.name","our organization"));return{title:"Thank You",type:"thank-you",headline:'<span style="font-size: 40px">Thank you for your gift</span>',"supporting-message":"<p>Thank you for your donation to "+e+". You will soon receive a confirmation email to the account provided.</p><p>You've added your voice to millions of "+e+" supporters committed to defending and preserving these precious resources when you join the nation's largest and most effective grassroots movement today.</p>",background:{color:null,image:null,colorOpacity:100,imageOpacity:100,blur:0,position:"center center",size:"cover",repeat:"no-repeat",fixed:!0,preset:"coverfixed"},unsortable:!0}}e.$inject=["scOrganizationsService"],angular.module("classy").factory("scThankYouBlockDefaults",e)})(),(()=>{function e(n){return{scope:!0,templateUrl:"global/objects/scBlock/types/thank-you/settings",controller:["$scope",function(e){e.headerOptions=n({type:"inline-header"},{ariaLabel:"Headline"}),e.messageOptions=n({type:"inline-with-video"},{ariaLabel:"Thank You"}),e.thankYouPhotoMediaManagerOptions={title:"Select a Background Image",image:{guide:{title:"Thank You Page Background Image",message:"Brand your thank you page with a unique background image.",size:"1280 x 720 pixels"}}}}],link:function(){}}}e.$inject=["scFroalaOptions"],angular.module("classy").directive("scThankYouBlockSettings",e)})(),angular.module("classy").component("pageTile",{template:'\n      <div class="page-tile__block" ng-click="$ctrl.clickTile()">\n       <img class="page-logo" ng-src="{{::$ctrl.logo}}">\n       <div class="page-info__column">\n        <div class="page-info__alias">{{::$ctrl.page.alias}}</div>\n        <div class="page-info__row">\n          <i class="page-info__check fa fa-check-circle" ng-if="::$ctrl.page.completed"></i>\n          <div class="page-info__status">{{::$ctrl.currencyText}}</div>\n        </div>\n       </div>\n       <div class="page-chevron"></div>\n      </div>\n    ',bindings:{page:"=",modalAction:"&"},controller:["$filter","scCurrencyService","scFundraisingPagesService",function(n,e,t){this.formatCurrency=function(e){this.currencyText=n("scFormatCurrency")(e,this.page.raw_currency_code,0)+" Raised",this.page.completed&&(this.currencyText="Complete · "+this.currencyText)},this.$onInit=function(){var n=this;e.convertValue(this.page.total_raised,e.getDefaultCurrency(),this.page.raw_currency_code).then(function(e){n.formatCurrency(e)}),this.logo=t.getPagePhoto(this.page)},this.clickTile=function(){var e={state:"frs.fundraiser.index",params:{fundraisingPageId:this.page.id}};this.modalAction({options:e})}}]}),(()=>{function e(t){return function(e){var n=e.$new();return n.continueToPage=function(){t.close(),n.flow.abort({state:"frs.fundraiser.index",params:{fundraisingPageId:n.redirectToPageId}})},{id:"indiv.welcome-back",templateUrl:n.flow.template("multiple-fundraisers/welcome-back"),maxWidth:384,context:n}}}e.$inject=["scFlowModalService"],angular.module("classy").factory("CFPWelcomeBackView",e)})(),(()=>{function e(a,i,o,r,s){return{scope:{bc:"@?",title:"=",leader:"=scSupporterLeader",theme:"=",block:"=?",imgSize:"@?",mobile:"=",hideTitle:"=?",leaderboard:"=?",placeholder:"=?"},replace:!0,template:'<div ng-include="templateUrl" class="{{ bc }}_leader-container"></div>',link:function(n){n.bc=n.bc||"supporter_",n.SC=SC,n.photoSize=function(){return{width:n.imgSize?parseFloat(n.imgSize):115,height:n.imgSize?parseFloat(n.imgSize):115,borderRadius:n.imgSize?parseFloat(n.imgSize):115}},n.scResponsiveWidth=o,n.getLeaderImage=function(){return"fundraiser"===n.leader.type?s.getPagePhoto(n.leader):"team"===n.leader.type?r.getTeamPhoto(n.leader):void 0},n.getAriaLabel=function(e,n){return n&&e.name?"View "+n+", "+e.name:n&&e.alias?"View "+n+", "+e.alias:!n||e.alias||e.name?"View "+(e.name||e.alias):"View "+n},n.$watch("scResponsiveWidth.isMobile",function(e){n.templateUrl="global/objects/scBlock/shared/supporter/scSupporterLeader/"+(e?"mobile-template":"template")}),n.block&&"fundraiser"==n.block.type&&(n.hideTitle=!0),n.leader.type=n.leader.type||"fundraiser",n.count=void 0;var e="Weekly Winner"==n.leader.title,t=!_.includes(["Top Fundraiser","Top Team","Team Fundraiser","Most Raised","Most Donors","Most Members","Most Activity"],n.leader.title);"Top Fundraiser"==n.leader.title||"Top Team"==n.leader.title||"Team Fundraiser"==n.leader.title||"Most Raised"==n.leader.title||e||t?(e?(n.defaultText="Teammate with the most money raised this week",n.defaultIcon="business-money-time"):t?(n.leader.metric="Raised",n.leader.total_raised=n.leader.goal*n.leader.percent_to_goal/100):(n.defaultIcon="business-payment",n.defaultText="Teammate with the most money raised"),e?i.convertValue(n.leader.weekly_raised,n.leader.normalized_currency_code,n.leader.raw_currency_code).then(function(e){n.count=a("scFormatCurrency")(e,n.leader.raw_currency_code)}):i.convert(n.leader,n.leader.total_raised).then(function(e){n.count=a("scFormatCurrency")(e.convertedAmount,n.leader.raw_currency_code)},function(){})):"Most Donors"==n.leader.title?(n.defaultIcon="handshake",n.defaultText="Teammate with the most donors",t=_.isUndefined(n.leader.transactions_count)?n.leader.total_donations:n.leader.transactions_count,n.count=parseInt(t,10)||0,1==n.count&&(n.leader.metric="donor")):"Most Members"==n.leader.title?(n.defaultText="Team with the most members",n.count=parseInt(n.leader.total_fundraisers,10)||0,1==n.count&&(n.leader.metric="member")):"Most Activity"==n.leader.title&&(n.defaultIcon="chat-icon",n.defaultText="Teammate with the most wall activity",n.count=n.leader.total_comments),n.showCount=!n.placeholder||!n.leaderboard,n.hideCount=n.placeholder&&n.leaderboard}}}e.$inject=["$filter","scCurrencyService","scResponsiveWidth","scFundraisingTeamsService","scFundraisingPagesService"],angular.module("classy").directive("scSupporterLeader",e)})(),(()=>{function e(n,a,i,o,r){return{replace:!0,scope:{parent:"=scSupporterParent",theme:"=",type:"@",backupImage:"@",link:"&",bc:"@"},templateUrl:"global/objects/scBlock/shared/supporter/scSupporterParent/template",link:function(t){var e;t.total_raised=0,("team"==t.type||"parentTeam"==t.type?o.resolve(a.getEntityProgress(t.parent)):(e=n.get(t.parent.id))?e.getOverview().then(function(){return a.getCampaignProgress(e.current)}):o.resolve({totalRaised:0,currency:i.getDefaultCurrency()})).then(function(e){var n=e.totalRaised;t.currency=e.currency,t.total_raised=n,t.attach=!0}),t.getImg=function(){var e=r(t.backupImage);return _.isUndefined(t.parent)?e:(t.backupImage,"campaign"===t.type?_.get(t,"theme.headerLogo.asset.src",!1)||_.get(t,"theme.headerLogo.asset.cdn_url",_.get(t,"theme.headerLogo.asset.src",!1))||e:t.parent.logo?t.parent.logo.src||t.parent.logo.cdn_url:e)},t.getTypeText=function(){var e="";switch(t.type){case"team":e="My Team";break;case"parentTeam":e="Parent Team";break;case"campaign":e="Campaign";break;default:e=""}return e}}}}e.$inject=["scCampaignsService","scProgressDataFactory","scCurrencyService","$q","generateAssetUrl"],angular.module("classy").directive("scSupporterParent",e)})(),angular.module("classy").controller("donationAmountCtrl",["$scope","scGetQueryParams","RECURRING_LEVELS",function(t,e,n){var a=n.ONE_TIME_DEFAULT,i=n.RECURRING_DEFAULT,o=n.RECURRING_FIXED_AMOUNT,r=n.RECURRING_ONLY,s=n.ONE_TIME_ONLY,n=n.ONE_TIME_FIXED_AMOUNT;t.maxDonation=1e7,t.minDonation=1,_.isEmpty(t.buttonPresets)||t.block["donation-levels"].forEach(function(e,n){n=t.buttonPresets["preset"+(n+1)];n&&(e.displayAmount=n,e.amount=n)}),_.forEach(t.block["donation-levels"],function(e){e.displayAmount=angular.copy(e.presetAmount)||angular.copy(e.amount)});e=e().amount;switch(t.Donation.amount=parseInt(e,10),"Other"===t.block["donation-default"]||t.Donation.amount||(t.Donation.amount=t.block["donation-default"]),t.block["recurring-level"]){case a:case i:case r:case s:t.fixedAmount=!1;break;case o:case n:t.fixedAmount=!0;break;default:t.fixedAmount=!1}t.Donation.amountChanged=!1,t.selectDonation=function(e){return t.Donation.amount="Other"==e?"":parseInt(e,10),!(t.Donation.amountChanged=!0)},t.donationLevelStyle=function(){return{"background-color":t.theme.styles.primaryColor}},t.donationLevelClass=function(e){return"Other"===e&&""===t.Donation.amount&&t.Donation.amountChanged?{selected:!0}:{selected:e==t.Donation.amount}}}]),(()=>{function e(e,n){e.campaign=n.active.current,e.faqs=_.get(n,"active.current.faqs.data",[])}e.$inject=["$scope","scCampaignsService"],angular.module("classy").controller("donationAsideCtrl",e)})(),(()=>{function e(a,n){function i(e){return e.replace(/(<([^>]+)>)/gi,"")}a.dedicationPreview=function(){var e="/checkout/dedication-preview",n=a.Donation.dedication.emailMsg?i(a.Donation.dedication.emailMsg).replace(/(?:\r\n|\r|\n)/g,"<br />"):"Your Message here.",t=void 0,t=a.Donation.name.anonymous?"An anonymous donor":a.Donation.payment.name.first&&a.Donation.payment.name.last?a.Donation.payment.name.first+" "+a.Donation.payment.name.last:"Your Name";return(e+=0<a.Donation.dedication.emailImg?"?ecid="+a.Donation.dedication.emailImg:"?img=0")+("&cid="+SC.organization.id)+("&type="+(a.Donation.dedication.type||"honor"))+("&name="+i(t))+("&dname="+i(a.Donation.dedication.name||"Honoree's Name"))+("&message="+n)},a.list={ecards:a.campaign.current.ecards},a.build={previewLink:function(){var e=void 0;a.activeEcard=_.filter(a.list.ecards,function(e){return e.id==a.Donation.dedication.emailImg})[0],e=a.Donation.dedication.emailMsg?i(a.Donation.dedication.emailMsg).replace(/(?:\r\n|\r|\n)/g,"<br />"):"Your Message here.",a.emailMessage=e,n.open({templateUrl:"global/objects/scBlock/types/donation/dedication/ecard-preview-modal",context:a,maxWidth:520})}}}e.$inject=["$scope","scFlowModalService"],angular.module("classy").controller("donationDedicationCtrl",e)})(),(()=>{function e(n){n.copyToPayment=function(e){e?(n.Donation.payment.address=n.Donation.shipping.address,n.Donation.payment.address2=n.Donation.shipping.address2,n.Donation.payment.city=n.Donation.shipping.city,n.Donation.payment.state=n.Donation.shipping.state,n.Donation.payment.zip=n.Donation.shipping.zip):(n.Donation.payment.address=SC.donation.payment.address||"",n.Donation.payment.address2=SC.donation.payment.address2||"",n.Donation.payment.city=SC.donation.payment.city||"",n.Donation.payment.state=SC.donation.payment.state||"",n.Donation.payment.zip=SC.donation.payment.zip||"")}}e.$inject=["$scope"],angular.module("classy").controller("donationShippingCtrl",e)})(),angular.module("classy").component("featuredBlockFeature",{bindings:{featured:"="},template:'\n    <div class="featured-block__feature">\n      <div class="featured-block__feature-image">\n        <img class="featured-block__feature-image-src"\n        ng-src=""></img>\n      </div>\n      \n      <h1 class="featured-block__feature-name">{{$ctrl.featured.name}}</h1>\n      <p class="featured-block__feature-description">{{$ctrl.featured.description}}</p>\n      \n      <button class="featured-block__feature-btn" ng-if="$ctrl.featured.btnLabel" \n      data-ng-style="$ctrl.btnStyle()"\n      data-ng-click="$ctrl.action()">\n        {{$ctrl.featured.btnLabel}}\n      </button>\n    </div>\n  ',controller:["$log","createFundraisingTeamFlow","createFundraisingPageFlow","fundraiseSwitchFlow",function(e,n,t,a){var i=this;this.btnStyle=function(){var e={};return e["background-color"]=i.featured.btnColor,e["border-color"]=i.featured.btnColor,e},this.action=function(){switch(i.featured.action){case"create_team":n();break;case"join_team":a({browseTeams:!0});break;case"register":t();break;default:e.log("no action defined")}}}]}),angular.module("classy").directive("donationLabel",function(){return{priority:-1,restrict:"C",template:function(e){return e.text(e.text().trim()).html()}}}),angular.module("classy").component("registrationsList",{bindings:{registrations:"=",showTitle:"=?",showDetails:"=?",showPrice:"=?"},template:'\n    <div class="registrations-list">\n      <div class="registrations-list__item"\n        ng-if="$ctrl.showTitle || $ctrl.showDetails || $ctrl.showPrice"\n        ng-repeat="registration in $ctrl.registrations">\n\n        <div class="registrations-list__row">\n          <p class="registrations-list__item-name"\n             data-ng-bind="registration.name"\n             ng-if="$ctrl.showTitle"></p>\n\n          <span class="registrations-list__item-price"\n            data-ng-bind="registration.price === 0 ? \'Free\' : (registration.price | currency :\'$\':2)"\n            ng-if="$ctrl.showPrice"></span>\n        </div>\n\n        <fundraising-minimum-disclaimer ng-if="registration.commitment"\n          minimum-value="registration.commitment.value"\n          minimum-deadline="registration.commitment.deadline"></fundraising-minimum-disclaimer>\n\n        <p class="registrations-list__item-details"\n           data-ng-bind="registration.description"\n           ng-if="$ctrl.showDetails"></p>\n      </div>\n    </div>\n  ',controller:function(){var e={showTitle:!0,showDetails:!0,showPrice:!0};this.$onInit=function(){_.defaultsDeep(this,e)}}}),(()=>{function e(r,s,e,l,n,a,c,t,i,o){l.setup={designation:function(){l.CONTEXT.autofill.designation?l.MODEL.designation_id=l.CONTEXT.autofill.designation:l.CONTEXT.isFundraisingPage||(l.MODEL.designation_id=l.campaign.current.designation_id)},creditee:function(){return l.CONTEXT.isFundraisingPage?l.fundraiser.current:l.CONTEXT.isFundraisingTeam?l.team.current:void 0},crediteeSearchTargets:function(){var e=[{service:"scFundraisingPageSearchModel",fields:["alias"],queryParams:{aggregates:!0,filter:"status=active"}}];return l.CONTEXT.isCampaign&&e.push({service:"scFundraisingTeamSearchModel",fields:["name"],queryParams:{aggregates:!0,filter:"status=active"}}),e},getType:function(){return l.CONTEXT.isFundraisingPage?"fundraiser":l.CONTEXT.isFundraisingTeam?"team":"campaign"}},l.state={hasReachedGoal:function(){return 1<=c.getEntityProgress(l.META.creditee).percentToGoal},willReachGoal:function(){return 99<l.build.revisedPTG()},crediteeSearchTargets:null},l.show={creditee:function(){return"fundraising-pages"===_.get(l,"META.creditee._type")?t.getBlockByType("fundraiser").current.showProgressBar:"fundraising-teams"===_.get(l,"META.creditee._type")?t.getBlockByType("team").current.showProgressBar:!!l.META.creditee},designation:function(){var e="fundraising-pages"===_.get(l,"META.creditee._type")&&_.get(l,"META.creditee.designation.campaign_designation_is_active");return l.campaign.DESIGNATIONS_ENABLED&&1<l.campaign.current.designations_count&&!e},search:function(){return!l.CONTEXT.isFundraisingPage},appealStatus:function(){return!l.MODEL.items[0].raw_final_price&&!l.state.hasReachedGoal()},successStatus:function(){return!l.MODEL.items[0].raw_final_price&&l.state.hasReachedGoal()},progressBar:function(){var e;return!l.setup.creditee()||(e=l.setup.getType(),t.getBlockByType(e).current.showProgressBar)},progressStatus:function(){return l.MODEL.items[0].raw_final_price&&!l.state.hasReachedGoal()&&!l.state.willReachGoal()},heroStatus:function(){return l.MODEL.items[0].raw_final_price&&!l.state.hasReachedGoal()&&l.state.willReachGoal()},extraCreditStatus:function(){return l.MODEL.items[0].raw_final_price&&l.state.hasReachedGoal()}},l.build={crediteeSearchDefault:function(){return l.setup.creditee()},crediteeSearchTeamId:function(){return l.CONTEXT.isFundraisingTeam?l.team.current.id:null},searchLabel:function(){return l.CONTEXT.isCampaign?"Would you like to credit this donation to a specific fundraiser or team (optional)?":"Would you like to credit this donation to a specific fundraiser (optional)?"},recipientName:function(){var e=l.META.creditee;return e.alias||e.title||e.name},logoSrc:function(){return l.META.creditee.logo?l.META.creditee.logo.sizes.full:"fundraising-pages"===_.get(l,"META.creditee._type")?i.getPagePhoto(l.META.creditee):_.isUndefined(l.META.creditee.team_lead_id)?"/static/global/images/individual_default_image.png":"fundraising-teams"===_.get(l,"META.creditee._type")?o.getTeamPhoto(l.META.creditee):"/static/global/images/team_default_image.png"},revisedTotal:function(){var e=l.MODEL.items[0].raw_final_price||0,n=l.MODEL.payment.raw_currency_code,n=(n!=a.getDefaultCurrency()&&(n=e/a.rates[n],e=n=_.isNumber(n)&&!_.isNaN(n)?n:0),c.getEntityProgress(l.META.creditee)),t=l.META.creditee.goal;return 100*(n.percentToGoal+e/t)},revisedPTG:function(){var e=l.build.revisedTotal(),n=Math.round(e);return e<100&&100===n?99:n},impactStatus:function(){var e="",n=l.META.creditee.team_lead_id?"our":"my",t=l.META.creditee.team_lead_id?"us":"me",a=c.getEntityProgress(l.META.creditee),i=Math.round(100*a.percentToGoal),o=a.goal,a=a.currency;return l.show.appealStatus()?e=(l.META.creditee.team_lead_id?"We're":"I'm")+" <strong>"+i+"%</strong> of the way toward "+n+" goal of <strong>"+r("scFormatCurrency")(o,a,0)+"!</strong>":l.show.successStatus()?e="Thank you for your support! "+(l.META.creditee.team_lead_id?"We":"I")+" have reached "+n+" goal of <strong>"+r("scFormatCurrency")(o,a,0)+"!</strong>":l.show.progressStatus()?e="You'll put "+t+" <strong>"+l.build.revisedPTG()+"%</strong> of the way toward "+n+" goal of <strong>"+r("scFormatCurrency")(o,a,0)+"!</strong>":(l.show.heroStatus()||l.show.extraCreditStatus())&&(e="Thank you! You'll have helped "+t+" reach "+n+" goal of <strong>"+r("scFormatCurrency")(o,a,0)+"!</strong>"),s.trustAsHtml(e='<span aria-live="polite">'+e+"</span>")}},l.template=function(e){return"global/objects/scBlock/types/frs-donation/components/credit/partials/"+e},l.PREFLIGHT.crediteeTeam=function(){l.MODEL.fundraising_page_id?l.MODEL.payment.creditee_team_id=l.META.creditee.fundraising_team_id:l.MODEL.payment.creditee_team_id=null},_.merge(l.MODEL,{fundraising_page_id:null,fundraising_team_id:null}),_.merge(l.META,{creditee:l.setup.creditee()}),l.state.crediteeSearchTargets=l.setup.crediteeSearchTargets(),l.state.searchContext={campaign_id:n.active.current.id,fundraising_team_id:l.build.crediteeSearchTeamId()},l.setup.designation(),l.designationOptions={check:{enabled:!1},containerClass:"full",fieldName:"designation",sublabel:"What would you like your donation to support?",valueKey:"id",labelKey:"name"},l.$watch("META.creditee",function(n){l.MODEL.fundraising_page_id=null,l.MODEL.fundraising_team_id=null,(n||l.CONTEXT.autofill.designation)&&(_.isUndefined(n.team_lead_id)?(l.MODEL.fundraising_page_id=n.id,n._type="fundraising-pages"):(l.MODEL.fundraising_team_id=n.id,n._type="fundraising-teams"),"fundraising-pages"===n._type&&n.designation_id||l.CONTEXT.autofill.designation)?_.isEmpty(n.designation)||!n.designation.campaign_designation_is_active||l.CONTEXT.autofill.designation?_.isEmpty(n.designation)||n.designation.campaign_designation_is_active||l.CONTEXT.autofill.designation?e({method:"GET",url:"/frs-api/campaign/"+l.campaign.current.id+"/designations",params:{filter:"id="+n.designation_id}}).then(function(e){e=e.data.data[0];e&&e.campaign_designation_is_active?(n.designation=e,l.MODEL.designation_id=e.id):l.MODEL.designation_id=l.campaign.current.designation_id}):l.MODEL.designation_id=l.campaign.current.designation_id:l.MODEL.designation_id=n.designation_id:l.MODEL.designation_id=l.campaign.current.designation_id})}e.$inject=["$filter","$sce","$http","$scope","scCampaignsService","scCurrencyService","scProgressDataFactory","scBlocksService","scFundraisingPagesService","scFundraisingTeamsService"],angular.module("classy").controller("frsDonationCreditCtrl",e)})(),angular.module("classy").controller("frsDonationAmountCtrl",["$timeout","$scope","$rootScope","$state","$stateParams","COUNTRY_LIST","cpIntelligentAsk","globalExperimentSwitch","scAnalytics","scBlocksService","scCampaignsService","scCurrencyService","scTaxEntitiesService","scOrganizationsService",function(n,l,c,d,t,a,u,e,i,o,r,m,g,s){function p(e){e.forEach(function(e){e.displayAmount="[variable]"})}var f=r.active,h=!0,v=(l.DonationBlock=o.getBlockByType("donation"),l.preventRecurringFrequency=s.active.preventRecurringFrequencies(),l.preventOldrfForDeque=s.active.preventOldrfForDeque(),l.showLegacyDonationGrid=s.active.showLegacyDonationGrid(),l.IntelligentAsk=u,l.IAAState={},l.CONSTANTS={DONATION_AMOUNT_REQUIRED_ERROR_TEXT:"Please enter a donation amount.",DOLLAR_AMOUNT_VALID_ERROR_TEXT:"Please enter a valid dollar amount."},l.setup={frequency:function(){var e=l.MODEL.frequency;if(l.preventRecurringFrequency)switch(l.CONTEXT.autofill.recurring){case"1":case"true":case"yes":if("one-time"!==l.state.mode)return"recurring";break;case"0":case"false":case"no":if("recurring"!==l.state.mode&&"membership"!==l.state.mode)return"one-time";break;default:return e}else{var n=l.block["recurring-level"];switch(l.CONTEXT.autofill.recurring){case"0":case"false":case"no":if(_.find(n,{type:"one-time",display_on_page:!0}))return"one-time";break;case"1":case"true":case"yes":if(_.find(n,{type:"monthly",display_on_page:!0}))return"monthly";break;case"2":if(_.find(n,{type:"quarterly",display_on_page:!0}))return"quarterly";break;case"3":if(_.find(n,{type:"semi-annually",display_on_page:!0}))return"semi-annually";break;case"4":if(_.find(n,{type:"yearly",display_on_page:!0}))return"yearly";break;case"5":if(_.find(n,{type:"daily",display_on_page:!0}))return"daily";break;case"6":if(_.find(n,{type:"weekly",display_on_page:!0}))return"weekly";break;case"7":if(_.find(n,{type:"bi-weekly",display_on_page:!0}))return"bi-weekly";break;default:return e}}},amount:function(){var e;return _.isUndefined(l.CONTEXT.autofill.amount)?(e=l.setup.frequency()||l.MODEL.frequency,l.preventOldrfForDeque||l.preventRecurringFrequency||"one-time"==e?l.block["donation-default"]||0:l.block["recurring-donation-default"]||0):+l.CONTEXT.autofill.amount},setPreviousFrequencyPrice:function(){return"one-time"==(l.setup.frequency()||l.MODEL.frequency)?l.block["recurring-donation-default"]||0:l.block["donation-default"]||0},mode:function(){var e=l.block["recurring-level"];switch(e){case"1":l.state.mode="default",l.MODEL.frequency="one-time";break;case"2":l.state.mode="default",l.MODEL.frequency="recurring";break;case"3":l.state.mode="membership",l.MODEL.frequency="recurring",l.state.fixedAmount=!0;break;case"4":l.state.mode="recurring",l.MODEL.frequency="recurring";break;case"5":l.state.mode="one-time",l.MODEL.frequency="one-time";break;case"6":l.state.mode="one-time",l.MODEL.frequency="one-time",l.state.fixedAmount=!0}Array.isArray(e)&&(l.MODEL.frequency=l.block["recurring-default"],l.preventOldrfForDeque||l.preventRecurringFrequency||!l.MODEL.items||l.state.recurringArray.includes(l.MODEL.frequency)&&l.state.recurringArray.includes(l.state.frequencyMode)||(l.MODEL.items[0].previous_frequency_price=l.MODEL.items[0].raw_final_price,l.MODEL.items[0].raw_final_price="one-time"==l.MODEL.frequency?l.block["donation-default"]:l.block["recurring-donation-default"]),l.state.frequencyMode=l.block["recurring-default"])},levels:function(){var t=l.state.levels;l.preventRecurringFrequency||(t=_.filter(l.state.levels,function(e){return!0===e.display_on_page&&"Custom"!==e.amount})),_.forEach(t,function(e,n){if(l.CONTEXT.autofill["preset"+(n+1)]){if(1===t.length)return;e.amount!=l.block["donation-default"]||l.CONTEXT.autofill["preset"+(n+1)]==e.amount||l.CONTEXT.autofill.amount||(l.preventOldrfForDeque||l.preventRecurringFrequency?l.MODEL.items=[{raw_final_price:0}]:(l.state.presetIndex=n,l.MODEL.items=[{raw_final_price:"one-time"==l.MODEL.frequency?"preset":l.block["recurring-donation-default"],previous_frequency_price:"one-time"==l.MODEL.frequency?l.block["recurring-donation-default"]:"preset"}]));n=l.CONTEXT.autofill["preset"+(n+1)];e.amount=Math.round(100*parseFloat(n))/100}e.displayAmount=e.amount})},recurringDonationLevels:function(){var t=l.state.recurringDonationLevels;l.preventRecurringFrequency||(t=_.filter(l.state.recurringDonationLevels,function(e){return!0===e.display_on_page&&"Custom"!==e.amount})),_.forEach(t,function(e,n){if(l.CONTEXT.autofill["preset"+(n+1)]){if(1===t.length)return;e.amount!=l.block["recurring-donation-default"]||l.CONTEXT.autofill["preset"+(n+1)]==e.amount||l.CONTEXT.autofill.amount||(l.MODEL.items=[{raw_final_price:"one-time"==l.MODEL.frequency?l.block["donation-default"]:"preset",previous_frequency_price:"one-time"==l.MODEL.frequency?"preset":l.block["donation-default"]}],l.state.presetIndex==n&&(l.MODEL.items=[{raw_final_price:"preset",previous_frequency_price:"preset"}]));n=l.CONTEXT.autofill["preset"+(n+1)];e.amount=Math.round(100*parseFloat(n))/100}e.displayAmount=e.amount})},intlEstimates:function(){r.active.multiCurrencyDisabled()||g.getTaxEntity().then(function(e){var n=e?e:{currency_code:"USD",country:"US"};"USA"==n.country&&(n.country="US"),"CAN"==n.country&&(n.country="CA"),l.META.estimatedCharge={countryCode:n.country,currency:n.currency_code,country:_.find(a,function(e){return e.value==n.country}).label}})},previewDefaults:function(){l.MODEL.items=[{raw_final_price:l.CONTEXT.autofill.amount}],f.hasIntelligentAskOneTime()&&p(l.state.levels),f.hasIntelligentAskRecurring()&&p(l.state.recurringDonationLevels),l.preventOldrfForDeque||l.preventRecurringFrequency?l.$watch("block['donation-default']",function(e,n){e!==n&&(l.MODEL.items[0].raw_final_price=e),"Custom"==(l.MODEL.items[0].raw_final_price=e)&&(l.MODEL.items[0].raw_final_price="")}):(l.$watch("block['donation-default']",function(e,n){e!==n&&"one-time"==l.MODEL.frequency&&(l.MODEL.items[0].raw_final_price=e),"one-time"==l.MODEL.frequency?l.MODEL.items[0].raw_final_price=e:l.MODEL.items[0].previous_frequency_price=e,"Custom"==e&&("one-time"==l.MODEL.frequency?l.MODEL.items[0].raw_final_price="":l.MODEL.items[0].previous_frequency_price="")}),l.$watch("block['recurring-donation-default']",function(e,n){e!==n&&"one-time"!==l.MODEL.frequency&&(l.MODEL.items[0].raw_final_price=e),"one-time"!==l.MODEL.frequency?l.MODEL.items[0].raw_final_price=e:l.MODEL.items[0].previous_frequency_price=e,"Custom"==e&&("one-time"!==l.MODEL.frequency?l.MODEL.items[0].raw_final_price="":l.MODEL.items[0].previous_frequency_price="")}))},currencyDefaults:function(){l.MODEL.payment=l.MODEL.payment||{},l.MODEL.payment.raw_currency_code=l.campaign.current.raw_currency_code||m.getDefaultCurrency(),"reg_w_fund"!==r.active.current.type&&"ticketed"!==r.active.current.type||window.newrelic&&window.newrelic.log("currency_init",{level:"trace",customAttributes:{currency:_.get(l,"MODEL.payment.raw_currency_code"),url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}})}},l.$watch("campaign.current.use_intelligent_ask_onetime",function(e){l.globalState.isPreview&&(e?p(l.state.levels):l.setup.levels())}),l.$watch("campaign.current.use_intelligent_ask_recurring",function(e){l.globalState.isPreview&&(e?p(l.state.recurringDonationLevels):l.setup.recurringDonationLevels())}),l.selectRadioFrequency=function(e){var n;e&&s.hasPay()&&(n=r.active.current.type,i.eventBeacon({category:"frs "+n,action:"click",label:"Donation Frequency – "+e+" (non-text link)"}))},l.state={mode:"default",levels:_.cloneDeep(l.block["donation-levels"]),recurringDonationLevels:_.cloneDeep(l.block["recurring-donation-levels"]),frequencyMode:l.block["recurring-default"],recurringArray:["daily","weekly","bi-weekly","monthly","quarterly","semi-annually","yearly"],presetIndex:null},l.show={amountInput:function(){return!_.includes(["3","6"],l.block["recurring-level"])},frequencyInput:function(){return"default"===l.state.mode},levels:function(){return!_.includes(["3","6"],l.block["recurring-level"])}},l.build={titleText:function(){return"membership"===l.state.mode?"Your membership investment":"one-time"===l.state.mode?"One-time gift:":"Select an amount"},labelText:function(){return"membership"===l.state.mode?"Monthly investment of:":"4"==l.block["recurring-level"]?"Your monthly recurring donation:":"Your donation:"}},l.template=function(e){return"global/objects/scBlock/types/frs-donation/components/amount/partials/"+e},l.selectAmount=function(e){l.MODEL.items[0].raw_final_price=e||null},l.selectOther=function(){l.MODEL.items[0].raw_final_price=null,angular.element('[name="amount"]').focus()},l.maxDonation=1e7,l.minDonation=1,l.setup.mode(),l.setup.levels(),l.preventOldrfForDeque||l.preventRecurringFrequency||l.setup.recurringDonationLevels(),l.setup.intlEstimates(),l.setup.currencyDefaults(),l.autoRound=!1,l.displayRecurringExperiment=function(){return e.RECURRING_EXPERIMENT&&"default"==l.state.mode&&l.block.recurring_donation_experiment},n(function(){l.globalState.isPreview&&(l.setup.previewDefaults(),l.setup.currencyDefaults())}),r.active.multiCurrencyDisabled()?l.setup.currencyDefaults():(l.$watchGroup(["META.summaryAmount","META.unsupportedTaxCompliance"],function(e){var n;e[1]&&(n=g.currentTaxableEntity||{currency_code:"USD",country:"US"},e=e[0],m.convertValue(e,l.MODEL.payment.raw_currency_code,n.currency_code).then(function(e){l.META.estimatedCharge={amount:e,currency:n.currency_code,country:_.find(a,function(e){return e.value==n.country}).label,countryCode:n.country}}))}),l.$watch("MODEL.payment.raw_currency_code",function(e,n){"reg_w_fund"!==r.active.current.type&&"ticketed"!==r.active.current.type||window.newrelic&&window.newrelic.log("currency_init",{level:"trace",customAttributes:{oldCurrencyCode:n,newCurrencyCode:e,url:window.location.href,heapUserId:window.heap?window.heap.userId:void 0,referrer:document.referrer}}),y(e,n)})),l.$watch("block['recurring-level']",function(e,n){e!==n&&l.setup.mode()}),l.$watch("block['recurring-default']",function(e,n){e!==n&&l.setup.mode()}),l.$watch("block['donation-levels']",function(e){l.state.levels=_.cloneDeep(e),l.setup.levels()},!0)),b=l.$watch("block['recurring-donation-levels']",function(e){l.state.recurringDonationLevels=_.cloneDeep(e),l.setup.recurringDonationLevels()},!0);function y(a,e){if(a!==e&&!(d.params.currency&&a.toLowerCase()===d.params.currency.toLowerCase()||(c.$broadcast("donationRawCurrencyChange",{currency:a}),l.newCurrencyCode=a,l.oldCurrencyCode=e,g.getTaxEntity(a).then(function(e){var n=e.currency_code;e.currency_code||(n="USD"),l.MODEL.payment.raw_currency_code===a&&(g.setCurrentEntity(e),l.META.taxComplianceLanguage=e.compliance_text,l.META.unsupportedTaxCompliance=a!=n)}),l.globalState.isPreview))){var t=l.campaign.current.raw_currency_code,i=l.MODEL.items[0].raw_final_price||0,o=l.MODEL.items[0].previous_frequency_price||0,r=!1,s=!1;if(l.autoRound=0==m.getAllowedDecimals(a),m.convertValue(1,"USD",a).then(function(e){l.MODEL.payment.raw_currency_code===a&&(l.minDonation=Math.ceil(e))}),m.convertValue(1e7,"USD",a).then(function(e){l.MODEL.payment.raw_currency_code===a&&(l.maxDonation=Math.round(e))}),_.forEach(l.state.levels,function(n){n.loading=!0,(l.preventOldrfForDeque||l.preventRecurringFrequency)&&i===n.displayAmount&&(r=n),l.preventOldrfForDeque||l.preventRecurringFrequency||"one-time"==l.MODEL.frequency&&i===n.displayAmount&&!0===n.display_on_page&&(r=n),l.preventOldrfForDeque||l.preventRecurringFrequency||o!==n.displayAmount||(s=n),m.convertValue(n.amount,t,a,!0).then(function(e){l.MODEL.payment.raw_currency_code!==a||(n.displayAmount=Math.ceil(e),n.loading=!1,r===n&&(l.MODEL.items[0].raw_final_price=e),l.preventOldrfForDeque)||l.preventRecurringFrequency||s!==n||(l.MODEL.items[0].previous_frequency_price=e)})}),l.preventOldrfForDeque||l.preventRecurringFrequency||_.forEach(l.state.recurringDonationLevels,function(n){n.loading=!0,"one-time"!==l.MODEL.frequency&&i===n.displayAmount&&!0===n.display_on_page&&(r=n),o===n.displayAmount&&(s=n),m.convertValue(n.amount,t,a,!0).then(function(e){l.MODEL.payment.raw_currency_code===a&&(n.displayAmount=Math.ceil(e),n.loading=!1,r===n&&(l.MODEL.items[0].raw_final_price=e),s===n)&&(l.MODEL.items[0].previous_frequency_price=e)})}),!r){if(l.state.fixedAmount&&(i=l.setup.amount(),e=t),d.params.currency&&d.params.amount&&h)return void(h=!1);m.convertValue(i,e,a,!1).then(function(e){var n,t;l.MODEL.payment.raw_currency_code===a&&(t=e<1||l.autoRound,n=Math.ceil(e),e=parseFloat(e.toFixed(m.getAllowedDecimals(a))),t=t?n:e,l.preventRecurringFrequency||c.$broadcast("selectedAmountChange",t),l.MODEL.items[0].raw_final_price="clear"===l.MODEL.items[0].raw_final_price?"clear":t||null)})}l.IAAState.oneTime&&m.convertValue(u.getAmountOneTime(),"USD",a).then(function(e){l.MODEL.payment.raw_currency_code===a&&(e={oneTime:e},l.IAAState.recurring&&(e.recurring=l.IAAState.recurring),l.IAAState=e)}),l.IAAState.recurring&&m.convertValue(u.getAmountRecurring(),"USD",a).then(function(e){l.MODEL.payment.raw_currency_code===a&&(e={recurring:e},l.IAAState.oneTime&&(e.oneTime=l.IAAState.oneTime),l.IAAState=e)})}}l.$on("cpIntelligentAsk:amountsUpdated",function(){var e;u.hasAccessAmounts()&&f.hasIntelligentAsk()&&(l.globalState.isPreview||(l.IAAState={},e={urlAmount:t.amount&&+t.amount,defaultFrequency:l.state.frequencyMode,oneTime:l.state.levels,recurring:l.state.recurringDonationLevels},u.amountsPromise.then(function(){var e,n={};f.hasIntelligentAskOneTime()&&(v(),n.oneTime=u.getAmountOneTime(),e=u.getAmountLevelsOneTime())&&e.length&&(l.state.levels=_.cloneDeep(e),l.setup.levels()),f.hasIntelligentAskRecurring()&&(b(),n.recurring=u.getAmountRecurring(),e=u.getAmountLevelsRecurring())&&e.length&&(l.state.recurringDonationLevels=_.cloneDeep(e),l.setup.recurringDonationLevels()),l.IAAState=n,l.newCurrencyCode&&l.oldCurrencyCode&&y(l.newCurrencyCode,l.oldCurrencyCode)}).finally(function(){u.isInit&&n(function(){u.sendHeapEvent("load",l.MODEL,e)},100)})))}),l.$watch("items[0].raw_final_price",function(e){l.META.summaryAmount=e}),_.merge(l.MODEL,{frequency:l.setup.frequency(),items:[{type:"donation",product_name:"Donation",raw_final_price:l.setup.amount(),previous_frequency_price:!l.preventOldrfForDeque&&!l.preventRecurringFrequency&&l.setup.setPreviousFrequencyPrice()}]})}]),(()=>{function e(o,r,n){o.CONSTANTS={ADDRESS_REQUIRED_ERROR_TEXT:"Don't forget to include a dedication street address.",COUNTRY_REQUIRED_ERROR_TEXT:"Don't forget to include a dedication country.",CITY_REQUIRED_ERROR_TEXT:"Don't forget to include a dedication city.",EMAIL_ADDRESS_FORMAT_ERROR_TEXT:"Please enter dedication recipient email in the format: name@domain.com.",NAME_REQUIRED_ERROR_TEXT:"Don't forget to give us a name for the dedication.",OPTIONAL_RECIPIENT_EMAIL:"Optionally send a notification email"},o.setup={country:function(){return"CAD"===o.CURRENCY.code?"CA":"US"}},o.state={dedicationFormEnabled:!1,postcardEnabled:!1},o.list={ecards:o.campaign.current.ecards},o.helpers={isZipValid:function(e){if(!e){var n=o.dedicationForm.postal_code;if(!n||!n.$dirty)return!0;if(n&&n.$dirty&&!n.$modelValue)return!1}try{return i18nZipcodes(o.dedicationModel.country,e||o.dedicationModel.postal_code)}catch(e){return!0}}},o.show={dedicationForm:function(){return o.state.dedicationFormEnabled},emailForm:function(){return o.campaign.current.send_dedication_emails},postcardToggle:function(){return o.campaign.current.offer_dedication_postal_notifications},postcardForm:function(){return o.state.postcardEnabled},states:function(){return"US"===o.dedicationModel.country},provinces:function(){return"CA"===o.dedicationModel.country},genericLevel1:function(){return!_.includes(["US","CA"],o.dedicationModel.country)},ecardsForm:function(){return o.campaign.current.allow_ecards},requiredDedicationInfo:function(){return o.dedicationModel.message||o.dedicationModel.email_address||o.dedicationModel.name||o.dedicationModel.ecard_id}},o.build={recipientInfoRequiredError:function(){var e=o.UTIL.showError("dedicationForm.name","required")?"name ":"",n=o.UTIL.showError("dedicationForm.email_address","required")?"email ":"";return"Don't forget to include the "+e+(e&&n?"and ":"")+n+"of your recipient."},regionLabel:function(){return"US"===o.dedicationModel.country?"State":"CA"===o.dedicationModel.country?"Province":"Region"},zipPlaceholder:function(){return"US"===o.dedicationModel.country?"ZIP":"Postal Code"},regionType:function(){return"US"===o.dedicationModel.country?"state":"CA"===o.dedicationModel.country?"province":""},postalType:function(){return"US"===o.dedicationModel.country?"ZIP code":"postal code"},postalCodeError:function(){var e=o.build.postalType(),n=o.helpers.isZipValid();return o.UTIL.showError("dedicationForm.postal_code","required")?"Don't forget to include a "+(o.UTIL.showError("dedicationForm.postal_code","required")?e:"")+".":n?void 0:"Please enter a valid "+e+"."},previewLink:function(){var e=void 0,e=o.dedicationModel.ecard_message?o.dedicationModel.ecard_message.replace(/(<([^>]+)>)/gi,"").replace(/(?:\r\n|\r|\n)/g,"<br />"):"Your Message here.";o.activeEcard=_.filter(o.list.ecards,function(e){return e.id==o.dedicationModel.ecard_id})[0],o.emailMessage=e,n.open({templateUrl:"global/objects/scBlock/types/donation/dedication/ecard-preview-modal",context:o,maxWidth:520})}},o.template=function(e){return"global/objects/scBlock/types/frs-donation/components/dedication/partials/"+e},o.selectEcard=function(e){o.dedicationModel.ecard_id=e},o.parseRecipientAddressAutocomplete=function(n){r(function(){var e=n.subpremise?n.address+", "+n.subpremise:n.address;_.merge(o.dedicationModel,{address:e,postal_code:n.postalCode,city:n.city,state:n.state,country:n.country})})},o.dedicationModel={type:"honor",honoree_name:null,name:null,email_address:null,address:null,city:null,state:null,country:o.setup.country(),postal_code:null,ecard_id:null,ecard_message:null},o.$watch("state.dedicationFormEnabled",function(e){e?(o.MODEL.dedication=o.dedicationModel,o.FORM.$addControl(o.dedicationForm),_.forEach(["name","email_address","honoree_name","country","address","city","state","postal_code"],function(e){o.dedicationForm[e]&&o.dedicationForm[e].$validate()})):(o.MODEL.dedication=null,o.FORM.$removeControl(o.dedicationForm))}),o.applyZipCodeValidation=function(e){var n=o.helpers.isZipValid(e),e=document.getElementById("donation-page_checkout_dedication-form"),t=e?e.querySelector('label[name="postal_code_label"]'):null,a=e?e.querySelector('input[name="postal_code"]'):null,i=e?e.querySelector('span[name="postal_code_error"]'):null;t&&a&&i&&r(function(){n?(t.classList.remove("sc-form-error"),a.classList.remove("sc-form-error"),a.setAttribute("aria-invalid",!1),i.classList.remove("sc-form-error")):(t.classList.add("sc-form-error"),a.classList.add("sc-form-error"),a.setAttribute("aria-invalid",!0),i.classList.add("sc-form-error"))})},o.$watch("dedicationModel.postal_code",function(e){o.applyZipCodeValidation(e)}),o.$watch("dedicationModel.country",function(){o.applyZipCodeValidation(o.dedicationModel.postal_code)})}e.$inject=["$scope","$timeout","scFlowModalService"],angular.module("classy").controller("frsDonationDedicationCtrl",e)})(),(()=>{function e(e){e.CONSTANTS={SELECT_DESIGNATION_REQUIRED_ERROR_TEXT:"Please select a designation from the list."},e.list={designations:e.campaign.current.designations},_.merge(e.MODEL,{designation:null})}e.$inject=["$scope"],angular.module("classy").controller("frsDonationDesignationCtrl",e)})(),angular.module("classy").controller("frsDonationDonorCtrl",["$scope","$timeout","scCurrencyService","scMembersService","scOrganizationsService","scFroalaOptions","CHAR_LIMITS",function(o,r,e,n,t,a,i){o.setup={optionalQuestions:function(){_.forEach(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},function(e){var n;"donation_page"===e.location&&!1===e.is_deleted&&(n={question_id:e.id,answer:void 0},o.list.optionalQuestions[e.tag]=e,o.MODEL.answers.push(n),o.META.answers[e.tag]=function(){return arguments.length&&(n.answer=arguments.length<=0?void 0:arguments[0]),n.answer})}),o.list.optionalQuestions.prefix&&!(o.list.optionalQuestions.prefix.enum_options||[]).length&&(o.list.optionalQuestions.prefix.enum_options=["Mr.","Ms.","Mrs.","Miss","Dr."].map(function(e){return{label:e}})),o.list.optionalQuestions.gender&&!(o.list.optionalQuestions.gender.enum_options||[]).length&&(o.list.optionalQuestions.gender.enum_options=["Male","Female","Prefer not to state/Other"].map(function(e){return{label:e}}))},customQuestions:function(){_.forEach(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],function(e){var n;"donation_page"===e.location&&!1===e.is_deleted&&(n={question_id:e.id,question_type:e.type,answer:void 0},o.list.customQuestions.push(e),o.MODEL.answers.push(n),o.META.answers[e.id]=function(){return arguments.length&&(n.answer=arguments.length<=0?void 0:arguments[0]),n.answer})}),o.list.customQuestions.sort(function(e,n){return e.weight-n.weight})},memberFirstName:function(){return o.CONTEXT.autofill.first||_.get(n,"active.current.first_name")||""},memberLastName:function(){return o.CONTEXT.autofill.last||_.get(n,"active.current.last_name")||""},memberEmailAddress:function(){return o.CONTEXT.autofill.email||_.get(n,"active.current.email_address")||""},memberOptIn:function(){return o.campaign.current.opt_in_checked_by_default},memberPhone:function(){return o.CONTEXT.autofill.phone||""},country:function(){return o.organization.multiCurrencyDisabled()?"CA"===o.organization.current.country||"CAN"===o.organization.current.country?"CA":"US":e.getBrowserLocale()||("CAD"===o.CURRENCY.code?"CA":"US")},address:function(){return o.CONTEXT.autofill.street||""},city:function(){return o.CONTEXT.autofill.city||""},state:function(){return o.CONTEXT.autofill.state||""},postalCode:function(){return o.CONTEXT.autofill.zip||""},showAddressLine2:function(){return!1}},o.CONSTANTS={ADDRESS_REQUIRED_ERROR_TEXT:"Don't forget to provide an address.",ANONYMOUS_DONATION_TOOLTIP_TEXT:"We will only use your name to send you a receipt with tax information.",ANONYMOUS_DONATION_CHECKBOX_LABEL:"Hide my name from the public.",ANONYMOUS_DONATION_AMOUNTS_LABEL:"Hide my donation amount from the public.",BLOG_ADDRESS_REQUIRED_ERROR_TEXT:"Please enter a blog address.",CELL_NUMBER_REQUIRED_ERROR_TEXT:"Please enter your cell number.",CHARACTER_LIMIT_ERROR_TEXT:"Please enter 1000 characters or less.",STATE_REQUIRED_ERROR_TEXT:"Don't forget to provide a state.",PROVINCE_REQUIRED_ERROR_TEXT:"Don't forget to provide a province.",REGION_REQUIRED_ERROR_TEXT:"Don't forget to provide a region.",CITY_REQUIRED_ERROR_TEXT:"Don't forget to provide a city.",COMPANY_REQUIRED_ERROR_TEXT:"Please enter a company.",COUNTRY_REQUIRED_ERROR_TEXT:"Please select your country.",DOLLAR_AMOUNT_VALID_ERROR_TEXT:"Please enter a valid dollar amount.",EMAIL_ADDRESS_REQUIRED_ERROR_TEXT:"Don't forget your email address.",EMAIL_ADDRESS_FORMAT_ERROR_TEXT:"Please enter in the format: name@domain.com.",FIELD_REQUIRED_ERROR_TEXT:"This field is required.",GENDER_REQUIRED_ERROR_TEXT:"Please select a gender.",PRONOUN_REQUIRED_ERROR_TEXT:"Please select a pronoun.",NUMBERS_ONLY_ERROR_TEXT:"Please enter numbers only.",PHONE_NUMBER_VALID_ERROR_TEXT:"Please enter a valid phone number.",PHONE_NUMBER_REQUIRED_ERROR_TEXT:"Don't forget your phone number.",TITLE_REQUIRED_ERROR_TEXT:"Please select a title.",SUFFIX_REQUIRED_ERROR_TEXT:"Please select a suffix.",WEBSITE_REQUIRED_ERROR_TEXT:"Please enter a website.",CHARACTER_LIMIT_255_MESSAGE:"Please limit your answer to 255 or less characters."},o.countryResitrictedText=_.get(t,"active.current.restricted_country_information.drop_down_text"),o.phoneValidationRegex=/^[0-9]*$/,o.helpers={isZipValid:function(e){if(!e){var n=angular.element("[id=donation-page_checkout_donor-information-form]").controller("form");if(!n)return!0;n=n.billing_postal_code;if(!n||!n.$dirty)return!0;if(n&&n.$dirty&&!n.$modelValue)return!1}try{return i18nZipcodes(o.MODEL.billing_country,e||o.MODEL.billing_postal_code)}catch(e){return!0}}},o.parseBillingAddressAutocomplete=function(e){r(function(){_.merge(o.MODEL,{billing_address1:e.address,billing_address2:e.subpremise,billing_postal_code:e.postalCode,billing_city:e.city,billing_state:e.state,billing_country:e.country}),o.showAddressLine2=!!e.subpremise})},o.list={optionalQuestions:{},customQuestions:[]},o.show={anonymous:function(){return!o.campaign.current.hide_anonymous_donations},anonymousDonationAmounts:function(){return o.campaign.current.hide_donation_amounts},prefix:function(){return o.list.optionalQuestions.prefix},middleName:function(){return o.list.optionalQuestions.middle_name},suffix:function(){return o.list.optionalQuestions.suffix},optIn:function(){return!o.campaign.current.hide_donor_opt_in},comment:function(){return!o.campaign.current.hide_donation_comments},cellPhone:function(){return o.list.optionalQuestions.cellphone},homePhone:function(){return o.list.optionalQuestions.homephone},mgive:function(){return!!o.organization.current.mgive_settings&&o.list.optionalQuestions.cellphone&&o.list.optionalQuestions.text_opt_in},company:function(){return o.list.optionalQuestions.company_name},blog:function(){return o.list.optionalQuestions.blog},website:function(){return o.list.optionalQuestions.website},gender:function(){return o.list.optionalQuestions.gender},pronoun:function(){return o.list.optionalQuestions.pronoun},birthdate:function(){return o.list.optionalQuestions.birthdate},customQuestions:function(){return o.list.customQuestions.length},states:function(){return"US"===o.MODEL.billing_country},provinces:function(){return"CA"===o.MODEL.billing_country},genericLevel1:function(){return!_.includes(["US","CA"],o.MODEL.billing_country)}},o.get={homephone:function(e){return _.get(o.list.optionalQuestions,"homephone."+e,!1)}},o.handleAddLine2Click=function(){o.showAddressLine2=!0},o.build={mgiveMessage:function(){return o.organization.current.mgive_settings.messaging},nameError:function(){var e=o.UTIL.showError("member_first_name","required")?"first":"",n=o.UTIL.showError("optional_middle_name","required")?"middle":"",t=o.UTIL.showError("member_last_name","required")?"last":"",a=e&&n&&t?", ":"";return"Be sure to provide your "+e+a+(e&&(n||t)&&!a?" and ":"")+n+a+(n&&t?" and ":"")+t+" name."},birthdateError:function(){var e=o.UTIL.showError("optional_birthdate","monthRequired")?"month":"",n=o.UTIL.showError("optional_birthdate","dayRequired")?"day":"",t=o.UTIL.showError("optional_birthdate","yearRequired")?"year":"";return"Please select a "+((e||n||t?"":"birthdate")||e+(e&&(n||t)?" and ":"")+n+(n&&t?" and ":"")+t)+"."},regionLabel:function(){return"US"===o.MODEL.billing_country?"State & Zip":"CA"===o.MODEL.billing_country?"Province & Postal Code":"Region & Postal Code"},zipPlaceholder:function(){return"US"===o.MODEL.billing_country?"ZIP":"Postal Code"},regionType:function(){return"US"===o.MODEL.billing_country?"state":"CA"===o.MODEL.billing_country?"province":""},zipType:function(){return"US"===o.MODEL.billing_country?"ZIP code":"postal code"},zipError:function(){var e=o.build.zipType(),n=o.helpers.isZipValid();return o.UTIL.showError("billing_postal_code","required")?"Don't forget to include a "+e+".":n?void 0:"Please enter a valid "+e+"."}},o.template=function(e){return"global/objects/scBlock/types/frs-donation/components/donor/partials/"+e},o.PREFLIGHT.parseMemberName=function(){o.MODEL.member_first_name=o.META.member_first_name,o.MODEL.member_last_name=o.META.member_last_name,o.MODEL.member_name=o.META.member_first_name+" "+o.META.member_last_name},o.PREFLIGHT.filterAnswers=function(){var n=[0,!1];o.MODEL.answers=_.filter(o.MODEL.answers,function(e){return e.answer||n.includes(e.answer)})},_.merge(o.MODEL,{answers:[],billing_address1:o.setup.address(),billing_address2:"",billing_city:o.setup.city(),billing_state:o.setup.state(),billing_postal_code:o.setup.postalCode(),billing_country:o.setup.country(),comment:null,member_name:null,member_email_address:o.setup.memberEmailAddress(),member_phone:o.setup.memberPhone(),is_anonymous:!1,opt_in:o.setup.memberOptIn(),opt_in_wording:_.get(t,"active.current.opt_in_wording")||void 0}),_.merge(o.META,{answers:{},member_first_name:o.setup.memberFirstName(),member_last_name:o.setup.memberLastName()}),o.setup.optionalQuestions(_.get(o,"campaign.current.questions.optional")),o.setup.customQuestions(_.get(o,"campaign.current.questions.custom")),o.froalaCommentOptions=a({type:"textarea-counter"},{charCounterCount:!0,charCounterMax:i.DEFAULT_PAGE_COMMENT,htmlAllowedAttrs:["aria-.*"],ariaLabel:"Leave a comment"}),o.froalaSingleLineOptions=a({type:"single-line-counter"},{multiLine:!1,charCounterCount:!0,charCounterMax:i.DEFAULT_PAGE_CUSTOM_QUESTION}),o.froalaCustomQuestionsOptions=a({type:"textarea-counter"},{multiLine:!1,charCounterCount:!0,charCounterMax:i.DEFAULT_PAGE_CUSTOM_QUESTION}),o.applyZipCodeValidation=function(e){var n=o.helpers.isZipValid(e),e=document.getElementById("donation-page_checkout_donor-information-form"),t=e?e.querySelector('span[name="billing_postal_code_label"]'):null,a=e?e.querySelector('input[name="billing_postal_code"]'):null,i=e?e.querySelector('span[name="billing_postal_code_error"]'):null;t&&a&&i&&r(function(){n?(t.classList.remove("sc-form-error"),a.classList.remove("sc-form-error"),a.setAttribute("aria-invalid",!1),i.classList.remove("sc-form-error")):(t.classList.add("sc-form-error"),a.classList.add("sc-form-error"),a.setAttribute("aria-invalid",!0),i.classList.add("sc-form-error"))})},o.$watch("MODEL.billing_postal_code",function(e){o.applyZipCodeValidation(e)}),o.$watch("MODEL.billing_country",function(){o.applyZipCodeValidation(o.MODEL.billing_postal_code)})}]),(()=>{function e(n,e,t,a){n.state={doubleTheDonationFormEnabled:!1},SC.organization.has_double_the_donation_employer_match&&e.active.getCampaignChannel(t.DTD).then(function(e){n.isEmployerMatchOnDonationPage=_.get(e,"[0].metadata.employer_match_on_donation_page",null),n.isEmployerMatchPreselect=_.get(e,"[0].metadata.employer_match_preselect",!1),n.isEmployerMatchPreselect&&(n.state={doubleTheDonationFormEnabled:!0})}).catch(function(){a("There was an error fetching the campaign channel status.","error")}),n.show={doubleTheDonationForm:function(){return n.state.doubleTheDonationFormEnabled}},n.template=function(e){return"global/objects/scBlock/types/frs-donation/components/double-the-donation/partials/"+e},n.$watch("state.doubleTheDonationFormEnabled",function(e){e?(n.FORM.$addControl(n.doubleTheDonationForm),window.doublethedonation.plugin.load_streamlined_input()):n.FORM.$removeControl(n.doubleTheDonationForm)})}e.$inject=["$scope","scCampaignsService","CHANNEL","scBanner"],angular.module("classy").controller("frsDoubleTheDonationCtrl",e)})(),(()=>{function e(t,e,n,a){t.list={faqs:t.demo&&!_.get(t,"campaign.current.faqs.data.length",0)?[{question:"Is this donation tax deductible?",answer:"We are a 501(c)3 tax-exempt organization and your donation is tax-deductible within the guidelines of U.S. law. To claim a donation as a deduction on your U.S. taxes, please keep your email donation receipt as your official record. We'll send it to you upon successful completion of your donation."}]:_.get(t,"campaign.current.faqs.data",[])},t.scAuth=a,t.loggedIn=!!n.active.current.id,t.login=function(){a.loginOnly({callback:e.location.href})},t.$watch(function(){return _.get(n,"active.current.id")},function(e,n){e!==n&&(t.loggedIn=!!e)})}e.$inject=["$scope","$window","scMembersService","scAuth"],angular.module("classy").controller("frsDonationFaqCtrl",e)})(),(()=>{function e(e,n,t,a,i){var o=i.PAYMENT_METHODS,i=(e.show={creditee:function(){return e.META.creditee},achTerms:function(){return e.API.getPaymentMethod()===o.ACH},feeOnTop:function(){return e.API.showFeeOnTopAndTerms()},terms:function(){return e.API.showFeeOnTopAndTerms()}},e.META.showTaxComplianceLanguage=e.META.taxComplianceLanguage&&""!==e.META.taxComplianceLanguage&&!t.active.multiCurrencyDisabled(),!!n.SC.processors&&n.SC.processors.ACH);e.META.stripeACHEnabled=i&&"STRIPE"===i.name,e.build={logoSrc:function(){return e.META.creditee.logo?e.META.creditee.logo.sizes.full:_.isUndefined(e.META.creditee.team_lead_id)?"/static/global/images/individual_default_image.png":"/static/global/images/team_default_image.png"},terms:function(){var e=a.active.current,n=e.privacy_policy_url,e=e.url;return n?"We partner with GoFundMe to power this page. By donating, you agree to our <a href="+n+' target="_blank">Privacy Policy</a>,along with the <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.':e?"We partner with GoFundMe to power this page. By donating, you agree to our <a href="+e+' target="_blank">Privacy Policy</a>,along with the <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.':'We partner with GoFundMe to power this page. By donating, you agree to <a href="https://www.gofundme.com/c/terms" target="_blank">GoFundMe Terms</a> and <a href="https://www.gofundme.com/c/privacy" target="_blank">GoFundMe Privacy Notice</a>.'}}}e.$inject=["$scope","$window","scCampaignsService","scOrganizationsService","cpConstants"],angular.module("classy").controller("frsDonationFooterCtrl",e)})(),(()=>{function e(e,n){e.showGiftAid=function(){return"GBP"===e.MODEL.payment.raw_currency_code},e.giftAidValue=function(){return n("scFormatCurrency")(1.25*e.MODEL.items[0].raw_final_price||25,e.MODEL.payment.raw_currency_code,2)},e.giftValue=function(){return n("scFormatCurrency")(e.MODEL.items[0].raw_final_price||20,e.MODEL.payment.raw_currency_code,2)},e.giftAidSelected=function(){return e.MODEL.is_gift_aid},_.merge(e.MODEL,{is_gift_aid:!1})}e.$inject=["$scope","$filter"],angular.module("classy").controller("frsDonationGiftaidCtrl",e)})(),(()=>{function e(n){n.CONSTANTS={EMAIL_ADDRESS_REQUIRED_ERROR_TEXT:"Please enter your employee email.",EMAIL_ADDRESS_FORMAT_ERROR_TEXT:"Please enter in the format: name@domain.com.",TYPE_EMPLOYER_REQUIRED_ERROR_TEXT:"Please type in your employer name."},n.state={matchingFormEnabled:!1},n.show={matchingForm:function(){return n.state.matchingFormEnabled}},n.template=function(e){return"global/objects/scBlock/types/frs-donation/components/matching/partials/"+e};var t={employer_name:""};n.$watch("state.matchingFormEnabled",function(e){e?(n.FORM.$addControl(n.matchingForm),n.MODEL.employer_match=t):(n.FORM.$removeControl(n.matchingForm),n.MODEL.employer_match=null)})}e.$inject=["$scope"],angular.module("classy").controller("frsDonationMatchingCtrl",e)})(),(()=>{function e(l,c,a,e,n,t,i,d,o){var r=t.active;function u(e,n,t,a,i,o){var r=l.API.getPaymentMethod();0<e&&d.calculateFees({type:"donation",fot:n,amount:e,frequency:o,overrides:{currency:t,processor_name:l.SC.processors[r].name,payment_method:r,amex:a,international:i}})}l.isPaymentAuthSuccess=!1,l.$on("checkPaymentAuthStatus",function(e,n){(l.isPaymentAuthSuccess=n)&&(l.MODEL.company_name=null)}),l.$on("donationPage:recalculateFees",function(){u(l.MODEL.items[0].raw_final_price,l.MODEL.fee_on_top,l.MODEL.payment.raw_currency_code,d.isAmex,"US"!==l.MODEL.billing_country,l.MODEL.frequency)}),l.$on("feesCalculated",function(){var e,n,t,a;l.MODEL.fee_on_top?(e=d.getFeesByType("donation"),a=l.MODEL.items[0].raw_final_price,n=d.fees.donation.grossAdjustment,t=i.getAllowedDecimals(l.MODEL.payment.raw_currency_code),a=(a=parseFloat(e)+parseFloat(a)).toFixed(t),l.META.summaryAmount=parseFloat(a),l.MODEL.fee_on_top_amount=parseFloat(e),l.MODEL.gross_adjustment=n):(l.META.summaryAmount=l.MODEL.items[0].raw_final_price,l.MODEL.gross_adjustment={},l.MODEL.fee_on_top_amount=null),0<l.META.summaryAmount&&(l.META.fixedDonationAmount=!0),l.globalState.feeProcessing=!1}),l.META.showPaymentDetails=!1,l.META.digitalWalletType="",l.showDigitalWallets=function(e){l.META.digitalWalletsEnabled=e},o.addShowDigitalWalletsListener(l.showDigitalWallets),l.PREFLIGHT.payment=function(){return o.isDigitalWalletSubmission?l.API.setModelPaymentMethodGateway(o.isDigitalWalletSubmission):l.API.setModelPayment()},l.setup={applicationId:function(){return t.getTag("classyPayApplicationId")},billingFirstName:function(){return l.CONTEXT.autofill.first||_.get(n,"active.current.first_name")||""},billingLastName:function(){return l.CONTEXT.autofill.last||_.get(n,"active.current.last_name")||""},country:function(){return r.multiCurrencyDisabled()?"CA"===r.current.country||"CAN"===r.current.country?"CA":"US":i.getBrowserLocale()||("CAD"===l.CURRENCY.code?"CA":"US")},address:function(){return l.CONTEXT.autofill.street||""},city:function(){return l.CONTEXT.autofill.city||""},state:function(){return l.CONTEXT.autofill.state||""},postalCode:function(){return l.CONTEXT.autofill.zip||""},feeOnTop:function(){return l.campaign.current.classy_mode_checked_by_default||!1},feeOnTopAmount:function(){return 0},showAddressLine2:function(){return!1}},l.CONSTANTS={ADDRESS_REQUIRED_ERROR_TEXT:"Don't forget to provide an address.",COUNTRY_REQUIRED_ERROR_TEXT:"Please select your country.",CITY_REQUIRED_ERROR_TEXT:"Don't forget to provide a city.",CVV_PATTERN_ERROR_TEXT:"Please enter a valid 3 or 4 digit security code.",CVV_REQUIRED_ERROR_TEXT:"Please enter the 3 or 4 digit security code on your card.",CVV_TOOLTIP_TEXT:"For MasterCard or Visa it is the last three digits in the signature area on the back of your card. For American Express it is the four digits on the front of the card.",PAN_ENTER_CARD_NUMBER_ERROR_TEXT:"Please enter your card number.",PAN_VALID_CARD_NUMBER_ERROR_TEXT:"Please enter a valid credit card number."},l.countryResitrictedText=_.get(t,"active.current.restricted_country_information.drop_down_text"),l.state={debounce:null},l.helpers={isZipValid:function(){var e=angular.element("[id=donation-page_checkout_payment-form]").controller("form");if(!e)return!0;e=e.billing_postal_code;if(!e||!e.$dirty)return!0;if(e&&e.$dirty&&!e.$modelValue)return!1;try{return i18nZipcodes(l.MODEL.billing_country,l.MODEL.billing_postal_code)}catch(e){return!0}},validateForm:function(){l.FORM.$setSubmitted();var e=Object.values(l.FORM.$error).flat(),n=["$ctrl.form","routing_number","account_number"],t=e.filter(function(e){return!n.includes(e.$name)});return c(function(){var e;0<t.length&&(a.SC.status.banner={type:"error",msg:"Oops! Please complete the required fields."},$("form").find(".sc-form-error").offset())&&(e=$("form").find(".sc-form-error").offset().top-100,angular.element("html, body").animate({scrollTop:e},1e3))}),0===t.length}},l.show={classyMode:function(){return e.active.current.classy_mode_enabled},states:function(){return"US"===l.MODEL.billing_country},provinces:function(){return"CA"===l.MODEL.billing_country},genericLevel1:function(){return!_.includes(["US","CA"],l.MODEL.billing_country)},companyName:function(){return e.active.current.corporate_donation_enabled&&!l.isPaymentAuthSuccess}},l.build={classyModeAppeal:function(){return l.campaign.current.classy_mode_appeal||"\n        <p>I'd like to cover the processing fee so 100% of my donation goes to "+t.active.current.name+".</p>\n      "},stripTagsFromAppeal:function(){return this.classyModeAppeal().replace(/(<([^>]+)>)/gi,"")},regionLabel:function(){return"US"===l.MODEL.billing_country?"State & Zip":"CA"===l.MODEL.billing_country?"Province & Postal Code":"Region & Postal Code"},zipPlaceholder:function(){return"US"===l.MODEL.billing_country?"ZIP":"Postal Code"},regionType:function(){return"US"===l.MODEL.billing_country?"state":"CA"===l.MODEL.billing_country?"province":""},zipType:function(){return"US"===l.MODEL.billing_country?"ZIP code":"postal code"},regionZipError:function(){var e=l.build.zipType(),n=l.helpers.isZipValid();return l.UTIL.showError("billing_postal_code","required")?"Don't forget to include a "+e+".":n?void 0:"Please enter a valid "+e+"."},nameError:function(){var e=l.UTIL.showError("billing_first_name","required")?"first":"",n=l.UTIL.showError("billing_last_name","required")?"last":"";return"Please enter your billing "+e+(e&&n?" and ":"")+n+" name."}},l.template=function(e){return"global/objects/scBlock/types/frs-donation/components/payment/partials/"+e},_.merge(l.MODEL,{application_id:l.setup.applicationId(),billing_first_name:l.setup.billingFirstName(),billing_last_name:l.setup.billingLastName(),billing_address1:l.setup.address(),billing_address2:"",billing_city:l.setup.city(),billing_state:l.setup.state(),billing_postal_code:l.setup.postalCode(),billing_country:l.setup.country(),fee_on_top:l.setup.feeOnTop(),fixed_fot_percent:d.fixedFotPercent,fixed_fot_enabled:d.fixedFotEnabled&&l.setup.feeOnTop(),fee_on_top_amount:l.setup.feeOnTopAmount(),gross_adjustment:{}}),l.api={},l.$watchGroup(["META.member_first_name","META.member_last_name"],function(e,n){l.MODEL.billing_first_name===n[0]&&(l.MODEL.billing_first_name=e[0]),l.MODEL.billing_last_name===n[1]&&(l.MODEL.billing_last_name=e[1])}),l.$watchGroup(["MODEL.items[0].raw_final_price","MODEL.fee_on_top","MODEL.payment.raw_currency_code","MODEL.billing_country","MODEL.payment.method"],function(e,n){var t=e[0],a=e[1],i=e[2],o=d.isAmex,r="US"!==e[4],s=l.MODEL.frequency,e=n[1];a===e||a||l.API.resetPaymentMethod(),l.state.debounce&&c.cancel(l.state.debounce),l.MODEL.fixed_fot_enabled=a&&d.fixedFotEnabled,t&&a?(l.globalState.feeProcessing=!0,n=c(function(){u(t,a,i,o,r,s)},750),l.state.debounce=n):(l.META.summaryAmount=t,l.globalState.feeProcessing=!1,l.MODEL.gross_adjustment={},l.MODEL.fee_on_top_amount=null)}),l.$watch("META.showCompanyName",function(e){e||(l.MODEL.company_name=null)}),l.$on("fixedFotPercent:updated",function(e,n){l.MODEL.fixed_fot_percent=n,u(l.MODEL.items[0].raw_final_price,l.MODEL.fee_on_top,l.MODEL.payment.raw_currency_code,d.isAmex,"US"!==l.MODEL.billing_country,l.MODEL.frequency)}),l.demo&&l.$watch("campaign.current.classy_mode_checked_by_default",function(e){l.MODEL.fee_on_top=e}),l.$on("donation.failure",function(e,n){l.API.reloadTokenexIframe()})}e.$inject=["$scope","$timeout","$rootScope","scCampaignsService","scMembersService","scOrganizationsService","scCurrencyService","scFeeOnTopService","scDigitalWalletsService"],angular.module("classy").controller("frsDonationPaymentCtrl",e)})(),(()=>{function e(t){t.CONSTANTS={ADDRESS_REQUIRED_ERROR_TEXT:"Don't forget to provide a shipping address.",COUNTRY_REQUIRED_ERROR_TEXT:"Please select your country.",CITY_REQUIRED_ERROR_TEXT:"Don't forget to provide a shipping city."},t.state={useBilling:!1},t.show={error:t.UTIL.showError},t.build={stateZipError:function(){var e=t.show.error("shipping.state","required")?"state":"",n=t.show.error("shipping.postal_code","required")?"ZIP code":"";return"Don't forget to include a shipping "+e+(e&&n?" and ":"")+n+"."}},t.template=function(e){return"global/objects/scBlock/types/frs-donation/components/shipping/partials/"+e},_.merge(t.MODEL,{shipping:{address1:null,address2:null,city:null,state:null,postal_code:null}}),t.PREFLIGHT.copyBillingToShipping=function(){t.state.useBilling&&(t.MODEL.shipping.address1=t.MODEL.billing_address1,t.MODEL.shipping.address2=t.MODEL.billing_address2,t.MODEL.shipping.city=t.MODEL.billing_city,t.MODEL.shipping.state=t.MODEL.billing_state,t.MODEL.shipping.postal_code=t.MODEL.billing_postal_code,t.MODEL.shipping.country=t.MODEL.billing_country)}}e.$inject=["$scope"],angular.module("classy").controller("frsDonationShippingCtrl",e)})(),(()=>{function e(e,n,t,a){e.headerOptions=n({type:"edit-inline"},{ariaLabel:"Donation Page Body Headline"}),e.subheaderOptions=n({type:"edit-inline-subheader"},{ariaLabel:"Donation Page Body Sub Headline"}),void 0!==e.block&&(e.trustedBlockHeadlineHtml=a.trustAsHtml(e.block.headline)),e.isPreview=function(){return t.is("admin.manage.campaign.step.setup")||t.is("admin.manage.campaign.step.design.views.content-blocks")||t.is("admin.manage.campaign.step.design.views.block")}}e.$inject=["$scope","scFroalaOptions","$state","$sce"],angular.module("classy").controller("frsDonationWelcomeCtrl",e)})(),(()=>{e.$inject=["$q","$rootScope","$timeout","$window","$http","cpAPI","bugsnagClient"];var c=function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d={PLAID:"ACH",PAYPAL:"PayPal",STRIPE:"Stripe",TOKENEX:"tokenex"},u={PENDING:"pending",READY:"ready",SUCCESS:"success",FAILURE:"failure",HIDDEN:"hidden"},m={PLAID_SUCCESS:"PLAID_SUCCESS",PLAID_CANCEL:"PLAID_CANCEL",PLAID_FAILURE:"PLAID_FAILURE",PAYPAL_SUCCESS:"PAYPAL_SUCCESS",PAYPAL_CANCEL:"PAYPAL_CANCEL",PAYPAL_FAILURE:"PAYPAL_FAILURE",STRIPE_SUCCESS:"STRIPE_SUCCESS",STRIPE_CANCEL:"STRIPE_CANCEL",STRIPE_FAILURE:"STRIPE_FAILURE"};function e(e,n,o,t,a,i,r){c(l,[{key:"setupStripe",value:function(){var n=this;i.getStripeData().then(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).publishableKey;n.stripe.publishableKey=e,n.stripe.status=u.READY}).catch(r.notify)}},{key:"setupPaypal",value:function(){var n=this;i.getBraintreeToken().then(function(e){braintree.setup(e,"custom",{paypal:{container:"btPaypal",onCancelled:function(){n.paypal.status=u.READY,n.paypal.nonce=null,n.emit(m.PAYPAL_CANCEL)}},onPaymentMethodReceived:function(e){n.reloadTokenexIframe(),n.paypal.status=u.SUCCESS,n.paypal.nonce=e.nonce,n.emit(m.PAYPAL_SUCCESS,e)}}),n.paypal.status=u.READY})}},{key:"setupPlaid",value:function(){var n=this;i.getPlaidToken(this.clientUserId).then(function(e){e=e.linkToken;n.plaid.linkToken=e,n.plaid.status=u.READY}).catch(r.notify)}},{key:"on",value:function(e,n){var t=_.get(this.callbacks,e,[]);t.push(n),_.set(this.callbacks,e,t)}},{key:"once",value:function(e,n){n.once=!0,this.on(e,n)}},{key:"emit",value:function(n){for(var t=this,e=arguments.length,a=Array(1<e?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];console.log(n),o(function(){var e=_.get(t.callbacks,n,[]);_.forEach(e,function(e){return e.apply(void 0,a)}),_.remove(e,"once")})}},{key:"getProcessors",value:function(){return t.SC.processors?e.resolve(t.SC.processors):a.get("/frs-api/pay/processors?appId="+i.getApplicationId()).then(function(e){return e.data})}},{key:"reloadTokenexIframe",value:function(){n.$broadcast("tokenizer","reset")}},{key:"openPlaidDialog",value:function(){var e=this.plaid.linkToken;Plaid.create({product:["auth"],clientName:"Classy Pay",selectAccount:!0,token:e,onSuccess:this.onPlaidSuccess.bind(this),onExit:this.onPlaidCancel.bind(this)}).open()}},{key:"onPlaidSuccess",value:function(e,n){this.reloadTokenexIframe(),this.emit(m.PLAID_SUCCESS,{publicToken:e,accountId:n.account_id,accountName:n.account.name}),this.plaid.status=u.SUCCESS}},{key:"onPlaidCancel",value:function(){this.emit(m.PLAID_CANCEL),this.plaid.status=u.READY}}]);var s=l;function l(){var n=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.element=null,this.callbacks={},this.paypal={status:u.PENDING,nonce:null},this.stripe={status:u.PENDING,publishableKey:""},this.plaid={status:u.PENDING,linkToken:null},this.STATUS=u,this.PAYMENT_METHODS=d,this.EVENTS=m,this.clientUserId=(SC.member.id||SC.heapId).toString(),this.getProcessors().then(function(e){n.processors=e,n.processors[d.STRIPE]&&n.setupStripe(),n.processors[d.PAYPAL]&&n.setupPaypal(),n.processors[d.PLAID]&&n.setupPlaid()})}return s.STATUS=u,s.PAYMENT_METHODS=d,s.EVENTS=m,s}angular.module("classy").factory("ClassyPayFormAPI",e)})(),angular.module("classy").directive("paypalControl",function(){return function(e,n){n.attr("id","btPaypal")}}),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/controls/typeaheadDropdownControlPopup",'<div\n  class="typeahead_popup-placeholder typeahead_custom-popup-container"\n  ng-style="{top: position().top + 8 + \'px\', left: position().left + \'px\'}"\n  style="display: block"\n  ng-show="isOpen() && !moveInProgress"\n  aria-hidden="{{!isOpen()}}"\n>\n  <div ng-repeat="match in matches track by $index">\n    <div\n      ng-if="match.model.isGroupItem"\n      ng-mousedown="$event.preventDefault();"\n      ng-click="$event.stopPropagation(); $event.preventDefault();"\n      ng-style="{\'padding-top\': $first && \'17px\'}"\n      class="typeahead-group-label"\n    >\n      <span>{{ match.model.label }}</span>\n    </div>\n    <div\n      ng-if="!match.model.isGroupItem"\n      class="uib-typeahead-match"\n      ng-class="{active: isActive($index) }"\n      ng-mouseenter="selectActive($index)"\n      ng-click="selectMatch($index)"\n      role="option"\n      id="{{::match.id}}"\n    >\n      {{ match.label }}\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/exit-intent-modal/global.components.exit-intent-modal",'\x3c!-- MODAL --\x3e\n<div\n  class="exit-intent-modal"\n  data-ng-class="{\'exit-intent-modal--hidden\': !$ctrl.is.open || $ctrl.is.opening}"\n>\n  <div class="eg-flex--col exit-intent-modal-body">\n    <div class="eg-text-center">\n      <div class="exit-intent-modal-icon">❤️</div>\n    </div>\n    <div class="eg-pb2 exit-intent-modal-headline eg-bold8 eg-text-mono eg-text-center">\n      Before you go\n    </div>\n    <div class="eg-pb6 exit-intent-modal-paragraph eg-bold5 eg-text-center eg-text-mono-lighter">\n      <div class="eg-pb2">Would you consider a donation?</div>\n      <div>\n        Your support will help\n        <span class="eg-bold7">create change and inspire hope</span> throughout our community.\n      </div>\n    </div>\n    \x3c!-- button --\x3e\n    <div class="eg-pb2 eg-text-center">\n      <button\n        data-ng-click="$ctrl.closeModal()"\n        class="eg-btn exit-intent-modal-btn"\n        data-ng-style="{\'background\': $ctrl.primaryColor}"\n      >\n        Return to donate\n      </button>\n    </div>\n  </div>\n</div>\n\n\x3c!-- BACKDROP --\x3e\n<div\n  data-ng-click="$ctrl.closeModal()"\n  class="exit-intent-modal-backdrop"\n  data-ng-class="{\'exit-intent-modal-backdrop--hidden\': !$ctrl.is.open}"\n></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/crypto-giving/views/crypto-giving.views.checkout-contact",'\x3c!-- [CRYPTO CHECKOUT STEP 2 (contact info)] --\x3e\n<div\n  data-ng-controller="CryptoGivingCheckoutContactCtrl"\n  class="eg-container eg-flex-col eg-flex--between a-fade"\n>\n  <div data-ng-controller="frsDonationDonorCtrl" class="eg-flex-1 eg-flex-col cg-checkout-section">\n    \x3c!-- back nav + header --\x3e\n    <div class="eg-flex-row eg-flex--valign eg-nav">\n      \x3c!-- back arrow navigation --\x3e\n      <div\n        id="cg-contact-btn-back"\n        data-ng-click="goCheckoutDonation()"\n        class="eg-flex eg-interact eg-pr2"\n      >\n        <i class="fa fa-long-arrow-left"></i>\n      </div>\n      <div class="eg-flex-1 eg-flex--center">\n        \x3c!-- custom styles margin left exact width of above arrow + padding right --\x3e\n        <div class="eg-paragraph eg-bold6 text-center eg-nav__label">Donor Information</div>\n      </div>\n    </div>\n    \x3c!-- Donation Amount Hero --\x3e\n    <div\n      class="eg-flex-col eg-flex--center eg-pxy4 eg-mb4 eg-border-round2 eg-background-off-white"\n    >\n      <div data-ng-if="cg.isAmountUSD">\n        \x3c!-- Donation Currency and Amount --\x3e\n        <div class="eg-headline eg-bold7 eg-text-center">{{cg.amount | currency}}</div>\n        <div class="eg-paragraph-xs eg-bold6 eg-text-center">\n          {{ActiveCoin.convertUSD(cg.amount) + \' \' + ActiveCoin.symbol}}\n        </div>\n      </div>\n      <div data-ng-if="!cg.isAmountUSD">\n        \x3c!-- Donation Currency and Amount --\x3e\n        <div class="eg-headline eg-bold7 eg-text-center">\n          {{cg.amount + \' \' + ActiveCoin.symbol}}\n        </div>\n        <div class="eg-paragraph-xs eg-bold6 eg-text-center">\n          {{ActiveCoin.convertCoin(cg.amount)}}\n        </div>\n      </div>\n    </div>\n    \x3c!-- Member First and Last Name --\x3e\n    <div class="eg-flex-row eg-pb6">\n      <div class="eg-pr2 eg-flex-1 eg-flex-col">\n        <div\n          class="eg-pb1 eg-paragraph required"\n          data-sc-form-error="highlight if member_first_name fails"\n        >\n          First Name&nbsp;<span class="eg-error">*</span>\n        </div>\n        <input\n          class="donation-text_input"\n          required\n          type="text"\n          data-ng-model="META.member_first_name"\n          name="member_first_name"\n          aria-label="Please enter your first name"\n          data-sc-form-error="highlight if member_first_name fails"\n          data-sc-retain-focus-validity\n        />\n      </div>\n\n      <div class="eg-pl2 eg-flex-1 eg-flex-col">\n        <div\n          class="eg-pb1 eg-paragraph required"\n          data-sc-form-error="highlight if member_last_name fails"\n        >\n          Last Name&nbsp;<span class="eg-error">*</span>\n        </div>\n        <input\n          required\n          type="text"\n          data-ng-model="META.member_last_name"\n          name="member_last_name"\n          class="donation-text_input"\n          aria-label="Please enter your last name"\n          data-sc-form-error="highlight if member_last_name fails"\n          data-sc-retain-focus-validity\n        />\n      </div>\n    </div>\n    \x3c!-- Member Email --\x3e\n    <div class="eg-flex-col eg-pb6">\n      <label\n        class="eg-paragraph required eg-pb1"\n        data-sc-form-error="highlight if member_email_address fails"\n      >\n        Email for receipt&nbsp;<span class="eg-error">*</span>\n      </label>\n      <input\n        required\n        data-ng-model="MODEL.member_email_address"\n        class="donation-text_input"\n        data-sc-form-error="highlight if member_email_address fails"\n        data-sc-validate-email-address\n        data-sc-retain-focus-validity\n        type="text"\n        name="member_email_address"\n        aria-label="Email address. Your receipt will be emailed here."\n      />\n\n      <div class="eg-flex-col" aria-live="polite" role="alert">\n        <div\n          class="donation-error"\n          data-sc-form-error="show if member_email_address fails required"\n        >\n          {{::CONSTANTS.EMAIL_ADDRESS_REQUIRED_ERROR_TEXT}}\n        </div>\n\n        <div\n          class="donation-error"\n          data-sc-form-error="show if member_email_address fails emailAddress"\n        >\n          {{::CONSTANTS.EMAIL_ADDRESS_FORMAT_ERROR_TEXT}}\n        </div>\n      </div>\n    </div>\n    \x3c!-- Billing Zip --\x3e\n    \x3c!-- TODO wire up controller logic (build.zipPlaceholder() etc) --\x3e\n    <div class="eg-flex-col eg-pb6">\n      <div\n        class="eg-paragraph required eg-pb1"\n        data-sc-form-error="highlight if billing_postal_code fails"\n      >\n        Zip code&nbsp;<span class="eg-error">*</span>\n      </div>\n      <input\n        required\n        type="text"\n        name="billing_postal_code"\n        class="donation-text_input eg-input--half"\n        data-ng-model="MODEL.billing_postal_code"\n        data-ng-minlength="2"\n        data-ng-maxlength="10"\n        data-sc-form-error="highlight if billing_postal_code fails"\n        data-sc-retain-focus-validity\n      />\n      \x3c!-- aria-label="{{ build.zipPlaceholder() }}" --\x3e\n    </div>\n    \x3c!-- "More options" --\x3e\n    <div\n      data-ng-if="!campaign.current.hide_contact_opt_in || show.anonymous() || show.anonymousDonationAmounts()"\n      data-ng-click="toggleVisibilityMoreOptions()"\n      class="eg-flex-row eg-flex--valign eg-interact"\n    >\n      <div class="eg-flex eg-pr3">\n        <i\n          class="fa"\n          data-ng-class="{\'fa-caret-down\': !cg.isVisibleMoreOptions, \'fa-caret-up\': cg.isVisibleMoreOptions}"\n        ></i>\n      </div>\n      <div class="eg-flex-1 eg-paragraph eg-bold6">More options</div>\n    </div>\n    <div data-ng-show="cg.isVisibleMoreOptions" class="eg-flex-col eg-pt2 c-fade">\n      \x3c!-- Marketing opt in --\x3e\n      <div class="eg-contact-consent">\n        <sc-consent\n          data-show="!campaign.current.hide_contact_opt_in"\n          data-opt-in="MODEL.opt_in"\n          data-language="MODEL.opt_in_wording"\n          name="opt_in"\n        ></sc-consent>\n      </div>\n      \x3c!-- Anonymous options --\x3e\n      <div class="eg-flex-col" data-ng-if="show.anonymous() || show.anonymousDonationAmounts()">\n        \x3c!-- Anonymous donor --\x3e\n        <div data-ng-if="show.anonymous()" class="eg-flex-row eg-flex--valign">\n          <div\n            data-sc-checkbox\n            aria-label="Make donation anonymous"\n            class="inline"\n            data-ng-model="MODEL.is_anonymous"\n            name="is_anonymous"\n          >\n            {{::CONSTANTS.ANONYMOUS_DONATION_CHECKBOX_LABEL}}\n          </div>\n          <div title="{{::CONSTANTS.ANONYMOUS_DONATION_TOOLTIP_TEXT}}">\n            <i\n              class="fa fa-question-circle donation-tooltip inline"\n              data-sc-tooltip\n              data-sc-tooltip-class="donation-tooltip_message"\n              data-ng-style="{ color: theme.current.styles.primaryColor }"\n            >\n              {{::CONSTANTS.ANONYMOUS_DONATION_TOOLTIP_TEXT}}\n            </i>\n          </div>\n        </div>\n        \x3c!-- Hide donation amount --\x3e\n        <div data-ng-if="show.anonymousDonationAmounts()" class="eg-flex-row eg-flex--valign">\n          <div\n            data-sc-checkbox\n            aria-label="Make donation anonymous"\n            class="inline"\n            data-ng-model="MODEL.hide_amount"\n            name="hide_amount"\n          >\n            {{::CONSTANTS.ANONYMOUS_DONATION_AMOUNTS_LABEL}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="eg-flex eg-pt4 eg-pb10 cg-checkout-section">\n    <button\n      id="cg-contact-btn-fwd"\n      data-ng-click="goCheckoutWallet()"\n      class="eg-btn eg-btn--lg eg-btn--stretch"\n      data-ng-style="{\'background-color\': cg.primaryColor}"\n      data-ng-disabled="!isValidCryptoContact() || cg.isCheckingOut"\n    >\n'+"      {{!cg.isCheckingOut ? 'Continue' : 'Continuing'}}\n    </button>\n  </div>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/crypto-giving/views/crypto-giving.views.checkout-donation",'\x3c!-- [CHECKOUT STEP 1] --\x3e\n<div\n  data-ng-controller="CryptoGivingCheckoutDonationCtrl"\n  class="eg-container eg-flex-col eg-flex--between a-fade"\n>\n  \x3c!-- TOP --\x3e\n  <div class="eg-flex-col eg-flex-1">\n    \x3c!-- Logo header --\x3e\n    <div class="eg-flex-col eg-pt10 eg-pb8 eg-pb6 cg-checkout-section">\n      <h1 data-ng-bind-html="getHeadlineTrustedHtml()" class="cg-headline"></h1>\n    </div>\n    \x3c!-- Coin Buttons --\x3e\n    \x3c!-- When enough, abstract to ng-repeater. For now this is fine... --\x3e\n    <div class="eg-flex-row eg-flex--center eg-pb6 cg-checkout-section">\n      <button\n        data-ng-click="setActiveCoin(\'BTC\')"\n        class="cg-checkout-coin-btn"\n        style="margin-right: 2px !important"\n        data-ng-class="{\'cg-checkout-coin-btn--active\': ActiveCoin.symbol === \'BTC\'}"\n      >\n        <img\n          sc-cdn-src="{{::CryptoGivingPaths.images.coins.bitcoin}}"\n          class="cg-coin-icon cg-checkout-btn-icon"\n        />\n        <span class="eg-pl1 cg-checkout-btn-label">Bitcoin</span>\n      </button>\n      <button\n        data-ng-click="setActiveCoin(\'ETH\')"\n        class="cg-checkout-coin-btn"\n        style="margin-left: 2px !important; margin-right: 2px !important"\n        data-ng-class="{\'cg-checkout-coin-btn--active\': ActiveCoin.symbol === \'ETH\'}"\n      >\n        <img\n          sc-cdn-src="{{::CryptoGivingPaths.images.coins.ethereum}}"\n          class="cg-coin-icon cg-checkout-btn-icon"\n        />\n        <span class="eg-pl1 cg-checkout-btn-label">Ethereum</span>\n      </button>\n      <button\n        data-ng-click="setActiveCoin(\'USDC\')"\n        class="cg-checkout-coin-btn"\n        style="margin-left: 2px !important"\n        data-ng-class="{\'cg-checkout-coin-btn--active\': ActiveCoin.symbol === \'USDC\'}"\n      >\n        <img\n          sc-cdn-src="{{::CryptoGivingPaths.images.coins.usdc}}"\n          class="cg-coin-icon cg-checkout-btn-icon"\n        />\n        <span class="eg-pl1 cg-checkout-btn-label">USDC</span>\n      </button>\n    </div>\n    \x3c!-- Preset Donation Amount button grid --\x3e\n    <div class="eg-flex-row eg-paragraph eg-bold6 eg-pb1 cg-checkout-section">\n      Choose a donation amount\n    </div>\n    <div class="eg-flex-row eg-mb1 cg-checkout-section">\n      <button\n        data-ng-click="setActiveAmount(cg.donationAmounts[0].amount, true)"\n        class="cg-checkout-preset-donation-amt-btn cg-btn--rows"\n        data-ng-class="{\'cg-checkout-preset-donation-amt-btn--active\': cg.amount === cg.donationAmounts[0].amount}"\n        style="margin-right: 2px !important"\n        data-ng-style="{\'background-color\': cg.amount === \n                cg.donationAmounts[0].amount ? cg.primaryColor : cg.backgroundColor}"\n      >\n        <span>{{cg.donationAmounts[0].amount | currency}}</span>\n        <span data-ng-hide="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >{{ActiveCoin.convertUSD(cg.donationAmounts[0].amount) + \' \' + ActiveCoin.symbol}}</span\n        >\n        \x3c!-- fetching partial --\x3e\n        <span data-ng-show="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >&nbsp;</span\n        >\n      </button>\n      <button\n        data-ng-click="setActiveAmount(cg.donationAmounts[1].amount, true)"\n        class="cg-checkout-preset-donation-amt-btn cg-btn--rows"\n        data-ng-class="{\'cg-checkout-preset-donation-amt-btn--active\': cg.amount === cg.donationAmounts[1].amount}"\n        style="margin-left: 2px !important"\n        data-ng-style="{\'background-color\': cg.amount === cg.donationAmounts[1].amount ? cg.primaryColor : cg.backgroundColor}"\n      >\n        <span>{{cg.donationAmounts[1].amount | currency}}</span>\n        <span data-ng-hide="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6">\n          {{ActiveCoin.convertUSD(cg.donationAmounts[1].amount) + \' \' + ActiveCoin.symbol}}</span\n        >\n        \x3c!-- fetching partial --\x3e\n        <span data-ng-show="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >&nbsp;</span\n        >\n      </button>\n    </div>\n    <div class="eg-flex-row eg-mb1 cg-checkout-section">\n      <button\n        data-ng-click="setActiveAmount(cg.donationAmounts[2].amount, true)"\n        class="cg-checkout-preset-donation-amt-btn cg-btn--rows"\n        data-ng-class="{\'cg-checkout-preset-donation-amt-btn--active\': cg.amount === cg.donationAmounts[2].amount}"\n        style="margin-right: 2px !important"\n        data-ng-style="{\'background-color\': cg.amount === cg.donationAmounts[2].amount ? cg.primaryColor : cg.backgroundColor}"\n      >\n        <span>{{cg.donationAmounts[2].amount | currency}}</span>\n        <span data-ng-hide="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >{{ActiveCoin.convertUSD(cg.donationAmounts[2].amount) + \' \' + ActiveCoin.symbol}}</span\n        >\n        \x3c!-- fetching partial --\x3e\n        <span data-ng-show="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >&nbsp;</span\n        >\n      </button>\n      <button\n        data-ng-click="setActiveAmount(cg.donationAmounts[3].amount, true)"\n        class="cg-checkout-preset-donation-amt-btn cg-btn--rows"\n        data-ng-class="{\'cg-checkout-preset-donation-amt-btn--active\': cg.amount === cg.donationAmounts[3].amount}"\n        style="margin-left: 2px !important"\n        data-ng-style="{\'background-color\': cg.amount === cg.donationAmounts[3].amount ? cg.primaryColor : cg.backgroundColor}"\n      >\n        <span>{{cg.donationAmounts[3].amount | currency}}</span>\n        <span data-ng-hide="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >{{ActiveCoin.convertUSD(cg.donationAmounts[3].amount) + \' \' + ActiveCoin.symbol}}</span\n        >\n        \x3c!-- fetching partial --\x3e\n        <span data-ng-show="ActiveCoin.$$isFetchingMarketData" class="eg-paragraph-xs eg-bold6"\n          >&nbsp;</span\n        >\n      </button>\n    </div>\n    \x3c!-- Custom Donation Amount --\x3e\n    <div class="eg-flex-row cg-checkout-section">\n      <div\n        class="eg-flex-1 eg-border-round cg-checkout-amount-input"\n        data-ng-style="{\'border-color\': cg.isAmountCustom ? cg.primaryColor : cg.backgroundColor}"\n      >\n        \x3c!-- left: amount toggle USD <> ActiveCoin --\x3e\n        <div\n          data-ng-click="toggleAmountUSD()"\n          class="eg-flex-row eg-flex--valign cg-checkout-amount-input__left eg-py2 eg-px1 eg-bold7"\n          data-ng-style="{\'background-color\': cg.isAmountCustom ? cg.primaryColor : cg.backgroundColor,\n                                        \'border-color\': cg.isAmountCustom ? cg.primaryColor : cg.backgroundColor}"\n        >\n          <img\n            sc-cdn-src="{{::CryptoGivingPaths.images.arrows}}"\n            class="cg-icon"\n            data-ng-class="{\'cg-icon--disabled\': !cg.isAmountCustom}"\n          />\n          <div class="eg-pl1">\n            <div class="eg-paragraph eg-bold7">{{cg.isAmountUSD ? \'USD\' : ActiveCoin.symbol}}</div>\n            <div class="eg-paragraph-xs eg-bold6" style="opacity: 0.54">\n              {{!cg.isAmountUSD ? \'USD\' : ActiveCoin.symbol}}\n            </div>\n          </div>\n        </div>\n        \x3c!-- right: amount input --\x3e\n        <div\n          class="eg-flex-1 eg-flex--fill eg-flex-col cg-checkout-amount-input__right"\n          data-ng-style="{\'border-color\': cg.isAmountCustom ? cg.primaryColor : cg.backgroundColor}"\n        >\n          \x3c!-- amount input --\x3e\n          <input\n            type="number"\n            data-ng-model="cg.amountDraft"\n            class="eg-paragraph"\n            data-ng-focus="setActiveAmount(cg.isAmountCustom && cg.amountDraft)"\n            data-ng-keyup="setActiveAmount(cg.amountDraft)"\n            data-ng-blur="setActiveAmountBlur(cg.amountDraft)"\n          />\n          \x3c!-- amount label --\x3e\n          <div\n            data-ng-if="cg.isAmountUSD"\n            class="eg-paragraph-xs eg-px2 eg-bold6"\n            data-ng-style="{\'color\': !cg.isAmountCustom && !cg.amountDraft && cg.backgroundColor}"\n          >\n            {{cg.amountDraft > 0 ? (ActiveCoin.convertUSD(cg.amountDraft) + \' \' + ActiveCoin.symbol)\n            : \'enter an amount greater than 0\'}}\n          </div>\n          <div\n            data-ng-if="!cg.isAmountUSD"\n            class="eg-paragraph-xs eg-px2"\n            data-ng-style="{\'color\': !cg.isAmountCustom && !cg.amountDraft && cg.backgroundColor}"\n          >\n            {{cg.amountDraft > 0 ? ActiveCoin.convertCoin(cg.amountDraft) : \'enter an amount greater\n            than 0\'}}\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- Program Designation --\x3e\n    <div\n      data-ng-show="cg.hasProgramDesignations && !campaign.current.disable_donation_attribution"\n      class="eg-flex-row eg-pt6 cg-checkout-section"\n    >\n      <div class="eg-flex-col eg-flex-1 cg-program-designation">\n        <program-designation-field\n          entity="campaign.current"\n          selected-id="campaign.current.designation_id"\n          model="MODEL.designation_id"\n          form-name="FORM"\n          field-option-settings="designationOptions"\n          element-index="1"\n        >\n        </program-designation-field>\n      </div>\n    </div>\n    \x3c!-- BOTTOM --\x3e\n    <div class="eg-flex eg-pt4 eg-pb10 cg-checkout-section">\n      <button\n        id="cg-root-btn-fwd"\n        data-ng-disabled="!isValidCheckoutDonation()"\n        data-ng-click="goCheckoutContact()"\n        data-ng-style="{\'background-color\': cg.primaryColor}"\n        class="eg-btn eg-btn--lg eg-btn--stretch cg-checkout-donate-btn cg-btn--rows"\n      >\n        <div class="donate-btn__label">Donate</div>\n        <div data-ng-show="isValidCheckoutDonation()" class="eg-flex-col">\n          <div data-ng-if="cg.isAmountUSD" class="eg-flex-col">\n            <div class="donate-btn__usd"></div>\n            {{cg.amount | currency}}\n            <div data-ng-show="!ActiveCoin.$$isFetchingMarketData" class="donate-btn__converted">\n              {{ActiveCoin.convertUSD(cg.amount) + \' \' + ActiveCoin.symbol}}\n            </div>\n            \x3c!-- fetching partial --\x3e\n            <div data-ng-show="ActiveCoin.$$isFetchingMarketData" class="donate-btn__converted">\n              &nbsp;\n            </div>\n          </div>\n\n          <div data-ng-if="!cg.isAmountUSD" class="eg-flex-col">\n            <div class="donate-btn__usd"></div>\n            {{cg.amount + \' \' + ActiveCoin.symbol}}\n            <div data-ng-show="!ActiveCoin.$$isFetchingMarketData" class="donate-btn__converted">\n              {{ActiveCoin.convertCoin(cg.amount)}}\n            </div>\n            \x3c!-- fetching partial --\x3e\n            <div data-ng-show="ActiveCoin.$$isFetchingMarketData" class="donate-btn__converted">\n              &nbsp;\n            </div>\n          </div>\n        </div>\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/crypto-giving/views/crypto-giving.views.checkout-wallet",'\x3c!-- [CHECKOUT STEP 3 (last step)] --\x3e\n<div\n  data-ng-controller="CryptoGivingCheckoutWalletCtrl"\n  class="eg-container eg-flex-col eg-flex--between a-fade cg-checkout-section"\n>\n  \x3c!-- Header (navigation and headline) --\x3e\n  <div class="eg-flex-row eg-flex--valign eg-nav">\n    <div class="eg-flex-1 eg-flex--center">\n      \x3c!-- Custom styles margin left exact width of above arrow + padding right --\x3e\n      <div class="eg-paragraph eg-bold6 text-center">Send Donation</div>\n    </div>\n  </div>\n  \x3c!-- Donation Amount Hero --\x3e\n  <div class="eg-pxy4 eg-mb2 eg-border-round2 eg-background-off-white">\n    \x3c!-- Donation Currency and Amount --\x3e\n    <div data-ng-if="cg.isAmountUSD">\n      \x3c!-- Donation Currency and Amount --\x3e\n      <div class="eg-headline eg-bold7 eg-text-center">{{cg.amount | currency}}</div>\n      <div class="eg-paragraph-xs eg-bold6 eg-text-center">\n        {{ActiveCoin.convertUSD(cg.amount) + \' \' + ActiveCoin.symbol}}\n      </div>\n    </div>\n    <div data-ng-if="!cg.isAmountUSD">\n      \x3c!-- Donation Currency and Amount --\x3e\n      <div class="eg-headline eg-bold7 eg-text-center">{{cg.amount + \' \' + ActiveCoin.symbol}}</div>\n      <div class="eg-paragraph-xs eg-bold6 eg-text-center">\n        {{ActiveCoin.convertCoin(cg.amount)}}\n      </div>\n    </div>\n  </div>\n  <div class="eg-text-center eg-paragraph-sm eg-bold6 eg-pb4">\n    Your donation will process at the amount sent through your wallet.\n  </div>\n  <div class="eg-text-center eg-paragraph eg-bold6 eg-pb4">\n    Send your donation to the address below\n  </div>\n  \x3c!-- Wallet QR Code --\x3e\n  <div class="eg-flex-row eg-flex--center eg-mb2">\n    \x3c!-- <img style="min-width: 164px; min-height: 164px;" src="https://place-hold.it/164" alt=""> --\x3e\n    <crypto-giving-qr-code\n      text="{{ActiveCoin.depositAddress}}"\n      width="164"\n      height="164"\n    ></crypto-giving-qr-code>\n  </div>\n  <div class="eg-flex-row eg-flex--center eg-paragraph-sm eg-bold6 eg-pb4">\n    Only send {{ActiveCoin.name}} to this address.\n  </div>\n  \x3c!-- Copy wallet address widget --\x3e\n  <div class="eg-flex-row eg-flex--center eg-pb4">\n    <div class="eg-border-round2 eg-background-off-white eg-pxy2">\n      <div class="eg-flex-row eg-flex--wrap eg-flex--valign">\n        <div class="eg-flex-1 eg-flex-col">\n          <div class="eg-paragraph-xs eg-bold">{{ActiveCoin.name | capitalize}}&nbsp;Address</div>\n          <div class="eg-paragraph-xs">{{ActiveCoin.depositAddress}}</div>\n        </div>\n        <div\n          data-ng-click="copyDepositAddress()"\n          class="eg-flex eg-interact eg-paragraph-sm eg-bold7 cg-copy-address-btn"\n          data-ng-style="{\'color\': cg.primaryColor}"\n        >\n          COPY\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!--  --\x3e\n  <div class="eg-flex-row eg-flex--center eg-paragraph-sm eg-bold6 eg-pb10 eg-text-center">\n    After confirmation of payment, a donation receipt will be sent to:\n    {{MODEL.member_email_address}}\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/crypto-giving/views/crypto-giving.views.checkout",'<div data-ng-controller="CryptoGivingCheckoutCtrl" class="eg-container cg-checkout">\n  \x3c!-- Toggle --\x3e\n  <div data-ng-include="::CryptoGiving.pathToggle"></div>\n  \x3c!-- Checkout Views (only 1 shown at a time) --\x3e\n  <div\n    data-ng-if="cg.checkoutStep === \'donation\'"\n    data-ng-include="::CryptoGivingPaths.views.checkoutDonation"\n    class="eg-container eg-background-white eg-border-round cg-shadow"\n  ></div>\n  <div\n    data-ng-if="cg.checkoutStep === \'contact\'"\n    data-ng-include="::CryptoGivingPaths.views.checkoutContact"\n    class="eg-container eg-background-white eg-border-round cg-shadow"\n  ></div>\n  <div\n    data-ng-if="cg.checkoutStep === \'wallet\'"\n    data-ng-include="::CryptoGivingPaths.views.checkoutWallet"\n    class="eg-container eg-background-white eg-border-round cg-shadow"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/crypto-giving/views/crypto-giving.views.toggle",'\x3c!-- Toggle component to switch between Default Checkout and Crypto Giving Checkout --\x3e\n\x3c!-- Is conditionally ng-included into  frs-donation/template --\x3e\n<div\n  data-ng-controller="CryptoGivingToggleCtrl"\n  class="eg-container eg-border-round eg-mb6 cg-toggle"\n>\n  \x3c!-- Show Crypto --\x3e\n  <div data-ng-if="CryptoGiving.isHidden" class="cg-toggler cg-checkout-section eg-py4">\n    <div class="eg-flex-1 eg-paragraph eg-bold6 cg-toggler__label">\n      Prefer to donate with cryptocurrency?\n    </div>\n    <div class="eg-flex cg-toggler__cta">\n      <button\n        data-ng-click="showCryptoGiving()"\n        data-ng-style="{\'background-color\': cg.primaryColor}"\n        class="eg-btn"\n      >\n        Donate Crypto\n      </button>\n    </div>\n  </div>\n  \x3c!-- Hide Crypto --\x3e\n  <div data-ng-if="!CryptoGiving.isHidden" class="cg-toggler cg-checkout-section eg-py4">\n    <div class="eg-flex-1 eg-paragraph eg-bold6 cg-toggler__label">\n      Prefer another payment method?\n    </div>\n    <div class="eg-flex cg-toggler__cta">\n      <button\n        data-ng-click="hideCryptoGiving()"\n        data-ng-style="{\'background-color\': cg.primaryColor}"\n        class="eg-btn"\n      >\n        Other Payments\n      </button>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/modal/scModal",'<div class="sc-modal" ng-show="show">\n  <div class="modal-overlay" ng-hide="hideOverlay"></div>\n\n  <div class="modal-scroll">\n    <div class="sc-modal_close-wrap" ng-click="closeModal()"></div>\n\n    <div class="sc-modal_content {{ modalClass }}" data-ng-style="modalContentStyle()">\n      <div class="modal-header">\n        <div\n          class="modal-close ci ci-close-x"\n          data-ng-click="closeModal()"\n          data-ng-hide="hideCloseButton"\n        ></div>\n\n        <span>{{ modalTitle }}</span>\n      </div>\n\n      <div class="modal-section" ng-transclude></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/modal/scModalLink",'<div class="button-container">\n  <a\n    class="modal-link {{ linkClass }}"\n    ng-click="open()"\n    ng-hide="hideButton"\n    data-ng-style="{color: linkColor}"\n    id="{{ linkId }}"\n  >\n    {{ scModalLink }}\n  </a>\n\n  <div ng-transclude class="modal-include"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scButtonAmount/index",'<button class="frs-button_split" data-ng-style="buttonStyles()">\n  <span class="frs-button_amount-label">Donate</span>\n\n  <div class="frs-button_amount-dropdown frs-button_right-side" data-ng-style="dropdownStyles()">\n    {{ selectedPreset.amount | currency:\'$\':0 }}\n    <i class="fa fa-caret-down"></i>\n\n    <select\n      class="frs-button_select"\n      data-ng-model="selectedPreset"\n      data-ng-options="(item.amount | currency:\'$\':0) for item in amountPresets"\n    ></select>\n  </div>\n</button>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scCampaignProgress/template",'<div class="{{styleClass}} sc-campaign-progress">\n  \x3c!-- Need to use P tag for JAWS to read within div element --\x3e\n  <p class="sr-only">\n    {{entity.name}} has raised {{total_raised | scFormatCurrency:currency}} out of their goal of\n    {{rawGoalAmount}}\n  </p>\n  <div data-ng-if="!hasRaisedHidden" class="sc-campaign-progress_container">\n    <strong\n      class="sc-campaign-progress_raised"\n      data-ng-bind="(total_raised | nullToZero | scFormatCurrency:currency ) || \'0\'"\n    ></strong>\n    <span class="sc-campaign-progress_goal"\n      ><span class="sc-campaign-progress_goal-inner"></span>Raised</span\n    >\n    <span class="sc-campaign-progress_goal right"\n      ><span\n        class="sc-campaign-progress_goal-inner"\n        ng-bind="rawGoalAmount | nullToZero | scFormatCurrency:currency"\n      ></span\n    ></span>\n  </div>\n  <div\n    class="{{styleClass}} sc-campaign-progress_bar-mask"\n    data-ng-style="{\'background-color\': backgroundColor}"\n  >\n    <div\n      class="sc-campaign-progress_bar-value"\n      data-ng-style="{width: (percentRaised > 100 ? 100 : percentRaised)+\'%\',\'background-color\': barColor}"\n    ></div>\n  </div>\n  <div class="{{styleClass}} sc-campaign-progress_stats" data-ng-if="!hasStatsHidden">\n    <div class="sc-campaign-progress_stats-left">\n      Raised by\n      <span\n        ng-pluralize\n        data-count="supporters"\n        data-when="{\'one\': \'{} supporter\', \'other\': \'{} supporters\'}"\n      ></span>\n    </div>\n    <div class="{{styleClass}} sc-campaign-progress_stats-right">\n      <span\n        data-ng-pluralize\n        data-count="{{endsAt | scDaysRemaining}}"\n'+"        data-when=\"{ '1': '{} day left', 'other': '{} days left' }\"\n      ></span>\n    </div>\n  </div>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scCopyright/scCopyright",'\x3c!-- Use of normal space (&#32;) and &nbsp; ensure bullets travel with correct item on line break  --\x3e\nCopyright &copy;{{year}}&#32;&bull;&nbsp;All rights reserved&#32;&bull;&nbsp;<a\n  href="{{privacyLink}}"\n  target="_blank"\n  class="footer_bottom-link"\n  aria-label="View GoFundMe Privacy Notice page"\n  >GoFundMe Privacy Notice</a\n>&#32;&bull;&nbsp;<a\n  href="{{termsLink}}"\n  target="_blank"\n  class="footer_bottom-link"\n  aria-label="View Terms of use page"\n  >Terms of Use</a\n>&#32;&bull;&nbsp;<a\n  href="https://www.classy.org/terms/cookies/"\n  target="_blank"\n  class="footer_bottom-link"\n  aria-label="View Cookie Statement page"\n  >Cookie Statement</a\n>&#32;&bull;&nbsp;<a\n  href="https://www.classy.org/terms/copyright/"\n  target="_blank"\n  class="footer_bottom-link"\n  aria-label="View DMCA Policy page"\n  >DMCA Policy</a\n>\n<a\n  id="cpra_button"\n  class="footer_bottom-link do-not-sell-my-info-link"\n  style="display: none"\n  href="javascript:void(0)"\n  >Do Not Sell My Personal Information</a\n>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scCurrencyPicker/scCurrencyPicker",'<div\n  class="currency-picker__wrapper"\n  ng-style="selected ? changeWrapperStyle() : defaultStyle()"\n  ng-class="{\'no-pick\':!showDropdown, \'disabled\': disabled}"\n  aria-hidden="{{ !showDropdown }}"\n  sc-lock-field="disabled"\n  tooltip-text="tooltipText"\n>\n  <div class="currency-picker__select-wrapper">\n    <select\n      class="currency-picker__select"\n      ng-change="optionSwap()"\n      ng-model="currency"\n      id="dropdown"\n      ng-show="showDropdown"\n      data-testid="currency-picker-dropdown"\n      ng-options="currency as currency.longText for currency in currencyOptions track by currency.currency"\n      aria-label="Select a currency"\n      ng-disabled="disabled"\n    ></select>\n    <span\n      class="currency-picker__short"\n      data-testid="currency-picker-currencySymbol"\n      ng-style="selected ? changeSpanStyle() : defaultStyle(true)"\n      >{{currency.currency}}</span\n    >\n  </div>\n\n  <span\n    class="currency-picker__full-symbol"\n    data-testid="currency-picker-fullcurrencySymbol"\n    ng-if="currency.currency !== currency.fullSymbol"\n    aria-hidden="true"\n    >{{currency.fullSymbol}}</span\n  >\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scDonationFeedItems/template",'<div\n  class="feed-item-donation"\n  ng-class="{\'active\': feedItemOpen, \'show-comment\': donationFeedItem.fundraiserComment}"\n  ng-style="{ \'border-left\': \'6px solid \' + (feedItemOpen ? theme.styles.primaryColor : \'transparent\') }"\n>\n  <div class="feed-item-donation_main">\n    <div\n      class="feed-item-donation_user-image-container"\n      data-ng-style="{\n      backgroundColor: theme.styles.primaryColor,\n      \'border-radius\': block.thumbnail[\'border-radius\']\n    }"\n    >\n      <img\n        class="feed-item-donation_user-image"\n        data-ng-if="donationFeedItem.member.thumbnail_medium && !donationFeedItem.transaction.is_anonymous"\n        data-ng-src="{{ donationFeedItem.member.thumbnail_medium }}"\n      />\n\n      <span> {{ getMemberFirstInitial(donationFeedItem) }} </span>\n    </div>\n\n    \x3c!-- Body --\x3e\n    <div class="feed-item-donation_body">\n      <div class="feed-item-donation_comments-and-desc">\n        \x3c!-- Description --\x3e\n        <p class="feed-item-donation_description">\n          <strong class="feed-item-donation_author" ng-if="donationFeedItem.transaction">\n            {{ donationFeedItem.business && donationFeedItem.business.name ?\n            donationFeedItem.business.name : ( donationFeedItem.member_name &&\n            !donationFeedItem.transaction.is_anonymous ? donationFeedItem.member_name : \'Anonymous\'\n            ) }}\n          </strong>\n          <strong\n            class="feed-item-donation_author"\n            ng-if="!donationFeedItem.transaction && donationFeedItem.linkable_type !== \'soft_credit\'"\n            data-ng-bind="::donationFeedItem.member_name || \'Anonymous\'"\n          ></strong>\n          <span\n            class="feed-item-donation_action"\n            data-ng-if="feedItemOpen || donationFeedItem.linkable_type == \'soft_credit\'"\n            data-ng-bind="::getActionText(donationFeedItem)"\n          ></span>\n        </p>\n\n        \x3c!-- Content --\x3e\n        <p\n          class="feed-item_content"\n          data-ng-if="donationFeedItem.linkable_type === \'donation\' && donationFeedItem.feedable_type.comment"\n          data-ng-bind="donationFeedItem.transaction.comment"\n        ></p>\n\n        \x3c!-- Meta --\x3e\n        <footer class="feed-item-donation_meta">\n          <span\n            class="feed-item-donation_time"\n            data-am-time-ago="donationFeedItem.created_at"\n          ></span>\n        </footer>\n      </div>\n\n      <div class="feed-item-donation_comment-hidden ng-cloak">\n        <p class="first-comment">{{ donationFeedItem.fundraiserComment.body }}</p>\n        <span\n          class="feed-item-donation_time"\n          data-am-time-ago="donationFeedItem.fundraiserComment.created_at"\n        ></span>\n        <a href ng-click="goToActivity()">View page</a>\n      </div>\n      <div\n        class="feed-item-donation_button"\n        data-ng-if="donationFeedItem.linkable_type !== \'soft_credit\'"\n      >\n        <span data-ng-click="closeFeedItem()" ng-if="feedItemOpen" class="ci ci-close-x"></span>\n        <span\n          data-ng-if="!feedItemOpen"\n          class="feed-item-donation_dollar-amount"\n          ng-bind="::getFeedItemAmount(donationFeedItem)"\n        ></span>\n        <i\n          class="fa fa-check-circle"\n          data-ng-if="(donationFeedItem.acknowledgement || donationFeedItem.fundraiserComment) && !feedItemOpen"\n        ></i>\n        <a\n          href\n          data-ng-if="!feedItemOpen && !donationFeedItem.acknowledgement && !donationFeedItem.fundraiserComment"\n          data-ng-click="openFeedItem()"\n          ng-style="{\'color\': theme.styles.primaryColor, \'border-color\': theme.styles.primaryColor}"\n          class="fundraiser-dashboard_button quatenary"\n          role="button"\n        >\n          Thank\n        </a>\n      </div>\n    </div>\n\n    \x3c!-- Comment --\x3e\n    <div\n      class="feed-item-donation_comments-container"\n      data-ng-if="!donationFeedItem.fundraiserComment && feedItemOpen"\n    >\n      <form class="feed-item-donation_comment-form-donation" data-sc-submit="submitComment()">\n        <input\n          class="feed-item-donation_comment-input"\n          data-ng-model="commentForm.body"\n          data-sc-focus="focusCommentInput"\n          placeholder="Comment on your wall..."\n        />\n\n        <div class="feed-item-donation_button-group">\n          \x3c!-- <a href="#" class="feed-item-donation_link">Send email</a> --\x3e\n          <a href class="feed-item-donation_link" data-ng-click="markThanked()">Mark \'thanked\'</a>\n          <a data-ng-click="closeFeedItem()" class="fundraiser-dashboard_button quatenary gray"\n            >Cancel</a\n          >\n          <button\n            data-ng-click="submitComment()"\n            type="button"\n            class="fundraiser-dashboard_button quatenary"\n            ng-style="{ \'background-color\': theme.styles.primaryColor, \'border-color\': theme.styles.primaryColor }"\n          >\n            Comment\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scFlowModal/template",'\x3c!-- Tells screen reader a modal has opened and reads label if available --\x3e\n<aside\n  aria-modal="true"\n  role="dialog"\n  aria-labelledby="modal-dialog-label"\n  class="sc-flow-modal"\n  data-ng-class="{visible: $root.flowModal.ui.visible}"\n  aria-hidden="{{$root.flowModal.ui.visible ? false : true}}"\n>\n  <div\n    class="sc-flow-modal_overlay"\n    data-ng-style="{\'background-color\': $root.flowModal.ui.overlay}"\n  >\n    <div class="sc-flow-modal_viewport">\n      <div\n        class="sc-flow-modal_views"\n        data-ng-class="{shadow: $root.flowModal.ui.shadow}"\n        data-ng-style="{\'background-color\': $root.flowModal.ui.matte}"\n      >\n        <div class="sc-flow-modal_view-loading"></div>\n      </div>\n\n      <button\n        class="sc-flow-modal_close"\n        type="button"\n        data-testid="sc-flow-modal-closeButton"\n        data-ng-click="$root.flowModal.userClose()"\n        data-ng-show="$root.flowModal.ui.closable"\n        data-ng-style="$root.flowModal.ui.closeButtonStyles"\n        aria-label="close dialog"\n      >\n        <i aria-hidden="true" class="ci ci-close-x" data-testid="sc-flow-modal-closeImage"></i>\n      </button>\n    </div>\n  </div>\n\n  <div class="sc-flow-modal_staging"></div>\n</aside>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scMap/scMap",'<div class="sc-map">\n  <div class="form_field-input sc-map_input">\n    <i class="form_input-icon fa fa-globe"></i>\n    <input\n      type="text"\n      name="map"\n      ng-model="model"\n      class="sc-map_autocomplete form_text-input"\n      ng-keydown="keydown($event)"\n      qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n    />\n  </div>\n  <div class="sc-map_map"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scMobileMenu/template",'<div\n  class="mobile-menu"\n  data-ng-class="{ \'active\' : api.active, \'inactive\' : !api.active }"\n  data-sc-focus="api.active"\n  aria-hidden="{{ !api.active }}"\n  tabindex="0"\n  role="navigation"\n>\n  <div class="mobile-menu_drawer">\n    <div class="mobile-menu_content">\n      <button\n        class="mobile-menu_close"\n        data-ng-click="api.close(true)"\n        type="button"\n        aria-label="close navigation menu"\n      >\n        <i class="mobile-menu_close-icon ci ci-close-x"></i>\n      </button>\n\n      <div class="mobile-menu_header">\n        <div class="mobile-menu_user">\n          <img\n            class="mobile-menu_user-image"\n            data-ng-src="{{ build.userImage() }}"\n            aria-hidden="true"\n          />\n          <span class="mobile-menu_user-greeting"> {{ build.userGreeting() }} </span>\n        </div>\n      </div>\n\n      <section\n        class="mobile-menu_section"\n        data-ng-repeat="section in api.menu"\n        data-ng-style="section.styles"\n      >\n        <h1 class="mobile-menu_section-title" data-ng-if="section.title">{{ section.title }}</h1>\n\n        <nav class="mobile-menu_nav">\n          <ul class="mobile-menu_nav-list">\n            <li\n              class="mobile-menu_nav-item"\n              data-ng-repeat="item in section.menu"\n              data-ng-click="item.action()"\n              role="button"\n              aria-label="{{ item.label }}"\n              tabindex="0"\n            >\n              <span class="mobile-menu_nav-item-figure" ng-if="item.figure" aria-hidden="true">\n                <img\n                  class="mobile-menu_nav-item-image"\n                  data-ng-if="item.figure.type === \'image\'"\n                  data-ng-src="{{ item.figure.src }}"\n                />\n\n                <i\n                  class="mobile-menu_nav-item-icon"\n                  data-ng-if="item.figure.type === \'icon\'"\n                  data-ng-class="item.figure.icon"\n                  data-ng-style="item.figure.style"\n                ></i>\n              </span>\n\n              <span class="mobile-menu_nav-item-label"> {{ item.label }} </span>\n            </li>\n          </ul>\n        </nav>\n      </section>\n    </div>\n\n    <div data-sc-social-buttons="\'overlay\'"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scNpoHeader/template",'<header class="npo-header">\n  <div class="npo-header_inner">\n    <nav class="npo-header_charity-nav">\n      <a href="/" target="_self" data-ng-if="!hasOrg">\n      <pro-logo></pro-logo>\n      </a>\n      <a data-ng-href="{{ \'/admin/\' + organization.id }}" target="_self" data-ng-if="hasOrg">\n        <i class="npo-header_classy-icon ci ci-classy-icon" ng-if="hasCampaign"></i>\n        <pro-logo ng-if="!hasCampaign"></pro-logo>\n        <span class="npo-header_charity-name" data-ng-bind="::organization.name"></span>\n      </a>\n    </nav>\n\n    <div class="npo-header_custom" data-ng-transclude></div>\n    <div class="npo-header_logged-out">\n      <button\n        class="npo-header_logged-out-button"\n        type="button"\n        ng-if="!members.you.current.id"\n        data-ng-click="scAuth.loginOnly()"\n      >\n        Sign in\n      </button>\n    </div>\n\n    <div class="npo-header_user" data-ng-if="members.you.current.id">\n      <img\n        class="sc-user-dropdown_user-img"\n        data-sc-user-dropdown\n        data-ng-src="{{members.you.current.thumbnail_medium || \'/static/global/images/user-icon.png\'}}"\n        data-ng-class="{default: !members.you.current.thumbnail_medium}"\n        data-ng-style="{backgroundColor: theme.styles.primaryColor}"\n      />\n    </div>\n  </div>\n</header>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scPaging/template",'<div class="sc-paging" ng-show="size && size/perPage > 1 && !loading">\n  <div data-sc-paging-buttons="ui"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scPagingButtons/template",'<div class="sc-paging_buttons" data-ng-if="api.totalPages > 1">\n  <div class="sc-paging_back-group">\n    \x3c!-- First Page --\x3e\n\n    <button\n      class="sc-paging_button"\n      aria-label="first page"\n      data-ng-click="first()"\n      data-ng-disabled="get.disabled(1)"\n    >\n      <i class="sc-paging_nav-icon fa fa-angle-double-left"></i>\n    </button>\n\n    \x3c!-- Previous Page --\x3e\n\n    <button\n      class="sc-paging_button"\n      aria-label="previous page"\n      data-ng-click="prev()"\n      data-ng-disabled="get.disabled(api.currentPage - 1)"\n    >\n      <i class="sc-paging_nav-icon fa fa-angle-left"></i>\n    </button>\n  </div>\n\n  <div class="sc-paging_list">\n    \x3c!-- Page List --\x3e\n\n    <button\n      class="sc-paging_button"\n      aria-label="page {{ page }}"\n      data-ng-repeat="page in get.fivePageRange()"\n      data-ng-class="{active: page === api.currentPage}"\n      data-ng-click="select(page)"\n      data-ng-disabled="get.disabled(page)"\n    >\n      {{ page }}\n    </button>\n\n    \x3c!-- Ellipsis --\x3e\n\n    <span class="sc-paging_ellipsis" data-ng-if="get.ellipsis()"> &hellip; </span>\n\n    \x3c!-- Last Page (Numbered) --\x3e\n\n    <button\n      class="sc-paging_button"\n      aria-label="page {{ api.totalPages }}"\n      data-ng-click="select(api.totalPages)"\n      data-ng-disabled="get.disabled(api.totalPages)"\n      data-ng-if="get.tail()"\n    >\n      {{ api.totalPages }}\n    </button>\n  </div>\n\n  \x3c!-- Summary (mobile only) --\x3e\n\n  <div class="sc-paging_info" aria-live="polite">{{ get.summary() }}</div>\n\n  <div class="sc-paging_forward-group">\n    \x3c!-- Next Page --\x3e\n\n    <button\n      class="sc-paging_button"\n      aria-label="next page"\n      data-ng-click="next()"\n      data-ng-disabled="get.disabled(api.currentPage + 1)"\n    >\n      <i class="sc-paging_nav-icon fa fa-angle-right"></i>\n    </button>\n\n    \x3c!-- Last Page --\x3e\n\n    <button\n      class="sc-paging_button"\n      aria-label="last page"\n      data-ng-click="last()"\n      data-ng-disabled="get.disabled(api.totalPages)"\n    >\n      <i class="sc-paging_nav-icon fa fa-angle-double-right"></i>\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scPaymentTypes/template",'<div class="payment-types">\n  <div\n    class="payment-types_card"\n    ng-class="cardClass(card)"\n    ng-repeat="card in scPaymentTypes"\n    title="{{ card }}"\n  ></div>\n\n  <div class="payment-types_card paypal" data-ng-if="paypal()">\n    <div class="payment-types_paypal-submit" data-ng-click="paypalSubmit()"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scPublish/modal-confirm-publish",'<div class="admin-modal_main">\n  <i class="admin-modal_warning fa fa-exclamation-triangle"></i>\n  <h1 class="admin-modal_title">Are you sure?</h1>\n  <p class="admin-modal_p">You are about to publish your campaign</p>\n  <a href class="admin-button__primary" ng-click="publishCampaign()">Publish</a>\n  <a href class="admin-button__primary gray" ng-click="$root.flowModal.close(false)">Cancel</a>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scPublish/modal-confirm-unpublish",'<div class="admin-modal_main">\n  <i class="admin-modal_warning fa fa-exclamation-triangle"></i>\n  <h1 class="admin-modal_title">Are you sure?</h1>\n  <p class="admin-modal_p">You are about to unpublish your campaign</p>\n  <a href class="admin-button__primary" ng-click="unpublishCampaign()">Unpublish</a>\n  <a href class="admin-button__primary gray" ng-click="$root.flowModal.close(false)">Cancel</a>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scPublish/scPublish",'\x3c!-- Publishing Notifications  --\x3e\n<div data-ng-show="publishNotify" class="admin-notify-fullscreen">\n  <div class="admin-notify-fullscreen_content">\n    <img class="admin-notify-fullscreen_image" sc-cdn-src="/static/global/images/checkmark-circle.png" alt="Success!">\n    <div class="admin-notify-fullscreen_text">Campaign Published</div>\n  </div>\n</div>\n\n<div data-ng-show="unpublishNotify" class="admin-notify-fullscreen--slate">\n  <div class="admin-notify-fullscreen_content">\n    <img class="admin-notify-fullscreen_image" sc-cdn-src="/static/global/images/checkmark-circle.png" alt="Success!">\n    <div class="admin-notify-fullscreen_text">Campaign Unpublished</div>\n  </div>\n</div>\n\n<gate data-ng-if="campaign.current.status === \'active\'" data-permissions="{action: \'unpublish\', entity: \'campaign\'}">\n    \n  <authorized>\n    <button class="admin-button__secondary gray unpublishbtn outlined" data-ng-click="unpublishModal()">Unpublish</button>\n  </authorized>\n\n  <unauthorized>\n    <div class="admin-button__tooltip-box" data-sc-tooltip="permissionDeniedMessage" data-sc-tooltip-class="admin-campaign-tooltip" sc-tooltip-position="bottom center"\n    sc-tooltip-position-tip="top center" sc-tooltip-tip-style="tooltipStyle" show-event="\'mouseenter\'" hide-event="\'unfocus\'">\n        <div class="admin-button__secondary grey" disabled="true">Unpublish</div>\n      </div>\n    </div>\n  </unauthorized>\n\n</gate>\n  \n<gate data-ng-show="campaign.current.status !== \'active\'" data-permissions="{action: \'publish\', entity: \'campaign\'}">\n    \n  <authorized>\n      <button class="admin-button__secondary aquamarine" data-ng-click="publishModal()" data-ng-if="publishEnabled">Publish</button>\n      <div class="admin-button__tooltip-box" data-sc-tooltip="tooltipMessage" data-sc-tooltip-class="admin-campaign-tooltip" sc-tooltip-position="bottom center"\n        sc-tooltip-position-tip="top center" sc-tooltip-tip-style="tooltipStyle" show-event="\'mouseenter\'" hide-event="\'unfocus\'"\n        data-ng-if="!publishEnabled && tooltipMessage">\n        <div class="admin-button__secondary grey" disabled="true">Publish</div>\n      </div>\n  </authorized>\n\n  <unauthorized>\n    <div class="admin-button__tooltip-box" data-sc-tooltip="permissionDeniedMessage" data-sc-tooltip-class="admin-campaign-tooltip" sc-tooltip-position="bottom center"\n        sc-tooltip-position-tip="top center" sc-tooltip-tip-style="tooltipStyle" show-event="\'mouseenter\'" hide-event="\'unfocus\'">\n        <div class="admin-button__secondary grey" disabled="true">Publish</div>\n      </div>\n    </div>\n  </unauthorized>\n\n</gate>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scSimpleProgress/template",'<div class="{{::bc}}_progress-bar">\n  <div\n    class="{{::bc}}_progress-bar-goal"\n    data-ng-style="::{height: height, \'background-color\': goalColor }"\n  >\n    <div\n      class="{{::bc}}_progress-bar-raised"\n      data-ng-style="{ width: percentage + \'%\', \'background-color\': raisedColor }"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scSlideshow/template",'<div class="slide-view">\n  <div class="slideshow_placeholder" data-ng-if="!api.slides.length">\n    <img\n      class="slideshow_placeholder-img"\n      sc-cdn-src="/static/global/images/media-placeholder.png"\n    />\n  </div>\n\n  <div data-ng-if="mobileDevice" class="slideshow_swiper-div left"></div>\n  <div data-ng-if="mobileDevice" class="slideshow_swiper-div right"></div>\n  <div data-ng-if="mobileDevice" class="slideshow_swiper-div top"></div>\n  <div data-ng-if="mobileDevice" class="slideshow_swiper-div bottom"></div>\n\n  <div\n    class="slideshow_pager"\n    data-ng-class="{\'mobile\': mobileDevice}"\n    data-ng-if="show.controls() || mobileDevice"\n  >\n    <div\n      class="slideshow_pager-dot"\n      data-ng-if="api.slides.length > 1"\n      data-ng-repeat="slide in api.slides"\n      data-ng-click="goto($index, true)"\n      data-ng-class="{ active: $index === api.activeIndex }"\n    ></div>\n  </div>\n\n  <span\n    class="slideshow_prev fa fa-angle-left"\n    data-ng-click="prev(true)"\n    data-ng-if="show.controls() && !mobileDevice"\n  ></span>\n\n  <span\n    class="slideshow_next fa fa-angle-right"\n    data-ng-click="next(true)"\n    data-ng-if="show.controls() && !mobileDevice"\n  ></span>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scSocialButtons/template",'<div\n  id="social-dropdown-menu"\n  aria-hidden="false"\n  class="social-buttons"\n  data-ng-class="::modeClass()"\n  aria-labelledby="social-buttons-dropdown"\n>\n  <div class="social-buttons_container">\n    <p class="social-buttons_cta">{{:: cta }}</p>\n\n    <ul class="social-buttons_list">\n      <li class="social-buttons_item social-buttons_item-facebook">\n        <button role="link" class="social-buttons_item-link unstyled-btn" data-ng-click="fbShare()">\n          <i aria-hidden="true" class="social-buttons_item-icon fa fa-facebook-square"></i>\n          <span class="social-buttons_item-title">Facebook</span>\n        </button>\n      </li>\n\n      <li\n        ng-if="instagramUrl"\n        class="social-buttons_item social-buttons_item-instagram desktop-hide">\n        <a\n          class="social-buttons_item-link"\n          data-id="{{ instagramDataId || \'landing-share-meta_ig\' }}"\n          data-ng-href="{{:: instagramUrl }}"\n          target="_blank"\n          rel="noopener noreferrer">\n          <img class="social-buttons_item-icon" sc-cdn-src="/static/global/images/Instagram_Glyph_Gradient-512.min.png">\n          <span class="social-buttons_item-title">Instagram</span>\n        </a>\n      </li>\n\n\n      <li class="social-buttons_item social-buttons_item-twitter">\n        <a class="social-buttons_item-link" data-ng-href="{{:: twitterUrl }}" target="_blank" rel="noopener noreferrer">\n          <img class="social-buttons_item-icon" sc-cdn-src="/static/global/images/x-social-media-logo-icon.svg">\n          <span class="social-buttons_item-title">X</span>\n        </a>\n      </li>\n\n      <li class="social-buttons_item social-buttons_item-email">\n        <a class="social-buttons_item-link" data-ng-href="{{:: mailToUrl }}" target="_blank" rel="noopener noreferrer">\n          <i aria-hidden="true" class="social-buttons_item-icon fa fa-envelope-square"></i>\n          <span class="social-buttons_item-title">Email</span>\n        </a>\n      </li>\n\n      <li class="social-buttons_item social-buttons_item-sms">\n        <a class="social-buttons_item-link" data-ng-href="{{:: smsUrl }}">\n          <i aria-hidden="true" class="social-buttons_item-icon fa fa-comment"></i>\n          <span class="social-buttons_item-title">Text</span>\n        </a>\n      </li>\n\n      <li class="sr-only">\n        <button data-ng-click="close(true)" aria-hidden="{{isPreview()}}">Close Menu</button>\n      </li>\n    </ul>\n\n    <div\n      ng-if="::modeClass() === \'overlay-mode\'"\n      class="social-buttons_cancel"\n      data-ng-click="close()"\n      data-ng-keyup="setCancelButton($event)"\n      role="button"\n      aria-hidden="{{isPreview()}}"\n      tabindex="0"\n    >\n      Cancel\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scSupporter/template",'<div class="{{bc + \'supporter\'}}">\n  <a class="{{bc + \'supporter-avatar\'}}" data-ng-href="{{ \'/\' + type + \'/\' + supporter.id }}">\n    <img\n      class="{{::bc + \'supporter-avatar-src\'}}"\n      ng-src="{{getImage()}}"\n      alt="View Top {{type === \'fundraiser\' ? \'Individual\' : \'Team\'}} - \'{{getName()}}\' {{type}} page using image"\n    />\n  </a>\n\n  <div class="{{::bc + \'supporter-information\'}}">\n    \x3c!-- Name --\x3e\n    <a\n      class="{{::bc + \'supporter-name\'}}"\n      target="_self"\n      data-ng-href="{{ \'/\' + type + \'/\' +  supporter.id }}"\n      data-ng-bind="getName()"\n      aria-label="View Top {{type === \'fundraiser\' ? \'Individual\' : \'Team\'}} - \'{{getName()}}\' {{type}} page using name"\n    ></a>\n\n    \x3c!-- Progress Bar --\x3e\n    <div\n      class="{{::bc + \'supporter-progress\'}}"\n      data-sc-campaign-progress\n      data-ng-if="progressData.goal"\n      data-entity="supporter"\n      data-has-stats-hidden="true"\n      data-has-raised-hidden="true"\n      data-btn-color="block.progressBarColor || theme.styles.primaryColor"\n      data-background-color="block.progressBarBgColor"\n      data-theme="theme"\n      data-bar-color="theme.styles.primaryColor"\n      data-ends-at="supporter.ended_at"\n    ></div>\n\n    \x3c!-- Raised --\x3e\n    <div class="{{::bc + \'supporter-raised\'}}" data-ng-if="progressData.goal">\n      <strong\n        class="{{::bc + \'supporter-raised-strong\'}}"\n        data-ng-bind="progressData.totalRaised | scFormatCurrency:progressData.currency"\n      ></strong>\n      raised (<span data-ng-bind="percentRaised()"></span>)\n      <span\n        class="{{::bc + \'supporter-raised-members\'}}"\n        ng-if="type === \'team\'"\n        ng-pluralize\n        count="getCount()"\n'+"        when=\"{'1': '1 member','other': '{} members'}\"\n      >\n      </span>\n    </div>\n  </div>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scUserDropdown/template",'<nav id="user-dropdown-menu" class="sc-user-dropdown_user-nav" aria-labelledby="user-dropdown">\n  <ul class="sc-user-dropdown_user-nav-list">\n    <li>\n      <a\n        class="sc-user-dropdown_user-nav-item"\n        target="_self"\n        href="{{ \'/profile/\' + organization.current.id }}"\n      >\n        My Profile\n      </a>\n    </li>\n    <li>\n      <a class="sc-user-dropdown_user-nav-item" target="_self" href="/profile"> My Settings </a>\n    </li>\n    <li>\n      <button\n        class="sc-user-dropdown_user-nav-item unstyled-btn"\n        target="_self"\n        data-ng-click="scAuth.logout()"\n      >\n        Sign out\n      </button>\n    </li>\n    <li class="sr-only">\n      <button data-ng-click="close(true)" aria-hidden="true">Close Menu</button>\n    </li>\n  </ul>\n</nav>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/eg.views.donating-mask",'<div class="eg-donating-mask eg-flex eg-pxy4">\n  <div class="eg-flex-col eg-flex--valign eg-flex--center">\n    <div class="eg-headline eg-text-center eg-bold7 eg-mb4">Processing your donation</div>\n    <div class="eg-paragraph eg-text-center eg-text-mono-light eg-bold7 eg-mb4">\n      Please do not leave or refresh the page.\n    </div>\n    <div class="eg-paragraph eg-text-center eg-text-mono-light eg-mb8">\n      Once your donation is complete, you\'ll be taken to a summary and get an email receipt.\n    </div>\n    <div class="donation-processing_animation">\n      <div\n        class="donation-processing_animation-spinner"\n        data-ng-style="{ color: eg.primaryColor }"\n      ></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/eg.views.donation",'<div class="eg-container eg-content-container">\n  <div\n    data-ng-show="eg.donationStep === \'root\'"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationRoot"\n    class="eg-container"\n  ></div>\n  <div\n    data-ng-if="eg.donationStep === \'donationOptions\'"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationOptions"\n    class="eg-container"\n  ></div>\n  <div\n    data-ng-if="eg.donationStep === \'recurringNudge\' && shouldShowRecurringNudge()"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationRecurringNudge"\n    class="eg-container"\n  ></div>\n  <div\n    data-ng-show="eg.donationStep === \'paymentMethods\' || eg.donationStep === \'paymentDetails\'"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationPaymentMethods"\n    class="eg-container"\n  ></div>\n  <div\n    data-ng-show="eg.donationStep === \'contact\'"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationContact"\n    class="eg-container"\n  ></div>\n  \x3c!-- <div\n    data-ng-show="eg.donationStep === \'confirmation\'"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationConfirmation"\n    class="eg-container"\n  ></div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/eg.views.faq",'<div data-ng-controller="EmbeddedGivingFAQCtrl" class="eg-container eg-flex-col">\n  \x3c!-- header --\x3e\n  <div class="eg-nav eg-text-center eg-paragraph">FAQs</div>\n\n  \x3c!-- faq list (overflow-y) --\x3e\n  <div class="eg-flex-1 eg-overflow-y eg-flex-col eg-px6">\n    <div\n      data-ng-repeat="faq in ActiveFAQs | orderBy:\'weight\'"\n      data-ng-if="!faq.is_deleted"\n      data-ng-click="setActiveFAQ(faq)"\n      class="eg-px4 eg-py3 eg-mb2 eg-interact eg-border-round2 eg-background-off-white eg-paragraph-sm"\n    >\n      <div class="eg-flex-row eg-flex--valign">\n        <div class="eg-flex-1 eg-bold7">{{::faq.question}}</div>\n        <i\n          class="fa"\n          data-ng-class="{\'fa-caret-down\': ActiveFAQ.id !== faq.id, \'fa-caret-up\': ActiveFAQ.id === faq.id}"\n        ></i>\n      </div>\n      <div\n        data-ng-show="ActiveFAQ.id === faq.id"\n        class="eg-pt3"\n        data-ng-bind-html="faq.answer | scTrustedHtml"\n      ></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/eg.views",'<div class="eg-container eg-container--center" eg-resizer>\n  <div data-ng-if="MODEL" data-ng-controller="EmbeddedGivingCtrl" class="eg-container">\n    <form\n      name="FORM"\n      novalidate="novalidate"\n      data-sc-broadcast-form-errors\n      data-ng-cloak\n      class="eg-container"\n    >\n      <div data-ng-include="eg.activeView" class="eg-container"></div>\n    </form>\n    <div\n      data-ng-if="eg.isCheckingOut"\n      data-ng-include="::EmbeddedGivingPaths.views.donatingMask"\n    ></div>\n    <div data-ng-include="::EmbeddedGivingPaths.partials.faqOverlay"></div>\n\n    \x3c!-- Preview mode footer (only visible if in preview mode) --\x3e\n    <div\n      data-ng-if="::eg.isPreviewing"\n      class="eg-content-container eg-preview-faq eg-flex-row eg-flex--valign eg-flex--center eg-paragraph eg-text-mono-light eg-py1"\n    >\n      <div class="eg-pr1">FAQs</div>\n      <i class="fa fa-caret-up"></i>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/eg.views.preview",'<div class="eg-container eg-content-container eg-preview-content" data-ng-controller="EmbeddedGivingCtrl">\n    <div data-ng-controller="EmbeddedGivingDonationCtrl" class="eg-container eg-flex-col eg-flex--between">\n        <div class="eg-flex1">\n            \x3c!-- PaymentA header (which is either logo OR headline, prioritize logo) --\x3e\n            <div data-ng-if="!META.showPaymentDetails" class="eg-flex-col eg-pt9">\n                <div data-ng-if="eg.logoUrl()" class="eg-flex-row eg-flex--center eg-pb6">\n                    <img class="eg-logo" data-ng-src="{{eg.logoUrl()}}" />\n                </div>\n                <div data-ng-if="!eg.logoUrl()" class="eg-pb6">\n                    <h1 data-ng-bind-html="getHeadlineTrustedHtml()" class="eg-headline eg-text-center eg-bold7"></h1>\n                </div>\n            </div>\n\n            \x3c!-- eg donation details = frequency / currency / donation amount --\x3e\n            <div data-ng-controller="frsDonationAmountCtrl">\n                <eg-donation-details data-ng-disabled="true" amount="MODEL.items[0].raw_final_price"\n                    donation-context="CONTEXT" frequency="MODEL.frequency" setting-page-frequency="MODEL.frequency"\n                    frequency-levels="DonationBlock.current[\'recurring-level\']" levels="state.levels"\n                    recurring-donation-levels="state.recurringDonationLevels" recur_until="MODEL.recur_until"\n                    previous-frequency-price="MODEL.items[0].previous_frequency_price" iaa-state="IAAState"\n                    new-amount="MODEL.items[0].raw_final_price" currency="MODEL.payment.raw_currency_code">\n                </eg-donation-details>\n            </div>\n        </div>\n\n        <div class="eg-pb2">\n            <eg-root-donate-button parent-model="MODEL" global-state="globalState" amount-getter="getDonationAmountRaw()"\n                on-click-handler="shouldShowRecurringNudge() ? goDonationRecurringNudge() : goDonationOptions()"\n                is-disabled="!getDonationAmountRaw() || getDonationAmountRaw() < 1"></eg-donate-button>\n        </div>\n    </div>\n    \x3c!-- Preview mode disable mask --\x3e\n    <div class="eg-preview-disable"></div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/eg.views.thank-you",'<div\n  data-ng-controller="EmbeddedGivingThankYouCtrl"\n  class="eg-container eg-pxy6 eg-flex-col eg-flex--between"\n>\n  <div class="eg-flex-col eg-flex--center">\n    \x3c!-- logo --\x3e\n    <div data-ng-if="eg.logoUrl()" class="eg-flex-row eg-flex--center">\n      <img class="eg-logo" data-ng-src="{{eg.logoUrl()}}" />\n    </div>\n    <div data-ng-if="!eg.logoUrl()" class="eg-headline eg-bold7">Thank you for your gift!</div>\n\n    \x3c!-- checkout confirmation card --\x3e\n    <div class="eg-pxy4 eg-mt4 eg-border-round2 eg-background-off-white">\n      <div class="eg-pb4 eg-bold eg-paragraph eg-text-center eg-pb4 eg-mb4 eg-ty-receipt-header">\n        Donation information\n      </div>\n      <div class="eg-flex-row eg-pb2 eg-paragraph-sm eg-flex--between">\n        <div class="eg-ty-label eg-bold6">Amount</div>\n        <div class="eg-pl3">\n          {{EmbeddedGivingDAL.getFullCachedAmount() |\n          scFormatCurrency:EmbeddedGivingDAL.getCached(\'currency\'):2}}\n        </div>\n      </div>\n      <div class="eg-flex-row eg-pb2 eg-paragraph-sm eg-flex--between">\n        <div class="eg-ty-label eg-bold6">Frequency</div>\n        <div class="eg-pl3">{{EmbeddedGivingDAL.getCached(\'frequency\')}}</div>\n      </div>\n      <div\n        data-ng-if="EmbeddedGivingDAL.getCached(\'dedication\')"\n        class="eg-flex-row eg-pb2 eg-paragraph-sm eg-flex--between"\n      >\n        <div class="eg-ty-label eg-bold6">Dedication</div>\n        <div class="eg-pl3">\n          In {{EmbeddedGivingDAL.getCached(\'dedication\').type}} of\n          {{EmbeddedGivingDAL.getCached(\'dedication\').honoree_first_name}}\n          {{EmbeddedGivingDAL.getCached(\'dedication\').honoree_last_name}}\n        </div>\n      </div>\n      <div class="eg-flex-row eg-pb6 eg-paragraph-sm eg-flex--between">\n        <div class="eg-ty-label eg-bold6">Confirmation</div>\n        <div class="eg-pl3">{{EmbeddedGivingDAL.getCached(\'transactionId\')}}</div>\n      </div>\n      <div>\n        <div class="eg-paragraph eg-bold6 eg-pb1 eg-text-center">\n          A copy of your receipt will be sent to:\n        </div>\n        <div class="eg-paragraph eg-text-center">{{EmbeddedGivingDAL.getCached(\'email\')}}</div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- thank you footer --\x3e\n  <div class="eg-flex-col eg-px4">\n    <div class="eg-paragraph eg-bold7 eg-py3 eg-text-center">Multiply your impact by sharing!</div>\n    \x3c!-- Social links --\x3e\n    <div class="eg-flex-row eg-flex--between">\n      \x3c!-- facebook --\x3e\n      <div class="eg-flex">\n        <div\n          class="eg-flex-row eg-flex--valign eg-interact"\n          data-id="eg-share-fb"\n          data-ng-click="openSocialFacebook()"\n        >\n          <i\n            aria-hidden="true"\n            class="fa fa-facebook-square"\n            data-ng-style="{\'color\': eg.primaryColor}"\n          ></i>\n          <div class="eg-paragraph-sm eg-bold7 eg-pl2">Facebook</div>\n        </div>\n      </div>\n      \x3c!-- twitter --\x3e\n      <div class="eg-flex">\n        <div\n          class="eg-flex-row eg-flex--valign eg-interact"\n          data-id="eg-share-twtr"\n          data-ng-click="openSocialTwitter()"\n        >\n          <i\n            aria-hidden="true"\n            class="fa fa-twitter-square"\n            data-ng-style="{\'color\': eg.primaryColor}"\n          ></i>\n          <div class="eg-paragraph-sm eg-bold7 eg-pl2">Twitter</div>\n        </div>\n      </div>\n      \x3c!-- email --\x3e\n      <div class="eg-flex">\n        <div\n          class="eg-flex-row eg-flex--valign eg-interact"\n          data-id="eg-share-email"\n          data-ng-click="openSocialEmail()"\n        >\n          <i\n            aria-hidden="true"\n            class="fa fa-envelope-square"\n            data-ng-style="{\'color\': eg.primaryColor}"\n          ></i>\n          <div class="eg-paragraph-sm eg-bold7 eg-pl2">Email</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scCropModal/index",'<div class="{{bc}}">\n  <div class="{{bc}}_overlay">\n    <div class="{{bc}}_close-wrap" data-ng-click="cancel()"></div>\n    <div class="{{bc}}_modal" id="sc-crop-modal">\n      <i class="ci ci-close-x {{bc}}_close" data-ng-click="cancel()"></i>\n\n      <div class="{{bc}}_header" id="modal-dialog-label">{{title}}</div>\n\n      <div class="{{bc}}_loading" data-ng-show="!ready" id="sc-crop-loading">\n        <div class="{{bc}}_preloader is-active" us-spinner></div>\n      </div>\n\n      <div class="{{bc}}_tools" data-ng-show="ready">\n        <span class="{{bc}}_instruction">Drag to reposition</span>\n        <canvas class="{{bc}}_canvas" id="sc-crop-canvas"></canvas>\n        <div\n          class="{{bc}}_viewfinder"\n          id="sc-crop-viewfinder"\n          data-ng-class="{ \'dragging\': dragging }"\n        ></div>\n        <div class="{{bc}}_scale-control">\n          <i class="fa fa-picture-o {{bc}}_scale-small"></i>\n          <input\n            type="range"\n            class="{{bc}}_scale-range"\n            id="sc-crop-range"\n            disabled\n            aria-label="Crop your image"\n          />\n          <i class="fa fa-picture-o {{bc}}_scale-large"></i>\n        </div>\n      </div>\n\n      <div class="{{bc}}_footer">\n        <button class="{{bc}}_button {{bc}}_cancel-button" data-ng-click="cancel()">Cancel</button>\n        <button class="{{bc}}_button {{bc}}_save-button" data-ng-click="save()">Save</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scImgList/template",'<div\n  class="{{bc}}_wrap"\n  ng-model="userModel"\n  qa-id="{{ scQaId.imageUpload }}"\n  data-ng-class="{ \'select-mode\': mode===\'select\' }"\n>\n  <div\n    class="{{bc}}"\n    data-ng-class="{ \'admin-body__lock-field form__text-input__outer\': lockField }"\n  >\n    <div\n      ng-if="lockField"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n    <ul class="{{bc}}_images" ng-model="imgBucket" ui-sortable="sortableOptions">\n      <li\n        tabindex="0"\n        class="{{bc}}_uploaded"\n        ng-repeat="img in imgBucket"\n        _spec="listing"\n        ng-class="{\'persist-controls\': persistControls}"\n      >\n        \x3c!-- Preview --\x3e\n        <div class="{{bc}}_preview-container" data-ng-if="preview">\n          <img\n            class="{{bc}}_uploaded-preview"\n            data-ng-class="{ loading: !img.loaded }"\n            data-ng-src="{{img.tn( previewSize )}}"\n            data-ng-style="{{customPreviewHeight}}"\n            _spec="preview"\n            alt="Preview for Downloaded"\n          />\n        </div>\n\n        \x3c!-- Select --\x3e\n        <div class="{{bc}}_uploaded-label-radio-container">\n          <input\n            class="{{bc}}_uploaded-label-radio"\n            type="radio"\n            ng-model="selection.active"\n            ng-if="mode === \'select\'"\n            ng-value="$index"\n            ng-change="ui.select()"\n            _spec="radio"\n            ng-disabled="lockField"\n            aria-label="background image"\n          />\n        </div>\n\n        \x3c!-- Image bar --\x3e\n        <div\n          class="{{bc}}_uploaded-label"\n          data-ng-class="{ \'uploading\': img.uploading, \'preset\': isPreset(img), \'saved\': img.saved }"\n          _spec="listing-bar"\n        >\n          <div class="sc-spinner"></div>\n\n          \x3c!-- Drag handle --\x3e\n          <i ng-if="limit > 1 && sortable" class="fa fa-bars {{bc}}_icon"></i>\n\n          <i class="fa fa-{{img.type == \'video\' ? \'video-camera\': \'image\'}} {{bc}}_icon"></i>\n          <span class="{{bc}}_filename" _spec="title">{{ img.title }}</span>\n\n          \x3c!-- Controls: Change image --\x3e\n          \x3c!-- <i class="fa fa-cloud-upload {{bc}}_option reupload"\n          ng-if="reUpload && ! isPreset(img)"\n          ng-click="ui.change($index)"\n          title="Re-upload"\n          _spec=\'reupload\'></i> --\x3e\n\n          \x3c!-- Controls: Remove image --\x3e\n          <i\n            class="fa fa-close {{bc}}"\n            ng-click="ui.remove($index)"\n            title="Delete"\n            tabindex="0"\n            ng-keydown="onkeydownClose($event,index)"\n            ng-if="! isPreset(img)"\n          ></i>\n\n          \x3c!-- Controls: Additional options --\x3e\n          \x3c!-- <i class="fa fa-ellipsis-h {{bc}}_option more"\n          data-ng-if="options"\n          title="More..."\n          _spec="options"></i> --\x3e\n\n          <div class="{{bc}}_more">\n            <div class="{{bc}}_more-group" ng-repeat="(optKey, optGroup) in options">\n              <div\n                class="{{bc}}_more-option"\n                ng-repeat="(optLabel, optValue) in optGroup"\n                ng-click="setOption( img, optKey, optValue, $event )"\n                ng-class="{on: img.options[optKey] === optValue}"\n                _spec="option-label"\n              >\n                {{optLabel}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <div\n      class="{{bc}}_upload-button dashed"\n      ng-show="imgBucket.length < limit"\n      ng-click="ui.add()"\n      ng-keydown="onKeyDown($event)"\n      _spec="upload-button"\n      role="button"\n      tabindex="0"\n    >\n      <i class="fa fa-image"></i>\n\n      \x3c!-- Button label --\x3e\n      <span data-ng-transclude _spec="upload-button-label"></span>\n\n      <span ng-if="limit > 1 && showCount">\n        {{ imgBucket.length ? imgBucket.length : "0" }}/{{ limit }}\n      </span>\n    </div>\n\n    <p class="{{bc}}_form-helper" ng-if="description">{{description}}</p>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/template",'<div class="media-manager">\n  <header class="media-manager_header">\n    <h1 id="modal-dialog-label" class="media-manager_title">{{ title || \'Select an image\' }}</h1>\n    <nav class="media-manager_switch">\n      \x3c!-- data-ng-if=\'options.image && options.video\' --\x3e\n      <ul class="media-manager_switch-list">\n        <li class="media-manager_switch-item">\n          <a\n            class="media-manager_switch-link active"\n            data-ng-class="{active: ui.view === \'image\'}"\n            data-ng-click="ui.view = \'image\'"\n          >\n            Image\n          </a>\n        </li>\n        <li class="media-manager_switch-item" data-ng-if="addVideo">\n          <a\n            class="media-manager_switch-link"\n            data-ng-class="{active: ui.view === \'video\'}"\n            data-ng-click="ui.view = \'video\'"\n          >\n            Video\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </header>\n\n  <div\n    data-ng-if="ui.view === \'image\'"\n    data-ng-include="\'global/media/scMediaManager/image/template\'"\n  ></div>\n\n  <div\n    class="media-manager_body"\n    data-ng-if="ui.view === \'video\'"\n    data-ng-include="\'global/media/scMediaManager/video/template\'"\n  ></div>\n\n  <footer class="media-manager_footer">\n    <div class="media-manager_staged" data-ng-if="staged.images.length">\n      <img\n        class="media-manager_staged-image"\n        data-ng-if="staged.images.length"\n        data-ng-src="{{ bind(\'staged.images[0].src || staged.images[0].previewURL || null\') }}"\n        alt="Uploaded image"\n      />\n      <span class="media-manager_staged-name" data-ng-if="staged.images.length">\n        {{ bind(\'getFilename(staged.images[0])\') }}\n      </span>\n    </div>\n    <div class="media-manager_actions">\n      <button\n        class="media-manager_action clear"\n        type="button"\n        data-ng-if="staged.images.length"\n        data-ng-click="clear()"\n      >\n        Remove\n      </button>\n\n      <button\n        class="media-manager_action custom"\n        type="button"\n        data-ng-if="options.buttons.custom"\n        data-ng-click="customAction()"\n      >\n        {{ buttons.custom.text }}\n      </button>\n\n      <button\n        class="media-manager_action custom"\n        type="button"\n        data-ng-if="options.buttons.cancel && !staged.images.length"\n        data-ng-click="cancelMediaManager()"\n      >\n        {{ buttons.cancel.text || \'Cancel\' }}\n      </button>\n\n      <button\n        class="media-manager_action submit"\n        ng-class="{\'disabled\': !!disableContinue }"\n        ng-disabled="!!disableContinue"\n        type="button"\n        data-ng-click="submit()"\n        data-submit-button\n      >\n        <span>{{ bind(\'buildSaveText()\') }}</span>\n        <div ng-if="!!disableContinue" class="media-manager_loading"></div>\n      </button>\n    </div>\n  </footer>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/classy-pay/components/donate-footer/classy-pay.components.donate-footer",'<div\n  data-ng-if="$ctrl.is.accessible"\n  class="donate-footer"\n  data-ng-class="{\'donate-footer--hidden\': !$ctrl.shouldShow()}"\n>\n  <div class="donate-footer-container">\n    \x3c!-- Top row --\x3e\n    <div class="eg-flex-row eg-flex--fill eg-flex--valign eg-flex--between eg-px4 eg-pt2 eg-pb1">\n      <div class="eg-flex eg-paragraph eg-bold7 eg-px2">\n        {{$ctrl.donationFrequency | capitalize}}&nbsp; {{$ctrl.donationAmount |\n        scFormatCurrency:$ctrl.donationCurrency:2}}\n      </div>\n      <div class="eg-flex">\n        <img sc-cdn-src="{{$ctrl.ClassyPayPaths.logos.secure}}" class="donate-footer-pm-logo" />\n      </div>\n    </div>\n    \x3c!-- CTA --\x3e\n    <div class="eg-flex-row eg-px6 eg-pb1">\n      <button\n        data-id="confirm-donate"\n        data-ng-click="$ctrl.donate()"\n        class="eg-btn eg-btn--lg eg-btn--stretch eg-text-uppercase"\n        data-ng-style="{\'background-color\': $ctrl.btnColor}"\n        data-ng-disabled="$ctrl.is.donating"\n      >\n        {{$ctrl.btnText}}\n      </button>\n    </div>\n    \x3c!-- Footer terms --\x3e\n    <div class="eg-paragraph-xs eg-text-center eg-text-mono eg-pb1 eg-px6" ng-bind-html="$ctrl.getTerms()"> </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/fields/donationAmountLegacy/global.components.donation-amount-legacy",'\x3c!-- **** DONT MAKE CHANGES TO THIS FILE ****\n    This file is LEGACY and is only being kept around for certain orgs\n    that have customized this section of the page.\n    They must have the `legacy-donation-grid` org tag\n--\x3e\n\n<div class="donation-amount-recurring">\n    \x3c!-- FREQUENCY TOGGLE--\x3e\n    <div data-ng-init="$ctrl.showFreqDropdown()"\n        data-ng-if="!$ctrl.preventOldrfForDeque && !$ctrl.onlyReccurringFrequency($ctrl.frequencyLevels) && $ctrl.recurringLevels($ctrl.frequencyLevels).length > 0"\n        class="donation-amount-recurring__switch rf" role="radiogroup" aria-label="Select a donation frequency">\n\n        <div data-ng-click="$ctrl.selectFrequency(\'one-time\'); $ctrl.showFreqDropdown(\'one-time\'); $ctrl.isRecurringFrequency($event)"\n            data-ng-keypress="$ctrl.selectFrequency(\'one-time\',$event); $ctrl.isRecurringFrequency($event)"\n            data-ng-mouseover="$ctrl.hoverFrequencyStyle(\'one-time\',true)"\n            data-ng-mouseout="$ctrl.hoverFrequencyStyle(\'one-time\',false)"\n            class="donation-amount-recurring__btn once hover-state_one-time" _spec="one-time" tabindex="0"\n            data-ng-class="{\'selected\': $ctrl.frequency === \'one-time\'}"\n            data-ng-style="$ctrl.oneTimeBtnStyle(\'one-time\')">\n            <label for="donation-amount-recurring__radio-input" class="donation-amount-recurring__btn__frequency-label">\n                <input type="radio" id="donation-amount-recurring__radio-input" role="radio" tabindex="-1"\n                    name="donation-frequency" class="donation-amount-recurring__btn__frequency-input"\n                    aria-checked="{{ $ctrl.frequency === \'one-time\' }}" />One time\n            </label>\n        </div>\n\n        <div data-ng-click="$ctrl.selectFrequency($ctrl.frequency); $ctrl.showFreqDropdown($ctrl.recurringBtnText()); $ctrl.isRecurringFrequency($event)"\n            data-ng-keypress="$ctrl.selectFrequency($ctrl.recurringBtnText(),$event); $ctrl.isRecurringFrequency($event)"\n            data-ng-mouseover="$ctrl.hoverFrequencyStyle(\'recurring\',true)"\n            data-ng-mouseout="$ctrl.hoverFrequencyStyle(\'recurring\',false)"\n            class="donation-amount-recurring__btn monthly hover-state_recurring" _spec="recurring" tabindex="0"\n            data-ng-class="{\'selected\': $ctrl.recurringBtnSelected($ctrl.frequency)}"\n            data-ng-style="$ctrl.recurringBtnStyle($ctrl.frequency)">\n            <label for="donation-amount-monthly__radio-input" class="donation-amount-recurring__btn__frequency-label">\n                <input type="radio" role="radio" id="donation-amount-monthly__radio-input" name="donation-frequency"\n                    tabindex="-1" class="donation-amount-recurring__btn__frequency-input"\n                    aria-checked="{{ $ctrl.frequency == $ctrl.recurringBtnText()}}" />\n                {{!this.onlyReccurringFrequency(this.frequencyLevels) && $ctrl.recurringBtnText()}}\n            </label>\n        </div>\n    </div>\n\n    \x3c!-- FREQUENCY DROPDOWN PHASE 1--\x3e\n    <div data-ng-if="$ctrl.preventOldrfForDeque && $ctrl.noOfFrequencyLevel($ctrl.frequencyLevels) !== 1"\n        class="form_field-input">\n        <label class="form_label">How often would you like to donate?</label>\n        <select data-ng-model="$ctrl.frequency" data-ng-keydown="$ctrl.selectFrequency($ctrl.frequency, $event)"\n            data-id="donation-page-select-frequency" class="form__field first select-frequency"\n            aria-label="How often would you like to donate? {{$ctrl.getAriaLabel($ctrl.frequency)}}"\n            aria-expanded="false" aria-haspopup="listbox">\n            <option data-ng-if="$ctrl.showFrequencyForDeque(level.type)"\n                data-ng-repeat="level in $ctrl.frequencyLevels| filter: ($ctrl.noOfFrequencyLevel($ctrl.frequencyLevels) > 1 && { display_on_page: true})"\n                data-id="donation-page-select-frequency-{{level.type === \'semi-annually\' ? \'semi-annual\' : level.type}}"\n                value="{{level.type}}">\n                {{level.name}}</option>\n        </select>\n    </div>\n\n    \x3c!-- FREQUENCY DROPDOWN PHASE 2 --\x3e\n    <div data-ng-if="!$ctrl.preventOldrfForDeque && ($ctrl.isFreqDropdown || ($ctrl.onlyReccurringFrequency($ctrl.frequencyLevels) && $ctrl.recurringLevels($ctrl.frequencyLevels).length > 1))"\n        class="form_field-input">\n        <label class="form_label">How often would you like to donate?</label>\n        <select data-ng-model="$ctrl.frequency"\n            data-ng-keydown="$ctrl.selectFrequency($ctrl.frequency, $event,\'selectDropdown\')"\n            data-id="donation-page-select-frequency" class="form__field first select-frequency" aria-expanded="false"\n            aria-label="How often would you like to donate? {{$ctrl.getAriaLabel($ctrl.frequency)}}">\n            <option\n                data-id="donation-page-select-frequency-{{level.type === \'semi-annually\' ? \'semi-annual\' : level.type}}"\n                value="{{level.type}}" data-ng-repeat="level in $ctrl.recurringLevels($ctrl.frequencyLevels)">\n                {{level.name}}</option>\n        </select>\n    </div>\n\n    \x3c!-- END DATE --\x3e\n    <div data-ng-if="!$ctrl.preventOldrfForDeque && $ctrl.showRecurringEndDate && $ctrl.frequency !== \'one-time\'"\n        class="form_field-input form_field-input_margin-bottom_20">\n        <label class="form_label">End date (optional, MM/DD/YYYY)</label>\n        <div class="form__field datepicker first">\n            <i class="form_field-input-icon fa fa-calendar"></i>\n            <input data-ng-model="$ctrl.recurUntil" data-ng-click="$ctrl.visible = true"\n                uib-datepicker-popup="MM/dd/yyyy" datepicker-options="{ showWeeks: false, minDate:$ctrl.today}"\n                class="form_date-input-directive" type="text" name="endDate" id="endDate" is-open="$ctrl.visible"\n                aria-expanded="{{$ctrl.visible}}" aria-controls="uib-datepicker-popup-wrap" aria-required="true"\n                role="combobox" aria-label="End date (optional)" autocomplete="off" placeholder="Enter date in the format: MM/DD/YYYY" />\n        </div>\n    </div>\n\n    <p data-ng-if="!$ctrl.showRecurringDonationArray && (!!$ctrl.frequency && ($ctrl.noOfDonationAmount($ctrl.levels) !== 1 || $ctrl.showCustomAmtField($ctrl.levels)))"\n        id="amount-options-label">\n        Choose a <b>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency}}</b> amount</p>\n\n    <p data-ng-if="$ctrl.showRecurringDonationArray && (!!$ctrl.frequency && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) !== 1 || $ctrl.showCustomAmtField($ctrl.recurringDonationLevels)))"\n        id="amount-options-label">\n        Choose a <b>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency}}</b> amount</p>\n\n    \x3c!-- IF MULTIPLE AMOUNT DISPLAYED --\x3e\n    <ul data-ng-if="!$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.levels) > 1 || $ctrl.showCustomAmtField($ctrl.levels))"\n        class="donation-amount-recurring__levels rf" aria-labelledby="amount-options-label" role="radiogroup"\n        data-ng-class="{\'bb\': $ctrl.hasBigButtons, \'multiple-amount-hidden\' : $ctrl.noOfDonationAmount($ctrl.levels) === 1 && !$ctrl.showCustomAmtField($ctrl.levels)}">\n        <li data-ng-if="level.amount !== \'Custom\' && $ctrl.noOfDonationAmount($ctrl.levels) !== 1"\n            id="{{\'D-A\'+level.amount}}"\n            data-ng-repeat="level in $ctrl.levels | filter: ($ctrl.noOfDonationAmount($ctrl.levels) > 1 && { display_on_page: true})"\n            data-ng-click="$ctrl.selectAmount(level.displayAmount)"\n            data-ng-keydown="$ctrl.selectAmount(level.displayAmount, $event)"\n            data-ng-mouseover="$ctrl.hoverStyle($index,true)" data-ng-mouseout="$ctrl.hoverStyle($index,false)"\n            class="donation-amount-recurring__level-item rf hover-state_{{::$index}}" role="radio" tabindex="0"\n            aria-checked="{{ $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected }}"\n            data-ng-class="{\'bb\': $ctrl.hasBigButtons, \'selected\': $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected, \'shimmer-loading\': !$ctrl.canShowLevel(level)}"\n            data-ng-style="$ctrl.donationLevelStyle(level.displayAmount)">\n            <label data-ng-if="!level.loading" for="{{\'D-A\'+level.amount}}"\n                class="donation-amount-recurring__level-item__amount-label rf"\n                data-ng-class="{\'bb\': $ctrl.hasBigButtons}">\n                <input data-ng-model="$ctrl.amount" type="radio"  role="radio" tabindex="-1"\n                    aria-hidden="true" name="donation-amount"\n                    class="donation-amount-recurring__level-item__amount-input rf"\n                    data-ng-class="{\'bb\': $ctrl.hasBigButtons}"\n                />\n                <span data-ng-show="$ctrl.canShowLevel(level)">\n                    {{level.displayAmount | scFormatCurrency:$ctrl.currency:0}}\n                </span>\n            </label>\n            <div data-ng-if="level.loading" class="level-loading" aria-hidden="true">...</div>\n        </li>\n        \x3c!-- REMOVE WHEN BIG BUTTONS GO TO ALL ORGS --\x3e\n        <li data-ng-if="!$ctrl.hasBigButtons && level.amount === \'Custom\' && $ctrl.showCustomAmtField($ctrl.levels) && $ctrl.frequency === \'one-time\'"\n            data-ng-repeat="level in $ctrl.levels | filter: { display_on_page: true}"\n            data-ng-click="$ctrl.selectAmount(\'Custom\')"\n            class="donation-amount-recurring__level-item other-rf hover-state_other" role="radio"\n            data-ng-class="{\'bb\': $ctrl.hasBigButtons, \'selected\': $ctrl.showCustomAmtSelected}">\n            <label for="D-AOther" class="donation-amount-recurring__level-item__amount-label other-rf"\n                data-ng-class="{\'bb\': $ctrl.hasBigButtons}">\n                <div id="custom-amount" class="donation-amount-recurring__amount rf currency-picker"\n                    data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}"\n                    data-sc-form-error="highlight if amount fails">\n                    <div sc-currency-picker class="currency-picker__wrapper-rf"\n                        data-ng-class="{\'bb\': $ctrl.hasBigButtons}" selected="$ctrl.showCustomAmtSelected"\n                        currency-model="$ctrl.currency" currency-entity="\'donation\'"></div>\n\n                    <currency-field-rf model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount" round-currency="false"\n                        name="\'amount\'" class="currency-field rf" data-ng-class="{\'bb\': $ctrl.hasBigButtons}" label="\'\'"\n                        selected="$ctrl.showCustomAmtSelected"\n                        placeholder="!$ctrl.preventOldrfForDeque  ? \'Other\': \'Custom amount\'"\n                        currency-aria-label="{{!$ctrl.preventOldrfForDeque  ? \'Enter an other amount to donate\' : \'Enter a custom amount to donate\'}}">\n                    </currency-field-rf>\n        </li>\n    </ul>\n\n    \x3c!-- IF MULTIPLE RECURRING DONATION AMOUNT DISPLAYED --\x3e\n    <ul data-ng-if="$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) > 1 || $ctrl.showCustomAmtField($ctrl.recurringDonationLevels))"\n        role="radiogroup" class="donation-amount-recurring__levels rf" aria-labelledby="amount-options-label"\n        data-ng-class="{\'bb\': $ctrl.hasBigButtons, \'multiple-amount-hidden\' : $ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) === 1 && !$ctrl.showCustomAmtField($ctrl.recurringDonationLevels)}">\n        <li data-ng-if="level.amount !== \'Custom\' && $ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) !== 1"\n            data-ng-repeat="level in $ctrl.recurringDonationLevels | filter: ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) > 1 && { display_on_page: true})"\n            data-ng-click="$ctrl.selectAmount(level.displayAmount)"\n            data-ng-keydown="$ctrl.selectAmount(level.displayAmount, $event)"\n            data-ng-mouseover="$ctrl.hoverStyle($index,true)" data-ng-mouseout="$ctrl.hoverStyle($index,false)"\n            class="donation-amount-recurring__level-item rf hover-state_{{::$index}}" role="radio" aria-checked="{{ $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected }}" tabindex="0"\n            data-ng-class="{\'bb\': $ctrl.hasBigButtons,\'selected\': $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected, \'shimmer-loading\': !$ctrl.canShowLevel(level)}"\n            data-ng-style="$ctrl.donationLevelStyle(level.displayAmount)">\n            <label data-ng-if="!level.loading" for="{{\'D-A\'+level.amount}}"\n                class="donation-amount-recurring__level-item__amount-label rf"\n                data-ng-class="{\'bb\': $ctrl.hasBigButtons}">\n                <input data-ng-model="$ctrl.amount" name="donation-amount" type="radio" id="{{\'D-A\'+level.amount}}"\n                    tabindex="-1" aria-hidden="true"\n                    class="donation-amount-recurring__level-item__amount-input rf"\n                    data-ng-class="{\'bb\': $ctrl.hasBigButtons}"\n                />\n                <span data-ng-show="$ctrl.canShowLevel(level)">\n                    {{level.displayAmount | scFormatCurrency:$ctrl.currency:0}}\n                </span>\n            </label>\n            <span data-ng-if="level.loading" aria-hidden="true">...</span>\n        </li>\n\n        <li data-ng-if="!$ctrl.hasBigButtons && level.amount === \'Custom\' && $ctrl.showCustomAmtField($ctrl.recurringDonationLevels) && $ctrl.frequency !== \'one-time\'"\n            data-ng-repeat="level in $ctrl.recurringDonationLevels | filter: { display_on_page: true}"\n            data-ng-click="$ctrl.selectAmount(\'Custom\')"\n            class="donation-amount-recurring__level-item other-rf hover-state_other" role="radio"\n            data-ng-class="{\'bb\': $ctrl.hasBigButtons, \'selected\': $ctrl.showCustomAmtSelected}">\n            <label for="D-AOther" class="donation-amount-recurring__level-item__amount-label other-rf"\n                data-ng-class="{\'bb\': $ctrl.hasBigButtons}">\n                <div id="custom-amount" class="donation-amount-recurring__amount rf currency-picker"\n                    data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}"\n                    data-sc-form-error="highlight if amount fails">\n                    <div sc-currency-picker currency-model="$ctrl.currency" currency-entity="\'donation\'"\n                        class="currency-picker__wrapper-rf" data-ng-class="{\'bb\': $ctrl.hasBigButtons}"\n                        selected="$ctrl.showCustomAmtSelected"></div>\n\n                    <currency-field-rf model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount"\n                        selected="$ctrl.showCustomAmtSelected" class="currency-field rf"\n                        data-ng-class="{\'bb\': $ctrl.hasBigButtons}" label="\'\'" round-currency="false" name="\'amount\'"\n                        placeholder="!$ctrl.preventOldrfForDeque  ? \'Other\': \'Custom amount\'"\n                        currency-aria-label="{{!$ctrl.preventOldrfForDeque  ? \'Enter an other amount to donate\' : \'Enter a custom amount to donate\'}}">\n                    </currency-field-rf>\n            </label>\n        </li>\n    </ul>\n\n    <div data-ng-if="$ctrl.hasBigButtons && level.amount === \'Custom\' && (($ctrl.showCustomAmtField($ctrl.levels) && $ctrl.frequency === \'one-time\') || ($ctrl.showCustomAmtField($ctrl.recurringDonationLevels) && $ctrl.frequency !== \'one-time\'))"\n        data-ng-repeat="level in ($ctrl.frequency === \'one-time\' ? $ctrl.levels : $ctrl.recurringDonationLevels) | filter: { display_on_page: true}"\n        data-ng-click="$ctrl.selectAmount(\'Custom\')"\n        class="donation-amount-recurring__level-item other-rf hover-state_other" role="radio"\n        data-ng-class="{\'bb\': $ctrl.hasBigButtons, \'selected\': $ctrl.showCustomAmtSelected}">\n        <label for="D-AOther" class="donation-amount-recurring__level-item__amount-label other-rf"\n            data-ng-class="{\'bb\': $ctrl.hasBigButtons}">\n            <div id="custom-amount" class="donation-amount-recurring__amount rf currency-picker"\n                data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}"\n                data-sc-form-error="highlight if amount fails">\n                <div sc-currency-picker currency-model="$ctrl.currency" currency-entity="\'donation\'"\n                    selected="$ctrl.showCustomAmtSelected" class="currency-picker__wrapper-rf"\n                    data-ng-class="{\'bb\': $ctrl.hasBigButtons}">\n                </div>\n\n                <currency-field-rf model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount"\n                    selected="$ctrl.showCustomAmtSelected" class="currency-field rf"\n                    data-ng-class="{\'bb\': $ctrl.hasBigButtons}" label="\'\'" round-currency="false" name="\'amount\'"\n                    placeholder="!$ctrl.preventOldrfForDeque  ? \'Other\': \'Custom amount\'"\n                    currency-aria-label="{{!$ctrl.preventOldrfForDeque  ? \'Enter an other amount to donate\' : \'Enter a custom amount to donate\'}}">\n                </currency-field-rf>\n            </div>\n        </label>\n    </div>\n\n    \x3c!-- IF ONLY SINGLE AMOUNT DISPLAYED--\x3e\n    <div\n        data-ng-if="!$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.levels) === 1 && !$ctrl.showCustomAmtField($ctrl.levels))">\n        <p class="donation-amount-recurring__subheading"><span>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' :\n                $ctrl.frequency | capitalize }} donation</span></p>\n        <span class="donation-amount-recurring__amount">{{$ctrl.amount | scFormatCurrency:$ctrl.currency:2 }}\n        </span><span class="donation-amount-recurring__currency">{{$ctrl.currency}}</span>\n    </div>\n\n    \x3c!-- IF ONLY SINGLE RECURRING AMOUNT DISPLAYED--\x3e\n    <div\n        data-ng-if="$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) === 1 && !$ctrl.showCustomAmtField($ctrl.recurringDonationLevels))">\n        <p class="donation-amount-recurring__subheading"><span>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' :\n                $ctrl.frequency | capitalize }} donation</span></p>\n        <span class="donation-amount-recurring__amount">{{$ctrl.amount | scFormatCurrency:$ctrl.currency:2 }}\n        </span><span class="donation-amount-recurring__currency">{{$ctrl.currency}}</span>\n    </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/fields/donationGrid/donationGrid",'<div class="donation-grid">\n  \x3c!-- Frequency Toggle --\x3e\n  <div data-ng-init="$ctrl.showFreqDropdown()"\n    data-ng-if="!$ctrl.onlyReccurringFrequency($ctrl.frequencyLevels) && $ctrl.recurringLevels($ctrl.frequencyLevels).length > 0"\n    class="donation-grid__switch" role="radiogroup" data-ng-style="$ctrl.ctaStyle"\n    aria-label="Select a donation frequency">\n    <div\n      data-ng-click="$ctrl.selectFrequency(\'one-time\'); $ctrl.showFreqDropdown(\'one-time\'); $ctrl.isRecurringFrequency($event)"\n      data-ng-keypress="$ctrl.selectFrequency(\'one-time\',$event); $ctrl.isRecurringFrequency($event)"\n      data-ng-mouseover="$ctrl.toggleHover(\'one-time\',true)" data-ng-mouseout="$ctrl.toggleHover(\'one-time\',false)"\n      data-ng-style="$ctrl.getStylesFrequencyOneTimeBtn(\'one-time\')"\n      class="donation-grid__btn once hover-state_one-time" _spec="one-time" tabindex="0"\n      data-ng-class="{\'selected\': $ctrl.frequency === \'one-time\'}">\n      <div class="donation-grid__btn__frequency-label-container">\n        <i data-ng-show="$ctrl.isOneTime()" class="ci ci-checkmark eg-donation-frequency-switch__icon eg-pr1"></i>\n        <label for="donation-grid__radio-input" class="donation-grid__btn__frequency-label" tabindex="-1"\n          data-id="cp-donation-form-one-time">\n          <input type="radio" id="donation-grid__radio-input" role="radio" tabindex="-1" name="donation-frequency"\n            class="donation-grid__btn__frequency-input" aria-checked="{{ $ctrl.frequency === \'one-time\' }}"\n            data-id="onetime-toggle" />One-time\n        </label>\n      </div>\n    </div>\n\n    <div\n      data-ng-click="$ctrl.selectFrequency($ctrl.frequency); $ctrl.showFreqDropdown($ctrl.recurringBtnText()); $ctrl.isRecurringFrequency($event)"\n      data-ng-keypress="$ctrl.selectFrequency($ctrl.recurringBtnText(),$event); $ctrl.isRecurringFrequency($event)"\n      data-ng-mouseover="$ctrl.toggleHover(\'recurring\',true)" data-ng-mouseout="$ctrl.toggleHover(\'recurring\',false)"\n      data-ng-style="$ctrl.getStylesFrequencyRecurringBtn($ctrl.frequency)"\n      class="donation-grid__btn monthly hover-state_recurring" _spec="recurring" tabindex="0"\n      data-ng-class="{\'selected\': $ctrl.recurringBtnSelected($ctrl.frequency)}">\n      <div class="donation-grid__btn__frequency-label-container">\n        <i data-ng-show="$ctrl.recurringBtnSelected($ctrl.frequency)"\n          class="ci ci-checkmark eg-donation-frequency-switch__icon eg-pr1"></i>\n        <label for="donationGrid-donation-amount-monthly__radio-input" class="donation-grid__btn__frequency-label"\n          style="text-transform: capitalize" tabindex="-1" data-id="cp-donation-form-recurring">\n          <input type="radio" role="radio" id="donationGrid-donation-amount-monthly__radio-input"\n            name="donation-frequency" tabindex="-1" class="donation-grid__btn__frequency-input"\n            aria-checked="{{ $ctrl.frequency == $ctrl.recurringBtnText()}}" data-id="recurring-toggle" />\n          {{!this.onlyReccurringFrequency(this.frequencyLevels) && $ctrl.recurringBtnText()}}\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div class="donation-grid__fields-container">\n    <div\n      data-ng-if="$ctrl.isFreqDropdown || ($ctrl.onlyReccurringFrequency($ctrl.frequencyLevels) && $ctrl.recurringLevels($ctrl.frequencyLevels).length > 1)"\n      class="form_field-input donation-grid__field">\n      <label class="form_label">Donation frequency</label>\n      <select data-ng-model="$ctrl.frequency"\n        data-ng-keydown="$ctrl.selectFrequency($ctrl.frequency, $event,\'selectDropdown\')"\n        data-id="cp-donation-form-frequency" class="form__field first select-frequency" aria-expanded="false"\n        aria-label="Donation frequency {{$ctrl.getAriaLabel($ctrl.frequency)}}">\n        <option data-id="cp-donation-form-frequency-{{level.type === \'semi-annually\' ? \'semi-annual\' : level.type}}"\n          value="{{level.type}}" data-ng-repeat="level in $ctrl.recurringLevels($ctrl.frequencyLevels)">\n          {{level.name}}\n        </option>\n      </select>\n    </div>\n\n    \x3c!-- END DATE --\x3e\n    <div data-ng-if="$ctrl.showRecurringEndDate && $ctrl.frequency !== \'one-time\'"\n      class="form_field-input donation-grid__field donation-grid__field--end-date">\n      <label class="form_label">End date (optional, MM/DD/YYYY)</label>\n      <div class="form__field datepicker first">\n        <i class="form_field-input-icon fa fa-calendar"></i>\n        <input data-ng-model="$ctrl.recurUntil" data-ng-click="$ctrl.visible = true"\n          data-id="cp-donation-form-recurring-end-date" uib-datepicker-popup="MM/dd/yyyy"\n          datepicker-options="{ showWeeks: false, minDate:$ctrl.today}" class="form_date-input-directive" type="text"\n          name="endDate" id="endDate" is-open="$ctrl.visible" aria-expanded="{{$ctrl.visible}}"\n          aria-controls="uib-datepicker-popup-wrap" aria-required="true" role="combobox"\n          aria-label="End date (optional, MM/DD/YYYY)" autocomplete="off" />\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Frequency Label --\x3e\n  <p data-ng-if="!$ctrl.showRecurringDonationArray && (!!$ctrl.frequency && ($ctrl.noOfDonationAmount($ctrl.levels) !== 1 || $ctrl.showCustomAmtField($ctrl.levels)))"\n    id="amount-options-label">\n    Choose a\n    <b>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency}}</b> amount\n  </p>\n\n  <p data-ng-if="$ctrl.showRecurringDonationArray && (!!$ctrl.frequency && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) !== 1 || $ctrl.showCustomAmtField($ctrl.recurringDonationLevels)))"\n    id="amount-options-label">\n    Choose a\n    <b>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency}}</b> amount\n  </p>\n\n  \x3c!-- One-time Donation --\x3e\n  <ul\n    data-ng-if="!$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.levels) > 1 || $ctrl.showCustomAmtField($ctrl.levels))"\n    class="donation-grid__levels" aria-labelledby="amount-options-label" role="radiogroup"\n    data-ng-class="{\'multiple-amount-hidden\' : $ctrl.noOfDonationAmount($ctrl.levels) === 1 && !$ctrl.showCustomAmtField($ctrl.levels)}">\n\n    \x3c!-- Default donation levels --\x3e\n    <li data-ng-if="level.amount !== \'Custom\' && $ctrl.noOfDonationAmount($ctrl.levels) !== 1"\n      data-ng-repeat="level in $ctrl.levels | filter: ($ctrl.noOfDonationAmount($ctrl.levels) > 1 && { display_on_page: true})"\n      data-ng-click="$ctrl.selectAmount(level.displayAmount)"\n      data-ng-keydown="$ctrl.selectAmount(level.displayAmount, $event)"\n      data-ng-mouseover="$ctrl.toggleHover($index,true)" data-ng-mouseout="$ctrl.toggleHover($index,false)"\n      class="donation-grid__level-item hover-state_{{::$index}}" role="radio" tabindex="0"\n      aria-checked="{{ $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected }}"\n      data-ng-class="{\'selected\': $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected, \'shimmer-loading\': !$ctrl.canShowLevel(level)}"\n      data-ng-style="$ctrl.donationLevelStyle(level.displayAmount, $index)">\n\n      <label for="{{\'D-A\'+level.amount}}" class="donation-grid__level-item__amount-label">\n        <input id="{{\'D-A\'+level.amount}}" type="radio" role="radio" tabindex="-1" aria-hidden="true"\n          name="donationGrid-donation-amount" class="donation-grid__level-item__amount-input"\n          ng-attr-data-id="cp-donation-form-onetime-preset-{{$index + 1}}" data-amount={{level.amount}} />\n        <span data-ng-show="$ctrl.canShowLevel(level)">{{level.displayAmount |\n          scFormatCurrency:$ctrl.currency:0:\'symbol\':true}}</span>\n      </label>\n    </li>\n\n    \x3c!-- Custom amount field --\x3e\n    <li\n      data-ng-if="level.amount === \'Custom\' && $ctrl.showCustomAmtField($ctrl.levels) && $ctrl.frequency === \'one-time\'"\n      data-ng-repeat="level in $ctrl.levels | filter: { display_on_page: true}"\n      data-ng-click="$ctrl.selectAmount(\'Custom\')"\n      class="donation-grid__level-item hover-state_other donation-grid__level-item__other" role="radio"\n      data-ng-class="{\'selected\': $ctrl.showCustomAmtSelected}">\n\n      <label for="D-AOther" class="donation-grid__level-item__amount-label other-rf">\n        <div id="custom-amount" class="donation-grid__amount currency-picker"\n          data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}" data-sc-form-error="highlight if amount fails">\n          \x3c!-- Currency picker --\x3e\n          <donation-grid-currency class="donation-grid-currency hover-state_currency"\n            selected="$ctrl.showCustomAmtSelected" currency-model="$ctrl.currency"\n            disabled="$ctrl.globalState.feeProcessing" currency-entity="\'donation\'"\n            data-ng-mouseover="$ctrl.toggleHover(\'currency\',true)"\n            data-ng-mouseout="$ctrl.toggleHover(\'currency\',false)"\n            data-ng-style="$ctrl.getOtherFieldStyles(\'currency\')"></donation-grid-currency>\n          \x3c!-- Custom donation amount --\x3e\n          <donation-grid-custom-amount model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount"\n            selected="$ctrl.showCustomAmtSelected" currency-code="$ctrl.currency" round-currency="false" name="\'amount\'"\n            label="\'\'" placeholder="\'Other\'" data-ng-mouseover="$ctrl.toggleHover(\'custom_amount\',true)"\n            data-ng-mouseout="$ctrl.toggleHover(\'custom_amount\',false)"\n            data-ng-style="$ctrl.getOtherFieldStyles(\'custom_amount\')"\n            class="currency-field rf donation-grid-custom-amount hover-state_custom_amount"\n            currency-aria-label="Enter an other amount to donate"\n            input-data-id="cp-donation-form-onetime-custom"></donation-grid-custom-amount>\n        </div>\n      </label>\n    </li>\n  </ul>\n\n  \x3c!-- Recurring Donation --\x3e\n  <ul\n    data-ng-if="$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) > 1 || $ctrl.showCustomAmtField($ctrl.recurringDonationLevels))"\n    role="radiogroup" class="donation-grid__levels" aria-labelledby="amount-options-label"\n    data-ng-class="{\'multiple-amount-hidden\' : $ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) === 1 && !$ctrl.showCustomAmtField($ctrl.recurringDonationLevels)}">\n\n    \x3c!-- Default donation levels --\x3e\n    <li data-ng-if="level.amount !== \'Custom\' && $ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) !== 1"\n      data-ng-repeat="level in $ctrl.recurringDonationLevels | filter: ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) > 1 && { display_on_page: true})"\n      data-ng-click="$ctrl.selectAmount(level.displayAmount)"\n      data-ng-keydown="$ctrl.selectAmount(level.displayAmount, $event)"\n      data-ng-mouseover="$ctrl.toggleHover($index,true)" data-ng-mouseout="$ctrl.toggleHover($index,false)"\n      class="donation-grid__level-item hover-state_{{::$index}}" role="radio"\n      aria-checked="{{ $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected }}" tabindex="0"\n      data-ng-class="{\'selected\': $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected, \'shimmer-loading\': !$ctrl.canShowLevel(level)}"\n      data-ng-style="$ctrl.donationLevelStyle(level.displayAmount)">\n\n      <label for="{{\'D-A\'+level.amount}}" class="donation-grid__level-item__amount-label">\n        <input name="donationGrid-donation-amount" type="radio" id="{{\'D-A\'+level.amount}}" tabindex="-1"\n          aria-hidden="true" class="donation-grid__level-item__amount-input"\n          ng-attr-data-id="cp-donation-form-recurring-preset-{{$index + 1}}" data-amount={{level.amount}} />\n        <span data-ng-show="$ctrl.canShowLevel(level)">{{level.displayAmount |\n          scFormatCurrency:$ctrl.currency:0:\'symbol\':true}}</span>\n      </label>\n    </li>\n\n    \x3c!-- Custom amount field --\x3e\n    <li\n      data-ng-if="level.amount === \'Custom\' && $ctrl.showCustomAmtField($ctrl.recurringDonationLevels) && $ctrl.frequency !== \'one-time\'"\n      data-ng-repeat="level in $ctrl.recurringDonationLevels | filter: { display_on_page: true}"\n      data-ng-click="$ctrl.selectAmount(\'Custom\')"\n      class="donation-grid__level-item hover-state_other donation-grid__level-item__other" role="radio"\n      data-ng-class="{\'selected\': $ctrl.showCustomAmtSelected}">\n      <label for="D-AOther" class="donation-grid__level-item__amount-label other-rf">\n        <div id="custom-amount" class="donation-grid__amount currency-picker"\n          data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}" data-sc-form-error="highlight if amount fails">\n          <donation-grid-currency class="donation-grid-currency hover-state_currency"\n            selected="$ctrl.showCustomAmtSelected" currency-model="$ctrl.currency"\n            disabled="$ctrl.globalState.feeProcessing" currency-entity="\'donation\'"\n            data-ng-mouseover="$ctrl.toggleHover(\'currency\',true)"\n            data-ng-mouseout="$ctrl.toggleHover(\'currency\',false)"\n            data-ng-style="$ctrl.getOtherFieldStyles(\'currency\')"></donation-grid-currency>\n\n          <donation-grid-custom-amount model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount"\n            selected="$ctrl.showCustomAmtSelected" round-currency="false" name="\'amount\'" label="\'\'"\n            placeholder="\'Other\'" currency-code="$ctrl.currency"\n            data-ng-mouseover="$ctrl.toggleHover(\'custom_amount\',true)"\n            data-ng-mouseout="$ctrl.toggleHover(\'custom_amount\',false)"\n            data-ng-style="$ctrl.getOtherFieldStyles(\'custom_amount\')"\n            class="currency-field rf donation-grid-custom-amount hover-state_custom_amount"\n            currency-aria-label="Enter an other amount to donate"\n            input-data-id="cp-donation-form-recurring-custom"></donation-grid-custom-amount>\n        </div>\n      </label>\n    </li>\n  </ul>\n\n  \x3c!-- IF ONLY SINGLE AMOUNT DISPLAYED--\x3e\n  <div\n    data-ng-if="!$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.levels) === 1 && !$ctrl.showCustomAmtField($ctrl.levels))">\n    <p class="donation-grid__subheading">\n      <span>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency | capitalize }}\n        donation</span>\n    </p>\n    <span class="donation-grid__amount">{{$ctrl.amount | scFormatCurrency:$ctrl.currency:2:\'symbol\':true }} </span><span\n      class="donation-grid__currency">{{$ctrl.currency}}</span>\n  </div>\n\n  \x3c!-- IF ONLY SINGLE RECURRING AMOUNT DISPLAYED--\x3e\n  <div\n    data-ng-if="$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) === 1 && !$ctrl.showCustomAmtField($ctrl.recurringDonationLevels))">\n    <p class="donation-grid__subheading">\n      <span>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency | capitalize }}\n        donation</span>\n    </p>\n    <span class="donation-grid__amount">{{$ctrl.amount | scFormatCurrency:$ctrl.currency:2:\'symbol\':true }} </span><span\n      class="donation-grid__currency">{{$ctrl.currency}}</span>\n  </div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/fields/donationGridCurrency/donation-currency",'<div\n  class="currency-picker__wrapper eg-pr2"\n  data-ng-style="getCurrencyWrapperStyles(selected)"\n  data-ng-class="{\'no-pick\': !showDropdown, \'disabled\': disabled}"\n  aria-hidden="{{!showDropdown}}"\n  sc-lock-field="disabled"\n  tooltip-text="tooltipText"\n  handle-unlock="true"\n>\n  <div class="currency-picker__select-wrapper">\n    <select\n      id="dropdown"\n      data-ng-show="showDropdown"\n      data-ng-model="currency"\n      data-ng-change="onCurrencySelect()"\n      data-ng-options="currency as currency.longText for currency in currencyOptions track by currency.currency"\n      class="currency-picker__select eg-interact eg-ff"\n      aria-label="Select a currency"\n      data-ng-disabled="disabled"\n    ></select>\n    <span class="currency-picker__short eg-ff" data-ng-style="getCurrencyLabelStyles(selected)"\n      >{{currency.currency}} <i class="fa fa-caret-down" ng-if="!isDisabled()"></i\n    ></span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/fields/donationGridCustomAmount/donation-custom-amount",'<div class="donation-grid-custom-amount-container">\n  <span\n    ng-class="{\'selected\': $ctrl.selected}"\n    ng-style="!$ctrl.selected ? $ctrl.getStylesDefault() : $ctrl.getStylesSelected()"\n    >{{$ctrl.symbol}}</span\n  >\n  <input\n    ng-model="$ctrl.model"\n    ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n    name="{{::$ctrl.name}}"\n    sc-currency\n    sc-validity-reporter\n    sc-validity-classes\n    data-sc-focus="$ctrl.focusWhen"\n    round-currency="$ctrl.roundCurrency"\n    ng-disabled="$ctrl.disableFlag"\n    ng-required="$ctrl.required"\n    ng-focus="$ctrl.onFocus = true"\n    ng-blur="$ctrl.onBlur()"\n    ng-change="$ctrl.onChange()"\n    max="$ctrl.max"\n    min="$ctrl.min"\n    autocomplete="off"\n    placeholder="{{::$ctrl.placeholder}}"\n    aria-label="{{::$ctrl.currencyAriaLabel}}"\n    qa-id="{{::$ctrl.scQaId.singleLineTextInput}}"\n    _spec="input"\n    type="string"\n    inputmode="numeric"\n    ng-class="{\'selected\': $ctrl.selected}"\n    class="form__text-input--dark eg-ff eg-bold6"\n    ng-style="!$ctrl.selected ? $ctrl.getStylesDefault() : $ctrl.getStylesSelected()"\n    data-id="{{$ctrl.inputDataId}}"\n  />\n</div>\n\n<div style="position: absolute; width: 100%; left: 0; text-align: left" aria-live="polite">\n  <form-error name="$ctrl.name" messages="$ctrl.errorMessages" _spec="errors"></form-error>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/fields/imageList/template",'<div class="form_gallery" data-ng-class="{ \'admin-body__lock-field\': $ctrl.lockField }">\n  <div\n    ng-if="$ctrl.lockField"\n    data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n    data-sc-tooltip-position="center"\n    data-sc-tooltip-position-tip="bottom center"\n    show-event="\'mouseenter\'"\n    hide-event="\'mouseout\'"\n    fixed-tooltip="true"\n    data-sc-tooltip="\'This field is locked at the template level.\'"\n    class="admin-body__tooltip-element"\n  ></div>\n  \x3c!-- Uploader Bar --\x3e\n  <div\n    class="image-list"\n    data-sc-img-list="$ctrl.model"\n    data-limit="{{::$ctrl.imgLimit}}"\n    data-mode="{{::$ctrl.mode}}"\n    data-description="{{::$ctrl.config.description}}"\n    data-custom-height="$ctrl.config.previewHeight"\n    data-re-upload="true"\n    ng-required="$ctrl.required"\n    data-preview="$ctrl.config.preview"\n    data-sortable="::$ctrl.sortable"\n    data-options="$ctrl.config.imgOptions"\n    data-mm-config="$ctrl.config.mmOptions"\n    data-add-video="$ctrl.video"\n    data-name="{{$ctrl.formName}}"\n  >\n    {{::$ctrl.config.label}}\n  </div>\n\n  <div class="image-list__button-container" data-ng-if="!$ctrl.config.hideActionButtons">\n    \x3c!-- Remove Button --\x3e\n    <div\n      class="admin-button__secondary gray"\n      data-ng-disabled="$ctrl.buttonLock"\n      ng-click="($ctrl.customCancelBtn.action && !$ctrl.model) ? $ctrl.customCancelBtn.action() : $ctrl.remove()"\n      autosave="true"\n      role="button"\n      tabindex="0"\n      ng-keydown="$ctrl.onKeyDown($event)"\n    >\n      {{($ctrl.customCancelBtn.action && !$ctrl.model) ? $ctrl.customCancelBtn.label :\'Remove\'}}\n    </div>\n\n    \x3c!-- Next Button --\x3e\n    <div\n      ng-if="!$ctrl.customNextBtn.action || !$ctrl.model"\n      class="admin-button__secondary aquamarine"\n      data-ng-disabled="$ctrl.buttonLock"\n      sc-img-picker="$ctrl.config.mmOptions"\n      ng-model="$ctrl.model"\n      autosave="true"\n      role="button"\n      tabindex="0"\n    >\n      Upload\n    </div>\n\n    <div\n      tabindex="0"\n      ng-keydown="$ctrl.onkeydownCustomNextBtn($event)"\n      ng-if="$ctrl.customNextBtn.action && $ctrl.model"\n      class="admin-button__secondary aquamarine"\n      data-ng-disabled="$ctrl.buttonLock"\n      ng-click="$ctrl.customNextBtn.action()"\n      autosave="true"\n    >\n      {{::$ctrl.customNextBtn.label || \'Save\'}}\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/intelligent-ask/learn-more/global.components.intelligent-ask",'<div class="iaa-learn-more">\n  <h5>{{ $ctrl.header}}</h5>\n  <p>{{ $ctrl.description}}</p>\n  <a href="{{ $ctrl.href}}" target="_blank">Learn more</a>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/components/intelligent-ask/toggle/global.components.intelligent-ask.toggle",'<div class="iaa-toggle">\n  <span class="new-badge">NEW</span>\n  <div class="toggle-wrapper">\n    <span class="header">Intelligent Ask Amounts</span>\n    <toggle-field\n      name="\'intelligent-ask-amounts-toggle\'"\n      model="iaa"\n      callback-fn="onIAAChange(iaa)"\n      toggle-label="Intelligent Ask Amounts"\n    >\n    </toggle-field>\n  </div>\n  <div ng-if="iaa">\n    <div class="toggle-wrapper">\n      <span>one-time</span>\n      <toggle-field\n        name="\'iaa-one-time\'"\n        model="oneTime"\n        toggle-label="One time"\n        callback-fn="onOneTimeClick(oneTime)"\n      ></toggle-field>\n    </div>\n    <div class="toggle-wrapper">\n      <span>monthly</span>\n      <toggle-field\n        name="\'iaa-recurring\'"\n        model="recurring"\n        toggle-label="Recurring"\n        callback-fn="onRecurringClick(recurring)"\n      ></toggle-field>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/crypto-giving/views/directives/crypto-giving.views.directives.qr-code",'<div id="cg-qr-code"></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/form/scResourceSearch/template",'<div\n  class="{{::bc}}_container"\n  data-ng-class="{\'has-selection\': scope.selection, \'no-select\': !scope.showDropdown() }"\n>\n  <div class="{{::bc}}_input-container">\n    <select\n      class="{{::bc}}_input-select"\n      data-ng-show="showDropdown()"\n      data-ng-model="activeMode"\n      data-ng-disabled="disabled"\n      data-ng-options="mode as mode.label for mode in modes"\n      aria-label="{{::bc}} dropdown"\n    ></select>\n\n    <input\n      class="{{::bc}}_input-query-primary"\n      autocomplete="off"\n      data-ng-show="!selection"\n      data-ng-model="query"\n      data-ng-disabled="disabled"\n      data-ng-disabled="required"\n      id="resource-search-input"\n      ng-keydown="onSearchBoxKeydown($event)"\n      data-sc-focus="focusSearchBox"\n      role="textbox"\n      name="scResourceSearchQuery"\n      data-ng-focus="onFocus()"\n      data-ie-model-fix\n      placeholder="Start typing to {{ getSearchPlaceholder() }}"\n      aria-label="{{ getSearchPlaceholder() }}"\n      qa-id="{{ scQaId.resourceSearch }}"\n      aria-haspopup="true"\n      aria-activedescendant="{{ getActiveDescendentId() }}"\n    />\n\n    <span class="{{::bc}}_input-mock" data-ng-show="selection" role="listbox">\n      <span\n        class="{{::bc}}_input-mock-value"\n        id="search-result-selected"\n        aria-label="Selected creditee {{ selection._service.getName(selection) }}"\n        aria-live="polite"\n        role="option"\n      >\n        <img\n          class="{{::bc}}_input-mock-image"\n          data-ng-show="::features.image"\n          data-ng-src="{{selection._service.getLogo(selection)}}"\n          aria-hidden="true"\n        />\n\n        <span class="{{::bc}}_input-mock-name" aria-live="polite"\n          >{{ selection._service.getName(selection) }}</span\n        >\n\n        <button\n          class="{{::bc}}_input-mock-clear ci ci-close-x"\n          data-sc-focus="focusRemoveButton"\n          type="button"\n          data-ng-click="clearSelection()"\n          aria-label="Remove creditee {{ selection._service.getName(selection) }}"\n        ></button>\n      </span>\n    </span>\n  </div>\n\n  <div\n    class="{{::bc}}_results"\n    id="search-result-container"\n    data-ng-if="showResults()"\n    role="listbox"\n    aria-label="Search results"\n  >\n    <ul class="{{::bc}}_list">\n      <li\n        class="{{::bc}}_item"\n        data-ng-repeat="result in results"\n        data-ng-init="searchService = result._service"\n      >\n        <button\n          id="search-result-{{result.id}}"\n          tabindex="-1"\n          ng-keydown="onResultItemKeydown($event, result)"\n          class="{{::bc}}_item-button"\n          type="button"\n          data-ng-click="selectResource(result)"\n          role="option"\n          aria-role="Search result"\n          aria-selected="{{ result.id === selection.id }}"\n        >\n          <div class="{{::bc}}_item-button-inner">\n            <img\n              class="{{::bc}}_item-image"\n              data-ng-if="::features.image"\n              data-ng-src="{{::result._service.getLogo(result)}}"\n              aria-hidden="true"\n            />\n\n            <div class="{{::bc}}_item-content">\n              <span class="{{::bc}}_item-name">{{::result._service.getName(result)}}</span>\n              <div\n                class="{{::bc}}_item-description"\n                data-ng-if="::features.description && !!result._service.getDescription(result)"\n              >\n                {{::result._service.getDescription(result)}}\n              </div>\n              <span class="sr-only">{{ $index + 1 }} of {{ results.length }}</span>\n            </div>\n          </div>\n        </button>\n      </li>\n    </ul>\n  </div>\n\n  <div class="{{::bc}}_fetching" data-ng-show="isFetchingResults()">\n    <div class="{{::bc}}_fetching-row">\n      <span class="{{::bc}}_fetching-row-image"></span>\n      <span class="{{::bc}}_fetching-row-text"></span>\n    </div>\n\n    <div class="{{::bc}}_fetching-row">\n      <span class="{{::bc}}_fetching-row-image"></span>\n      <span class="{{::bc}}_fetching-row-text"></span>\n    </div>\n\n    <div class="{{::bc}}_fetching-row">\n      <span class="{{::bc}}_fetching-row-image"></span>\n      <span class="{{::bc}}_fetching-row-text"></span>\n    </div>\n  </div>\n\n  <div\n    class="{{::bc}}_empty"\n    id="search-result--empty"\n    data-ng-show="isResultsEmpty()"\n    role="listbox"\n    aria-label="No results found"\n  >\n    No results found\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/interaction/scComment/template","<div></div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/interaction/scCommentsButton/template",'<button class="comment-button" data-ng-click="action()">\n  <i class="fa fa-comment-o comment-button_icon"></i>\n  <span class="comment-button_count" data-ng-show="showCount">\n    {{commentable.comments_count}}\n  </span>\n</button>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/interaction/scCommentsList/template","<div></div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/interaction/scLikesButton/template",'<button\n  class="like-button"\n  data-ng-click="toggleLike()"\n  data-ng-class="{ liked: likeable.myLike }"\n  aria-label="like this page, the count of like is {{likeable.likes_count}}"\n>\n  <img\n    data-ng-src="{{likeable.myLike  ? \'/static/global/images/like-red.svg\':\'/static/global/images/like.svg\'}}"\n    alt="like"\n  />\n  <span class="like-button_count" data-ng-show="showCount"> {{likeable.likes_count}} </span>\n  <span class="sr-only" aria-live="assertive">Updated like count to {{likeable.likes_count}}</span>\n</button>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/interaction/scPost/template",'<div class="post-container" data-ng-class="{ excerpt: excerpt, latest: post.latest }">\n  <div ng-class="{\'post_post-mode\': mode === \'post\'}">\n    <a\n      class="post-container_back"\n      data-ng-click="toListAction()"\n      data-ng-show="mode === \'post\'"\n      type="button"\n    >\n      <i class="fa fa-chevron-left post-container_back-icon"></i>\n      Back\n    </a>\n\n    <article class="post" aria-label="{{$index+1}} story">\n      <div data-ng-if="latestPost" class="post_latest">\n        <div class="post_latest_image-container">\n          <div class="feed-item_user-image-container relative">\n            <img\n              class="feed-item_user-image"\n              data-ng-src="{{ getAuthorPhoto() }}"\n              alt="{{ post.poster_name }}"\n            />\n          </div>\n        </div>\n\n        <div class="post_latest-inner">\n          <span class="post_latest_name">{{ post.poster_name }}</span>\n          Latest Update\n        </div>\n      </div>\n\n      \x3c!-- Title --\x3e\n      <h1\n        class="post_title"\n        data-ng-show="mode === \'post\' && !preview"\n        ng-bind-html="::post.title | scTrustedHtml"\n      ></h1>\n      <h2 class="post_title" data-ng-show="mode === \'list\' && !preview">\n        <a\n          class="post_title-link"\n          data-ng-click="toPostAction({ post: post })"\n          ng-bind-html="::post.title | scTrustedHtml"\n          role="link"\n          href="javascript:void(0);"\n        >\n        </a>\n      </h2>\n\n      \x3c!-- Title in preview mode --\x3e\n      <h2\n        class="post_title"\n        data-ng-if="preview"\n        data-ng-bind-html="previewTitle | scTrustedHtml"\n      ></h2>\n\n      \x3c!-- Metadata --\x3e\n      <section class="post_meta" data-ng-if="!story">\n        <span class="post_meta-number">Update #{{::post.rank}}</span>\n        <span class="post_meta-date">{{::post.created_at | date:\'MMMM d, yyyy\'}}</span>\n      </section>\n\n      \x3c!-- Content --\x3e\n      <section\n        class="post_body"\n        sc-filler-text="{\n          fontBase: 16,\n          fontRatio: 14\n        }"\n        data-title-container="\'.post_content\'"\n        data-parent-container="\'.post_content\'"\n      >\n        <div class="post_banner" data-ng-if="::post.asset_url">\n          <img class="post_banner-img" data-ng-src="{{::post.asset_url}}" />\n        </div>\n\n        <div\n          class="post_content"\n          data-ng-if="!preview"\n          data-ng-bind-html="postBody | scImgAssetRef | userLinks | scTrustedHtml"\n          sc-responsive-video\n        ></div>\n\n        \x3c!-- Content in preview mode --\x3e\n        <div\n          class="post_content"\n          data-ng-if="preview"\n          data-ng-bind-html="previewBody | userLinks | scTrustedHtml"\n        ></div>\n      </section>\n\n      \x3c!-- Footer bar --\x3e\n      <section class="post_actions">\n        <button\n          class="post_actions-left"\n          data-sc-likes-button="post"\n          data-endpoint-prefix="postType"\n          data-show-count="true"\n        ></button>\n\n        <a\n          href\n          class="post_actions-left"\n          data-ng-click="commentsAction() || mode === \'post\' ? showComments() : toPostAction({ post: post })"\n          aria-label="Add comments to this {{post.postable_type === \'fundraising_page\' ? \'fundraiser\' : \'team\' }} page, the count of comments is {{ post.comments_count }}"\n          role="link"\n        >\n          <img src="/static/global/images/coment.svg" alt="comment" />\n          <span class="post_comments-count">{{ post.comments_count }}</span>\n        </a>\n\n        <a\n          class="post_actions-left"\n          data-ng-href="#"\n          data-ng-if="story"\n          data-sc-social-buttons="isMobile ? \'overlay\' : \'tooltip\'"\n          role="button"\n          aria-label="Share on Facebook, Share on X, Share via Email"\n        >\n          <img src="/static/global/images/share.svg" alt="share" />\n        </a>\n\n        <a\n          class="post_actions-right"\n          data-ng-click="toPostAction({ post: post })"\n          data-ng-show="mode === \'list\'"\n          data-ng-if="!!excerpt"\n          tabindex="0"\n          >Read update <i class="fa fa-angle-right"></i\n        ></a>\n      </section>\n    </article>\n  </div>\n\n  \x3c!-- Comments --\x3e\n  <section\n    class="post_comments-list"\n    data-sc-comments-list="post"\n    data-ng-show="mode === \'list\'"\n  ></section>\n\n  <div class="post_activity-content" data-ng-if="mode === \'post\' && !preview && !story">\n    <div\n      sc-feed="post"\n      data-type="update"\n      data-demo="demo"\n      data-allow-commenting="block.allowCommenting"\n      data-block="block"\n      data-theme="theme"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scCampaignProgress/crowdfunding/template",'<div class="sc-campaign-progress">\n  \x3c!-- Need to use P tag for JAWS to read within div element --\x3e\n  <p class="sr-only">\n    {{entity.name}} has raised {{total_raised | scFormatCurrency:currency}} out of their goal of\n    {{rawGoalAmount}}\n  </p>\n  <div data-ng-if="enableProgressBar">\n    <span\n      class="sc-campaign-progress_raised"\n      data-ng-bind="total_raised | nullToZero | scFormatCurrency:currency:0"\n    ></span>\n    <span class="sc-campaign-progress_goal">\n      / <span class="sc-campaign-progress_goal-inner" ng-bind="rawGoalAmount | nullToZero "></span\n    ></span>\n    <div\n      class="sc-campaign-progress_bar-mask"\n      data-ng-style="{\'background-color\': backgroundColor}"\n    >\n      <div\n        class="sc-campaign-progress_bar-value"\n        data-ng-style="{width: (percentRaised > 100 ? 100 : percentRaised)+\'%\',\'background-color\': btnColor}"\n      ></div>\n    </div>\n  </div>\n  <div class="sc-campaign-progress_stats" data-ng-if="!hasStatsHidden">\n    <div\n      data-ng-class="enableProgressBar ? \'sc-campaign-progress_stats-left\': \'sc-campaign-progress_stats-center\'"\n      data-ng-if="enableSupporters"\n    >\n      <span data-ng-if="!isPercentHidden">{{ percentRaised | number : 0 }}%</span> Raised by\n      <span\n        ng-pluralize\n        data-count="supporters"\n'+"        data-when=\"{'one': '{} supporter', 'other': '{} supporters'}\"\n      ></span>\n    </div>\n    <div\n      ng-class=\"enableProgressBar ? 'sc-campaign-progress_stats-right': 'sc-campaign-progress_stats-center' \"\n    >\n      <span\n        data-ng-if=\"!isEndedAtHidden\"\n        data-ng-pluralize\n        data-count=\"{{endsAt | scDaysRemaining}}\"\n        data-when=\"{ '1': '{} day left', 'other': '{} days left' }\"\n      ></span>\n    </div>\n  </div>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scCampaignProgress/p2p/template",'<div class="sc-campaign-progress">\n  \x3c!-- Need to use P tag for JAWS to read within div element --\x3e\n  <p class="sr-only">\n    {{entity.name}} has raised {{total_raised | scFormatCurrency:currency}} out of their goal of\n    {{rawGoalAmount}}\n  </p>\n\n  \x3c!-- Goal --\x3e\n  <div class="{{styleClass}} sc-p2p-campaign-progress_stats" data-ng-if="!hasStatsHidden">\n    <div class="sc-p2p-campaign-progress_stats-left">\n      <span\n        class="sc-p2p-campaign-progress_raised"\n        data-ng-style="{\'color\': backgroundColor}"\n        data-ng-bind="total_raised | nullToZero | scFormatCurrency:currency:0"\n      ></span>\n      <span class="sc-p2p-campaign-progress_raised-text" data-ng-style="{\'color\': backgroundColor}"\n        >Raised</span\n      >\n    </div>\n\n    <div class="{{styleClass}} sc-p2p-campaign-progress_stats-right">\n      <span class="sc-p2p-campaign-progress_goal" data-ng-style="{\'color\': backgroundColor}">\n        <span class="sc-p2p-campaign-progress_goal-inner" ng-bind="rawGoalAmount"></span> Goal\n      </span>\n    </div>\n  </div>\n\n  \x3c!-- Progress Bar--\x3e\n  <div class="{{styleClass}} sc-p2p-campaign-progress_bar">\n    <div\n      class="sc-p2p-campaign-progress_bar-mask"\n      data-ng-style="{\'background-color\': backgroundColor}"\n    >\n      <div\n        class="sc-p2p-campaign-progress_bar-value"\n        data-ng-style="{width: (percentRaised > 100 ? 100 : percentRaised)+\'%\',\'background-color\': btnColor}"\n      ></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scColorpickerField/template",'<div class=\'form_field {{ containerClass || \'full\' }}\'>\n\n  <div class="form__text-input__outer" data-ng-class="{ \'admin-body__lock-field\': isLockingEnabled }">\n    <div ng-if="{{isLockingEnabled}}"\n    data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n    data-sc-tooltip-position="center"\n    data-sc-tooltip-position-tip="bottom center"\n    show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n    fixed-tooltip="true"\n    data-sc-tooltip="\'This field is locked at the template level.\'"\n    class="admin-body__tooltip-element"\n    ></div>\n\n'+"  <label class='form_label' _spec='label'>\n    {{ label }}\n  </label>\n\n  <p class='form_helper' _spec='helper'>\n    {{ description }}\n  </p>\n\n  <div class='form_colorpicker' \n  data-sc-spectrum='{{ model }}'\n  data-show-alpha='{{ showAlpha }}'\n  data-name='{{ fieldName }}'\n  data-fallback-color=\"{{ fallback }}\"\n  data-footer-bg-color=\"{{ footerBgColor }}\"\n  data-about-bg-color=\"{{ aboutBgColor }}\"\n  data-donate-button-color=\"{{ donateButtonColor }}\"\n  data-location-bg-color=\"{{ locationBgColor }}\">\n  </div>\n\n  </div>\n\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scColorpickerMiniField/template",'<div class="form_field {{ containerClass || \'full\' }}">\n  <label class="form_label" _spec="label"> {{ label }} </label>\n\n  <p class="form_helper" _spec="helper">{{ description }}</p>\n\n  <div\n    data-sc-spectrum="{{ model }}"\n    data-fallback-color="{{ fallback }}"\n    data-swatch-size="{{ swatchSize || 25 }}"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scDateTimezoneField/template",'<fieldset class="form_field full">\n  <div class="form_label {{ containerClass || \'full\' }}">\n    <i class="form_label-icon-ok fa fa-check-circle"\n    data-ng-if="{{ check.enabled }}"\n    data-ng-show="{{ check.condition }}"></i>\n    {{ label }}\n    <span class="form_label-required" data-ng-if="{{ required }}"></span>\n  </div>\n\n  <div class="form_field-input form_date-input">\n    <i class="form_field-input-icon fa fa-calendar"></i>\n    <input class="form_date-input-directive"\n      type="text"\n      name="{{ date.fieldName }}"\n      data-ng-required="{{ required }}"\n      data-ng-disabled="{{ disabled }}"\n      {{ date.viewModel ? \'data-ng-model="\' + date.viewModel + \'"\': \'\'  }}\n      data-pick-a-date="{{ date.model }}"\n      data-pick-a-date-options="{{ dateOptions }}"\n      data-sc-blur-focus\n      {{ compare.enabled ? \'data-sc-after-date\' : \'\' }}\n      {{ compare.enabled && compare.start ? \'data-start-date="\' + compare.start + \'"\' : \'\' }}\n      {{ compare.enabled && compare.end ? \'data-end-date="\' + compare.end + \'"\' : \'\' }}\n      _spec="date"\n      aria-label="{{ label }}"\n      role="combobox"/>\n  </div>\n\n  <div>\n    <input class="form_time-select"\n    name="{{ time.fieldName }}"\n    type="text"\n    data-pick-a-time="{{ time.model }}"\n    data-ng-required="{{ required }}"\n    data-ng-disabled="{{ disabled }}"\n    data-sc-blur-focus\n    qa-id="{{ bind(\'scQaId.dateField\') }}"\n    _spec="time"\n    aria-label="{{ time.fieldName }}"\n    role="combobox"/>\n  </div>\n\n  \x3c!-- Checkboxes --\x3e\n  <div class="form_subcheckboxes">\n    <div class="form_checkbox sub"\n    data-ng-repeat="checkbox in options.checkboxes"\n    data-sc-subcheckbox-field="checkbox"\n    _spec=\'date_checkbox\'></div>\n  </div>\n\n  <p class="form_helper" ng-bind-html="{{ helpText }}"></p>\n\n  \x3c!-- Errors --\x3e\n  <div data-ng-repeat="error in options.errors"\n  data-ng-show="showFormError(\'{{ date.fieldName }}\')"\n  data-sc-error-field="error"\n  _spec=\'error\'></div>\n</fieldset>\n\n<div class="form_field full" data-ng-if="{{ showTimezone }}">\n  \x3c!-- Label --\x3e\n  <label class="form_label" _spec=\'label\'>\n    <i class="form_label-icon-ok fa fa-check-circle"\n    data-ng-if="{{ check.enabled }}"\n    data-ng-show="{{ check.condition }}"></i>\n    Timezone\n    <span class="form_label-required" data-ng-if="{{ required }}"></span>\n  </label>\n\n  \x3c!-- Input --\x3e\n  <div class="form_field-input">\n    <span class="form_select"\n    name="{{ timezone.fieldName }}"\n    data-ng-model="{{ timezone.model }}"\n    data-ng-required="{{ required }}"\n    {{ timezone.viewModel ? \'data-ng-model="\' + timezone.viewModel + \'"\': \'\'  }}\n    data-sc-select-timezones="ui.collection"\n    data-sc-blur-focus tabindex="0"></span>\n  </div>\n\n\n  \x3c!-- Show All Timezones --\x3e\n  <div class="form_field-options">\n    <div class="form_checkbox">\n\n      <input class="form_checkbox-input"\n      id="{{ id(\'showAll\') }}"\n      type="checkbox"\n      data-ng-model="ui.collection"\n      data-ng-true-value="\'all\'"\n      data-ng-false-value="\'condensed\'"\n      tabindex="-1"/>\n\n      <label for="{{ id(\'showAll\') }}" class="form_checkbox"\n        qa-id="{{ bind(\'scQaId.checkboxField\') }}"\n        tabindex="0"\n        data-ng-keydown="onKeyDown($event)">\n        Show all timezones\n      </label>\n\n    </div>\n  </div>\n\n\n  \x3c!-- Errors --\x3e\n  <div data-ng-repeat="error in options.errors"\n  data-ng-show="showFormError(\'{{ timezone.fieldName }}\')"\n  data-sc-error-field="error"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scDonationSettingsField/template",'<div class="form_field {{ containerClass || \'full\' }}">\n  <label class="form_label" _spec="label"> {{ label }} </label>\n  <div data-ng-class="{ \'admin-body__lock-field\': lockField }">\n    <div\n      data-ng-style="{height: customStyle}"\n      ng-if="lockField"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n    <div class="form_field-input" tabindex="0">\n      <select\n        class="form_select"\n        qa-id="{{ bind(\'scQaId.selectField\') }}"\n        data-ng-model="{{ givingMode.model }}"\n        _spec="select"\n        aria-label="{{ label }}"\n      >\n        <option value="1">One-time donation pre-selected</option>\n        <option value="2" ng-if="hasPay">Monthly recurring donation pre-selected</option>\n        <option value="3" ng-if="hasPay">Force a specific amount monthly (e.g. memberships)</option>\n        <option value="4" ng-if="hasPay">Monthly recurring donations only</option>\n        <option value="5">One-time donations only</option>\n        <option value="6">One-time donation, force amount</option>\n      </select>\n    </div>\n\n    \x3c!-- Multiple Amounts (modes 1, 2, 4, 5) --\x3e\n    <div data-ng-if="{{ givingMode.model }} != 3 && {{ givingMode.model }} != 6">\n      <div class="form_field-input" _spec="m">\n        <div\n          class="form_donation-level"\n          data-ng-class="{default: level.amount == {{ levelDefault }}}"\n          data-ng-repeat="level in {{ levels }}"\n          _spec="m_item"\n        >\n          <div class="form_set-default-level" data-ng-click="{{ levelDefault }} = level.amount">\n            Set Default\n          </div>\n          <input\n            class="form_text-input"\n            data-sc-currency\n            name="{{ multipleAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n            data-round-currency="true"\n            data-symbol="{{currency}}"\n            data-ng-change="level.displayAmount=level.amount;{{ useImpactLevels }}=null"\n            data-ng-model="level.amount"\n            data-ng-required="true"\n            qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n            _spec="m_input"\n            aria-label="Donation amount {{level.amount}}"\n          />\n        </div>\n\n        \x3c!-- Errors --\x3e\n        <div\n          data-ng-repeat="error in options.multipleAmounts.errors"\n          data-ng-show="levelErrors(\'{{ multipleAmounts.fieldName }}\', {{levels}}.length)"\n          data-sc-error-field="error"\n          _spec="m_errors"\n        ></div>\n      </div>\n\n      \x3c!--\n    <div class=\'form_field-options form_checkbox\'>\n      <input type="checkbox" class="form_checkbox-input" id="checkbox-impact"\n        data-ng-model="DonationBlock.current[\'use-impact-donation-levels\']">\n      <label class="form_checkbox-label" for="checkbox-impact">Use impact levels for donation amounts (recommended)</label>\n    </div>\n    --\x3e</div>\n\n    \x3c!-- Single amount (option 3) --\x3e\n    <div\n      class="form_field-input"\n      data-ng-if="{{ givingMode.model }}==3 || {{ givingMode.model }}==6"\n      _spec="s"\n    >\n      <label class="form_label required" _spec="s_label"> {{ singleAmount.label }} </label>\n\n      <input\n        class="form_text-input half"\n        data-sc-currency\n        data-symbol="{{currency}}"\n        name="{{ singleAmount.fieldName }}"\n        data-ng-required="true"\n        data-ng-model="{{ levelDefault }}"\n        qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n        _spec="s_input"\n      />\n\n      \x3c!-- Errors --\x3e\n      <div\n        data-ng-repeat="error in options.singleAmount.errors"\n        data-ng-show="showFormError(\'{{ singleAmount.fieldName }}\')"\n        data-sc-error-field="error"\n        _spec="s_errors"\n      ></div>\n    </div>\n  </div>\n  <experiment-toggle\n    ng-if="showRecurringExperiment()"\n    name="\'donation-experiment\'"\n    model="{{ experiment.model }}"\n    description="experimentDescription"\n  ></experiment-toggle>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scDonationSettingsFieldRf/template",'<div class="form_field {{ containerClass || \'full\' }}">\n  <div id="frequency" class="rwf-overview__rollups-donation-content">\n    <header>\n      <label class="form_label"> {{ label }} </label>\n      <p class="form_helper">{{subLabel}}</p>\n    </header>\n\n    <div\n      data-ng-class="{ \'admin-body__lock-field\': lockFieldFrequency }"\n      style="position: relative"\n    >\n      <div\n        data-ng-if="lockFieldFrequency"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'"\n        hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n\n      <div\n        class="rwf-overview__rollups-table-freq headline border rwf-overview__rollups-table--bolded"\n      >\n        <span class="rwf-overview__rollups-table-freq-span">Frequency</span>\n        <span>Show on page</span>\n        <span>Set as default</span>\n      </div>\n\n      <div\n        class="rwf-overview__rollups-table-freq"\n        data-ng-repeat="level in {{givingMode.model}}"\n        data-ng-class="{\'border\':$last, \'display-none\': hideFrequency(level.type)}"\n      >\n        <div\n          class="rwf-overview__rollups-table-freq-content-toggle"\n          data-ng-hide="hideFrequency(level.type)"\n        >\n          <toggle-field\n            sublabel="level.name"\n            model="level.display_on_page"\n            callback-fn="frequencyTypeToggle(level)"\n            name="level.type"\n            aria-hidden="true"\n            toggle-label="Click here to \\{\\{ level.display_on_page ? \'hide\': \'show\' \\}\\} \\{\\{level.type\\}\\} frequency"\n          >\n          </toggle-field>\n        </div>\n\n        <div\n          class="rwf-overview__rollups-table-freq-content-radio"\n          data-ng-hide="hideFrequency(level.type)"\n        >\n          <radio-control\n            class="radio-field"\n            size="\'small\'"\n            disabled="!level.display_on_page"\n            value="level.display_on_page && level.type"\n            data-ng-model="{{ frequencyDefault }}"\n            aria-label="Set default frequency \\{\\{ level.type \\}\\}"\n          ></radio-control>\n        </div>\n      </div>\n      \x3c!-- Errors --\x3e\n      <div\n        class="rwf-overview__rollups-error"\n        data-ng-repeat="error in options.recurringFrequency.errors"\n        data-ng-show="frequencyError"\n        data-sc-error-field="error"\n      ></div>\n    </div>\n  </div>\n\n  <div id="donationAmount" class="rwf-overview__rollups-donation-content">\n    <header>\n      <label class="form_label" _spec="label"> Donation Amount Options</label>\n      <p data-ng-if="!hasIntelligentAsk" class="form_helper">\n        Define the preset donation amounts. You may force a specific amount by displaying only one\n        option.\n      </p>\n      <div data-ng-if="hasIntelligentAsk">\n        <p>Use AI to suggest donation amounts or set them manually.</p>\n        <intelligent-ask-toggle\n          is-iaa-active="isIaaActive"\n          is-one-time-available="!onlyReccurringFrequency()"\n          is-recurring-available="!onlyOneTimeFrequency()"\n          on-change="handleIaaChange"\n        >\n        </intelligent-ask-toggle>\n      </div>\n    </header>\n\n    <div data-ng-class="{ \'admin-body__lock-field\': lockFieldDonation }">\n      <div\n        data-ng-if="lockFieldDonation"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'"\n        hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n\n      <div data-ng-if="showAskAmounts">\n        \x3c!-- FREQUENCY TOGGLE--\x3e\n        <div\n          class="donation-amount-recurring__switch rf settingsFrequency"\n          role="radiogroup"\n          aria-label="Select a donation frequency"\n          data-ng-if="!preventOldrfForDeque && !onlyReccurringFrequency() && getRecurringLevels().length > 0"\n        >\n          <div\n            class="donation-amount-recurring__btn once hover-state_one-time"\n            _spec="one-time"\n            tabindex="0"\n            data-ng-style="oneTimeBtnStyle()"\n            data-ng-click="selectDonationArray(false)"\n            data-ng-keydown="selectDonationArray(false,$event)"\n          >\n            <label\n              for="donation-amount-recurring__radio-input"\n              class="donation-amount-recurring__btn__frequency-label"\n            >\n              <input\n                data-ng-disabled="iaa.isOneTimeEnabled"\n                type="radio"\n                role="radio"\n                id="donation-amount-recurring__radio-input"\n                name="donation-frequency"\n                tabindex="-1"\n                class="donation-amount-recurring__btn__frequency-input"\n              /><span>One time</span>\n            </label>\n          </div>\n\n          <div\n            class="donation-amount-recurring__btn monthly hover-state_recurring"\n            _spec="recurring"\n            tabindex="0"\n            data-ng-style="recurringBtnStyle()"\n            data-ng-click="selectDonationArray(true)"\n            data-ng-keydown="selectDonationArray(true,$event)"\n          >\n            <label\n              for="donation-amount-monthly__radio-input"\n              class="donation-amount-recurring__btn__frequency-label"\n            >\n              <input\n                data-ng-disabled="iaa.isRecurringEnabled"\n                type="radio"\n                role="radio"\n                id="donation-amount-monthly__radio-input"\n                name="donation-frequency"\n                tabindex="-1"\n                class="donation-amount-recurring__btn__frequency-input"\n              />\n              <span\n                data-ng-bind="!onlyReccurringFrequency() && getRecurringLevels().length > 0 && recurringBtnText()"\n              ></span>\n            </label>\n          </div>\n        </div>\n\n        <div\n          class="rwf-overview__rollups-table-freq headline border rwf-overview__rollups-table--bolded"\n        >\n          <span class="rwf-overview__rollups-table-freq-span">Amount</span>\n          <span>Show on page</span>\n          <span>Set as default</span>\n        </div>\n\n        <div\n          data-ng-if="showRecurringDonationArray === false"\n          data-ng-repeat="level in {{ levels }}"\n          class="rwf-overview__rollups-table-freq"\n          data-ng-class="{\'border\':$last}"\n        >\n          <div class="rwf-overview__rollups-table-freq-content-textbox">\n            <div data-ng-if="level.amount !== \'Custom\'">\n              <input\n                type="text"\n                class="form__field full"\n                data-sc-currency\n                data-ng-model="level.amount"\n                name="{{ multipleAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n                data-round-currency="true"\n                data-ng-change="level.displayAmount=level.amount; onChangeAmount(level.amount,$index)"\n                data-symbol="{{currency}}"\n                data-ng-required="true"\n                data-min="1"\n                data-max="10000000"\n                qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n                aria-label="Donation amount {{ level.amount }}"\n              />\n              <span\n                class="form_error"\n                data-ng-show="editForm.{{ multipleAmounts.fieldName }}_\\{\\{ $index \\}\\}.$error.min"\n              >\n                Please enter an amount greater than 0.\n              </span>\n              <span\n                class="form_error"\n                data-ng-show="editForm.{{ multipleAmounts.fieldName }}_\\{\\{ $index \\}\\}.$error.max"\n              >\n                Please enter an amount smaller than 10,000,000.\n              </span>\n            </div>\n\n            <div data-ng-if="level.amount === \'Custom\'">\n              <input\n                type="text"\n                class="form__field full"\n                data-sc-currency\n                name="{{ multipleAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n                data-round-currency="true"\n                data-symbol="{{currency}}"\n                data-ng-change="level.displayAmount=level.amount"\n                data-ng-model="level.amount"\n                data-ng-value="!preventOldrfForDeque && level.amount ? \'Other\': \'Custom\'"\n                data-ng-required="true"\n                qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n                data-ng-disabled="level.amount === \'Custom\'"\n                aria-label="{{!preventOldrfForDeque ? \'Other\' : \'Custom\'}}"\n              />\n            </div>\n          </div>\n\n          <div class="rwf-overview__rollups-table-freq-content-toggle">\n            <div\n              class="form__field"\n              aria-hidden="true"\n              data-sc-toggle="level.display_on_page"\n              data-sc-name="{{ multipleAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n              callback-fn="donationAmountToggle(level)"\n              data-sc-label="Click here to \\{\\{ level.display_on_page ? \'hide\': \'show\' \\}\\} \\{\\{level.amount\\}\\} amount"\n            ></div>\n          </div>\n\n          <div class="rwf-overview__rollups-table-freq-content-radio">\n            <radio-control\n              class="radio-field"\n              name="\'set-as-default-donation_\'{{$index}}"\n              size="\'small\'"\n              disabled="!level.display_on_page"\n              value="level.display_on_page && level.amount"\n              data-ng-model="{{ levelDefault }}"\n              aria-label="Set default amount \\{\\{ level.amount \\}\\}"\n            >\n            </radio-control>\n          </div>\n        </div>\n\n        \x3c!--Recurring Donation Array --\x3e\n        <div\n          data-ng-if="!preventOldrfForDeque && showRecurringDonationArray === true"\n          data-ng-repeat="level in {{ recurringDonationLevels }}"\n          class="rwf-overview__rollups-table-freq"\n          data-ng-class="{\'border\':$last}"\n        >\n          <div class="rwf-overview__rollups-table-freq-content-textbox">\n            <div data-ng-if="level.amount !== \'Custom\'">\n              <input\n                type="text"\n                class="form__field full"\n                data-sc-currency\n                name="{{ multipleRecurringAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n                data-round-currency="true"\n                data-symbol="{{currency}}"\n                data-ng-change="level.displayAmount=level.amount; onChangeRecurringDonationAmount(level.amount,$index)"\n                data-ng-model="level.amount"\n                data-ng-required="true"\n                data-min="1"\n                data-max="10000000"\n                qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n                aria-label="Donation amount {{ level.amount }}"\n              />\n              <span\n                class="form_error"\n                data-ng-show="editForm.{{ multipleRecurringAmounts.fieldName }}_\\{\\{ $index \\}\\}.$error.min"\n              >\n                Please enter an amount greater than 0.\n              </span>\n\n              <span\n                class="form_error"\n                data-ng-show="editForm.{{ multipleRecurringAmounts.fieldName }}_\\{\\{ $index \\}\\}.$error.max"\n              >\n                Please enter an amount smaller than 10,000,000.\n              </span>\n            </div>\n\n            <div data-ng-if="level.amount === \'Custom\'">\n              <input\n                type="text"\n                class="form__field full"\n                data-sc-currency\n                name="{{ multipleRecurringAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n                data-round-currency="true"\n                data-symbol="{{currency}}"\n                data-ng-change="level.displayAmount=level.amount"\n                data-ng-model="level.amount"\n                data-ng-value="!preventOldrfForDeque && level.amount ? \'Other\': \'Custom\'"\n                data-ng-required="true"\n                qa-id="{{ bind(\'scQaId.singleLineTextInput\') }}"\n                data-ng-disabled="level.amount === \'Custom\'"\n                aria-label="{{!preventOldrfForDeque ? \'Other\' : \'Custom\'}}"\n              />\n            </div>\n          </div>\n\n          <div class="rwf-overview__rollups-table-freq-content-toggle">\n            <div\n              class="form__field"\n              aria-hidden="true"\n              data-sc-toggle="level.display_on_page"\n              data-sc-name="{{ multipleRecurringAmounts.fieldName }}_\\{\\{ $index \\}\\}"\n              callback-fn="recurringAmountToggle(level)"\n              data-sc-label="Click here to \\{\\{ level.display_on_page ? \'hide\': \'show\' \\}\\} \\{\\{level.amount\\}\\} amount"\n            ></div>\n          </div>\n\n          <div class="rwf-overview__rollups-table-freq-content-radio">\n            <radio-control\n              class="radio-field"\n              name="\'set-as-default-donation_\'{{$index}}"\n              size="\'small\'"\n              disabled="!level.display_on_page"\n              value="level.display_on_page && level.amount"\n              data-ng-model="{{ recurringLevelDefault }}"\n              aria-label="Set default amount \\{\\{ level.amount \\}\\}"\n            >\n            </radio-control>\n          </div>\n        </div>\n      </div>\n\n      <intelligent-ask-learn-more\n        data-ng-if="isIntelligentAskAmountsAvailable"\n        header="Intelligent Ask Amounts"\n        description="Let’s see what our AI Analyzer can do to increase conversion."\n        href=""\n      ></intelligent-ask-learn-more>\n\n      \x3c!-- Clear Default --\x3e\n      \x3c!-- Seems like we can not set focus for anchor tag on keydown/keyup \n            when there is no exist href attributes in anchor. \n            We have added href attributes to anchor, so that key events should work properly --\x3e\n      <a\n        data-ng-if="!iaa.isOneTimeEnabled || !iaa.isRecurringEnabled"\n        href\n        class="rwf-overview__rollups-cleardefault"\n        data-ng-click="clearDefault($event)"\n        data-ng-class="{\'disabled\':disableClearDefault()}"\n        >CLEAR DEFAULT</a\n      >\n      \x3c!-- Errors --\x3e\n      <div\n        class="rwf-overview__rollups-error"\n        data-ng-repeat="error in options.recurringDonation.errors"\n        data-ng-show="!showRecurringDonationArray && donationAmtError"\n        data-sc-error-field="error"\n      ></div>\n      <div\n        class="rwf-overview__rollups-error"\n        data-ng-repeat="error in options.recurringDonation.errors"\n        data-ng-show="!preventOldrfForDeque && showRecurringDonationArray && recurringDonationAmtError"\n        data-sc-error-field="error"\n      ></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scErrorField/template",'<div\n  class="form_error form_inset-error"\n  data-ng-show="{{condition}}"\n  qa-id="{{ bind(\'scQaId.errorMessage\') }}"\n  _spec="error-message"\n>\n  {{message}}\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scImgCropPreviewField/template",'<div class="form_field {{ containerClass || \'full\' }}" data-ng-class="{ \'admin-body__lock-field\': lockField }">\n  <div ng-if="lockField"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'" hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n  ></div>\n  <label class="form_label" for="matching_image" data-ng-if="{{ !labelInline }}" _spec=\'label\'>\n    {{label}}\n  </label>\n\n\n  \x3c!-- Placeholder image --\x3e\n  <div class="form_image-upload-box"\n  data-ng-class="{ \'form_image-upload-loading\': ui.loading }"\n  data-ng-style="ui.previewStyle()"\n  data-ng-if="!{{ model }}"\n  data-ng-model="{{ model }}"\n  data-sc-img-picker="ui.mmConfig"\n  data-sc-img-init="{{ imgModel.scImgInit }}"\n  data-autosave="{{ imgModel.autosave || false }}" _spec=\'upload-box\'\n  tabindex="0">\n    <i ng-if="{{ !nullImage }}" class="drop_icon fa fa-photo"></i>\n    <img ng-if="{{ !!nullImage }}" ng-src="{{ bind(nullImage) }}" alt="Default"/>\n  </div>\n\n\n  \x3c!-- Preview image --\x3e\n  <div class="form_image-upload-image"\n  data-ng-class="{ \'form_image-upload-loading\': ui.loading }"\n  data-ng-style="ui.previewStyle()"\n  data-ng-if="{{ model }}"\n  data-ng-model="{{ model }}"\n  data-sc-img-picker="ui.mmConfig"\n  data-sc-img-init="{{ imgModel.scImgInit }}"\n  data-autosave="{{ imgModel.autosave || false }}" _spec=\'preview\'>\n    <img ng-src="{{ bind(model + \'.asset.sizes.full\') }}" _spec=\'image\' alt="{{label === \'Team Picture\'? \'Team\' : \'Fundraiser\'}} page\'s" tabindex="0"/>\n  </div>\n\n\n  \x3c!-- Helper text and button --\x3e\n  <div class="form_image-upload-text">\n\n    <label class="form_label" for="matching_image" data-ng-if="{{ labelInline }}" _spec=\'label\'>\n      {{label}}\n    </label>\n\n    <p class="form_image-description" _spec=\'helper\'>{{ description }}</p>\n\n    <p class="form_image-format-text" _spec=\'format\'>{{ format_text }}</p>\n\n    <div class="form_image-button-container">\n      <div class="admin-button__secondary form_image-remove-button" data-ng-if="{{ hasRemoveButton }}" data-ng-style="{{ removeButtonStyle }}"\n        data-ng-click="{{ removeButtonAction }}" _spec=\'button\' role="button" aria-label="Remove {{label===\'Team Picture\'? \'Team\' : \'Fundraiser\'}} page image" tabindex="0">\n        {{ removeButtonText }}\n      </div>\n\n      <div type="button" class="admin-button__secondary form_image-upload-button" data-ng-model="{{ model }}" data-sc-img-picker="ui.mmConfig"\n        data-sc-img-init="{{ imgModel.scImgInit }}" data-autosave="{{ imgModel.autosave || false }}" data-ng-style="{{ buttonStyle }}"\n        _spec=\'button\' role="button" aria-label="{{ buttonText }}" tabindex="0">\n        {{ buttonText }}\n        </button>\n      </div>\n\n    </div>\n\n  </div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scImgListField/template",'<div\n  class="form_field {{ containerClass || \'full\' }}"\n  ng-style="{opacity: lockBgImgField ? 0.5 : 1}"\n>\n  <div\n    ng-if="lockBgImgField"\n    data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n    data-sc-tooltip-position="center"\n    data-sc-tooltip-position-tip="bottom center"\n    show-event="\'mouseenter\'"\n    hide-event="\'mouseout\'"\n    fixed-tooltip="true"\n    data-sc-tooltip="\'This field is locked at the template level.\'"\n    class="admin-body__tooltip-element"\n  ></div>\n\n  \x3c!-- Label --\x3e\n  <label class="form__label" _spec="label"> {{ label }} </label>\n\n  \x3c!-- scImgList --\x3e\n  <div\n    name="{{ fieldName }}"\n    data-sc-img-list="{{ model }}"\n    data-sc-img-init="{{ imgList.scImgInit }}"\n    data-sc-img-list-init="{{ imgList.scImgListInit }}"\n    data-preset="{{ imgList.preset }}"\n    data-limit="{{ imgList.limit }}"\n    data-mode="{{ imgList.mode }}"\n    data-min-width="{{ imgList.minWidth }}"\n    data-min-height="{{ imgList.minHeight }}"\n    data-select-on-add="{{ imgList.selectOnAdd }}"\n    data-preview="{{ preview }}"\n    data-options="{{ imgList.options }}"\n    data-mm-config="{{ imgList.mmConfig }}"\n  >\n    {{ buttonText }}\n  </div>\n\n  \x3c!-- Helper text --\x3e\n  <p class="form_helper" data-ng-if="options.description">{{ description }}</p>\n\n  \x3c!-- Checkboxes --\x3e\n  <div\n    class="form_checkbox"\n    data-ng-repeat="checkbox in options.checkboxes"\n    data-sc-subcheckbox-field="checkbox"\n  ></div>\n\n  \x3c!-- Errors --\x3e\n  <div\n    data-ng-repeat="error in options.errors"\n    data-ng-show="showFormError(\'{{ fieldName }}\')"\n    data-sc-error-field="error"\n  ></div>\n\n  <p class="form_helper" ng-if="options.helpText" ng-bind-html="{{ helpText }}"></p>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scLocationField/template",'<div class="form_field {{ containerClass || \'full\' }}">\n  <label class="form_label" _spec="label"> {{ label }} </label>\n\n  <p class="form_helper form_help-sublabel" data-ng-if="{{ condition }}">{{ sublabel }}</p>\n\n  <div class="form_field-input" data-ng-required="{{ required }}" data-ng-disabled="{{ disabled }}">\n    <i class="form_field-input-icon fa fa-globe"></i>\n    <fieldset data-ng-disabled="{{ disabled }}">\n      <span\n        data-ng-model="{{ model }}"\n        data-sc-map="{{ location }}"\n        data-sc-map-campaign="{{ campaign }}"\n        data-map-options="{ scrollwheel:false, mapTypeControl:false }"\n      ></span>\n    </fieldset>\n  </div>\n\n  \x3c!-- Checkboxes --\x3e\n  <div class="form_subcheckboxes">\n    <div\n      class="form_checkbox sub"\n      data-ng-repeat="checkbox in options.checkboxes"\n      data-sc-subcheckbox-field="checkbox"\n      _spec="map_checkbox"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scSelectField/template",'<div class="form_field {{ containerClass || \'full\' }}">\n  \x3c!-- Label --\x3e\n  <label class="form__label" _spec="label">\n    <i\n      class="form_label-icon-ok fa fa-check-circle"\n      data-ng-if="{{ check.enabled }}"\n      data-ng-show="{{ check.condition }}"\n    ></i>\n\n    {{ label }}\n  </label>\n\n  \x3c!-- Select --\x3e\n  <div class="form_field-input">\n    <select\n      class="form_select"\n      name="{{ fieldName }}"\n      data-ng-model="{{ model }}"\n      data-ng-options="{{ options }}"\n      data-ng-required="{{ required }}"\n      qa-id="{{ bind(\'scQaId.selectField\') }}"\n      {{\n      attrString\n      }}\n    >\n      <option data-ng-if="!{{ noPlaceholder || \'false\' }}" value="">{{ placeholder }}</option>\n    </select>\n\n    <p class="form_helper" ng-if="options.helpText" ng-bind-html="{{ helpText }}"></p>\n  </div>\n\n  \x3c!-- Errors --\x3e\n  <div\n    data-ng-repeat="error in options.errors"\n    data-ng-show="showFormError(\'{{ fieldName }}\')"\n    data-sc-error-field="error"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scSubcheckboxField/template",'<input\n  class="form_checkbox-input"\n  type="checkbox"\n  id="{{ id(\'subcheckbox\') }}"\n  data-ng-model="{{ model }}"\n  data-ng-change="{{ change }}"\n  data-ng-true-value="{{ trueVal || true }}"\n  data-ng-false-value="{{ falseVal || false }}"\n  _spec="checkbox"\n  tabindex="-1"\n/>\n\n<label\n  class="form_checkbox-label"\n  for="{{ id(\'subcheckbox\') }}"\n  qa-id="{{ bind(\'scQaId.checkboxField\') }}"\n  _spec="label"\n  tabindex="0"\n  data-ng-keydown="{{ keydown }}"\n>\n  {{ label }}\n</label>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/directives/scField/scTimezonesField/template",'<div class="form_field {{ containerClass || \'full\' }}">\n  \x3c!-- Label --\x3e\n  <label class="form_label" _spec="label">\n    <i\n      class="form_label-icon-ok fa fa-check-circle"\n      data-ng-if="{{ check.enabled }}"\n      data-ng-show="{{ check.condition }}"\n    ></i>\n\n    {{ label }}\n\n    <span class="form_label-required" data-ng-if="{{ required }}"></span>\n  </label>\n\n  \x3c!-- Input --\x3e\n  <div class="form_field-input">\n    <span\n      class="form_select"\n      name="{{ fieldName }}"\n      data-ng-model="{{ model }}"\n      data-ng-required="{{ required }}"\n      data-sc-select-timezones="ui.collection"\n      data-sc-blur-focus\n      qa-id="{{ bind(\'scQaId.selectField\') }}"\n    ></span>\n  </div>\n\n  \x3c!-- Show All Timezones --\x3e\n  <div class="form_field-options">\n    <div class="form_checkbox">\n      <input\n        class="form_checkbox-input"\n        id="{{ id(\'showAll\') }}"\n        type="checkbox"\n        data-ng-model="ui.collection"\n        data-ng-true-value="\'all\'"\n        data-ng-false-value="\'condensed\'"\n        tabindex="-1"\n      />\n\n      <label\n        for="{{ id(\'showAll\') }}"\n        tabindex="0"\n        data-ng-keydown="onKeyDown($event)"\n        class="form_checkbox"\n        qa-id="{{ bind(\'scQaId.checkboxField\') }}"\n      >\n        Show all timezones\n      </label>\n    </div>\n  </div>\n\n  \x3c!-- Errors --\x3e\n  <div\n    data-ng-repeat="error in options.errors"\n    data-ng-show="showFormError(\'{{ fieldName }}\')"\n    data-sc-error-field="error"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/campaign-whitelisting/eg.components.campaign-whitelisting",'<div class="eg-flex-col">\n  <div class="eg-flex-row eg-flex--between eg-flex--valign">\n    <input\n      name="eg-campaign-whitelisting-input"\n      data-ng-model="$ctrl.draftUrl"\n      data-ng-change="$ctrl.isValidUrl($ctrl.draftUrl)"\n      class="eg-flex-1 eg-campaign-whitelist-input eg-mr1"\n      type="text"\n      placeholder="https://yourwebsite.com"\n    />\n    <button\n      data-ng-click="$ctrl.addUrl($event)"\n      data-ng-disabled="!$ctrl.isValidUrl($ctrl.draftUrl) === 1"\n      class="eg-flex eg-campaign-whitelist-btn eg-ml1"\n    >\n      ADD URL\n    </button>\n  </div>\n  \x3c!-- error message --\x3e\n  <div\n    data-ng-if="$ctrl.activeError && $ctrl.activeError.message"\n    class="eg-flex-row eg-paragraph-xs eg-error eg-pt1"\n  >\n    {{$ctrl.activeError.message}}\n  </div>\n  \x3c!-- todo max height on container? --\x3e\n  <div class="eg-flex-col eg-campaign-whitelists eg-mt3">\n    <div\n      data-ng-repeat="url in $ctrl.urls"\n      class="eg-campaign-whitelist eg-flex-row eg-flex--valign eg-flex--between eg-py2 eg-px2"\n    >\n      <div class="eg-flex-1 eg-paragraph-sm eg-px1">{{url}}</div>\n      <i class="eg-flex fa fa-trash eg-interact eg-px1" data-ng-click="$ctrl.removeUrl(url)"></i>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/eg.components.custom-questions",'<div>\n  <div class="eg-flex eg-flex-col eg-pt4" data-ng-repeat="question in $ctrl.optionalQuestions">\n    <label\n      class="eg-paragraph required eg-pb1"\n      data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    >\n      {{::question.label}}\n      <span data-ng-if="question.is_required" class="eg-error">*</span>\n    </label>\n\n    <div data-ng-include="$ctrl.optionalFieldPartial(question.tag)"></div>\n  </div>\n  <div class="eg-flex eg-flex-col eg-pt4" data-ng-repeat="question in $ctrl.customQuestions">\n    <label\n      class="eg-paragraph required eg-pb1"\n      data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    >\n      {{::question.type === \'boolean\' ? \'Waiver\' : question.label}}\n      <span data-ng-if="question.is_required" class="eg-error">*</span>\n    </label>\n\n    <div data-ng-include="$ctrl.customFieldPartial(question.type)"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/donation-currency/eg.components.donation-currency",'<div class="currency-picker__wrapper eg-pr2" data-ng-style="getCurrencyWrapperStyles(selected)"\n    data-ng-class="{\'no-pick\': !showDropdown, \'disabled\': disabled}" aria-hidden="{{!showDropdown}}"\n    sc-lock-field="disabled" tooltip-text="tooltipText">\n    <div class="currency-picker__select-wrapper">\n        <select id="dropdown" data-ng-show="showDropdown" data-ng-model="currency" data-ng-change="onCurrencySelect()"\n            data-ng-options="currency as currency.longText for currency in currencyOptions track by currency.currency"\n            class="currency-picker__select eg-interact eg-ff" aria-label="Select a currency" data-ng-disabled="disabled">\n        </select>\n        <span class="currency-picker__short eg-ff"\n            data-ng-style="getCurrencyLabelStyles(selected)">{{currency.currency}} \n    </div>\n\n    <span data-ng-if="currency.currency !== currency.fullSymbol" class="currency-picker__full-symbol eg-bold6"\n        data-ng-class="{\'currency-picker__full-symbol--selected\': selected}"\n        aria-hidden="true">{{currency.fullSymbol}}</span>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/donation-custom-amount/eg.components.donation-custom-amount",'<form-label required="$ctrl.required" data-ng-if="$ctrl.label" _spec="label">\n  {{::$ctrl.label}}\n</form-label>\n<input\n  data-ng-model="$ctrl.model"\n  data-ng-model-options="{ getterSetter: $ctrl.getterSetter }"\n  name="{{::$ctrl.name}}"\n  sc-currency\n  sc-validity-reporter\n  sc-validity-classes\n  data-sc-focus="$ctrl.focusWhen"\n  round-currency="$ctrl.roundCurrency"\n  data-ng-disabled="$ctrl.disableFlag"\n  data-ng-required="$ctrl.required"\n  data-ng-focus="$ctrl.onFocus = true"\n  data-ng-blur="$ctrl.onFocus = false"\n  data-ng-change="$ctrl.onChange()"\n  symbol="{{$ctrl.symbol}}"\n  max="$ctrl.max"\n  min="$ctrl.min"\n  autocomplete="off"\n  placeholder="{{::$ctrl.placeholder}}"\n  aria-label="{{::$ctrl.currencyAriaLabel}}"\n  qa-id="{{::$ctrl.scQaId.singleLineTextInput}}"\n  _spec="input"\n  type="string"\n  inputmode="numeric"\n  class="form__text-input--dark eg-ff eg-bold6"\n  data-ng-style="!$ctrl.selected ? $ctrl.getStylesDefault() : $ctrl.getStylesSelected()"\n  data-id="{{$ctrl.inputDataId}}"\n/>\n\n<div\n  data-ng-if="!$ctrl.isPreviewing"\n  style="position: absolute; width: g100%; left: 0; text-align: left"\n  aria-live="polite"\n>\n  <form-error name="$ctrl.name" messages="$ctrl.errorMessages" _spec="errors"></form-error>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/donation-dedication/eg.components.donation-dedication",'<div data-ng-if="::$ctrl.isEnabled" class="eg-donation-dedication">\n  \x3c!-- toggle --\x3e\n  <div\n    data-ng-click="$ctrl.onOpen()"\n    class="eg-drawer-toggle eg-flex-row eg-flex--valign eg-px2 eg-py3 eg-interact"\n  >\n    <div class="eg-drawer-toggle-icon">\n      <img sc-cdn-src="{{::$ctrl.toggleIcon}}" />\n    </div>\n    <div class="eg-drawer-toggle-text eg-px2">\n      <h4 class="eg-paragraph eg-bold">Dedicate my donation</h4>\n      <p class="eg-paragraph-sm eg-text-mono-lighter">{{$ctrl.getToggleValue()}}</p>\n    </div>\n    <div class="eg-drawer-toggle-edit" data-id="eg-dedications-edit">\n      <i class="fa fa-chevron-right" label="::$ctrl.getToggleButtonLabel()"></i>\n    </div>\n  </div>\n\n  \x3c!-- drawer --\x3e\n  <div class="eg-drawer eg-px6" data-ng-class="{ \'is-open\': $ctrl.isOpen }">\n    <div class="eg-drawer-content">\n      \x3c!-- drawer header --\x3e\n      <header class="eg-drawer-header eg-py4 eg-flex-row eg-flex--valign">\n        <button\n          class="eg-drawer-header-button eg-bold"\n          data-ng-click="$ctrl.onClose()"\n          data-id="eg-dedications-cancel"\n          tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n          type="button"\n        >\n          Cancel\n        </button>\n        <div class="eg-drawer-header-title eg-bold">Dedicate Donation</div>\n        <button\n          data-ng-click="$ctrl.onSave()"\n          data-ng-disabled="$ctrl.isSaveDisabled()"\n          class="eg-drawer-header-button eg-bold"\n          data-id="eg-dedications-save"\n          tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n          type="button"\n        >\n          Save\n        </button>\n      </header>\n\n      \x3c!-- drawer body --\x3e\n      <div class="eg-drawer-body eg-pt3">\n        \x3c!-- type --\x3e\n        <div class="eg-flex eg-flex-row eg-py2">\n          <div class="eg-flex eg-flex-row eg-flex-1 eg-pr2">\n            <label class="eg-paragraph eg-paragraph-sm eg-interact required eg-pb1 eg-pr4">\n              <input\n                name="type"\n                type="radio"\n                value="honor"\n                aria-label="In honor of"\n                data-ng-model="$ctrl.dedication.type"\n                class="eg-donation-dedication_radio-button"\n                tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n              />\n              In honor of ...\n            </label>\n            <label class="eg-paragraph eg-paragraph-sm eg-interact required eg-pb1">\n              <input\n                name="type"\n                type="radio"\n                value="memory"\n                aria-label="In memory of"\n                data-ng-model="$ctrl.dedication.type"\n                class="eg-donation-dedication_radio-button"\n                tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n              />\n              In memory of ...\n            </label>\n          </div>\n        </div>\n        \n\n        \x3c!-- honoree --\x3e\n        <div class="eg-flex eg-flex-row eg-py3">\n          <div class="eg-flex eg-flex-col eg-flex-1 eg-pr2">\n            <label class="eg-paragraph eg-paragraph-sm required eg-pb1">\n              Honoree\'s first name <span class="eg-error">*</span>\n            </label>\n            <input\n              required\n              type="text"\n              name="honoree_first_name"\n              data-ng-model="$ctrl.dedication.honoree_first_name"\n              data-sc-retain-focus-validity\n              aria-label="Honoree\'s first name"\n              class="donation-text_input eg-input"\n              tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n            />\n          </div>\n\n          <div class="eg-flex eg-flex-col eg-flex-1 eg-pl2">\n            <label class="eg-paragraph eg-paragraph-sm required eg-pb1">\n              Honoree\'s last name <span class="eg-error">*</span>\n            </label>\n            <input\n              required\n              type="text"\n              name="honoree_last_name"\n              data-ng-model="$ctrl.dedication.honoree_last_name"\n              data-sc-retain-focus-validity\n              aria-label="Honoree\'s last name"\n              class="donation-text_input eg-input"\n              tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n            />\n          </div>\n        </div>\n\n        \x3c!-- recipient --\x3e\n        <div class="eg-donation-dedication_email-section" data-ng-show="$ctrl.isRecipientVisible()">\n          <div class="eg-flex eg-flex-row eg-py3">\n            <div class="eg-flex eg-flex-col eg-flex-1">\n              <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                Recipient\'s email\n                <span class="eg-error" data-ng-if="$ctrl.isRecipientEmailRequired()">*</span>\n              </label>\n              <input\n                type="text"\n                name="email_address"\n                data-ng-model="$ctrl.dedication.email_address"\n                data-sc-retain-focus-validity\n                aria-label="Recipient\'s first name"\n                class="donation-text_input eg-input"\n                tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n              />\n              <small class="eg-paragraph-xs eg-text-mono">\n                Optionally send a notification email\n              </small>\n            </div>\n          </div>\n\n          <div class="eg-flex eg-flex-row eg-py3">\n            <div class="eg-flex eg-flex-col eg-flex-1 eg-pr2">\n              <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                Recipient\'s first name\n                <span class="eg-error" data-ng-if="$ctrl.isRecipientNameRequired()">*</span>\n              </label>\n              <input\n                type="text"\n                name="first_name"\n                data-ng-model="$ctrl.dedication.first_name"\n                data-sc-retain-focus-validity\n                aria-label="Recipient\'s first name"\n                class="donation-text_input eg-input"\n                tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n              />\n            </div>\n\n            <div class="eg-flex eg-flex-col eg-flex-1 eg-pl2">\n              <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                Recipient\'s last name\n                <span class="eg-error" data-ng-if="$ctrl.isRecipientNameRequired()">*</span>\n              </label>\n              <input\n                name="last_name"\n                data-ng-model="$ctrl.dedication.last_name"\n                data-sc-retain-focus-validity\n                aria-label="Recipient\'s last name"\n                class="donation-text_input eg-input"\n                tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n              />\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- printed card --\x3e\n        <div data-ng-if="::$ctrl.isPrintedCardEnabled">\n          <div class="eg-paragraph eg-bold">Printed Card</div>\n          <div data-sc-checkbox data-ng-model="$ctrl.isPrintedCardChecked" tabindex="{{ $ctrl.isOpen ? 0 : -1 }}">Send card in mail</div>\n          <div data-ng-if="$ctrl.isPrintedCardChecked">\n            <div class="eg-flex eg-flex-row eg-py2">\n              <div class="eg-flex eg-flex-col eg-flex-1">\n                <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                  Country\n                  <span class="eg-error">*</span>\n                </label>\n                <div\n                  name="country"\n                  class="donation-select eg-mt1 eg-input"\n                  data-sc-select-countries\n                  data-ng-model="$ctrl.dedication.country"\n                  aria-label="Recipient\'s country"\n                  data-ng-change="$ctrl.stateField().reset()"\n                  required\n                  tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n                ></div>\n              </div>\n            </div>\n\n            <div class="eg-flex eg-flex-row eg-py2">\n              <div class="eg-flex eg-flex-col eg-flex-1">\n                <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                  Street Address\n                  <span class="eg-error">*</span>\n                </label>\n                <input\n                  type="text"\n                  name="address"\n                  data-ng-model="$ctrl.dedication.address"\n                  data-sc-retain-focus-validity\n                  aria-label="Recipient\'s address"\n                  class="donation-text_input eg-input"\n                  tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n                />\n              </div>\n            </div>\n\n            <div class="eg-flex eg-flex-row eg-py2">\n              <div class="eg-flex eg-flex-col eg-flex-1">\n                <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                  City\n                  <span class="eg-error">*</span>\n                </label>\n                <input\n                  type="text"\n                  name="city"\n                  data-ng-model="$ctrl.dedication.city"\n                  data-sc-retain-focus-validity\n                  aria-label="Recipient\'s city"\n                  class="donation-text_input eg-input"\n                  tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n                />\n              </div>\n            </div>\n\n            <div class="eg-flex eg-flex-row eg-py2">\n              <div\n                class="eg-flex eg-flex-col eg-flex-1 eg-pr4"\n                data-ng-if="$ctrl.stateField().show"\n              >\n                <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                  {{$ctrl.stateField().label}}\n                  <span class="eg-error">*</span>\n                </label>\n                <div\n                  data-ng-show="$ctrl.stateField().isUS"\n                  class="donation-select eg-mt1 eg-input"\n                  data-ng-model="$ctrl.dedication.state"\n                  data-sc-select-states\n                  aria-label="recipient\'s state"\n                  name="state"\n                  required\n                  tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n                ></div>\n                <div\n                  data-ng-show="$ctrl.stateField().isCA"\n                  class="donation-select eg-mt1 eg-input"\n                  data-ng-model="$ctrl.dedication.state"\n                  data-sc-select-provinces\n                  aria-label="recipient\'s province"\n                  name="state"\n                  required\n                  tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n                ></div>\n              </div>\n\n              <div class="eg-flex eg-flex-col eg-flex-1">\n                <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n                  Zip\n                  <span class="eg-error">*</span>\n                </label>\n                <input\n                  name="postal_code"\n                  data-ng-model="$ctrl.dedication.postal_code"\n                  data-sc-retain-focus-validity\n                  aria-label="Recipient\'s postal code"\n                  class="donation-text_input eg-input"\n                  tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- ecard message --\x3e\n        <div class="eg-flex eg-flex-row eg-py3" data-ng-show="$ctrl.isECardMessageVisible()">\n          <div class="eg-flex eg-flex-col eg-flex-1">\n            <label class="eg-paragraph eg-paragraph-sm eg-pb1">\n              Your message to the recipient\n            </label>\n            <textarea\n              rows="3"\n              name="ecard_message"\n              data-ng-model="$ctrl.dedication.ecard_message"\n              data-sc-retain-focus-validity\n              aria-label="Recipient\'s first name"\n              class="donation-text_input eg-donation-dedication_ecard-message eg-input"\n              tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n            ></textarea>\n            <small class="eg-paragraph-xs eg-text-mono">\n              Please spell check, include how you would like your name(s) signed, mention the amount\n              if desired, and format your message as you would like it delivered.\n            </small>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- printed card --\x3e\n      <div data-ng-if="::($ctrl.isECardEnabled && $ctrl.isEmailEnabled)">\n        <div class="eg-paragraph eg-bold">Include an e-Card?</div>\n        <radio-group role="radiogroup" aria-label="select eCard to send">\n          <div class="eg-mb1">\n            <radio-control\n              value="null"\n              size="\'small\'"\n              name="\'ecard_id\'"\n              ng-model="$ctrl.dedication.ecard_id"\n              aria-label="don\'t include an e-card design with the e-mail"\n              tab-index="$ctrl.isOpen ? 0 : -1"\n            >\n              No e-Card\n            </radio-control>\n          </div>\n        \n          <div class="eg-donation-dedication_ecard-grid">\n            <div\n              class="eg-donation-dedication_ecard-item eg-border-round"\n              data-ng-repeat="eCard in $ctrl.eCards | orderBy: \'order\'"\n              data-ng-class="{\'active\': $ctrl.dedication.ecard_id == eCard.id }"\n              data-ng-click="$ctrl.onSelectECard(eCard.id)"\n              data-ng-style="{color: theme.current.styles.primaryColor}"\n            >\n              <div class="eg-donation-dedication_ecard-radio">\n                <radio-control\n                  value="eCard.id"\n                  size="\'small\'"\n                  name="\'ecard_id\'"\n                  ng-model="$ctrl.dedication.ecard_id"\n                  aria-label="e-Card option {{ $index + 1 }}"\n                  tab-index="$ctrl.isOpen ? 0 : -1"\n                >\n                </radio-control>\n              </div>\n        \n              <img\n                class="eg-donation-dedication_ecard-image"\n                data-ng-src="{{ eCard.image_url }}"\n                alt="dedication message ecard {{ $index + 1}}"\n              />\n            </div>\n          </div>\n        </radio-group>\n      </div>\n\n      \x3c!-- drawer footer --\x3e\n      <div class="eg-drawer-footer eg-pt2 eg-pb6">\n        <button\n          type="button"\n          data-ng-if="$ctrl.isRemoveVisible()"\n          data-ng-click="$ctrl.onRemove()"\n          class="eg-btn eg-btn--stretch eg-donation-dedication_remove-button"\n          tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n        >\n          Remove Dedication\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/donation-details/eg.components.donation-details",'<div class="donation-grid-eg">\n  \x3c!-- Frequency Toggle --\x3e\n  <div\n    data-ng-if="!$ctrl.preventOldrfForDeque && !$ctrl.onlyReccurringFrequency($ctrl.frequencyLevels) && $ctrl.recurringLevels($ctrl.frequencyLevels).length > 0"\n    data-ng-init="$ctrl.showFreqDropdown()"\n    class="eg-donation-frequency donation-grid-eg__switch rf eg-mb4 eg-donation-frequency-switch" role="radiogroup"\n    data-ng-style="{\'background-color\': $ctrl.getColorAccentOpaque()}" aria-label="Select a donation frequency">\n    <div\n      data-ng-click="$ctrl.selectFrequency(\'one-time\'); $ctrl.showFreqDropdown(\'one-time\'); $ctrl.isRecurringFrequency($event)"\n      data-ng-keypress="$ctrl.selectFrequency(\'one-time\',$event); $ctrl.isRecurringFrequency($event)"\n      data-ng-mouseover="$ctrl.getStylesHoverFrequencyBtn(\'one-time\',true)"\n      data-ng-mouseout="$ctrl.getStylesHoverFrequencyBtn(\'one-time\',false)"\n      class="donation-grid-eg__btn once hover-state_one-time" _spec="one-time" tabindex="0"\n      data-ng-class="{\'selected\': $ctrl.isOneTime()}" data-ng-style="$ctrl.getStylesFrequencyOneTimeBtn(\'one-time\')"\n      data-id="eg-onetime">\n      <div class="eg-flex-row eg-flex--valign eg-flex--center">\n        <i data-ng-show="$ctrl.isOneTime()" class="ci ci-checkmark eg-donation-frequency-switch__icon eg-pr1"></i>\n        <label for="donation-grid-eg__radio-input" class="donation-grid-eg__btn__frequency-label">\n          <input type="radio" id="donation-grid-eg__radio-input eg-ff" role="radio" tabindex="-1"\n            name="donation-frequency" class="donation-grid-eg__btn__frequency-input eg-bold7"\n            aria-checked="{{$ctrl.isOneTime()}}" />One time\n        </label>\n      </div>\n    </div>\n\n    <div\n      data-ng-click="$ctrl.selectFrequency($ctrl.frequency); $ctrl.showFreqDropdown($ctrl.recurringBtnText()); $ctrl.isRecurringFrequency($event)"\n      data-ng-keypress="$ctrl.selectFrequency($ctrl.recurringBtnText(), $event); $ctrl.isRecurringFrequency($event)"\n      data-ng-mouseover="$ctrl.getStylesHoverFrequencyBtn(\'recurring\', true)"\n      data-ng-mouseout="$ctrl.getStylesHoverFrequencyBtn(\'recurring\', false)"\n      class="donation-grid-eg__btn monthly hover-state_recurring" _spec="recurring" tabindex="0"\n      data-ng-class="{\'selected\': $ctrl.recurringBtnSelected($ctrl.frequency)}"\n      data-ng-style="$ctrl.getStylesFrequencyRecurringBtn($ctrl.frequency)" data-id="eg-monthly">\n      <div class="eg-flex-row eg-flex--valign eg-flex--center">\n        <i data-ng-show="$ctrl.frequency == $ctrl.recurringBtnText()"\n          class="ci ci-checkmark eg-donation-frequency-switch__icon eg-pr1"></i>\n        <label for="donation-amount-monthly__radio-input" class="donation-grid-eg__btn__frequency-label">\n          <input id="donation-amount-monthly__radio-input" name="donation-frequency" type="radio" role="radio"\n            tabindex="-1" class="donation-grid-eg__btn__frequency-input eg-bold7 eg-ff"\n            aria-checked="{{$ctrl.frequency == $ctrl.recurringBtnText()}}" />\n          {{!this.onlyReccurringFrequency(this.frequencyLevels) && $ctrl.recurringBtnText() |\n          capitalize}}\n        </label>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Frequency Label --\x3e\n  <p data-ng-if="!$ctrl.showRecurringDonationArray && (!!$ctrl.frequency && ($ctrl.noOfDonationAmount($ctrl.levels) !== 1 || $ctrl.showCustomAmtField($ctrl.levels)))"\n    id="amount-options-label" class="eg-paragraph eg-pb2 eg-text-center">\n    Choose a\n    <b>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency}}</b> amount\n  </p>\n\n  <p data-ng-if="$ctrl.showRecurringDonationArray && (!!$ctrl.frequency && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) !== 1 || $ctrl.showCustomAmtField($ctrl.recurringDonationLevels)))"\n    id="amount-options-label" class="eg-paragraph eg-pb2 eg-text-center">\n    Choose a\n    <b>{{ $ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency}}</b> amount\n  </p>\n\n  \x3c!-- One-time Donation --\x3e\n  <ul\n    data-ng-if="!$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.levels) > 1 || $ctrl.showCustomAmtField($ctrl.levels))"\n    role="radiogroup" aria-labelledby="amount-options-label"\n    class="eg-donation-amounts donation-grid-eg__levels rf eg-px2"\n    data-ng-class="{\'multiple-amount-hidden\' : $ctrl.noOfDonationAmount($ctrl.levels) === 1 && !$ctrl.showCustomAmtField($ctrl.levels)}">\n\n    \x3c!-- Default donation levels --\x3e\n    <li data-ng-if="level.amount !== \'Custom\' && $ctrl.noOfDonationAmount($ctrl.levels) !== 1"\n      data-ng-repeat="level in $ctrl.levels | filter: ($ctrl.noOfDonationAmount($ctrl.levels) > 1 && { display_on_page: true})"\n      data-ng-click="$ctrl.selectAmount(level.displayAmount)"\n      data-ng-keydown="$ctrl.selectAmount(level.displayAmount, $event)"\n      data-ng-mouseover="$ctrl.getStylesHoverDonationAmountBtn($index,true)"\n      data-ng-mouseout="$ctrl.getStylesHoverDonationAmountBtn($index,false)"\n      class="donation-grid-eg__level-item rf hover-state_{{::$index}}" tabindex="0" role="radio"\n      aria-checked="{{ $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected }}"\n      data-ng-class="{\'selected\': $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected, \'shimmer-loading\': !$ctrl.canShowLevel(level)}"\n      data-ng-style="$ctrl.getStylesDonationAmountBtn(level.displayAmount)" data-id="onetime-{{$index + 1}}">\n\n      <label for="{{\'D-A\'+level.amount}}" class="donation-grid-eg__level-item__amount-label rf eg-py4">\n        <input type="radio" id="{{\'D-A\'+level.amount}}" role="radio" tabindex="-1" name="donation-amount"\n          class="donation-grid-eg__level-item__amount-input rf eg-donation-amount" aria-hidden="true"\n          ng-attr-data-id="onetime-{{$index + 1}}" />\n        <span data-ng-show="$ctrl.canShowLevel(level)">{{level.displayAmount |\n          scFormatCurrency:$ctrl.currency:0:\'symbol\':true}}</span>\n      </label>\n    </li>\n\n    \x3c!-- Custom amount field --\x3e\n    <li data-ng-if="level.amount === \'Custom\'" data-ng-repeat="level in $ctrl.levels | filter: { display_on_page: true}"\n      data-ng-click="$ctrl.selectAmount(\'Custom\')" data-ng-keyup="$ctrl.showCustomAmtSelected = true"\n      data-ng-keydown="$ctrl.setPreventDefault($event)"\n      class="donation-grid-eg__level-item other-rf hover-state_other eg-donation-custom" role="radio"\n      data-ng-class="{\'selected\': $ctrl.showCustomAmtSelected}">\n\n      <label for="D-AOther" class="donation-grid-eg__level-item__amount-label other-rf">\n        <div id="custom-amount" class="donation-grid-eg__amount rf currency-picker"\n          data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}" data-sc-form-error="highlight if amount fails">\n          \x3c!-- Currency picker --\x3e\n          <eg-donation-currency class="eg-donation-currency currency-picker__wrapper-rf"\n            selected="$ctrl.showCustomAmtSelected" currency-model="$ctrl.currency"\n            currency-entity="\'donation\'"></eg-donation-currency>\n          \x3c!-- Custom donation amount --\x3e\n          <eg-donation-custom-amount model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount"\n            selected="$ctrl.showCustomAmtSelected" round-currency="false"\n            placeholder="!$ctrl.preventOldrfForDeque  ? \'Other\': \'Custom amount\'"\n            currency-aria-label="{{!$ctrl.preventOldrfForDeque  ? \'Enter an other amount to donate\' : \'Enter a custom amount to donate\'}}"\n            class="currency-field rf eg-donation-custom-amount" label="\'\'" name="\'amount\'"\n            input-data-id="onetime-other"></eg-donation-custom-amount>\n        </div>\n      </label>\n    </li>\n  </ul>\n\n  \x3c!-- Recurring Donation --\x3e\n  <ul\n    data-ng-if="$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) > 1 || $ctrl.showCustomAmtField($ctrl.recurringDonationLevels))"\n    role="radiogroup" aria-labelledby="amount-options-label"\n    class="eg-donation-amounts donation-grid-eg__levels rf eg-px2"\n    data-ng-class="{\'multiple-amount-hidden\' : $ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) === 1 && !$ctrl.showCustomAmtField($ctrl.recurringDonationLevels)}">\n\n    \x3c!-- Default donation levels --\x3e\n    <li data-ng-if="level.amount !== \'Custom\' && $ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) !== 1"\n      data-ng-repeat="level in $ctrl.recurringDonationLevels | filter: ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) > 1 && { display_on_page: true})"\n      data-ng-click="$ctrl.selectAmount(level.displayAmount)"\n      data-ng-keydown="$ctrl.selectAmount(level.displayAmount, $event)"\n      data-ng-mouseover="$ctrl.getStylesHoverDonationAmountBtn($index,true)"\n      data-ng-mouseout="$ctrl.getStylesHoverDonationAmountBtn($index,false)"\n      class="donation-grid-eg__level-item rf hover-state_{{::$index}}" role="radio" tabindex="0"\n      data-ng-class="{\'selected\': $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected,  \'shimmer-loading\': !$ctrl.canShowLevel(level)}"\n      data-ng-style="$ctrl.getStylesDonationAmountBtn(level.displayAmount)">\n\n      <label for="{{\'D-A\'+level.amount}}" class="donation-grid-eg__level-item__amount-label rf eg-py4">\n        <input name="donation-amount" type="radio" id="{{\'D-A\'+level.amount}}" role="radio" tabindex="-1"\n          aria-hidden="true" class="donation-grid-eg__level-item__amount-input rf eg-donation-amount"\n          aria-checked="{{ $ctrl.amount === level.displayAmount && !$ctrl.showCustomAmtSelected }}"\n          ng-attr-data-id="recurring-{{$index + 1}}" />\n        <span data-ng-show="$ctrl.canShowLevel(level)">{{level.displayAmount |\n          scFormatCurrency:$ctrl.currency:0:\'symbol\':true}}</span>\n          <span data-ng-show="!$ctrl.canShowLevel(level)">&nbsp;</span>\n      </label>\n    </li>\n    \n    \x3c!-- Custom amount field --\x3e\n    <li data-ng-if="level.amount === \'Custom\'"\n      data-ng-repeat="level in $ctrl.recurringDonationLevels | filter: { display_on_page: true}"\n      data-ng-click="$ctrl.selectAmount(\'Custom\')" data-ng-keyup="$ctrl.showCustomAmtSelected = true"\n      data-ng-keydown="$ctrl.setPreventDefault($event)"\n      class="donation-grid-eg__level-item other-rf hover-state_other eg-donation-custom" role="radio"\n      data-ng-class="{\'selected\': $ctrl.showCustomAmtSelected}" data-id="eg-monthly-other">\n      <label for="D-AOther" class="donation-grid-eg__level-item__amount-label other-rf">\n        <div id="custom-amount" class="donation-grid-eg__amount rf currency-picker eg-input-custom-amount"\n          data-ng-class="{\'has-focus\': $ctrl.show.inputFocus === true}" data-sc-form-error="highlight if amount fails">\n          <eg-donation-currency class="eg-donation-currency currency-picker__wrapper-rf"\n            selected="$ctrl.showCustomAmtSelected" currency-model="$ctrl.currency"\n            currency-entity="\'donation\'"></eg-donation-currency>\n\n          <eg-donation-custom-amount model="$ctrl.otherAmount" modal-bind-value="$ctrl.amount"\n            selected="$ctrl.showCustomAmtSelected" round-currency="false" name="\'amount\'" label="\'\'"\n            placeholder="!$ctrl.preventOldrfForDeque  ? \'Other\': \'Custom amount\'"\n            class="currency-field rf eg-donation-custom-amount"\n            currency-aria-label="{{!$ctrl.preventOldrfForDeque  ? \'Enter an other amount to donate\' : \'Enter a custom amount to donate\'}}"\n            input-data-id="recurring-other"></eg-donation-custom-amount>\n        </div>\n      </label>\n    </li>\n  </ul>\n\n  \x3c!-- IF ONLY SINGLE AMOUNT DISPLAYED --\x3e\n  <div\n    data-ng-if="!$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.levels) === 1 && !$ctrl.showCustomAmtField($ctrl.levels))">\n    <p class="donation-grid-eg__subheading">\n      <span>\n        {{$ctrl.frequency === \'semi-annually\' ? \'semi-annual\' : $ctrl.frequency |\n        capitalize}}&nbsp;donation\n      </span>\n    </p>\n    <span class="donation-grid-eg__amount">{{$ctrl.amount | scFormatCurrency:$ctrl.currency:2:\'symbol\':true}}\n    </span><span class="donation-grid-eg__currency">{{$ctrl.currency}}</span>\n  </div>\n\n  \x3c!-- IF ONLY SINGLE RECURRING AMOUNT DISPLAYED --\x3e\n  <div\n    data-ng-if="$ctrl.showRecurringDonationArray && ($ctrl.noOfDonationAmount($ctrl.recurringDonationLevels) === 1 && !$ctrl.showCustomAmtField($ctrl.recurringDonationLevels))">\n    <p class="donation-grid-eg__subheading">\n      <span>\n        {{$ctrl.frequency === \'semi-annually\' ? \'semi-annual\' :$ctrl.frequency |\n        capitalize}}&nbsp;donation\n      </span>\n    </p>\n    <span class="donation-grid-eg__amount">{{$ctrl.amount | scFormatCurrency:$ctrl.currency:2:\'symbol\':true}}\n    </span><span class="donation-grid-eg__currency">{{$ctrl.currency}}</span>\n  </div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/program-designation/eg.components.program-designation",'<div data-ng-if="$ctrl.isEnabled" class="eg-program-designation">\n  \x3c!-- toggle --\x3e\n  <div\n    data-ng-click="$ctrl.onOpen()"\n    class="eg-drawer-toggle eg-flex-row eg-flex--valign eg-px2 eg-py3 eg-interact"\n  >\n    <div class="eg-drawer-toggle-icon">\n      <img sc-cdn-src="{{::$ctrl.toggleIcon}}" />\n    </div>\n    <div class="eg-drawer-toggle-text eg-px2">\n      <h4 class="eg-paragraph eg-bold">I\'d like to support</h4>\n      <p data-ng-if="!$ctrl.isLoading" class="eg-paragraph-sm eg-text-mono-lighter">\n        {{$ctrl.designation.name}}\n      </p>\n      <p data-ng-if="$ctrl.isLoading" class="eg-paragraph-sm eg-text-mono-lighter">Loading...</p>\n    </div>\n    <div class="eg-drawer-toggle-edit" data-id="eg-programs-edit">\n      <i class="fa fa-chevron-right" label="Edit"></i>\n    </div>\n  </div>\n\n  \x3c!-- drawer --\x3e\n  <div\n    id="designations-drawer"\n    class="eg-drawer eg-px6"\n    data-ng-class="{ \'is-open\': $ctrl.isOpen }"\n  >\n    <div class="eg-drawer-content">\n      \x3c!-- drawer header (search + cancel) --\x3e\n      <header class="eg-drawer-header eg-py4 eg-flex-row eg-flex--valign">\n        <div class="eg-program-designation_search">\n          <i class="eg-program-designation_search-icon fa fa-search"></i>\n          <input\n            id="searchInputEG"\n            data-id="eg-programs-search"\n            type="search"\n            autocomplete="off"\n            data-ng-model="$ctrl.searchTerm"\n            placeholder="Search"\n            class="eg-pl8 eg-pr2 eg-input eg-program-designation_search-input eg-input__text"\n            tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n          />\n        </div>\n        <button\n          class="eg-drawer-header-button eg-bold"\n          data-ng-click="$ctrl.onClose()"\n          data-id="eg-programs-cancel"\n          tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n        >\n          Cancel\n        </button>\n      </header>\n      \x3c!-- drawer body (list) --\x3e\n      <div\n        data-id="eg-programs-result"\n        data-ng-if="!$ctrl.isLoading"\n        ng-show="$ctrl.hasSearchResults()"\n        class="eg-drawer-body eg-pt2"\n      >\n        <div ng-repeat="item in $ctrl.uiItems | filter:$ctrl.onSearch">\n          <div ng-if="item.isGroupLabel && $ctrl.showGroupLabels" class="typeahead-group-label">\n            <b class="ng-binding">{{ item.label }}</b>\n          </div>\n          <div\n            ng-if="!item.isGroupLabel"\n            class="eg-paragraph-sm eg-interact eg-py2"\n            ng-click="$ctrl.onSelect(item)"\n            tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n          >\n            {{ item.name }}\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- loader --\x3e\n      <div data-ng-if="$ctrl.isLoading" class="eg-paragraph-sm eg-pxy2">Loading...</div>\n      \x3c!-- empty search results --\x3e\n      <div\n        data-ng-if="!$ctrl.hasSearchResults() && !$ctrl.isLoading"\n        class="eg-pxy4 eg-text-center"\n        tabindex="{{ $ctrl.isOpen ? 0 : -1 }}"\n      >\n        <div class="eg-paragraph eg-bold eg-mb2">No results found for "{{$ctrl.searchTerm}}"</div>\n        <div class="eg-paragraph-sm eg-mb2">\n          Try searching for another program or choose one from the list\n        </div>\n        <div class="eg-paragraph-sm eg-interact eg-underline" data-ng-click="$ctrl.onClearSearch()">\n          Clear Search\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/recurring-nudge/eg.components.recurring-nudge",'<div class="eg-container eg-flex-col eg-flex--between">\n  <div>\n    \x3c!-- Gift icon --\x3e\n    <div class="eg-flex-row eg-pt4 eg-pb2 eg-flex--center">\n      <img sc-cdn-src="{{::$ctrl.nudgeIcon}}" class="eg-recurring-nudge-header-icon" />\n    </div>\n    \x3c!-- Headline --\x3e\n    <div class="eg-pb5 eg-text-center eg-headline eg-bold9">\n      Become a monthly supporter and make an even bigger impact\n    </div>\n    \x3c!-- Body 1 --\x3e\n    <div class="eg-pb3 eg-text-center eg-paragraph eg-recurring-nudge-paragraph">\n      Would you consider changing to a smaller <br /><span class="eg-bold7"\n        >{{$ctrl.nudgeAmount | scFormatCurrency:$ctrl.currency:0}} {{$ctrl.nudgeFrequency}}</span\n      >\n      donation?\n    </div>\n    \x3c!-- Body 2 --\x3e\n    <div class="eg-pb3 eg-text-center eg-paragraph eg-recurring-nudge-paragraph">\n      Monthly supporters provide consistent aid <br />to our ongoing efforts which helps us<br />\n      focus on our mission.\n    </div>\n    \x3c!-- Body 3 (go back to first view)--\x3e\n    \x3c!-- <div class="eg-text-center eg-paragraph eg-recurring-nudge-paragraph">\n            Let me <span class="eg-interact" data-ng-style="{\'color\': $ctrl.colorPrimary}"\n                data-ng-click="$ctrl.goBack()">edit my donation</span> instead.\n        </div> --\x3e\n  </div>\n  <div class="eg-flex-col eg-pb2">\n    <div class="eg-mb2">\n      <button\n        data-ng-click="$ctrl.acceptNudge()"\n        class="eg-btn eg-btn--stretch eg-recurring-nudge-btn"\n        data-ng-style="{\'background-color\': $ctrl.colorPrimary}"\n      >\n        ❤️ Donate {{$ctrl.nudgeAmount | scFormatCurrency:$ctrl.currency:0}} {{$ctrl.nudgeFrequency}}\n      </button>\n    </div>\n    <button\n      data-ng-click="$ctrl.rejectNudge()"\n      class="eg-btn eg-btn--stretch eg-recurring-nudge-btn"\n      data-ng-style="{\'background-color\': $ctrl.colorBackground, \'color\': $ctrl.colorPrimary}"\n    >\n      Keep my {{$ctrl.currentFrequency}} {{$ctrl.currentAmount | scFormatCurrency:$ctrl.currency:0}}\n      donation\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/root-donate-button/eg.components.root-donate-button",'<button\n  id="eg-btn-donate-root"\n  data-ng-if="::$ctrl.shouldUseDonateButton()"\n  data-ng-click="$ctrl.onClickHandler()"\n  data-ng-disabled="!$ctrl.isEnabled()"\n  class="eg-btn eg-btn--lg eg-btn-donate eg-btn--stretch eg-background-darkest"\n>\n  <div data-ng-class="{\'eg-btn-donate-label\': !$ctrl.isEnabled()}">\n    {{$ctrl.isEnabled() ? (\'Donate\' + ($ctrl.parentModel.frequency !== \'one-time\' ? \' \' +\n    $ctrl.parentModel.frequency : \'\')) : \'Choose an amount\'}}\n  </div>\n  <div\n    data-ng-if="$ctrl.isEnabled()"\n    class="eg-btn-donate-amount"\n    data-ng-class="{\'eg-btn-fee-processing\': $ctrl.globalState.feeProcessing}"\n  >\n    {{$ctrl.getDonationAmount() | scFormatCurrency:$ctrl.parentModel.payment.raw_currency_code:2}}\n    <div\n      data-show="$ctrl.globalState.feeProcessing"\n      id="eg-donate-btn-spinner"\n      data-sc-simple-spinner\n      data-custom-spinner-opts="$ctrl.processingStyles"\n    ></div>\n  </div>\n</button>\n\n<button\n  id="eg-btn-donate-root"\n  data-ng-if="::!$ctrl.shouldUseDonateButton()"\n  data-ng-click="$ctrl.onClickHandler()"\n  data-ng-disabled="!$ctrl.isEnabled()"\n  class="eg-btn eg-btn--stretch eg-background-darkest"\n>\n  <div data-ng-class="{\'eg-btn-donate-label\': $ctrl.isEnabled()}">\n'+"    {{$ctrl.isEnabled() ? 'Continue' : 'Choose an amount'}}\n  </div>\n</button>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/views/eg.pay",'<div data-ng-controller="EmbeddedGivingPayCtrl" class="eg-container">\n  <div data-ng-hide="shouldShowDonationConfirmation()" data-ng-keydown="processKeydownEventPay($event)"\n    class="eg-container eg-flex-col eg-flex--between">\n    <div class="eg-flex-1 eg-flex-col">\n      \x3c!-- Headers --\x3e\n      <div class="eg-flex-row eg-flex--valign eg-nav">\n        <div data-ng-if="!META.showPaymentDetails" class="eg-flex eg-interact eg-pr2"\n          data-ng-click="goDonationContact()">\n          <i class="fa fa-long-arrow-left"></i>\n        </div>\n\n        <div data-ng-if="META.showPaymentDetails" data-ng-click="goDonationPaymentMethods()"\n          class="eg-flex eg-interact eg-nav__back">\n          <i class="fa fa-long-arrow-left"></i>\n        </div>\n        <div class="eg-flex-1 eg-flex--center">\n          \x3c!-- custom styles margin left exact width of above arrow + padding right --\x3e\n          <div class="eg-paragraph text-center eg-nav__label">\n            {{!META.showPaymentDetails ? \'Choose Payment\' : \'Payment Details\'}}\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- donation-amount-hero LIST VIEW--\x3e\n      <div data-ng-if="!META.showPaymentDetails" class="eg-flex-col eg-flex--center eg-pt6 eg-pb4 eg-payments-hero">\n        \x3c!-- Donation frequency --\x3e\n        <div class="eg-flex-row eg-payments-hero__frequency eg-bold7 eg-pb1h">\n          {{MODEL.frequency | capitalize}}&nbsp;donation\n        </div>\n        \x3c!-- Donation currency and amount --\x3e\n        <div class="eg-flex-row eg-flex--valign eg-pb2">\n          <div class="eg-payments-hero__amount eg-bold7">\n            {{ META.summaryAmount | scFormatCurrency:MODEL.payment.raw_currency_code:2}}&nbsp;\n          </div>\n          \x3c!-- <div class="eg-paragraph-sm">{{MODEL.payment.raw_currency_code}}</div> --\x3e\n        </div>\n        \x3c!-- fee on top --\x3e\n        \x3c!-- Donation fee-on-top checkbox --\x3e\n        <div data-ng-if="eg.isFOTEnabled" class="eg-flex-row eg-flex--valign eg-flex--center eg-fot eg-pb4">\n          <div data-id="eg-step1fees" data-sc-checkbox data-ng-model="MODEL.fee_on_top" name="donation_fot"\n            data-id="DCF-check"\n            class="eg-ff">\n            Cover transaction fees\n          </div>\n          <i class="fa fa-question-circle eg-fot--tooltip eg-ml2" data-sc-tooltip\n            data-sc-tooltip-position-tip="top center" data-ng-style="{ color: eg.primaryColor }">\n            Transaction fees are the sum of the processing and donation software fees that we incur\n            with each donation.\n          </i>\n        </div>\n        <div data-ng-if="eg.isDCFEnabled" class="eg-flex-row eg-flex--valign">\n          <div data-ng-bind-html="eg.dcfMessage()"\n            class="eg-paragraph-sm eg-text-mono-lighter eg-mx eg-text-center eg-pb4"></div>\n        </div>\n        <div class="eg-flex-row eg-flex--valign">\n          <img sc-cdn-src="{{::EmbeddedGivingPaths.images.shieldIcon}}" class="eg-payments-hero__shield-icon eg-mx1" />\n          <div class="eg-paragraph-xs eg-text-mono-lighter eg-mx1">\n            Transactions are secure and encrypted\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- donation-amount-hero DETAILS VIEW --\x3e\n      <div data-ng-if="META.showPaymentDetails"\n        class="eg-flex-col eg-flex--center eg-px4 eg-py3 eg-mb4 eg-border-round2 eg-background-off-white">\n        \x3c!-- Donation frequency --\x3e\n        <div class="eg-flex-row eg-paragraph-sm eg-bold6">\n          {{MODEL.frequency | capitalize}}&nbsp;donation\n        </div>\n        \x3c!-- Donation currency and amount --\x3e\n        <div class="eg-flex-row eg-flex--valign">\n          <div class="eg-headline eg-bold">\n            {{ META.summaryAmount | scFormatCurrency:MODEL.payment.raw_currency_code:2}}&nbsp;\n          </div>\n          <div class="eg-paragraph-sm">{{MODEL.payment.raw_currency_code}}</div>\n        </div>\n      </div>\n\n      <eg-pay-payments api="API" payment="MODEL.payment" parent-model="MODEL" meta="META"\n        submit-digital-wallets="submitDigitalWallets" fee-processing="globalState.feeProcessing"\n        data-ng-class="{\'eg-footer--absolute\': !META.showPaymentDetails}" hide-postal="true"\n        currency="MODEL.payment.raw_currency_code"></eg-pay-payments>\n\n      <div data-ng-if="META.showPaymentDetails">\n        \x3c!-- show checkbox for company card (if required)--\x3e\n        <div data-ng-if="eg.showIsCompanyCard()" class="eg-flex-row eg-flex--valign eg-pt2">\n          <div data-sc-checkbox data-ng-model="META.showCompanyName" class="eg-checkbox-input"></div>\n          <div class="eg-paragraph-xs">Is this a company credit card?</div>\n        </div>\n\n        <div data-ng-if="META.showCompanyName" class="eg-paragraph required eg-pt3 eg-pb1">\n          Company Name&nbsp;<span class="eg-error">*</span>\n        </div>\n\n        <input data-ng-if="META.showCompanyName" type="text" name="company_name" class="eg-input eg-input__text"\n          data-ng-model="MODEL.company_name" required\n          data-ng-class="{\'sc-form-error\': FORM.company_name.$invalid && FORM.company_name.$dirty }"\n          aria-label="Company name" />\n\n        \x3c!-- See: https://classydev.atlassian.net/browse/CL-38468 --\x3e\n        \x3c!-- show checkbox for ach consent (if required)--\x3e\n        \x3c!-- <div data-ng-if="eg.showAchTerms()" class="eg-flex-row eg-flex--valign eg-pt2">\n        <div data-sc-checkbox data-ng-model="MODEL.payment.ach.achTermsAccepted" class="eg-checkbox-input"></div>\n        <div class="eg-paragraph-xs">\n          I agree to these\n          <a href="https://www.classy.org/terms" target="_blank">Terms and Conditions</a>\n          and I authorize Classy to electronically debit my account.\n        </div>\n      </div> --\x3e\n      </div>\n      \x3c!-- Address --\x3e\n      <div data-ng-show="META.showPaymentDetails">\n        <div data-ng-include="::EmbeddedGivingPaths.partials.donationBillingAddress"></div>\n      </div>\n    </div>\n\n    \x3c!-- TODO update do consider donation confirmation view --\x3e\n    <div data-ng-if="META.showPaymentDetails" class="eg-flex eg-pb2 eg-pt3">\n      <button id="eg-btn-donation-payment-details" data-ng-disabled="!isValidDonationPayment()"\n        ng-attr-data-id="{{dataId}}"\n        data-ng-click="goDonationConfirmation()" class="eg-btn eg-btn--stretch eg-background-darkest" type="button">\n        Continue\n    </div>\n  </div>\n\n  <div data-ng-show="shouldShowDonationConfirmation()" class="eg-container"\n    data-ng-include="::EmbeddedGivingPaths.partials.donationConfirmation"></div>\n</div>\n\n\n\n\x3c!-- \n<div data-ng-show="shouldShowDonationConfirmation()" class="eg-container"\n  data-ng-include="::EmbeddedGivingPaths.partials.donationConfirmation"></div> --\x3e')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-billing-address",'\x3c!-- Second view in donation flow, visible by all payment processor configurations but Google Pay (which autofills) --\x3e\n<div data-ng-controller="frsDonationPaymentCtrl" class="eg-flex-col" data-ng-keydown="handleBillingAddressKeyDown($event)">\n  \x3c!-- Just zip code --\x3e\n  <div data-ng-if="isZipcode()" class="eg-flex eg-flex-col eg-pt3">\n    <div\n      class="eg-paragraph required eg-pb1"\n      data-sc-form-error="highlight if billing_postal_code fails"\n    >\n      Zip code&nbsp;<span class="eg-error">*</span>\n    </div>\n    <input\n      required\n      type="text"\n      name="billing_postal_code"\n      class="eg-input--half eg-input eg-input__text"\n      data-ng-model="MODEL.billing_postal_code"\n      data-ng-minlength="2"\n      data-ng-maxlength="10"\n      data-sc-form-error="highlight if billing_postal_code fails"\n      data-sc-retain-focus-validity\n      aria-label="{{ build.zipPlaceholder() }}"\n    />\n  </div>\n  \x3c!-- Simple Address (typeahead) --\x3e\n  <div data-ng-if="isAutocomplete()" class="eg-flex eg-flex-col eg-pt3">\n    <label class="eg-paragraph required eg-pb1">\n      Billing Address&nbsp;<span class="eg-error">*</span>\n    </label>\n    <div\n      data-class="eg-input eg-input__text"\n      data-ng-model="MODEL.billing_address1"\n      data-sc-retain-focus-validity\n      data-sc-address-lookup\n      data-parser="handleAutocomplete(response)"\n      data-placeholder="Enter your address"\n      type="text"\n      data-name="billing_address1"\n      aria-label="address"\n      required\n    >\n  </div>\n    <div class="eg-flex eg-flex-row eg-flex--end">\n      <button class="donation-matching_back eg-manually" data-ng-click="useFullAddress()">\n        Enter Manually\n      </button>\n    </div>\n  </div>\n  \x3c!-- Full address --\x3e\n  <div data-ng-if="isFullAddress()" class="eg-flex eg-flex-col eg-pt3">\n    \x3c!-- Country --\x3e\n    <div class="eg-flex eg-flex-col">\n      <label\n        class="eg-paragraph required eg-pb1"\n        data-sc-form-error="highlight if billing_country fails"\n      >\n        Country&nbsp;<span class="eg-error">*</span>\n      </label>\n      <input\n        data-ng-model="MODEL.billing_country"\n        class="donation-select eg-input__select"\n        data-sc-select-countries\n        data-sc-form-error="highlight if billing_country fails"\n        data-sc-retain-focus-validity\n        type="text"\n        aria-label="billing country"\n        name="billing_country"\n        required\n      />\n    </div>\n    \x3c!-- Street Address --\x3e\n    <div class="eg-flex eg-flex-col eg-pt3">\n      <label class="eg-paragraph required eg-pb1">\n        Address&nbsp;<span class="eg-error">*</span>\n      </label>\n      <input\n        data-ng-model="MODEL.billing_address1"\n        class="eg-input eg-input__text"\n        aria-label="billing address 1"\n        data-sc-retain-focus-validity\n        type="text"\n        name="billing_address1"\n        required\n      />\n    </div>\n    \x3c!-- Street Address 2 --\x3e\n    <div class="eg-flex eg-flex-col eg-pt3">\n      <label class="eg-paragraph required eg-pb1"> Address&nbsp;2 </label>\n      <input\n        data-ng-model="MODEL.billing_address2"\n        class="eg-input eg-input__text"\n        aria-label="billing address 2"\n        data-sc-retain-focus-validity\n        type="text"\n        name="billing_address2"\n      />\n    </div>\n    \x3c!-- City --\x3e\n    <div class="eg-flex eg-flex-col eg-pt3">\n      <label\n        class="eg-paragraph required eg-pb1"\n        data-sc-form-error="highlight if billing_city fails"\n      >\n        City&nbsp;<span class="eg-error">*</span>\n      </label>\n      <input\n        data-ng-model="MODEL.billing_city"\n        class="eg-input eg-input__text"\n        data-sc-retain-focus-validity\n        type="text"\n        name="billing_city"\n        required\n      />\n    </div>\n    \x3c!-- State + Zip code --\x3e\n    <div class="eg-flex eg-flex-row eg-pt3">\n      \x3c!-- left col option 1: show states --\x3e\n      <div data-ng-if="show.states()" class="eg-flex eg-flex-col eg-pr2">\n        <label\n          class="eg-paragraph required eg-pb1"\n          data-sc-form-error="highlight if billing_state fails"\n        >\n          State&nbsp;<span class="eg-error">*</span>\n        </label>\n        <div\n          name="billing_state"\n          class="donation-select eg-input__select"\n          data-ng-model="MODEL.billing_state"\n          data-sc-select-states\n          data-only-states="true"\n          aria-label="billing state"\n          data-sc-retain-focus-validity\n          required\n        ></div>\n      </div>\n      \x3c!-- left col option 2: show provinces --\x3e\n      <div data-ng-if="show.provinces()" class="eg-flex eg-flex-col eg-pr2">\n        <label\n          class="eg-paragraph required eg-pb1"\n          data-sc-form-error="highlight if billing_state fails"\n        >\n          Province&nbsp;<span class="eg-error">*</span>\n        </label>\n        <div\n          name="billing_state"\n          class="donation-select eg-input__select"\n          data-ng-model="MODEL.billing_state"\n          data-sc-select-provinces\n          data-only-states="true"\n          aria-label="billing province"\n          data-sc-retain-focus-validity\n          required\n        ></div>\n      </div>\n      \x3c!-- left col option 3: show generic --\x3e\n      <div data-ng-if="show.genericLevel1()" class="eg-flex eg-flex-col eg-pr2">\n        <label\n          class="eg-paragraph required eg-pb1"\n          data-sc-form-error="highlight if billing_state fails"\n        >\n          Region&nbsp;\n        </label>\n        <input\n          class="eg-input eg-input__text"\n          data-ng-model="MODEL.billing_state"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_state"\n          aria-label="billing region, not required"\n        />\n      </div>\n      \x3c!-- right col (always): zip/postal code --\x3e\n      <div class="eg-flex eg-flex-col eg-pl2">\n        <label\n          class="eg-paragraph required eg-pb1"\n          data-sc-form-error="highlight if billing_postal_code fails"\n        >\n          {{ build.zipPlaceholder() }}&nbsp;<span class="eg-error">*</span>\n        </label>\n        <input\n          data-ng-model="MODEL.billing_postal_code"\n          class="eg-input eg-input__text"\n          data-ng-minlength="2"\n          data-ng-maxlength="10"\n          data-sc-form-error="highlight if billing_postal_code fails"\n          data-sc-retain-focus-validity\n          type="text"\n          aria-label="{{build.zipPlaceholder()}}"\n          name="billing_postal_code"\n          required\n        />\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-comment",'<div class="eg-flex eg-flex-col" data-ng-controller="EmbeddedGivingDonationCommentCtrl">\n  \x3c!-- toggle --\x3e\n  <div\n    data-ng-click="egDonationComment.openDrawer()"\n    data-ng-if="egDonationComment.show"\n    class="eg-drawer-toggle eg-flex-row eg-flex--valign eg-px2 eg-py3 eg-interact"\n  >\n    <div class="eg-drawer-toggle-icon">\n      <img sc-cdn-src="{{::EmbeddedGivingPaths.images.comment}}" />\n    </div>\n    <div class="eg-drawer-toggle-text eg-px2">\n      <h4 class="eg-paragraph eg-bold">Leave a comment</h4>\n      <p\n        class="eg-paragraph-sm eg-text-mono-lighter"\n        data-ng-bind-html="egDonationComment.preview()"\n      ></p>\n    </div>\n    <div class="eg-drawer-toggle-edit" data-id="eg-dedications-edit">\n      <i class="fa fa-chevron-right"></i>\n    </div>\n  </div>\n\n  \x3c!-- drawer --\x3e\n  <div class="eg-drawer eg-px6" data-ng-class="{ \'is-open\': egDonationComment.isDrawerOpen }">\n    <div class="eg-drawer-content">\n      \x3c!-- drawer header --\x3e\n      <header class="eg-drawer-header eg-py4 eg-flex-row eg-flex--valign">\n        <button\n          class="eg-drawer-header-button eg-bold"\n          data-ng-click="egDonationComment.cancelChanges()"\n          data-id="eg-comment-cancel"\n          tabindex="{{ egDonationComment.isDrawerOpen ? 0 : -1 }}"\n          type="button"\n        >\n          Cancel\n        </button>\n        <div class="eg-drawer-header-title eg-bold">Leave a comment</div>\n        <button\n          data-ng-click="egDonationComment.saveChanges()"\n          class="eg-drawer-header-button eg-bold"\n          data-id="eg-comment-save"\n          tabindex="{{ egDonationComment.isDrawerOpen ? 0 : -1 }}"\n          type="button"\n        >\n          Save\n        </button>\n      </header>\n\n      \x3c!-- drawer body --\x3e\n      <div class="eg-drawer-body eg-pt3">\n        <froala-field\n          id="text-area-comment"\n          model="egDonationComment.changes"\n          name="comment"\n          froala-options="froalaCommentOptions"\n          wrapper-class="\'eg-input eg-donation-comment create-flow_textarea-wrap\'"\n          aria-label="Leave a comment"\n          aria-roledescription="textbox"\n          tab-index="egDonationComment.isDrawerOpen ? 0 : -1"\n        >\n        </froala-field>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-confirmation",'\x3c!-- data-ng-keydown="processKeydownEventDonationConfirmation($event)"  --\x3e\n<div data-ng-controller="EmbeddedGivingDonationConfirmationCtrl" class="eg-container eg-flex-col eg-flex--between">\n    <div class="eg-flex-1 eg-flex-col">\n        <div class="eg-flex-row eg-flex--valign eg-nav">\n            \x3c!-- "Back" navigation. Disabled when checking out --\x3e\n            <div data-ng-click="goBackDonationConfirmation()" data-ng-disabled="eg.isCheckingOut"\n                class="eg-flex eg-interact eg-nav__back">\n                <i class="fa fa-long-arrow-left"></i>\n            </div>\n            <div class="eg-flex-1 eg-flex--center">\n                <div class="eg-paragraph text-center eg-nav__label">Confirm your donation</div>\n            </div>\n        </div>\n        <div data-ng-if="eg.logoUrl()" class="eg-flex-row eg-flex--center eg-py4">\n            <img class="eg-logo" data-ng-src="{{eg.logoUrl()}}" />\n        </div>\n\n        \x3c!-- Is FOT checked? --\x3e\n        <div data-ng-if="MODEL.fee_on_top" class="eg-flex-row eg-flex--center eg-py4">\n            <div class="eg-paragraph-sm eg-text-center eg-bold5">\n                \x3c!-- TODO add icon --\x3e\n                Your donation goes further by covering the fees!\n            </div>\n        </div>\n\n        \x3c!-- frequency / amount / currency hero --\x3e\n        <div class="eg-flex-col eg-flex--center eg-px4 eg-py3 eg-my2 eg-border-round2 eg-background-off-white">\n            \x3c!-- Donation frequency --\x3e\n            <div class="eg-flex-row eg-paragraph-sm eg-bold6">\n                {{MODEL.frequency | capitalize}}&nbsp;donation\n            </div>\n            \x3c!-- Donation currency and amount --\x3e\n            <div class="eg-flex-row eg-flex--valign">\n                <div class="eg-headline eg-bold">\n                    {{META.summaryAmount | scFormatCurrency:MODEL.payment.raw_currency_code:2}}&nbsp;\n                </div>\n                <div class="eg-paragraph-sm">{{MODEL.payment.raw_currency_code}}</div>\n            </div>\n        </div>\n\n        \x3c!-- Donation details --\x3e\n        <div class="eg-flex-col eg-py1">\n            <div data-ng-if="MODEL.fee_on_top" class="eg-flex-row eg-flex--between eg-paragraph-sm">\n                <div class="eg-flex eg-bold7">Amount</div>\n                <div class="eg-flex--end eg-text-right">{{getDonationAmountRaw() |\n                    scFormatCurrency:MODEL.payment.raw_currency_code:2}}</div>\n            </div>\n            <div data-ng-if="MODEL.fee_on_top" class="eg-flex-row eg-flex--between eg-paragraph-sm eg-py2">\n                <div class="eg-flex eg-bold7">Transaction fees</div>\n                \x3c!-- Subtract summary amount and raw amount to get transaction fees --\x3e\n                <div class="eg-flex--end eg-text-right">{{(META.summaryAmount - getDonationAmountRaw()) |\n                    scFormatCurrency:MODEL.payment.raw_currency_code:2}}</div>\n            </div>\n            <div class="eg-flex-row eg-flex--between eg-paragraph-sm eg-pb2">\n                <div class="eg-flex eg-bold7">Email</div>\n                <div class="eg-flex--end eg-text-right">{{MODEL.member_email_address}}</div>\n            </div>\n        </div>\n    </div>\n\n    <div class="eg-flex-col eg-pb2 eg-pt3">\n        \x3c!-- TODO add terms and conditions --\x3e\n        <div class="eg-flex-row eg-py4 eg-border-top eg-text-center">\n            <div data-ng-if="getConfirmationTermsUrl()" class="eg-paragraph-xs eg-text-mono-lighter">\n                We partner with GoFundMe to power this page. By donating, you agree to our <span data-ng-click="openLink(\'https://www.gofundme.com/c/privacy\')"\n                    class="eg-underline eg-interact">Privacy Policy</span>, along with the <span\n                    data-ng-click="openLink(\'https://www.gofundme.com/c/terms\')"\n                    class="eg-underline eg-interact">GoFundMe Terms</span> and <span\n                    data-ng-click="openLink(\'https://www.gofundme.com/c/privacy\')"\n                    class="eg-underline eg-interact">GoFundMe Privacy Notice.</span>\n            </div>\n            <div data-ng-if="!getConfirmationTermsUrl()" class="eg-paragraph-xs eg-text-mono-lighter">\n                We partner with GoFundMe to power this page. By donating, you agree to our <span data-ng-click="openLink(\'https://www.gofundme.com/c/privacy\')"\n                    class="eg-underline eg-interact">Privacy Policy</span>, along with the <span\n                    data-ng-click="openLink(\'https://www.gofundme.com/c/terms\')"\n                    class="eg-underline eg-interact">GoFundMe Terms</span> and <span\n                    data-ng-click="openLink(\'https://www.gofundme.com/c/privacy\')"\n                    class="eg-underline eg-interact">GoFundMe Privacy Notice.</span>\n            </div>\n        </div>\n        <button data-id="confirm-donate" data-ng-click="embeddedGivingCheckout()" data-ng-disabled="eg.isCheckingOut"\n            class="eg-btn eg-btn--lg eg-btn--stretch eg-background-darkest">\n'+"            {{eg.isCheckingOut ? 'Donating...' : 'Donate Now'}}\n        </button>\n    </div>\n</div>")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-contact",'\x3c!-- Second view in donation flow, visible by all payment processor configurations but Google Pay (which autofills) --\x3e\n<div\n  data-ng-controller="EmbeddedGivingDonationContactCtrl"\n  class="eg-container eg-flex-col eg-flex--between"\n  data-ng-keydown="processKeydownEventDonationContact($event)"\n>\n  <div data-ng-controller="frsDonationDonorCtrl">\n    \x3c!-- back nav + header --\x3e\n    <div class="eg-flex-row eg-flex--valign eg-nav">\n      \x3c!-- back arrow navigation (if full address not required)--\x3e\n      <div class="eg-flex eg-interact eg-pr2" data-ng-click="goDonationOptions()">\n        <i class="fa fa-long-arrow-left"></i>\n      </div>\n\n      <div class="eg-flex-1 eg-flex--center">\n        \x3c!-- custom styles margin left exact width of above arrow + padding right --\x3e\n        <div class="eg-paragraph text-center eg-nav__label">Donor Information</div>\n      </div>\n    </div>\n\n    \x3c!-- donation-amount-hero --\x3e\n    <div\n      class="eg-flex-col eg-flex--center eg-px4 eg-py3 eg-mb4 eg-border-round2 eg-background-off-white"\n    >\n      \x3c!-- Donation frequency --\x3e\n      <div class="eg-flex-row eg-paragraph-sm eg-bold6">\n        {{MODEL.frequency | capitalize}}&nbsp;donation\n      </div>\n      \x3c!-- Donation currency and amount --\x3e\n      <div class="eg-flex-row eg-flex--valign">\n        <div class="eg-headline eg-bold">\n          {{ getDonationAmountRaw() | scFormatCurrency:MODEL.payment.raw_currency_code:2}}&nbsp;\n        </div>\n        <div class="eg-paragraph-sm">{{MODEL.payment.raw_currency_code}}</div>\n      </div>\n    </div>\n\n    \x3c!-- member first name + member last name --\x3e\n    <div class="eg-flex-row">\n      <div class="eg-pr2 eg-flex-1 eg-flex-col">\n        <div\n          class="eg-pb1 eg-paragraph required"\n          data-sc-form-error="highlight if member_first_name fails"\n        >\n          First Name <span class="eg-error">*</span>\n        </div>\n        <input\n          class="eg-input eg-input__text"\n          required\n          type="text"\n          data-ng-model="META.member_first_name"\n          name="member_first_name"\n          aria-label="Please enter your first name"\n          data-sc-retain-focus-validity\n        />\n      </div>\n\n      <div class="eg-pl2 eg-flex-1 eg-flex-col">\n        <div\n          class="eg-pb1 eg-paragraph required"\n          data-sc-form-error="highlight if member_last_name fails"\n        >\n          Last Name <span class="eg-error">*</span>\n        </div>\n        <input\n          required\n          type="text"\n          data-ng-model="META.member_last_name"\n          name="member_last_name"\n          class="eg-input eg-input__text"\n          aria-label="Please enter your last name"\n          data-sc-retain-focus-validity\n        />\n      </div>\n    </div>\n\n    \x3c!-- Hide donor name --\x3e\n    <div class="eg-flex-row eg-flex--valign" data-ng-if="isAnonymousDonationEnabled">\n      <span\n        data-sc-checkbox\n        name="is_anonymous"\n        class="inline eg-checkbox-input"\n        data-ng-model="MODEL.is_anonymous"\n        aria-label="Make donation anonymous"\n      >\n        Hide my name from the public.\n      </span>\n\n      <i\n        tabindex="0"\n        data-sc-tooltip\n        data-sc-tooltip-class="donation-tooltip_message"\n        class="fa fa-question-circle donation-tooltip inline"\n        data-ng-style="{ color: theme.current.styles.primaryColor }"\n      >\n        We will only use your name to send you a receipt with tax information.\n      </i>\n    </div>\n\n    \x3c!-- Hide donation amount --\x3e\n    <div data-ng-if="eg.isAnonymousDonationAmountsEnabled" class="eg-flex-row eg-flex--valign">\n      <div\n        data-sc-checkbox\n        aria-label="Make donation anonymous"\n        class="inline eg-checkbox-input"\n        data-ng-model="MODEL.hide_amount"\n        name="hide_amount"\n      >\n        Hide my donation amount from the public.\n      </div>\n    </div>\n\n    \x3c!-- email --\x3e\n    <div class="eg-flex eg-flex-col eg-pt3">\n      <label\n        class="eg-paragraph required eg-pb1"\n        data-sc-form-error="highlight if member_email_address fails"\n      >\n        Email <span class="eg-error">*</span>\n      </label>\n      <input\n        name="member_email_address"\n        required\n        data-ng-model="MODEL.member_email_address"\n        class="eg-input eg-input__text"\n        data-sc-validate-email-address\n        data-sc-retain-focus-validity\n        type="text"\n        aria-label="Email address. Your receipt will be emailed here."\n      />\n\n      <div class="eg-contact-consent eg-checkbox-input">\n        <sc-consent\n          data-opt-in="MODEL.opt_in"\n          name="opt_in"\n          data-show="!campaign.current.hide_contact_opt_in"\n          data-language="MODEL.opt_in_wording"\n        ></sc-consent>\n      </div>\n    </div>\n\n    \x3c!-- phone --\x3e\n    <div class="eg-flex eg-flex-col eg-pt3">\n      <label class="eg-paragraph required eg-pb1">\n        Phone Number <span data-ng-if="::isPhoneNumberRequired" class="eg-error">*</span>\n      </label>\n      <input\n        type="tel"\n        inputmode="numeric"\n        name="member_phone"\n        data-ng-model="MODEL.member_phone"\n        data-ng-required="::isPhoneNumberRequired"\n        data-sc-validate-phone\n        data-sc-retain-focus-validity\n        class="eg-input eg-input__text"\n        aria-label="phone number, numbers only"\n      />\n      <div aria-live="polite" role="alert">\n        <span class="donation-error" data-sc-form-error="show if member_phone fails phoneNumber">\n          Please enter a valid phone number.\n        </span>\n      </div>\n    </div>\n\n    \x3c!-- custom questions --\x3e\n    <eg-custom-questions\n      data-ng-show="showCustomQuestions() && eg.donationStep === \'contact\'"\n      data-parent-form="FORM"\n    ></eg-custom-questions>\n  </div>\n\n  <div class="eg-flex eg-pb2 eg-pt3">\n    <button\n      id="eg-btn-donation-contact"\n      data-ng-disabled="!isValid()"\n      data-ng-click="goDonationPaymentMethods()"\n      class="eg-btn eg-btn--stretch eg-background-darkest"\n      type="button"\n    >\n      Continue\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-dtd",'<div class="eg-flex eg-flex-col" data-ng-controller="EmbeddedGivingDonationDoubleTheDonationCtrl">\n  <div class="eg-flex-row eg-flex--valign eg-px2 eg-py3 eg-interact">\n    <div class="eg-drawer-toggle-icon" data-ng-click="eg.dtd.toggle()">\n      <img sc-cdn-src="{{::EmbeddedGivingPaths.images.employeeMatching}}" />\n    </div>\n    <div class="eg-drawer-toggle-text eg-px2" data-ng-click="eg.dtd.toggle()">\n      <h4 class="eg-paragraph eg-bold">Employer matching</h4>\n    </div>\n    <div class="eg-drawer-toggle-edit">\n      <div class="eg-drawer-toggle-input-toggle">\n        <span data-sc-toggle="eg.dtd.isActive"></span>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- dtd: label --\x3e\n  <div\n    data-ng-if="eg.dtd.isActive"\n    class="eg-flex-row eg-pb2 eg-px2 eg-paragraph-sm"\n    tabindex="{{ eg.dtd.isActive ? 0 : -1 }}"\n  >\n    Check to see if your employer will match your donation. You may receive an email on how to\n    submit your match request to maximize your impact.\n  </div>\n  \x3c!-- dtd: search typeahead (select company) --\x3e\n  <div\n    data-ng-show="eg.dtd.isActive"\n    data-heap-ignore="true"\n    class="eg-flex-row eg-flex--stretch eg-mb4 eg-px2 eg-dtd-search"\n    tabindex="{{ eg.dtd.isActive ? 0 : -1 }}"\n  >\n    <div id="dd-company-name-input"></div>\n    <script>\n      var DDCONF = {API_KEY: SC.organization.doubleTheDonationChannel.publicKey};\n    <\/script>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-options",'\x3c!-- Second view in donation flow, visible by all payment processor configurations but Google Pay (which autofills) --\x3e\n<div\n  data-ng-controller="EmbeddedGivingDonationOptionsCtrl"\n  data-ng-keydown="processKeydownEventDonationOptions($event)"\n  class="eg-container eg-flex-col eg-flex--between"\n>\n  <div data-ng-controller="frsDonationDonorCtrl" class="eg-flex1">\n    \x3c!-- back nav + header --\x3e\n    <div class="eg-flex-row eg-flex--valign eg-nav">\n      \x3c!-- back arrow navigation (if full address not required)--\x3e\n      <div class="eg-flex eg-interact eg-pr2" data-ng-click="goDonationRoot()" tabindex="0">\n        <i class="fa fa-long-arrow-left"></i>\n      </div>\n\n      <div class="eg-flex-1 eg-flex--center">\n        \x3c!-- custom styles margin left exact width of above arrow + padding right --\x3e\n        <div class="eg-paragraph text-center eg-nav__label">Donor Options</div>\n      </div>\n    </div>\n\n    \x3c!-- donation-amount-hero --\x3e\n    <div\n      class="eg-flex-col eg-flex--center eg-px4 eg-py3 eg-mb3 eg-border-round2 eg-background-off-white"\n    >\n      \x3c!-- Donation frequency --\x3e\n      <div class="eg-flex-row eg-paragraph-sm eg-bold6">\n        {{MODEL.frequency | capitalize}}&nbsp;donation\n      </div>\n      \x3c!-- Donation currency and amount --\x3e\n      <div class="eg-flex-row eg-flex--valign">\n        <div class="eg-headline eg-bold">\n          {{ getDonationAmountRaw() | scFormatCurrency:MODEL.payment.raw_currency_code:2}}&nbsp;\n        </div>\n        <div class="eg-paragraph-sm">{{MODEL.payment.raw_currency_code}}</div>\n      </div>\n    </div>\n\n    <div class="eg-paragraph-sm eg-text-center eg-text-mono-lighter eg-pb1">\n      Continue or customize with these options\n    </div>\n\n    \x3c!-- body of options --\x3e\n    <div class="eg-flex-col">\n      \x3c!-- program designation --\x3e\n      <eg-program-designation\n        data-ng-if="!META.showPaymentDetails"\n        parent-model="MODEL"\n        tabindex="0"\n      ></eg-program-designation>\n\n      \x3c!-- donation dedication --\x3e\n      <eg-donation-dedication\n        data-ng-if="!META.showPaymentDetails"\n        parent-model="MODEL"\n        tabindex="0"\n      ></eg-donation-dedication>\n\n      \x3c!--donation comment --\x3e\n      <div data-ng-include="::EmbeddedGivingPaths.partials.comment" tabindex="0"></div>\n\n      \x3c!-- conditionally include double the donation (dtd) --\x3e\n      <div\n        data-ng-if="eg.dtd.isEnabled"\n        data-ng-include="::EmbeddedGivingPaths.partials.donationDtD"\n        tabindex="0"\n      ></div>\n    </div>\n  </div>\n  <div class="eg-flex eg-pb2 eg-pt3">\n    <button\n      id="eg-btn-donation-options"\n      data-ng-click="goDonationContact()"\n      class="eg-btn eg-btn--stretch eg-background-darkest"\n      type="button"\n    >\n      Continue\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-payment-methods",'<div\n  data-ng-include="::EmbeddedGivingPaths.pay.root"\n  data-ng-controller="EmbeddedGivingDonationCtrl"\n  class="eg-container"\n></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-recurring-nudge",'<div data-ng-controller="EmbeddedGivingDonationRecurringNudgeCtrl" class="eg-container">\n  <div class="eg-flex-row eg-flex--valign eg-nav">\n    \x3c!-- back arrow navigation --\x3e\n    <div data-ng-click="goDonationRoot()" class="eg-flex eg-interact eg-nav__back">\n      <i class="fa fa-long-arrow-left"></i>\n    </div>\n    <div class="eg-flex-1 eg-flex--center">\n      \x3c!-- custom styles margin left exact width of above arrow + padding right --\x3e\n      <div class="eg-paragraph text-center eg-nav__label">Give Monthly</div>\n    </div>\n  </div>\n  <eg-recurring-nudge\n    parent-model="MODEL"\n    current-amount="MODEL.items[0].raw_final_price"\n    currency="MODEL.payment.raw_currency_code"\n    current-frequency="MODEL.frequency"\n    color-primary="eg.primaryColor"\n    color-background="eg.accentColor"\n    class="eg-recurring-nudge-container"\n  >\n  </eg-recurring-nudge>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.donation-root","\x3c!-- COPY PASTE FROM donation-first --\x3e\n\x3c!-- First view in donation flow, visible by all payment processor configurations --\x3e\n\x3c!-- I struggled with naming this file. --\x3e\n\x3c!-- It was named a lot of things like , and while unorthodox naming... --\x3e\n\x3c!-- I ended up going with 'first' because I feel it's self-defining and easy to remember --\x3e\n\n\x3c!-- NOTE: ng-if vs ng-hide matters. ng-if removes from DOM, so controllers won't initialize (you can get granular with init flow through this) --\x3e\n\x3c!-- ng-hide doesn't remove it from DOM, simply display:none's it. so controller is still initialized --\x3e\n\n\x3c!-- Second view in donation flow, visible by all payment processor configurations but Google Pay (which autofills) --\x3e\n\x3c!-- This is essentialy 2 views... --\x3e\n"+'<div data-ng-controller="EmbeddedGivingDonationCtrl" data-ng-keydown="processKeydownEventDonationRoot($event)"\n  class="eg-container eg-flex-col eg-flex--between">\n  <div class="eg-flex1">\n    \x3c!-- PaymentA header (which is either logo OR headline, prioritize logo) --\x3e\n    <div data-ng-if="!META.showPaymentDetails" class="eg-flex-col eg-pt9">\n      <div data-ng-if="eg.logoUrl()" class="eg-flex-row eg-flex--center eg-pb6">\n        <img class="eg-logo" data-ng-src="{{eg.logoUrl()}}" />\n      </div>\n      <div data-ng-if="!eg.logoUrl()" class="eg-pb6">\n        <h1 data-ng-bind-html="getHeadlineTrustedHtml()" class="eg-headline eg-text-center eg-bold7"></h1>\n      </div>\n    </div>\n\n    \x3c!-- paymentDetails nav back + headline --\x3e\n    <div data-ng-if="META.showPaymentDetails" class="eg-flex-row eg-flex--valign eg-nav">\n      \x3c!-- back arrow navigation --\x3e\n      <div data-ng-click="goDonationRoot()" class="eg-flex eg-interact eg-nav__back">\n        <i class="fa fa-long-arrow-left"></i>\n      </div>\n      <div class="eg-flex-1 eg-flex--center">\n        \x3c!-- custom styles margin left exact width of above arrow + padding right --\x3e\n        <div class="eg-paragraph text-center eg-nav__label">\n          Payment\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- eg donation details = frequency / currency / donation amount --\x3e\n    \x3c!-- data-ng-show="!META.showPaymentDetails"  --\x3e\n    <div data-ng-controller="frsDonationAmountCtrl">\n      <eg-donation-details amount="MODEL.items[0].raw_final_price" donation-context="CONTEXT"\n        frequency="MODEL.frequency" setting-page-frequency="MODEL.frequency" iaa-state="IAAState"\n        iaa="IntelligentAsk"\n        frequency-levels="DonationBlock.current[\'recurring-level\']" levels="state.levels"\n        recurring-donation-levels="state.recurringDonationLevels" recur_until="MODEL.recur_until"\n        previous-frequency-price="MODEL.items[0].previous_frequency_price" new-amount="MODEL.items[0].raw_final_price"\n        currency="MODEL.payment.raw_currency_code">\n      </eg-donation-details>\n    </div>\n  </div>\n\n  <div class="eg-pb2">\n    <eg-root-donate-button parent-model="MODEL" global-state="globalState" amount-getter="getDonationAmountRaw()"\n      on-click-handler="shouldShowRecurringNudge() ? goDonationRecurringNudge() : goDonationOptions()"\n      is-disabled="!getDonationAmountRaw() || getDonationAmountRaw() < 1"></eg-donate-button>\n  </div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/views/partials/eg.views.partials.faq-overlay",'<div class="eg-faq eg-drawer eg-px6" data-ng-class="{\'is-open\': eg.faqOverlay.isOpened()}">\n  <div class="eg-drawer-content">\n    <div data-ng-include="::EmbeddedGivingPaths.views.faq"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/tooltips/bacon",'<div class="create-flow extra-padding">\n  <i class="ci ci-piggy create-flow_bacon-icon"></i>\n\n  <h2 class="create-flow_success-title">Just so you know&hellip;</h2>\n\n  <p class="create-flow_success-message">\n    Get fundraising tips. Thank your donors. Update your friends &amp; family on your fundraising\n    progress.\n  </p>\n\n  <button\n    type="button"\n    class="create-flow_success-button"\n    data-ng-click="bigTip.close()"\n    data-ng-style="{ \'background-color\': bigTip.primaryColor }"\n  >\n'+"    OK {{$ctrl.currentPage.is_tribute ? '' : ', Cool'}}\n  </button>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/auth/views/template",'<div class="auth-modal" tabindex="0" aria-label="Sign in to your account">\n  <div class="auth-modal_main">\n    <div\n      class="classy-login-iframe"\n      data-original_url="{{original_url}}"\n      data-flow="{{authFlow}}"\n      data-org_id="{{orgId}}"\n      data-campaign_id="{{campaignId}}"\n      data-password_reset_code="{{password_reset_code}}"\n      data-member_id="{{member_id}}"\n      data-is_angularjs_mode="{{is_angularjs_mode}}"\n      data-state="{{state}}"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/auth-switch",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <h2 class="create-flow_title">Welcome!</h1>\n\n  <div class="create-flow_switch-container">\n\n    <button class="create-flow_button half"\n    data-ng-click="login()"\n    data-ng-style="{ \'background-color\': ui.primaryColor }">\n      Sign in\n    </button>\n\n    <button class="create-flow_button half"\n    data-ng-click="signup()"\n    data-ng-style="{ \'background-color\': ui.primaryColor }">\n      Sign Up\n    </button>\n\n  </div>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/details",'<div class="create-flow" data-ng-class="{processing: ui.processing}">\n  <h2 id="modal-dialog-label" class="create-flow_title">Create your team</h2>\n\n  <form\n    class="create-flow_form"\n    novalidate\n    name="create_team_details"\n    data-sc-submit="next()"\n    data-sc-submit-error-function="showFormError"\n  >\n    \x3c!-- Name --\x3e\n\n    <div class="create-flow_field">\n      <label class="create-flow_label required" for="teamNameInput">Team name</label>\n      <div class="create-flow_input-wrap">\n        <input\n          class="create-flow_input"\n          name="team_name"\n          id="teamNameInput"\n          type="text"\n          required\n          placeholder="Name your team"\n          data-ng-model="team.current.name"\n          data-sc-validate-team-name="campaign.current.id"\n          sc-retain-focus-validity\n          aria-label="Name your team"\n        />\n        <span\n          class="create-flow_input-valid"\n          ng-style="{ opacity: create_team_details.team_name.$valid ? 1 : 0 }"\n        >\n          <i\n            class="fa fa-check-circle create-flow_input-valid-icon"\n            data-ng-style="{color: ui.primaryColor}"\n          ></i>\n        </span>\n        <span\n          class="create-flow_input-invalid"\n          ng-style="{ opacity: !create_team_details.team_name.$validOnFocus && create_team_details.team_name.$invalid ? 1 : 0 }"\n        >\n          <i class="fa fa-times-circle create-flow_input-invalid-icon"></i>\n        </span>\n      </div>\n    </div>\n\n    \x3c!-- Goal --\x3e\n    <div class="create-flow_field" ng-if="campaign.current.teams_can_set_goal">\n      <label class="create-flow_label required" id="goalLabel"> Set Team Fundraising Goal </label>\n      <div class="form__label">\n        <span class="sub-label"\n          >Currency cannot be changed once a donation to your team has been made.</span\n        >\n      </div>\n      <div class="create-flow_input-wrap currency-picker" ng-class="{\'has-focus\': ui.inputFocus}">\n        <div\n          sc-currency-picker\n          currency-entity="team.current"\n          currency-model="team.current.raw_currency_code"\n          aria-label="Set currency for team fundraising goal"\n        ></div>\n        <input\n          class="create-flow_currency-input"\n          name="goal"\n          aria-labelledBy="goalLabel"\n          type="text"\n          required\n          data-sc-currency\n          data-symbol=""\n          placeholder="{{ campaign.current.default_team_goal }}"\n          data-ng-focus="ui.inputFocus = true"\n          data-ng-blur="ui.inputFocus = false"\n          data-ng-model="team.current.goal"\n          min="1"\n        />\n\n        <span\n          class="create-flow_input-valid"\n          ng-style="{ opacity: create_team_details.goal.$validOnFocus || create_team_details.goal.$valid ? 1 : 0 }"\n        >\n          <i\n            class="fa fa-check-circle create-flow_input-valid-icon"\n            data-ng-style="{color: ui.primaryColor}"\n          ></i>\n        </span>\n\n        <span\n          class="create-flow_input-invalid"\n          ng-style="{ opacity: !create_team_details.goal.$validOnFocus && create_team_details.goal.$invalid ? 1 : 0 }"\n        >\n          <i class="fa fa-times-circle create-flow_input-invalid-icon"></i>\n        </span>\n      </div>\n      <div class="create-flow_invalid-msg">\n        <span\n          class="form_error"\n          ng-show="!create_team_details.goal.$validOnFocus && create_team_details.goal.$error.parse"\n        >\n          Please enter a valid dollar amount.\n        </span>\n        <span\n          class="form_error"\n          ng-show="!create_team_details.goal.$validOnFocus && create_team_details.goal.$error.required"\n        >\n          Please enter a goal.\n        </span>\n      </div>\n    </div>\n\n    \x3c!-- Description --\x3e\n    <div class="create-flow_field" ng-if="campaign.current.teams_can_set_appeal">\n      <label class="create-flow_label required" id="appealLabel">Team Page Headline</label>\n      <div class="create-flow_textarea-wrap" aria-labelledBy="appealLabel" aria-required="true">\n        <textarea\n          class="create-flow_textarea"\n          name="appeal"\n          required\n          data-ng-model="team.current.description"\n          data-froala="froalaOptions"\n        >\n        </textarea>\n      </div>\n    </div>\n\n    \x3c!-- Vanity Url --\x3e\n    <div class="create-flow_field" aria-live="polite">\n      <label class="create-flow_label" for="vanityUrlField"\n        >Set your Team Page\'s Short URL <span aria-hidden="true">(optional)</span></label\n      >\n      <vanity-url-field\n        campaign-id="campaign.current.id"\n        entity-type="\'fundraising-teams\'"\n        name="\'customUrl\'"\n        label="\'\'"\n        model="$parent.custom_url"\n        required="false"\n        placeholder="\'Start typing\'"\n      >\n      </vanity-url-field>\n    </div>\n\n    <sc-consent\n      data-show="!campaign.current.hide_contact_opt_in"\n      data-opt-in="optIn.opted_in"\n      data-language="optIn.opt_in_wording"\n      name="opted_in"\n    ></sc-consent>\n\n    \x3c!-- Next --\x3e\n\n    <button\n      class="create-flow_button"\n      type="submit"\n      data-ng-class="{disabled: !create_team_details.$valid || create_team_details.$pending}"\n      data-ng-style="{ \'background-color\': ui.primaryColor }"\n      data-ng-disabled="!create_team_details.$valid"\n    >\n      Create Team\n    </button>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner" data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/fundraising-page-questions",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <div id="modal-dialog-label">\n    <h2 class="create-flow_title">Fundraising Page Questions</h1>\n    <p class="create-flow_info">Please tell us a little more about yourself.</p>\n  </div>\n\n  <form class="create-flow_form"\n  novalidate\n  name="create_fundraising_page_questions"\n  id="create_fundraising_page_questions"\n  data-sc-submit="next()"\n  data-sc-submit-error-function="showFormError">\n\n    <div class="create-flow_form-field"\n    data-ng-repeat="fundraising_page_questions in fundraisingPageQuestions"\n    data-sc-custom-fields="fundraising_page_questions"\n    data-model-prefix="\'fundraising_page_answers.qid_\'"\n    data-label-class="\'create-flow\'"\n    data-form-name="\'create_fundraising_page_questions\'"></div>\n\n    <div ng-include="clientQuestionsTpl"></div>\n\n    <button class="create-flow_button"\n    type="submit"\n    data-ng-class="{ disabled: questionsDisabled(\'page\') }"\n    data-ng-style="{ \'background-color\': ui.primaryColor }"\n    data-ng-disabled="questionsDisabled(\'page\')">\n      {{ ui.isFinalView ? "Finish" : "Next" }}\n    </button>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner"\n      data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n  </form>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/logo-switch",'<div class="create-flow" data-ng-class="{processing: ui.processing}">\n  <h2 id="modal-dialog-label" class="create-flow_title">Upload your photo</h2>\n\n  <div class="create-flow_switch-container">\n    <button\n      class="create-flow_switch-button"\n      data-ng-click="$root.flowModal.to(\'indiv.logo.mediaManager\', \'slideLeft\')"\n    >\n      <i class="fa fa-desktop create-flow_switch-button-icon"></i>\n      <p class="create-flow_switch-button-label">From Device</p>\n    </button>\n\n    <button class="create-flow_switch-button" data-ng-click="getFacebookProfilePic()">\n      <i class="fa fa-facebook-official create-flow_switch-button-icon"></i>\n      <p class="create-flow_switch-button-label" aria-label="Facebook profile photo">\n        Profile Photo\n      </p>\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/logo",'<div class="create-flow" data-ng-class="{processing: ui.processing}">\n  <h2 id="modal-dialog-label" class="create-flow_title">Choose team photo</h2>\n\n  <form\n    class="create-flow_form"\n    novalidate\n    name="create_team_logo"\n    data-sc-submit="next()"\n    data-sc-submit-error-function="showFormError"\n  >\n    <div class="create-flow_logo">\n      \x3c!-- Chosen logo image --\x3e\n      <img\n        class="create-flow_logo-chosen"\n        data-ng-if="team.current.logo"\n        data-ng-click="flowModal.to(\'team.logo.mediaManager\', \'slideLeft\')"\n        data-ng-src="{{team.current.logo.src}}"\n        tabindex="0"\n        alt="{{team.current.logo.alt || \'A photo or image to represent your team\'}}"\n      />\n\n      \x3c!-- If no chosen image fall back to default logo from theme --\x3e\n      <img\n        class="create-flow_logo-default"\n        data-ng-if="!team.current.logo && block.current.defaultTeamLogo"\n        data-ng-click="flowModal.to(\'team.logo.mediaManager\', \'slideLeft\')"\n        data-ng-src="{{block.current.defaultTeamLogo.src}}"\n        tabindex="0"\n        alt="{{block.current.defaultTeamLogo.alt || \'A photo or image to represent your team\'}}"\n      />\n\n      \x3c!-- If no default logo fall back to empty box --\x3e\n      <div\n        class="create-flow_logo-empty"\n        tabindex="0"\n        role="button"\n        data-ng-if="!team.current.logo && !block.current.defaultTeamLogo"\n        data-ng-click="flowModal.to(\'team.logo.mediaManager\', \'slideLeft\')"\n        data-ng-keydown="flowModal.to(\'team.logo.mediaManager\', \'slideLeft\', null, null, $event)"\n      >\n        <i class="ci ci-add-media create-flow_logo-default"></i>\n        <p class="create-flow_logo-empty-instruction">Click to upload</p>\n        <p class="create-flow_logo-empty-info">300 x 300</p>\n      </div>\n\n      \x3c!-- Loading spinner --\x3e\n      <div class="create-flow_logo-loading" data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n    \x3c!-- Bypass (if no logo selected) --\x3e\n\n    <p class="create-flow_bypass" data-ng-if="!team.current.logo && !block.current.defaultTeamLogo">\n      <a class="create-flow_bypass-link" data-ng-click="next()" href="#"\n        >Skip this step, I\'ll do this later.</a\n      >\n    </p>\n\n    \x3c!-- Next (if logo selected) --\x3e\n\n    <div\n      class="create-flow_buttons-container"\n      data-ng-if="team.current.logo || block.current.defaultTeamLogo"\n    >\n      <button\n        class="create-flow_button half hollow"\n        data-ng-click="flowModal.to(\'team.logo.mediaManager\', \'slideLeft\')"\n        type="button"\n      >\n        Change\n      </button>\n\n      <button\n        class="create-flow_button half"\n        data-ng-style="{ \'background-color\': ui.primaryColor }"\n        type="submit"\n      >\n        Continue\n      </button>\n    </div>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner" data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/questions",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <div id="modal-dialog-label">\n    <h2 class="create-flow_title">Team Questions</h1>\n    <p class="create-flow_info">Please tell us a little more about yourself.</p>\n  </div>\n\n  <form class="create-flow_form"\n  novalidate\n  name="create_team_questions"\n  id="create_team_questions"\n  data-sc-submit="next()"\n  data-sc-submit-error-function="showFormError">\n\n    <div class="create-flow_form-field"\n    data-ng-repeat="question in questions"\n    data-sc-custom-fields="question"\n    data-model-prefix="\'answers.qid_\'"\n    data-label-class="\'create-flow\'"\n    data-form-name="\'create_team_questions\'"></div>\n\n    <div ng-include="clientQuestionsTpl"></div>\n\n    <button class="create-flow_button"\n    type="submit"\n    data-ng-class="{ disabled: questionsDisabled(\'team\') }"\n    data-ng-style="{ \'background-color\': ui.primaryColor }"\n    data-ng-disabled="questionsDisabled(\'team\')">\n      {{ ui.isFinalView ? "Finish" : "Next" }}\n    </button>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner"\n      data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n  </form>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/select-program-designation",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <div id="modal-dialog-label">\n    <h2 class="create-flow_title">Program Designation</h1>\n  </div>\n\n  <form class="create-flow_form"\n  novalidate\n  name="create_team_program_designation"\n  id="create_team_questions"\n  data-sc-submit="next()"\n  data-sc-submit-error-function="showFormError">\n\n    \x3c!-- Program Designations --\x3e\n    <div class="create-flow_form-field clear-fix">\n        <label class="create-flow_label required" id="designationLabel">What would you like your fundraising to support?</label>\n        <program-designation-field\n            field-option-settings="designationOptions"\n            model="team.current.designation_id"\n            entity="campaign.current"\n            selected-id="campaign.current.designation_id"\n            form-name="create_indiv_details"\n            aria-required="true"\n            aria-labelledby="designationLabel">\n        </program-designation-field>\n    </div>\n    <button class="create-flow_button"\n    type="submit"\n    data-ng-style="{ \'background-color\': ui.primaryColor }"\n    >\n      {{ ui.isFinalView ? "Finish" : "Next" }}\n    </button>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner"\n      data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n  </form>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/subteams",'<div class="create-flow" data-ng-class="{processing: ui.processing}">\n  <form\n    class="create-flow_form"\n    novalidate\n    name="create_team_details"\n    data-sc-submit="next()"\n    data-sc-submit-error-function="showFormError"\n  >\n    \x3c!-- Parent team attribution --\x3e\n    <div class="create-flow_form-field">\n      <span class="create-flow_label"> Should this team be a sub-team of another team? </span>\n      <select\n        class="form_select"\n        data-ng-model="team.current.parent_id"\n        data-ng-options="team.id as team.name for team in allTeams"\n        name="team-policy-type"\n      >\n        <option value="">None Selected</option>\n      </select>\n    </div>\n\n    \x3c!-- Subteam creation under this team --\x3e\n    <div ng-if="displaySubteamOptions" class="create-flow_field">\n      <span class="create-flow_label">Would you like to allow sub-teams to register?</span>\n\n      <radio-control\n        ng-model="team.current.team_policy.allow_subteams"\n        name="\'team-policy-allow-subteams\'"\n        value="true"\n        >Yes\n      </radio-control>\n      <radio-control\n        ng-model="team.current.team_policy.allow_subteams"\n        name="\'team-policy-allow-subteams\'"\n        value="false"\n        >No\n      </radio-control>\n    </div>\n\n    <div class="create-flow_buttons-container">\n      <button\n        class="create-flow_button"\n        data-ng-style="{ \'background-color\': ui.primaryColor }"\n        type="submit"\n      >\n        Continue\n      </button>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/success",'<div class="create-flow extra-padding">\n  <i\n    class="fa fa-check-circle-o create-flow_success-icon"\n    data-ng-style="{ color: ui.primaryColor }"\n  ></i>\n  <h2 class="create-flow_success-title">Team Created</h2>\n  <p class="create-flow_success-message">Nice work! Way to go.</p>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-team/views/wait",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <h2 class="create-flow_title">Please wait ...</h1>\n\n  <div class="create-flow_waiting">\n    <div class="create-flow_waiting-spinner" \n    data-ng-style="{color: ui.primaryColor}"></div>\n  </div>\n\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/fundraise-switch/views/browse-teams",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing, teamsLoading: ui.teamsLoading, noTeams: !teams.length}">\n\n  \x3c!-- Header, navigation, sorting, filtering --\x3e\n\n  <h2 id="modal-dialog-label" class="create-flow_title">Join a team</h2>\n  \n  <p id="modal-dialog-description" class="create-flow_description">Please search by Team Captain or the Team name to find a team to join.</p>\n\n  <div class="create-flow_search-options">\n    <select class="create-flow_select"\n    aria-describedBy="modal-dialog-description"\n    name="search-options"\n    data-ng-model="selectedOption"\n    data-ng-options="item.value as item.label for item in teamSearchOptions"\n    aria-label="Search team option"></select>\n\n    <input class="create-flow_text-input"\n    data-ng-show="selectedOption == \'team\'"\n    data-ng-model="teamQuery.queryString"\n    data-ng-model-options="{debounce: 500}"\n    data-ie-model-fix\n    placeholder="Search by team name"\n    qa-id="{{ scQaId.singleLineTextInput }}"\n    aria-label="Search by team name"/>\n\n    <input class="create-flow_text-input"\n    data-ng-show="selectedOption == \'team-captain\'"\n    data-ng-model="captainFirstNameQuery.queryString"\n    data-ng-model-options="{debounce: 500}"\n    data-ie-model-fix\n    placeholder="First Name"\n    qa-id="{{ scQaId.singleLineTextInput }}"\n    aria-label="First Name"/>\n\n    <input class="create-flow_text-input"\n    data-ng-show="selectedOption == \'team-captain\'"\n    data-ng-model="captainLastNameQuery.queryString"\n    data-ng-model-options="{debounce: 500}"\n    data-ie-model-fix\n    placeholder="Last Name"\n    qa-id="{{ scQaId.singleLineTextInput }}"\n    aria-label="Last Name"/>\n\n    <button class="create-flow_team-search-clear"\n    data-ng-click="clearTeamQuery()"\n    type="button">\n      <i class="ci ci-close-x create-flow_team-search-clear-icon"></i>\n    </button>\n  </div>\n\n  \x3c!-- Team list --\x3e\n\n  <div class="create-flow_teams">\n\n    <div class="create-flow_teams-loading"\n    data-ng-if="ui.teamsLoading">\n      <span class="create-flow_teams-loading-spinner"\n      data-ng-style="{ color: ui.primaryColor }"></span>\n    </div>\n\n    <div class="create-flow_teams-none"\n    tabIndex="0"\n    data-ng-if="teams.length == 0 && !ui.teamsLoading">\n      <p class="create-flow_teams-none-message">\n        No teams found.<br/>\n        <span data-ng-if="campaign.allow_team_fundraising">Want to <a class="create-flow_teams-none-link" href data-ng-click="createTeam()">create a new one?</a></span>\n      </p>\n    </div>\n\n    <a class="create-flow_team"\n    tabIndex="0"\n    data-ng-repeat="team in teams"\n    data-ng-click="joinTeam(team)"\n    data-ng-show="!ui.teamsLoading">\n\n      <img class="create-flow_team-image"\n      data-ng-src="{{ getTeamImage(team) }}"\n      alt="{{team.name}} image"></img>\n\n      <h2 class="create-flow_team-name">{{team.name}}</h2>\n      <span class="create-flow_team-meta captain" data-ng-if="ui.browsing">\n        {{ team.captain_name }}\n      </span>\n      <div data-sc-simple-progress\n      data-bc="\'create-flow\'"\n      data-goal="getTeamGoal(team)"\n      data-raised="getTeamProgress(team)"\n      data-raised-color="ui.primaryColor"></div>\n\n      <p class="create-flow_team-meta-box">\n        <span class="create-flow_team-meta">\n          {{ getTeamProgress(team) | number : 0 }}% raised\n        </span>\n        <span class="create-flow_team-meta">\n          {{team.total_fundraisers}} {{team.total_fundraisers === 1 ? \'member\' : \'members\'}}\n        </span>\n      </p>\n    </a>\n\n  </div>\n\n  <div class="create-flow_teams-pager"\n  data-sc-paging="getTeamsEndpoint"\n  data-ng-model="teams"\n  data-loading="ui.teamsLoading"\n  data-per-page="6"\n  data-sort="{ name: \'asc\' }"\n  data-filter="filter"\n  data-ui-show="!ui.teamsLoading">\n  </div>\n</div>\n\n\x3c!-- Footer --\x3e\n<div class="create-flow_footer">\n  <p class="create-flow_footer-message"\n  data-ng-if="team.length > 0">\n    Can\'t find what you\'re looking for?\n    <a class="create-flow_footer-link" href=""\n    data-ng-click="createTeam()">\n      Create a new team\n    </a>\n  </p>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/fundraise-switch/views/mode",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <h2 id="modal-dialog-label" class="create-flow_mode-title">Start fundraising</h1>\n\n  <div class="create-flow_mode"\n  data-ng-style="{ color: ui.primaryColor, \'border-color\': ui.primaryColor }">\n\n    <a role="button" class="create-flow_mode-button" href=""\n    data-ng-click="createIndiv()"\n    data-ng-if="!ui.disableIndividual" data-ng-class="ui.switching ? \'disabled\' : \'\'">\n      <i class="user-outline create-flow_mode-button-icon"></i>\n      <span class="create-flow_mode-button-message">As an individual</span>\n    </a>\n\n    <a role="button" class="create-flow_mode-button" href=""\n    data-ng-click="browseTeams()"\n    data-ng-if="!ui.disableJoinTeam"\n    data-ng-class="ui.switching ? \'disabled\' : \'\'">\n      <i class="join-team create-flow_mode-button-icon"></i>\n      <span class="create-flow_mode-button-message">Join a team</span>\n    </a>\n\n    <a role="button" class="create-flow_mode-button" href=""\n    data-ng-if="campaign.allow_team_fundraising"\n    data-ng-click="createTeam()"\n    data-ng-if="!ui.disableCreateTeam"\n    data-ng-class="ui.switching ? \'disabled\' : \'\'">\n      <i class="create-team create-flow_mode-button-icon"></i>\n      <span class="create-flow_mode-button-message">Create a team</span>\n    </a>\n\n  </div>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/join-team/views/join-team",'<div class="join-team" ng-class="{processing: loading}">\n  <h2 class="join-team_title">{{currentTeam.id ? \'Switch to this team?\' : \'Join this team?\'}}</h2>\n  <h3 class="join-team_subtitle">Hey {{fundraisingPage.alias}}!</h3>\n  <div class="join-team_avatars">\n    <img class="join-team_avatar" ng-src="{{fundraisingPage.logo.src ? fundraisingPage.logo.src : (fundraisingPage.logo.cdn_url ? fundraisingPage.logo.cdn_url : \'/static/global/images/individual_default_image.png\')}}" />\n    <i class="fa fa-arrow-right"></i>\n    <img class="join-team_avatar" ng-src="{{newTeam.logo.src ? newTeam.logo.src : (newTeam.logo.cdn_url ? newTeam.logo.cdn_url : \'/static/global/images/team_default_image.png\')}}" />\n  </div>\n  <p class="join-team_explainer-title">{{currentTeam.id ? \'Switching to\' : \'Joining\'}} this team means you will</p>\n  <p class="join-team_explainer" ng-if="currentTeam.id">\n    Leave {{currentTeam.name}}\n  </p>\n  <p class="join-team_explainer">\n    Move all your progress to {{newTeam.name}}\n  </p>\n  <p class="join-team_explainer">\n    Access this team from the Fundraiser Dashboard\n  </p>\n\n  <div class="join-team_button-container" ng-class="{hide: loading}">\n\n    <a href class="join-team_button cancel"\n      ng-click="$root.flowModal.close(false)">\n      Cancel\n    </button>\n\n    <a href class="join-team_button join"\n      ng-click="confirmJoin(teamId)"\n      ng-style="{ \'background-color\': ui.primaryColor }"\n      >\n      {{currentTeam.id ? \'Switch\' : \'Join\'}}\n    </a>\n\n  </div>\n\n  <div class="create-flow_processing">\n    <div class="create-flow_processing-spinner white"\n    data-ng-style="{color: ui.primaryColor}"></div>\n  </div>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/join-team/views/success",'<div class="join-team">\n  <h2 class="join-team_title">Welcome to the team!</h2>\n  <div class="join-team_avatars">\n    <img\n      class="join-team_avatar"\n      ng-src="{{fundraisingPage.logo.src ? fundraisingPage.logo.src : (fundraisingPage.logo.cdn_url ? fundraisingPage.logo.cdn_url : \'/static/global/images/individual_default_image.png\')}}"\n    />\n    <i class="fa fa-check-circle"></i>\n    <img\n      class="join-team_avatar"\n      ng-src="{{newTeam.logo.src ? newTeam.logo.src : (newTeam.logo.cdn_url ? newTeam.logo.cdn_url : \'/static/global/images/team_default_image.png\')}}"\n    />\n  </div>\n  <p class="join-team_explainer-title">You have joined {{newTeam.name}}</p>\n  <div class="join-team_button-container single">\n    <a\n      class="join-team_button join"\n      ng-click="flowModal.close(true)"\n      data-ng-style="{ \'background-color\': ui.primaryColor }"\n    >\n      Continue\n    </a>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/image/template",'<div class="media-manager_body" data-ng-controller="scMediaManagerImageCtrl">\n  <aside class="media-manager_sidebar">\n    <nav class="media-manager_sources">\n      <ul class="media-manager_sources-list">\n        <li class="media-manager_sources-item">\n          <a\n            class="media-manager_sources-link"\n            data-ng-class="{active: ui.image.source === \'upload\'}"\n            data-ng-click="ui.image.source = \'upload\'"\n            role="button"\n            href="#"\n            ng-attr-aria-pressed="{{ui.image.source === \'upload\'}}"\n          >\n            Upload Image\n          </a>\n        </li>\n        <li class="media-manager_sources-item">\n          <a\n            class="media-manager_sources-link"\n            data-ng-class="{active: ui.image.source === \'library\'}"\n            data-ng-click="ui.image.source = \'library\'"\n            role="button"\n            href="#"\n            ng-attr-aria-expanded="{{ui.image.source === \'library\'}}"\n          >\n            Search Library\n          </a>\n          <ul\n            class="media-manager_collections"\n            data-ng-class="{visible: ui.image.source === \'library\'}"\n          >\n            <li class="media-manager_collections-item">\n              <button\n                class="media-manager_collections-button"\n                data-ng-click="changeCollection(\'all\')"\n                data-ng-class="{active: ui.image.search.collection === \'all\'}"\n                ng-attr-aria-pressed="{{ui.image.search.collection === \'all\'}}"\n              >\n                All\n              </button>\n            </li>\n            <li class="media-manager_collections-item">\n              <button\n                class="media-manager_collections-button"\n                data-ng-click="changeCollection(\'education\')"\n                data-ng-class="{active: ui.image.search.collection === \'education\'}"\n                ng-attr-aria-pressed="{{ui.image.search.collection === \'education\'}}"\n              >\n                Education\n              </button>\n            </li>\n            <li class="media-manager_collections-item">\n              <button\n                class="media-manager_collections-button"\n                data-ng-click="changeCollection(\'health\')"\n                data-ng-class="{active: ui.image.search.collection === \'health\'}"\n                ng-attr-aria-pressed="{{ui.image.search.collection === \'health\'}}"\n              >\n                Health\n              </button>\n            </li>\n            <li class="media-manager_collections-item">\n              <button\n                class="media-manager_collections-button"\n                data-ng-click="changeCollection(\'humanRights\')"\n                data-ng-class="{active: ui.image.search.collection === \'humanRights\'}"\n                ng-attr-aria-pressed="{{ui.image.search.collection === \'humanRights\'}}"\n              >\n                Human Rights\n              </button>\n            </li>\n            <li class="media-manager_collections-item">\n              <button\n                class="media-manager_collections-button"\n                data-ng-click="changeCollection(\'nature\')"\n                data-ng-class="{active: ui.image.search.collection === \'nature\'}"\n                ng-attr-aria-pressed="{{ui.image.search.collection === \'nature\'}}"\n              >\n                Nature\n              </button>\n            </li>\n            <li class="media-manager_collections-item">\n              <button\n                class="media-manager_collections-button"\n                data-ng-click="changeCollection(\'poverty\')"\n                data-ng-class="{active: ui.image.search.collection === \'poverty\'}"\n                ng-attr-aria-pressed="{{ui.image.search.collection === \'poverty\'}}"\n              >\n                Poverty &amp; Hunger\n              </button>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </nav>\n\n    <div\n      class="media-manager_guide"\n      data-ng-class="{visible: ui.image.source === \'upload\'}"\n      data-ng-if="options.image.guide"\n    >\n      <div class="media-manager_guide-header">\n        <i class="fa fa-info-circle media-manager_guide-icon"></i>\n        <h2 class="media-manager_guide-title">{{:: options.image.guide.title }}</h2>\n      </div>\n      <p class="media-manager_guide-content">{{:: options.image.guide.message }}</p>\n      <dl class="media-manager_meta">\n        <dt class="media-manager_meta-key">Recommended Size</dt>\n        <dd class="media-manager_meta-value">{{:: options.image.guide.size }}</dd>\n        <dt class="media-manager_meta-key">Format</dt>\n        <dd class="media-manager_meta-value">\n          {{:: options.image.guide.format || \'JPG, PNG, GIF\' }}\n        </dd>\n      </dl>\n    </div>\n  </aside>\n\n  <div\n    class="media-manager_main"\n    data-ng-show="ui.image.source === \'upload\'"\n    data-ng-include="\'global/media/scMediaManager/image/upload/template\'"\n  ></div>\n\n  <div\n    class="media-manager_main"\n    data-ng-show="ui.image.source === \'library\'"\n    data-ng-include="\'global/media/scMediaManager/image/library/template\'"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/video/template","<aside class=\"media-manager_sidebar\">\n  <nav class=\"media-manager_sources\">\n    <ul class=\"media-manager_sources-list\">\n      <li class=\"media-manager_sources-item\">\n        <a\n          class=\"media-manager_sources-link\"\n          data-ng-class=\"{active: ui.video.source === 'link'}\"\n          data-ng-click=\"ui.video.source = 'link'\"\n        >\n          Link to Video\n        </a>\n      </li>\n      \x3c!-- <li class='media-manager_sources-item'>\n        <a class='media-manager_sources-link'\n        data-ng-class=\"{active: ui.video.source === 'library'}\"\n        data-ng-click=\"ui.video.source = 'library'\">\n          Search Library\n        </a>\n        <ul class='media-manager_collections'\n        data-ng-class=\"{visible: ui.video.source === 'library'}\">\n          <li class='media-manager_collections-item'>\n            <button class='media-manager_collections-button'\n            data-ng-click=\"activeCollection = 'all'\"\n            data-ng-class=\"{active: activeCollection === 'all'}\">All</button>\n          </li>\n          <li class='media-manager_collections-item'>\n            <button class='media-manager_collections-button'\n            data-ng-click=\"activeCollection = 'education'\"\n            data-ng-class=\"{active: activeCollection === 'education'}\">Education</button>\n          </li>\n          <li class='media-manager_collections-item'>\n            <button class='media-manager_collections-button'\n            data-ng-click=\"activeCollection = 'health'\"\n            data-ng-class=\"{active: activeCollection === 'health'}\">Health</button>\n          </li>\n          <li class='media-manager_collections-item'>\n            <button class='media-manager_collections-button'\n            data-ng-click=\"activeCollection = 'humanRights'\"\n            data-ng-class=\"{active: activeCollection === 'humanRights'}\">Human Rights</button>\n          </li>\n          <li class='media-manager_collections-item'>\n            <button class='media-manager_collections-button'\n            data-ng-click=\"activeCollection = 'nature'\"\n            data-ng-class=\"{active: activeCollection === 'nature'}\">Nature</button>\n          </li>\n          <li class='media-manager_collections-item'>\n            <button class='media-manager_collections-button'\n            data-ng-click=\"activeCollection = 'poverty'\"\n            data-ng-class=\"{active: activeCollection === 'poverty'}\">Poverty &amp; Hunger</button>\n          </li>\n        </ul>\n      </li> --\x3e\n    </ul>\n  </nav>\n\n  <div class=\"media-manager_guide\" data-ng-class=\"{visible: ui.video.source === 'link'}\">\n    <div class=\"media-manager_guide-header\">\n      <i class=\"fa fa-info-circle media-manager_guide-icon\"></i>\n      <h2 class=\"media-manager_guide-title\">Video</h2>\n    </div>\n    <p class=\"media-manager_guide-content\">\n      This video should capture the energy and spirit of your campaign.\n    </p>\n    <dl class=\"media-manager_meta\">\n      <dt class=\"media-manager_meta-key\">Source</dt>\n      <dd class=\"media-manager_meta-value\">YouTube, Vimeo</dd>\n    </dl>\n  </div>\n</aside>\n\n<div\n  class=\"media-manager_main\"\n  data-ng-show=\"ui.video.source === 'link'\"\n  data-ng-include=\"'global/media/scMediaManager/video/link/template'\"\n></div>\n\n\x3c!-- <div class='media-manager_main'\ndata-ng-show=\"ui.video.source === 'library'\"\ndata-ng-include=\"'global/media/scMediaManager/video/library/template'\"></div> --\x3e\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/ach/eg.pay.components.ach",'<div class="payment-ach-widget eg-flex-col">\n  \x3c!-- Routing number input --\x3e\n  <div>\n    <div class="eg-pb1 eg-paragraph required">\n      Routing Number&nbsp;<span class="eg-error">*</span>\n    </div>\n    <div>\n      <input\n        required\n        type="text"\n        name="routingNumber"\n        minlength="9"\n        maxlength="9"\n        placeholder="110000000"\n        data-ng-model="$ctrl.payment.routingNumber"\n        data-ng-data-focus="$ctrl.routingNumberFocus=true"\n        data-ng-blur="$ctrl.routingNumberFocus=false"\n        data-ng-mouseover="$ctrl.routingNumberHover=true"\n        data-ng-mouseleave="$ctrl.routingNumberHover=false"\n        data-tracked-element="donation-page_checkout_routing-number-input"\n        aria-labelledby="bank-account-routing-label"\n        data-sc-retain-focus-validity\n        class="routing-number-input eg-input"\n      />\n      \x3c!-- Routing number error messages --\x3e\n      <p\n        class="form__error"\n        data-sc-form-error="show if routingNumber fails minlength"\n        aria-live="polite"\n      >\n        Routing number must be 9 digits long.\n      </p>\n    </div>\n  </div>\n  \x3c!-- Account number input (uses ACH tokenizer component) --\x3e\n  <div class="eg-pt3">\n    <div class="eg-pb1 eg-paragraph required">\n      Account Number&nbsp;<span class="eg-error">*</span>\n    </div>\n    <div>\n      <eg-pay-ach-tokenizer\n        required\n        name="accountNumber"\n        data-ng-model="$ctrl.payment.accountNumber"\n        data-ng-mouseover="$ctrl.accountNumberHover=true"\n        data-ng-mouseleave="$ctrl.accountNumberHover=false"\n        sc-validity-reporter="accountNumber"\n        on-focus="$ctrl.onAccountNumberFocus"\n      >\n      </eg-pay-ach-tokenizer>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/ach/eg.pay.components.ach.tokenizer",'<div\n  id="accountNumberContainer"\n  aria-labelledby="bank-account-routing-label"\n  data-tracked-element="donation-page_checkout_account-number-input"\n  class="cp-ach-tokenizer-control__iframe eg-input {{$ctrl.isLoading ? \'loading\' : \'\'}} {{$ctrl.showErrorMsg ? \'sc-form-error\' : \'\'}}"\n  data-sc-form-error="highlight if accountNumber fails"\n>\n  <div\n    id="account-number-iframe-container"\n    data-ng-style="{display: $ctrl.isLoading ? \'none\' : \'block\'}"\n  ></div>\n  <span class="cp-ach-tokenizer__status-loading" aria-hidden="true"></span>\n</div>\n<p\n  data-ng-hide="$ctrl.showErrorMsg"\n  data-sc-form-error="show if accountNumber fails customRegEx"\n  class="form__error"\n  aria-live="polite"\n>\n  {{$ctrl.errorMsgs[\'customRegEx\']}}\n</p>\n<p\n  data-ng-hide="$ctrl.showErrorMsg"\n  data-sc-form-error="show if accountNumber fails format"\n  class="form__error"\n  aria-live="polite"\n>\n  {{$ctrl.errorMsgs[\'format\']}}\n</p>\n<p\n  data-ng-hide="$ctrl.showErrorMsg"\n  data-sc-form-error="show if accountNumber fails required"\n  class="form__error"\n  aria-live="polite"\n>\n  {{$ctrl.errorMsgs[\'required\']}}\n</p>\n<p\n  data-ng-if="$ctrl.showErrorMsg"\n  data-sc-form-error="hide if accountNumber fails"\n  data-ng-bind="$ctrl.errorMessage"\n  class="form__error"\n  aria-live="polite"\n></p>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/digital-wallets/eg.pay.components.digital-wallets",'<div data-ng-if="$ctrl.showDigitalWallets">\n  <button\n    type="button"\n    data-ng-click="$ctrl.openDWModal()"\n    role="link"\n    data-id="{{$ctrl.dataId}}"\n    data-tracked-element="donation-page_checkout_digital-wallet"\n    class="digital-wallets-btn {{$ctrl.payType | lowercase | scSlugify}}"\n    aria-label="Donate With {{$ctrl.payType}}"\n  >\n    <img data-ng-src="{{$ctrl.payLogo}}" alt="{{$ctrl.payType}}" />\n  </button>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/plaid/eg.pay.components.plaid",'<button\n  data-id="paymethod-ach"\n  data-ng-show="$ctrl.model.status !== $ctrl.constants.STATUS.INACTIVE"\n  type="button"\n  tabindex="0"\n  data-ng-click="$ctrl.openPlaidDialog()"\n  data-tracked-element="donation-page_checkout_ach-plaid-btn"\n  class="eg-btn eg-pay-btn eg-btn--stretch"\n>\n  <div class="eg-flex-row eg-flex--valign eg-flex--center">\n    <div class="eg-mr1">Bank Transfer</div>\n    <img sc-cdn-src="{{$ctrl.EmbeddedGivingPaths.images.achLogo}}" class="eg-pay-icon" />\n  </div>\n</button>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/credit-card/eg.pay.components.credit-card","<div\n  class=\"cp-credit-card\"\n  data-ng-class=\"{\n        'details-mode': $ctrl.mode === 'details', \n        'details-mode-visited': $ctrl.modeChanged, \n        'loaded': $ctrl.loaded, 'has-postal': !$ctrl.hidePostal, \n        'is-amex': $ctrl.payment.brand === 'americanExpress' }\"\n>\n"+'  <form-label data-ng-hide="$ctrl.hideLabel" required="true" _spec="label"\n    >{{::$ctrl.label}}</form-label\n  >\n\n  <ng-form name="$ctrl.form" sc-validity-reporter="$ctrl.formName" class="cp-credit-card-form">\n    <div class="cp-credit-card__frame" data-ng-class="{ error: $ctrl.numberInvalid }" _spec="frame">\n      <div class="cp-credit-card__carousel">\n        <div class="cp-credit-card__number">\n          <div class="donation-label required">\n            Card Number&nbsp;<span class="eg-error">*</span>\n          </div>\n          <div id="cc-entry-el" class="sr-only" tabindex="-1" aria-hidden="true">\n            tab to enter credit card field\n          </div>\n\n          <eg-pay-credit-card-tokenizer\n            data-ng-model="$ctrl.payment.token"\n            cmd-event="\'tokenizer\'"\n            on-valid="$ctrl.handleValidCard(brand, lastFour)"\n            on-token="$ctrl.handleToken(token)"\n            on-reset="$ctrl.handleReset()"\n            name="token"\n            card-brand="$ctrl.payment.brand"\n            sc-autofocus="1"\n            sc-validity-reporter\n            required\n          ></eg-pay-credit-card-tokenizer>\n        </div>\n\n        <div class="cp-credit-card__details">\n          <button\n            type="button"\n            data-ng-click="$ctrl.userChangeMode(\'number\')"\n            class="cp-credit-card__go-to-number"\n            aria-label="go back to {{ $ctrl.payment.brand }} payment card number field for payment"\n          >\n            \x3c!-- Brand icon --\x3e\n            <span data-ng-bind-html="$ctrl.brandIcon()" class="cp-credit-card__brand"></span>\n\n            \x3c!-- Last four --\x3e\n            <span class="cp-credit-card__last-four">{{ $ctrl.payment.lastFour || \'1234\' }}</span>\n          </button>\n\n          <span\n            class="sr-only"\n            aria-label="your current payment card brand is {{ $ctrl.payment.brand }} with the last four digits {{ $ctrl.payment.lastFour }}"\n            aria-live="polite"\n          ></span>\n        </div>\n      </div>\n    </div>\n    <div class="cp-credit-card-field-box" data-ng-class="{ error: $ctrl.expirationDateInvalid }">\n      <span class="donation-label required">Expiration Date</span>\n      <div class="cp-credit-card-field" data-ng-class="{errorField: $ctrl.expirationDateInvalid}">\n        \x3c!-- Expiration month --\x3e\n        <input\n          name="expirationMonth"\n          required\n          data-ng-model="$ctrl.payment.expirationMonth"\n          sc-validity-reporter\n          sc-pattern="^(0[1-9]|1[0-2])$"\n          sc-restrict-input="^(0[1-9]?|1[0-2]?)$"\n          cp-validate-expiration="$ctrl.payment"\n          sc-autofocus="2"\n          autocomplete="cc-exp-month"\n          placeholder="MM"\n          class="cp-credit-card__month"\n          aria-label="please enter your payment card expiration month"\n        />\n        \x3c!-- Expiration slash --\x3e\n        <span class="cp-credit-card__slash">/</span>\n        \x3c!-- Expiration year --\x3e\n        <input\n          name="expirationYear"\n          required\n          data-ng-model="$ctrl.payment.expirationYear"\n          sc-validity-reporter\n          sc-pattern="^[0-9]{2}$"\n          sc-restrict-input="^[0-9]{0,2}$"\n          cp-validate-expiration="$ctrl.payment"\n          sc-autofocus="3"\n          autocomplete="cc-exp-year"\n          placeholder="YY"\n          class="cp-credit-card__year"\n          aria-label="please enter the last 2 digits of your payment card expiration year"\n        />\n      </div>\n    </div>\n    <div class="cp-credit-card-field-box" data-ng-class="{ error: $ctrl.securityCodeInvalid }">\n      \x3c!-- Security code --\x3e\n      <span class="donation-label required">Security code</span>\n      <div class="cp-credit-card-field" data-ng-class="{errorField: $ctrl.securityCodeInvalid}">\n        <input\n          name="securityCode"\n          required\n          data-ng-model="$ctrl.payment.securityCode"\n          sc-validity-reporter\n          sc-pattern="{{ $ctrl.codePattern() }}"\n          sc-restrict-input="^[0-9]{0,4}$"\n          sc-autofocus="4"\n          autocomplete="cc-csc"\n          placeholder="{{ $ctrl.codeName() }}"\n          class="cp-credit-card__security-code"\n          aria-label="please enter your payment card security code"\n        />\n      </div>\n    </div>\n    <div\n      data-ng-if="!$ctrl.hidePostal"\n      class="cp-credit-card-field-box"\n      data-ng-class="{ error: $ctrl.postalOrZipInvalid }"\n    >\n      \x3c!-- Postal code --\x3e\n      <span class="donation-label required">Postal code</span>\n      <div class="cp-credit-card-field" data-ng-class="{errorField: $ctrl.postalOrZipInvalid}">\n        <input\n          data-ng-if="!$ctrl.hidePostal"\n          name="postalCode"\n          required\n          data-ng-model="$ctrl.payment.postalCode"\n          data-ng-minlength="2"\n          data-ng-maxlength="10"\n          sc-validity-reporter\n          autocomplete="postal-code"\n          sc-autofocus="5"\n          placeholder="{{ $ctrl.zipName() }}"\n          class="cp-credit-card__postal-code"\n          aria-label="please enter your payment card postal code"\n        />\n      </div>\n    </div>\n  </ng-form>\n\n  <p\n    data-ng-if="$ctrl.errorVisible"\n    data-ng-bind="$ctrl.errorMessage"\n    class="form__error"\n    aria-live="polite"\n  ></p>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/credit-card/eg.pay.components.credit-card.tokenizer",'<span\n  title="payment card input is {{ $ctrl.isLoading ? \'loading\' : \'ready\' }}"\n  class="cp-tokenizer-control__status"\n  data-ng-class="{ loading: $ctrl.isLoading }"\n  aria-live="polite"\n>\n  <span class="cp-tokenizer-control__status-loading" aria-hidden="true"></span>\n  <span class="cp-tokenizer-control__status-ready" aria-hidden="true">\n    <i class="ci ci-credit-card cp-tokenizer-control__status-icon" aria-hidden="true"></i>\n  </span>\n</span>\n\n<span\n  id="{{:: $ctrl.id }}"\n  title="please enter your payment card information"\n  data-tracked-element="donation-page_checkout_tokenex-cc-input"\n  class="{{ $ctrl.isLoading ? \'loading\' : \'\' }} cp-tokenizer-control__iframe"\n>\n</span>\n<span data-ng-if="$ctrl.cardBrand" class="card-container" aria-hidden="true">\n  <span data-ng-bind-html="$ctrl.brandIcon()" class="cp-credit-card__brand"></span>\n</span>\n\x3c!-- TODO why isn\'t this span a closing tag? same in cpDetails? --\x3e\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/paypal/eg.pay.components.paypal-commerce",'<div\n  id="button-container-one-time"\n  data-ng-show="$ctrl.showOneTime()"\n  class="payment-method-select-btn__paypal-commerce"\n></div>\n<div\n  id="button-container-recurring"\n  data-ng-show="$ctrl.showRecurring()"\n  class="payment-method-select-btn__paypal-commerce"\n></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/paypal/eg.pay.components.paypal",'<div class="cp-paypal-widget">\n  <button\n    data-id="eg-paymethod-paypal"\n    data-ng-show="$ctrl.model.status !== $ctrl.constants.STATUS.INACTIVE"\n    id="btPaypal"\n    type="button"\n    data-ng-click="$ctrl.openModal()"\n    data-tracked-element="donation-page_checkout_paypal-btn"\n    class="payment-method-select-btn__paypal eg-btn"\n    data-ng-class="{\'logged-in\': $ctrl.model.status === $ctrl.constants.STATUS.SUCCESS}"\n  >\n    <img data-ng-src="/static/global/images/payments/logo-paypal.svg" alt="PayPal" />\n  </button>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/components/stripe/eg.pay.components.stripe",'<div class="eg-flex-col">\n  <div class="eg-paragraph eg-pb1">Credit / Debit Card&nbsp;<span class="eg-error">*</span></div>\n  <div id="card-element" data-tracked-element="donation-page_checkout_stripe-input"></div>\n  <div id="card-errors" class="{{::$ctrl.cardErrorClassName}}" role="alert"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/views/payment-details/eg.pay.views.payment-details",'<div class="eg-flex-col">\n  \x3c!-- [Payment Method] Credit Card --\x3e\n  <eg-pay-credit-card\n    data-ng-if="$ctrl.show.cc()"\n    payment="$ctrl.payment.cc"\n    on-token="$ctrl.onToken({token})"\n    on-card="$ctrl.onCard({brand, lastFour})"\n    primary-color="$ctrl.primaryColor"\n    hide-postal="$ctrl.hidePostal"\n    hide-label="true"\n  ></eg-pay-credit-card>\n  \x3c!-- [Payment Method] Stripe --\x3e\n  <eg-pay-stripe\n    data-ng-if="$ctrl.show.stripe()"\n    model="$ctrl.payment.stripe"\n    currency="$ctrl.currency"\n    hide-postal="$ctrl.hidePostal"\n    class="eg-flex-col"\n    input-class-name="eg-input eg-input__text"\n    card-error-class-name="donation-error"\n  ></eg-pay-stripe>\n</div>\n\n\x3c!-- [Payment Method] ACH --\x3e\n<eg-pay-ach\n  data-ng-if="$ctrl.show.accountRouting()"\n  data-ng-hide="$ctrl.show.cc() || $ctrl.show.stripe()"\n  payment="$ctrl.payment.ach"\n></eg-pay-ach>\n\n\x3c!-- TODO move this to bottom? I believe these are the details --\x3e\n<div data-ng-hide="$ctrl.show.accountRouting() || $ctrl.show.cc() || $ctrl.show.stripe()">\n  {{$ctrl.details}}\n  <span\n    data-ng-show="!$ctrl.waitingChange && !$ctrl.show.paypalCommerce()"\n    data-ng-click="$ctrl.changeAccount($ctrl.paymentMethod)"\n    class="payment-details-change eg-paragraph-sm"\n    >Change</span\n  >\n</div>\n\n\x3c!-- [Payment Method] PayPal & PayPal Commerce --\x3e\n<div\n  data-ng-show="$ctrl.waitingChange && $ctrl.changeAccountTo === \'PayPal\'"\n  data-ng-click="$ctrl.openModal()"\n  class="payment-details-openModal"\n>\n  Connect to PayPal\n</div>\n\n\x3c!-- [Payment Method] TODO This is Plaid, correct? --\x3e\n<div\n  data-ng-show="$ctrl.waitingChange && $ctrl.changeAccountTo === \'ACH\'"\n  data-ng-click="$ctrl.openModal()"\n  class="payment-details-openModal"\n>\n  Link to Bank Account\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/pay/views/payments/eg.pay.views.payments",'<div data-ng-hide="$ctrl.hideButtons || $ctrl.meta.showPaymentDetails" class="eg-pay-btn-override eg-pb2"\n  data-ng-class="{\'eg-pay-disabled\': !$ctrl.meta.summaryAmount || $ctrl.meta.summaryAmount < 1}">\n  \x3c!-- TOS --\x3e\n  <div class="eg-payment-button-mask" data-ng-show="!$ctrl.arePaymentButtonEnabled"></div>\n  \x3c!-- Removed for https://classydev.atlassian.net/browse/CL-38468 --\x3e\n  \x3c!-- <div id="eg-pay-hook" class="eg-paragraph-xs eg-text-center eg-text-mono-lighter eg-pb2">\n    By donating you agree to our\n    <a\n      href="https://www.classy.org/terms/"\n      class="eg-underline eg-text-mono-lighter eg-interact"\n      target="_blank"\n      >Terms</a\n    >\n    &\n    <a\n      href="https://www.classy.org/terms/privacy/"\n      class="eg-underline eg-text-mono-lighter eg-interact"\n      target="_blank"\n      >Classy Privacy Policy</a\n    >\n  </div> --\x3e\n\n  <button data-ng-click="$ctrl.showCardInputs()" data-id="paymethod-card" type="button"\n    class="eg-btn eg-pay-btn eg-btn--stretch eg-mb2 eg-background-darkest"\n    data-tracked-element="donation-page_checkout_credit-card-btn"\n    aria-controls="donation-page_checkout_payment-form donation-page_checkout_payment-details"\n    aria-expanded="{{$ctrl.meta.showPaymentDetails}}">\n    <div class="eg-flex-row eg-flex--valign eg-flex--center">\n      <div class="eg-mr1">Credit Card</div>\n      <img sc-cdn-src="{{$ctrl.EmbeddedGivingPaths.images.visaLogo}}" class="eg-pay-icon eg-horspace" />\n      <img sc-cdn-src="{{$ctrl.EmbeddedGivingPaths.images.amexLogo}}" class="eg-pay-icon eg-horspace" />\n      <img sc-cdn-src="{{$ctrl.EmbeddedGivingPaths.images.discoverLogo}}" class="eg-pay-icon eg-horspace" />\n      <img sc-cdn-src="{{$ctrl.EmbeddedGivingPaths.images.mastercardLogo}}" class="eg-pay-icon eg-horspace" />\n    </div>\n  </button>\n\n  <eg-pay-digital-wallets frequency="$ctrl.parentModel.frequency" amount="$ctrl.getAmount()"\n    currency="$ctrl.parentModel.payment.raw_currency_code" submit="$ctrl.submitDigitalWallets"\n    pay-type="$ctrl.meta.digitalWalletType" fot="$ctrl.parentModel.fee_on_top" classyMode="$ctrl.isClassyMode">\n  </eg-pay-digital-wallets>\n\n  <eg-pay-paypal data-ng-if="$ctrl.show.paypal()" data-ng-model="$ctrl.payment.paypal.status"\n    model="$ctrl.payment.paypal" currency="$ctrl.currency" on-ready="$ctrl.onPaypalReady()"\n    on-success="$ctrl.onPaypalSuccess(params)" on-cancel="$ctrl.onPaypalCancel()" sc-validity-reporter>\n  </eg-pay-paypal>\n\n  <eg-pay-paypal-commerce data-ng-if="$ctrl.show.paypalCommerce() || $ctrl.show.venmo()"\n    has-paypal="$ctrl.show.paypalCommerce()" has-venmo="$ctrl.show.venmo()" model-paypal="$ctrl.payment.paypal_commerce"\n    model-venmo="$ctrl.payment.venmo" amount="$ctrl.parentModel.items[0].raw_final_price"\n    fot="$ctrl.parentModel.fee_on_top" frequency="$ctrl.parentModel.frequency"\n    on-success="$ctrl.onPaypalCommerceSuccess(params)" on-cancel="$ctrl.onPaypalCommerceCancel()"\n    enable-payment-buttons="$ctrl.enablePaymentButtons()" disable-payment-buttons="$ctrl.disablePaymentButtons()">\n  </eg-pay-paypal-commerce>\n\n  <eg-pay-plaid data-ng-if="$ctrl.show.achButton()" data-ng-model="$ctrl.payment.ach.status" model="$ctrl.payment.ach"\n    currency="$ctrl.currency" on-ready="$ctrl.onAchReady()" on-success="$ctrl.onAchSuccess(lastFour, accountType)"\n    on-cancel="$ctrl.onAchCancel()" sc-validity-reporter></eg-pay-plaid>\n\n  \x3c!-- TODO data-ng-style --\x3e\n  <button data-ng-if="$ctrl.show.accountRoutingButton()" data-id="paymethod-ach"\n    data-ng-click="$ctrl.showAccountRouting()" type="button" class="eg-btn eg-pay-btn eg-btn--stretch"\n    data-tracked-element="donation-page_checkout_account-routing-btn"\n    aria-controls="donation-page_checkout_payment-form donation-page_checkout_payment-details"\n    aria-expanded="{{$ctrl.meta.showPaymentDetails}}">\n    <div class="eg-flex-row eg-flex--valign eg-flex--center">\n      <div class="eg-mr1">Bank Account</div>\n      <img sc-cdn-src="{{$ctrl.EmbeddedGivingPaths.images.achLogo}}" class="eg-pay-icon eg-horspace" />\n    </div>\n  </button>\n</div>\n\n<div data-ng-if="$ctrl.meta.showPaymentDetails" id="donation-page_checkout_payment-details">\n  <eg-pay-payment-details show="$ctrl.show" details="$ctrl.paymentDetails" payment-method="$ctrl.getPaymentMethod()"\n    payment="$ctrl.payment" currency="$ctrl.currency" on-token="$ctrl.handleTokenexToken(token)"\n    on-card="$ctrl.handleTokenexCard(brand, lastFour)" hide-postal="$ctrl.hidePostal"\n    primary-color="$ctrl.theme.styles.primaryColor" label="$ctrl.getPaymentLabel()">\n  </eg-pay-payment-details>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/auth-switch/template",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n\n  <h2 class="create-flow_title">Start fundraising</h1>\n\n  <div class="create-flow__auth-switch-container">\n\n    <button class="create-flow__auth-switch-button"\n    data-ng-click="login()"\n    data-ng-style="{ \'background-color\': ui.primaryColor }">\n      Sign in\n    </button>\n\n    <div class="create-flow__auth-switch-divider">- OR -</div>\n\n    <button class="create-flow__auth-switch-button hollow"\n    data-ng-click="signup()"\n    data-ng-style="{ \'border-color\': ui.primaryColor, \'color\': ui.primaryColor }">\n      Create an Account\n    </button>\n\n\n    <div class="create-flow__auth-switch__credit-container">\n      <div class="create-flow__auth-switch-powered">Powered by GoFundMe</div>\n    </div>\n    <div class="create-flow__auth-switch__credit-container">\n      <a class="link" href="https://www.gofundme.com/c/privacy" target="_blank" rel="noopener">GoFundMe Privacy Notice</a>\n    </div>\n  </div>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/details/template",'<div class="create-flow_team-crown" data-ng-show="ui.hasTeam">\n  <p class="create-flow_team-crown-message">\n    Welcome to\n    <span class="create-flow_team-crown-name">{{ getTeamName() }}</span>\n  </p>\n  <img class="create-flow_team-crown-logo" data-ng-src="{{ getTeamLogo() }}" />\n</div>\n\n<div class="create-flow" data-ng-class="{processing: ui.processing, hasTeam: ui.hasTeam}">\n  <h2 id="modal-dialog-label" class="create-flow_title">Create your page</h2>\n\n  <form\n    class="create-flow_form"\n    novalidate\n    name="create_indiv_details"\n    data-sc-submit="flow.next()"\n    data-sc-submit-error-function="showFormError"\n  >\n    \x3c!-- Tribute checkbox --\x3e\n    <div\n      data-sc-checkbox\n      data-ng-model="fundraiser.current.is_tribute"\n      name="is_tribute_page"\n      data-ng-change="tributeCheckboxOnChange()"\n      aria-label="I\'m fundraising to honor someone else."\n    >\n      I\'m fundraising to honor someone else.\n    </div>\n\n    \x3c!-- Goal --\x3e\n    <div class="create-flow_field" data-ng-show="campaign.current.pages_can_set_goal">\n      <label\n        class="create-flow_label"\n        ng-class="fundraiser.current.is_tribute ? \'\': \'required\'"\n        id="currencyInputLabel"\n        >Set your fundraising goal\n        <span ng-if="fundraiser.current.is_tribute">(optional)</span></label\n      >\n      <div class="form__label">\n        <span class="sub-label"\n          >Currency cannot be changed once a donation to your page has been made.</span\n        >\n      </div>\n      <div\n        class="create-flow_input-wrap currency-picker"\n        ng-class="{\'has-focus\': show.inputFocus == true}"\n      >\n        <div\n          role="list"\n          aria-label="set currency for fundraising goal"\n          sc-currency-picker\n          currency-entity="fundraiser.current"\n          currency-model="fundraiser.current.raw_currency_code"\n        ></div>\n        \x3c!-- Non-tribute goal input --\x3e\n        <input\n          ng-if="!fundraiser.current.is_tribute"\n          class="create-flow_currency-input"\n          data-min="1"\n          name="goal"\n          id="goal"\n          type="text"\n          data-sc-currency\n          data-symbol=""\n          data-ng-model="fundraiser.current.goal"\n          data-sc-retain-focus-validity\n          data-ng-focus="show.inputFocus = true"\n          data-ng-blur="show.inputFocus = false"\n          data-ng-class="{ \'has-error\': !create_indiv_details.goal.$validOnFocus && create_indiv_details.goal.$invalid}"\n          aria-labelledby="currencyInputLabel"\n        />\n        \x3c!-- Tribute goal input - no min val required, can be empty --\x3e\n        <input\n          ng-if="fundraiser.current.is_tribute"\n          class="create-flow_currency-input"\n          name="goal"\n          id="goal"\n          type="text"\n          data-sc-currency\n          data-ng-model="fundraiser.current.goal"\n          data-symbol=""\n          data-ng-focus="show.inputFocus = true"\n          data-ng-blur="show.inputFocus = false"\n          data-ng-class="{ \'has-error\': !create_indiv_details.goal.$validOnFocus && create_indiv_details.goal.$invalid}"\n        />\n\n        <div ng-bind="fundraiser.current.currency" class="currency-picker__symbol"></div>\n        \x3c!-- hide icons if input is empty --\x3e\n        <span\n          ng-if="fundraiser.current.is_tribute && create_indiv_details.goal.$viewValue === \'\' ? false : true"\n          class="create-flow_input-valid"\n          ng-style="{ opacity: create_indiv_details.goal.$validOnFocus || create_indiv_details.goal.$valid ? 1 : 0 }"\n        >\n          <i\n            class="fa fa-check-circle create-flow_input-valid-icon"\n            data-ng-style="{color: ui.primaryColor}"\n          ></i>\n        </span>\n\n        <span\n          ng-if="fundraiser.current.is_tribute && create_indiv_details.goal.$viewValue === \'\' ? false : true"\n          class="create-flow_input-invalid"\n          ng-style="{ opacity: !create_indiv_details.goal.$validOnFocus && create_indiv_details.goal.$invalid ? 1 : 0 }"\n        >\n          <i class="fa fa-times-circle create-flow_input-invalid-icon"></i>\n        </span>\n      </div>\n\n      <div class="create-flow_invalid-msg">\n        <span\n          class="form_error"\n          ng-show="!create_indiv_details.goal.$validOnFocus && create_indiv_details.goal.$error.parse"\n        >\n          Please enter a valid dollar amount.\n        </span>\n        <span\n          class="form_error"\n          ng-show="!create_indiv_details.goal.$validOnFocus && create_indiv_details.goal.$error.required"\n        >\n          Please enter a goal.\n        </span>\n      </div>\n    </div>\n\n    \x3c!-- Tribute name --\x3e\n    <div class="create-flow_field" aria-live="polite" ng-show="fundraiser.current.is_tribute">\n      <label for="tribute-name" class="create-flow_label required"\n        >Name of who you are honoring</label\n      >\n      <input\n        class="form__text-input--dark"\n        placeholder="Start typing"\n        name="tribute-name"\n        ng-model="fundraiser.current.alias"\n        type="text"\n        ng-required="fundraiser.current.is_tribute"\n        aria-label="Enter the name of whom you are honoring."\n      />\n    </div>\n\n    \x3c!-- Fundraising End Date --\x3e\n\n    <div class="create-flow_field create-flow_form-field" data-ng-if="!campaign.current.ended_at">\n      <label class="create-flow_label required" for="endDate">Fundraising end date (MM/DD/YYYY)</label>\n      <div class="create-flow_input-wrap">\n        <i class="form_field-input-icon fa fa-calendar"></i>\n        <input\n          class="form_date-input-directive"\n          type="text"\n          name="endDate"\n          id="endDate"\n          uib-datepicker-popup="MM/dd/yyyy"\n          datepicker-options="{ showWeeks: false }"\n          is-open="visible"\n          ng-click="visible = true"\n          ng-model="fundraiser.current.endDate"\n          ng-required="required"\n          required\n          aria-required="true"\n          role="listbox"\n          aria-label="Fundraising end date (MM/DD/YYYY)"\n          aria-expanded="undefined"\n          placeholder="Enter date in the format: MM/DD/YYYY"\n\n        />\n        <span\n          class="create-flow_input-valid"\n          data-ng-style="{opacity: fundraiser.current.endDate ? 1 : 0 }"\n        >\n          <i\n            class="fa fa-check-circle create-flow_input-valid-icon"\n            data-ng-style="{color: ui.primaryColor}"\n          ></i>\n        </span>\n      </div>\n    </div>\n\n    \x3c!-- Intro Text (Appeal) --\x3e\n\n    <div\n      class="create-flow_field"\n      data-ng-if="campaign.current.pages_can_set_appeal && !fundraiser.current.is_tribute"\n    >\n      <label class="create-flow_label required" id="appealLabel">Your Page\'s Headline</label>\n      <div class="create-flow_textarea-wrap" aria-labelledby="appealLabel" aria-required="true">\n        <textarea\n          class="create-flow_textarea"\n          name="appeal"\n          id="appeal"\n          required\n          data-ng-model="fundraiser.current.intro_text"\n          data-froala="froalaOptions"\n        >\n        </textarea>\n      </div>\n    </div>\n\n    \x3c!-- Program Designations --\x3e\n    <div class="create-flow_field full" data-ng-if="campaign.current.designations_count > 1">\n      <label class="create-flow_label required" id="designationLabel">I\'m fundraising for</label>\n      <program-designation-field\n        field-option-settings="designationOptions"\n        model="fundraiser.current.designation_id"\n        entity="campaign.current"\n        selected-id="campaign.current.designation_id"\n        form-name="create_indiv_details"\n        aria-required="true"\n        aria-labelledby="designationLabel"\n      >\n      </program-designation-field>\n    </div>\n\n    \x3c!-- Vanity Url --\x3e\n    <div class="create-flow_field last" aria-live="polite">\n      <label class="create-flow_label" for="vanityUrlField"\n        >Set your Fundraising Page\'s Short URL <span aria-hidden="true">(optional)</span></label\n      >\n\n      <vanity-url-field\n        entity-type="\'fundraising-pages\'"\n        campaign-id="campaign.current.id"\n        name="\'customUrl\'"\n        label="\'\'"\n        model="$parent.$parent.custom_url"\n        required="false"\n        placeholder="\'Start typing\'"\n      >\n      </vanity-url-field>\n    </div>\n\n    <sc-consent\n      data-show="!campaign.current.hide_contact_opt_in"\n      data-opt-in="optIn.opted_in"\n      data-language="optIn.opt_in_wording"\n      name="opted_in"\n    ></sc-consent>\n\n    \x3c!-- Next --\x3e\n\n    <button\n      class="create-flow_button"\n      type="submit"\n      data-ng-class="{disabled: create_indiv_details.$invalid || (!campaign.current.ended_at && !fundraiser.current.endDate)}"\n      data-ng-style="{ \'background-color\': ui.primaryColor }"\n      data-ng-disabled="!create_indiv_details.$valid || (!campaign.current.ended_at && !fundraiser.current.endDate)"\n    >\n      {{ ui.isFinalView ? "Finish" : "Next" }}\n    </button>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner" data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n    <div class="create-flow__cancel-container">\n      <a\n        class="create-flow__cancel"\n        ng-if="campaign.current.allow_duplicate_fundraisers && campaign.current.type == \'p2p\' && member.current.id"\n        ng-click="flow.to(\'indiv.multiple-pages\')"\n        href="#"\n      >\n        Oh wait, I\'ve done this already\n      </a>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/existing-page/template",'<div class="create-flow extra-padding">\n  <i class="ci ci-ico-fistbump create-flow_success-icon"></i>\n\n  <h2 class="create-flow_success-title">Welcome back!</h2>\n\n  <p class="create-flow_success-message">\n    We found an existing fundraising page for you. Here it is!\n  </p>\n\n  <button\n    type="button"\n    class="create-flow_success-button"\n    data-ng-click="done()"\n    data-ng-style="{ \'background-color\': ui.primaryColor }"\n  >\n    Awesome\n  </button>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/exit/template",'<div class="create-flow extra-padding">\n  <h2 class="create-flow_title">Profile Setup</h2>\n\n  <p class="create-flow_info">Only a few more steps left to finish creating your page</p>\n\n  <div class="create-flow_buttons-container">\n    <button class="create-flow_button half secondary" data-ng-click="closeOut()">\n      Cancel Setup\n    </button>\n\n    <button\n      class="create-flow_button half"\n      data-ng-style="{ \'background-color\': ui.primaryColor }"\n      data-ng-click="goBack()"\n      type="button"\n    >\n      Continue setup\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/join-team/template",'<div class="join-team" ng-class="{processing: loading}">\n  <h2 class="join-team_title">{{currentTeam.id ? \'Switch to this team?\' : \'Join this team?\'}}</h2>\n  <h3 class="join-team_subtitle">Hey {{fundraisingPage.alias}}!</h3>\n  <div class="join-team_avatars">\n    <img class="join-team_avatar" ng-src="{{fundraisingPage.logo.src ? fundraisingPage.logo.src : (fundraisingPage.logo.cdn_url ? fundraisingPage.logo.cdn_url : \'/static/global/images/individual_default_image.png\')}}" alt="User image"/>\n    <i class="fa fa-arrow-right"></i>\n    <img class="join-team_avatar" ng-src="{{newTeam.logo.src ? newTeam.logo.src : (newTeam.logo.cdn_url ? newTeam.logo.cdn_url : \'/static/global/images/team_default_image.png\')}}" alt="New team image"/>\n  </div>\n  <p class="join-team_explainer-title">{{currentTeam.id ? \'Switching to\' : \'Joining\'}} this team means you will</p>\n  <p class="join-team_explainer" ng-if="currentTeam.id">\n    Leave {{currentTeam.name}}\n  </p>\n  <p class="join-team_explainer">\n    Move all your progress to {{newTeam.name}}\n  </p>\n  <p class="join-team_explainer">\n    Access this team from the Fundraiser Dashboard\n  </p>\n\n  <div class="join-team_button-container" ng-class="{hide: loading}">\n\n    <a href class="join-team_button cancel"\n      ng-click="$root.flowModal.close(false)">\n      Cancel\n    </button>\n\n    <a href class="join-team_button join"\n      ng-click="confirmJoin(newTeam.id)"\n      ng-style="{ \'background-color\': primaryColor }"\n      >\n      {{currentTeam.id ? \'Switch\' : \'Join\'}}\n    </a>\n\n  </div>\n\n  <div class="create-flow_processing">\n    <div class="create-flow_processing-spinner white"\n    data-ng-style="{color: primaryColor}"></div>\n  </div>\n\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/logo/template",'<div class="create-flow" data-ng-class="{processing: ui.processing}">\n  <h2 id="modal-dialog-label" class="create-flow_title">\n    {{fundraiser.current.is_tribute ? \'Choose a photo\': \'Choose your photo\'}}\n  </h2>\n\n  <form\n    class="create-flow_form"\n    novalidate\n    name="create_indiv_logo"\n    data-sc-submit="flow.next()"\n    data-sc-submit-error-function="showFormError"\n  >\n    <div class="create-flow_logo">\n      \x3c!-- Chosen logo image --\x3e\n      <img\n        class="create-flow_logo-chosen"\n        data-ng-if="fundraiser.current.logo"\n        data-ng-click="flow.to(\'indiv.logo.switch\', \'slideLeft\')"\n        data-ng-src="{{fundraiser.current.logo.src}}"\n        tabindex="0"\n        alt="{{ fundraiser.current.logo.alt || \'A photo or image to represent your fundraiser\' }}"\n      />\n\n      \x3c!-- If no chosen image fall back to member profile image --\x3e\n      <img\n        class="create-flow_logo-member"\n        data-ng-if="!fundraiser.current.logo && state.useProfile && !fundraiser.current.is_tribute"\n        data-ng-click="flow.to(\'indiv.logo.switch\', \'slideLeft\')"\n        data-ng-src="{{ state.profileImgSrc }}"\n        tabindex="0"\n        alt="A photo or image to represent your fundraiser"\n      />\n\n      \x3c!-- If no member profile image fall back to default logo from theme --\x3e\n      <img\n        class="create-flow_logo-default"\n        data-ng-if="!fundraiser.current.logo && !state.useProfile && block.current.defaultFundraiserLogo && !fundraiser.current.is_tribute"\n        data-ng-click="flow.to(\'indiv.logo.switch\', \'slideLeft\')"\n        data-ng-src="{{block.current.defaultFundraiserLogo.src}}"\n        tabindex="0"\n        alt="{{ block.current.defaultFundraiserLogo.alt || \'A photo or image to represent your fundraiser\' }}"\n      />\n\n      \x3c!-- If no default logo fall back to empty box --\x3e\n      <div\n        class="create-flow_logo-empty"\n        tabindex="0"\n        role="button"\n        data-ng-if="!fundraiser.current.logo && !state.useProfile && !block.current.defaultFundraiserLogo || fundraiser.current.is_tribute && !fundraiser.current.logo"\n        data-ng-click="flow.to(\'indiv.logo.switch\', \'slideLeft\')"\n        data-ng-keydown="flow.to(\'indiv.logo.switch\', \'slideLeft\', null, null, $event)"\n      >\n        <i class="ci ci-add-media create-flow_logo-empty-icon"></i>\n        <p class="create-flow_logo-empty-instruction">Click to Upload</p>\n        <p class="create-flow_logo-empty-info">300 x 300</p>\n      </div>\n\n      <div class="create-flow_logo-loading" data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n    <div class="create-flow_buttons-container">\n      <button\n        class="create-flow_button half hollow"\n        data-ng-click="flow.to(\'indiv.logo.switch\', \'slideLeft\')"\n        type="button"\n      >\n        Change\n      </button>\n\n      <button\n        class="create-flow_button half"\n        data-ng-style="{ \'background-color\': ui.primaryColor }"\n        type="submit"\n      >\n        Continue\n      </button>\n    </div>\n  </form>\n\n  <div class="create-flow_processing">\n    <div class="create-flow_processing-spinner" data-ng-style="{color: ui.primaryColor}"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/multiple-fundraisers/template",'<div class="create-flow extra-padding">\n  <h2 class="create-flow_title">You have a fundraising page</h2>\n\n  <p class="create-flow_info" ng-bind="::subtitle"></p>\n\n  <infinite-scroller fetch-function="fetch()" offset="250" stop-gap="stop">\n    <page-tile ng-repeat="page in listOfPages" page="page" modal-action="useExistingPage(page.id)">\n    </page-tile>\n  </infinite-scroller>\n\n  <div class="create-flow_buttons-container">\n    <button\n      class="new-page-btn"\n      data-ng-style="{ \'background-color\': primaryColor }"\n      data-ng-click="newPage()"\n      type="button"\n    >\n      {{::buttonText}}\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/questions/template",'<div class="create-flow"\ndata-ng-class="{processing: ui.processing}">\n  <div id="modal-dialog-label">\n    <h2 class="create-flow_title">Member Questions</h1>\n    <p class="create-flow_info">Please tell us a little more about yourself.</p>\n  </div>\n  <form class="create-flow_form"\n  novalidate\n  name="signup_questions" \n  data-sc-submit="flow.next()"\n  data-sc-submit-error-function="showFormError">\n\n    <div class="create-flow_form-field" \n    data-ng-repeat="question in list.questions"\n    data-sc-custom-fields="question" \n    data-model-prefix="\'list.answers.qid_\'"\n    data-label-class="\'create-flow\'"\n    data-form-name="\'signup_questions\'"></div>\n\n    <button class="create-flow_button" \n    type="submit"\n    data-ng-class="{ disabled: isDisabled() }"\n    data-ng-style="{ \'background-color\': ui.primaryColor }"\n    data-ng-disabled="isDisabled()">\n      {{ ui.isFinalView ? "Finish" : "Next" }}\n    </button>\n\n    <div class="create-flow_processing">\n      <div class="create-flow_processing-spinner" \n      data-ng-style="{color: ui.primaryColor}"></div>\n    </div>\n\n  </form>\n\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/success/template",'<div class="create-flow extra-padding">\n  <i class="ci ci-ico-fistbump create-flow_success-icon"></i>\n\n  <h2 ng-if="!fundraiser.current.is_tribute" class="create-flow_success-title">Nice work!</h2>\n\n  <p class="create-flow_success-message">\n    Your fundraising page is ready to go. Make sure to check out your Fundraiser Dashboard for some\n    helpful tools.\n  </p>\n\n  <button\n    type="button"\n    class="create-flow_success-button"\n    data-ng-click="done()"\n    data-ng-style="{ \'background-color\': ui.primaryColor }"\n  >\n'+"    {{fundraiser.current.is_tribute ? 'Go to Page' : 'Awesome'}}\n  </button>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/wait/template",'<div\n  class="create-flow"\n  data-ng-class="{processing: ui.processing}"\n  tabindex="0"\n  aria-label="Please wait"\n>\n  <h2 class="create-flow_title">Please wait ...</h2>\n\n  <div class="create-flow_waiting">\n    <div class="create-flow_waiting-spinner" data-ng-style="{color: ui.primaryColor}"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/recipient-picker/views/copy/template",'<div class="recipient-picker">\n  <h1 class="recipient-picker_title">Copy addresses</h1>\n  <p class="recipient-picker_subtitle">These are your donors\' email addresses.</p>\n\n  <div class="recipient-picker_copy">\n    <textarea class="recipient-picker_textarea" id="recipient-emails-textarea" readonly>\n{{build.emailList()}}</textarea\n    >\n\n    <p class="recipient-picker_success">Emails copied!</p>\n  </div>\n\n  <div class="recipient-picker_footer">\n    <button\n      class="recipient-picker_select"\n      data-ng-style="::{\'background-color\': state.primaryColor}"\n      data-sc-clipboard="build.emailList()"\n      data-sc-copied-target=".recipient-picker_copy"\n      type="button"\n    >\n      Copy\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/recipient-picker/views/search/template",'<div class="recipient-picker">\n  <h1 class="recipient-picker_title">Select Donors</h1>\n  <p class="recipient-picker_subtitle">Select which donors you\'d like to email.</p>\n\n  <div class="recipient-picker_results">\n    <ul class="recipient-picker_list">\n      <li class="recipient-picker_list-item" data-ng-repeat="item in list.items">\n        <div class="recipient-picker_list-item-wrap">\n          <span\n            data-class-stem="\'recipient-picker-checkbox\'"\n            data-sc-checkbox\n            data-ng-disabled="!item.emailAddress"\n            data-ng-model="item.selected"\n            data-ng-change="build.updateCount()"\n          ></span>\n        </div>\n\n        <div class="recipient-picker_list-item-wrap">\n          <span\n            class="recipient-picker_list-item-emblem"\n            data-ng-style="::{\'background-color\': state.primaryColor}"\n          >\n            {{::item.name.substring(0,1)}}\n          </span>\n        </div>\n\n        <div class="recipient-picker_list-item-expand">\n          <span class="recipient-picker_list-item-name"> {{::item.name}} </span>\n          <span class="recipient-picker_list-item-email"> {{::item.emailAddress}} </span>\n        </div>\n\n        <div class="recipient-picker_list-item-wrap">\n          <span class="recipient-picker_list-item-amount"> ${{::item.amount}} </span>\n        </div>\n      </li>\n    </ul>\n  </div>\n\n  <div class="recipient-picker_footer">\n    <button class="recipient-picker_clear" data-ng-click="clear()" type="button">Clear</button>\n\n    <button\n      class="recipient-picker_select"\n      data-ng-style="::{\'background-color\': state.primaryColor}"\n      data-ng-click="assemble()"\n      type="button"\n    >\n      Select ({{selectCount}})\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/recipient-picker/views/wait/template",'<div class="recipient-picker">WAIT</div>\n')}]);angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/image/library/template",'<div class="media-library" data-ng-controller="scMediaManagerImageLibraryCtrl">\n  <div class="media-library_search">\n    <i class="fa fa-search media-library_search-icon"></i>\n    <input\n      class="media-library_search-input"\n      placeholder="Search library"\n      data-ng-model="ui.image.search.query"\n      data-ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 500, \'blur\': 0 } }"\n      data-ng-change="fetchImages()"\n    />\n    <a\n      aria-label="powered by pixabay"\n      class="media-library_pixabay-link"\n      href="https://pixabay.com"\n      target="_blank"\n    >\n      <i class="ci ci-powered-by-pixabay media-library_pixabay-logo"></i>\n    </a>\n  </div>\n\n  <div class="media-library_viewport" data-sc-infinite-scroll-viewport="loadImages()">\n    <div\n      class="media-library_results"\n      data-sc-infinite-scroll-content\n      data-ng-class="{\'first-page\': ui.image.search.loaded === 0}"\n    >\n      <div class="media-library_results-list" data-sc-media-library-listings="mason"></div>\n\n      <p class="media-library_results-none" data-ng-show="ui.image.search.empty" tabindex="0">\n        No results found.\n      </p>\n\n      <p class="media-library_results-end" data-ng-show="ui.image.search.complete">\n        No more results.\n      </p>\n\n      <div class="media-library_results-processing" data-ng-show="ui.image.search.processing">\n        <div class="sc-spinner-v2 media-library_results-processing-spinner"></div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/image/upload/template","<div class='media-manager_upload' data-ng-controller='scMediaManagerImageUploadCtrl'>\n\n  <div class='media-manager_dropper' data-sc-file-drop='handleUpload' data-ng-show='!ui.image.uploaded.length'>\n\n    <div class='media-manager_dropper-instruction'>\n      <i class='fa fa-cloud-upload media-manager_dropper-icon'></i>\n      <p class='media-manager_dropper-title'>Drag image here</p>\n      <p class='media-manager_dropper-or'>or</p>\n      <div class=\"media-manager_dropper-button-wrapper\">\n        <button tabindex=\"-1\" aria-hidden=\"true\" class='admin-button__primary' type='button'>\n          Browse\n        </button>\n        <input\n          type=\"file\"\n          class=\"media-manager_dropper-input\"\n          accept=\"image/*\"\n          aria-label=\"Browse image\"/>\n      </div>\n    </div>\n\n  </div>\n\n  <div class='media-manager_preview' data-ng-show='ui.image.uploaded.length' data-sc-file-drop='handleUpload' data-ng-class=\"{selected: ui.image.uploaded[0] === staged.images[0]}\">\n\n    <div role=\"img\" alt=\"image upload preview\" class='media-manager_preview-image' data-ng-style=\"{'background-image': 'url(' + ui.image.uploaded[0].src + ')'}\" />\n\n    <button tabindex=\"-1\" aria-hidden=\"true\" class='media-manager_preview-reupload' data-ng-click='stage({image: ui.image.uploaded[0], libraryLoaded: false})'>\n\n  </div>\n</div>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/video/library/template","<div class='media-library'>\n  <div class='media-library_search'>\n    <input class='media-library_search-input'\n    placeholder='Search library' />\n    <i class='fa fa-search media-library_search-icon'></i>\n  </div>\n  <div class='media-library_results'>\n    <ul class='media-library_list'>\n      <li class='media-library_item'>\n        <img class='media-library_item-img' \n        src='https://placehold.it/500x300' />\n        <div class='media-library_item-selector'>\n      </li>\n      <li class='media-library_item'>\n        <img class='media-library_item-img' \n        src='https://placehold.it/500x300' />\n        <div class='media-library_item-selector'>\n      </li>\n      <li class='media-library_item selected'>\n        <img class='media-library_item-img' \n        src='https://placehold.it/500x300' />\n        <div class='media-library_item-selector'>\n      </li>\n      <li class='media-library_item'>\n        <img class='media-library_item-img' \n        src='https://placehold.it/500x300' />\n        <div class='media-library_item-selector'>\n      </li>\n    </ul>\n  </div>\n</div>")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/media/scMediaManager/video/link/template",'<div class="media-manager_linker">\n  <div class="media-manager_linker-preview" data-ng-show="!model.video">\n    <div class="media-manager_linker-preview-instruction">\n      <i class="fa fa-youtube-play media-manager_linker-preview-icon"></i>\n      <p class="media-manager_linker-preview-title">No preview available</p>\n    </div>\n  </div>\n\n  <div\n    class="media-manager_linker-video"\n    data-ng-show="model.video"\n    data-sc-video="model.video"\n  ></div>\n\n  <input\n    class="media-manager_linker-input"\n    placeholder="Paste a link to your video"\n    name="video_link"\n    data-ng-model="model.video"\n    data-sc-validate-video-url\n    data-ng-trim="true"\n  />\n\n  \x3c!-- <div data-ng-show="showFormError(\'video_link\')"_spec="video-errors">\n      <span data-ng-show="videoLinkForm.video_link.$error.videoUrl">\n        Please enter a valid video.\n      </span>\n    </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/feed/comment",'<div\n  class="comment_user-image-container"\n  data-ng-style="{\'background-color\': theme.styles.primaryColor}"\n  data-ng-class="{ \'is-blank\': !comment.commenter.thumbnail_small }"\n>\n  <span class="user-first-initial">\n    {{ comment.commenter ? getMemberFirstInitial(comment.commenter) : \'A\' }}\n  </span>\n\n  <img\n    class="comment_user-image"\n    data-ng-if="comment.commenter.thumbnail_small"\n    data-ng-src="{{ comment.commenter.thumbnail_small }}"\n    data-ng-style="{\'border-radius\': block.thumbnail[\'border-radius\']}"\n  />\n</div>\n\n<div class="comment_body">\n  <p class="comment_description">\n    <strong class="comment_author">{{ ::comment.commenter_name || Anonymous }}</strong>\n  </p>\n\n  <p class="comment_content" data-ng-bind="comment.body"></p>\n\n  <footer class="comment_meta">\n    <span class="comment_time" data-am-time-ago="comment.created_at"></span>\n\n    <button\n      class="comment_comments-new gray"\n      data-ng-if="comment.commenter.id == me.id || canManage"\n      data-ng-click="deleteComment(comment.id)"\n    >\n      Delete\n    </button>\n  </footer>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/feed/delete-comment-modal",'<div class="delete-comment" ng-class="{processing: loading}">\n  <h2 class="delete-comment_title">Are you sure?</h2>\n  <h3 class="delete-comment_subtitle">Deleting a comment can\'t be undone</h3>\n\n  <div class="delete-comment_button-container" ng-class="{hide: loading}">\n    <a href class="delete-comment_button cancel"\n      ng-click="$root.flowModal.close(false)"\n      ng-keydown="keyPressed($event)"\n      >\n      Cancel\n    </button>\n\n    <a href class="delete-comment_button delete"\n      ng-click="confirmDelete(commentId, feedable)"\n      ng-keydown="keyPressed($event, commentId, feedable)"\n      >\n      Delete\n    </a>\n  </div>\n\n  <div class="create-flow_processing">\n    <div class="create-flow_processing-spinner white"\n    data-ng-style="{color: ui.primaryColor}"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/feed/feed-item",'<div class="feed-item_main" data-ng-class="{provisional: comment.provisional}">\n  \x3c!-- Image --\x3e\n  <div\n    class="feed-item_user-image-container"\n    data-ng-style="{\'background-color\': theme.styles.primaryColor}"\n    data-ng-class="{ \'is-blank\': !showImage() }"\n  >\n    <span data-ng-if="feedItem.showName" class="user-first-initial">\n      {{ getMemberFirstInitial(feedItem) }}\n    </span>\n\n    <img\n      class="feed-item_user-image"\n      data-ng-if="!feedItem.showName"\n      data-ng-src="{{ feedItem.fallbackImg }}"\n      alt="Default"\n    />\n\n    <img\n      class="feed-item_user-image"\n      data-ng-if="showImage()"\n      data-ng-src="{{ feedItem.member.thumbnail_medium || feedItem.commenter.thumbnail_medium }}"\n      onerror="this.style.display = \'none\'"\n      alt="{{ (feedItem.member.first_name + \' \' + feedItem.member.last_name) || feedItem.member_name || feedItem.commenter_name || feedItem.agent_name || \'Anonymous\'}}\'s"\n    />\n  </div>\n\n  \x3c!-- Body --\x3e\n  <div class="feed-item_body">\n    <div class="feed-item_comments-and-desc">\n      \x3c!-- Description --\x3e\n      <p class="feed-item_description">\n        <strong class="feed-item_author" ng-if="feedItem.transaction">\n          {{ feedItem.business && feedItem.business.name ? feedItem.business.name : feedItem.member\n          && !feedItem.transaction.is_anonymous ? (feedItem.member.first_name + \' \' +\n          feedItem.member.last_name) : feedItem.transaction.member_name && true ?\n          feedItem.transaction.member_name : \'Anonymous\' }}\n        </strong>\n        <strong\n          class="feed-item_author"\n          ng-if="!feedItem.transaction && feedItem.showName"\n          data-ng-bind="feedItem.member_name || feedItem.commenter_name || feedItem.agent_name"\n        ></strong>\n        <span\n          class="feed-item_action"\n          ng-if="!displayLink && feedItem.linkable_type !== \'channel_fundraising_entity\'"\n          ng-bind-html="getActionText(feedItem)"\n        ></span>\n        <span\n          class="feed-item_action"\n          ng-if="feedItem.linkable_type === \'channel_fundraising_entity\'"\n        >\n          created a {{feedItem.linkable_value}}\n        </span>\n        <span\n          class="feed-item_action"\n          ng-if="displayLink && feedItem.linkable_type == \'fundraising_page\'"\n        >\n          created a\n          <a\n            href="{{\'/fundraiser/\'+ feedItem.linkable_id}}"\n            aria-label="View fundraising page {{feedItem.linkable_value}}"\n            >fundraising page</a\n          >\n        </span>\n        <span\n          class="feed-item_action"\n          ng-if="displayLink && feedItem.linkable_type == \'fundraising_team\'"\n        >\n          created a\n          <a\n            href="{{\'/team/\'+ feedItem.linkable_id}}"\n            aria-label="View fundraising team page {{feedItem.linkable_value}}"\n            >fundraising team</a\n          >\n        </span>\n      </p>\n\n      \x3c!-- Content --\x3e\n      <p\n        class="feed-item_content"\n        data-ng-if="feedItem.type === \'comment\'"\n        data-ng-bind="feedItem.comment || feedItem.body"\n      ></p>\n      <p\n        class="feed-item_content"\n        data-ng-if="(feedItem.linkable_type === \'donation\' || feedItem.linkable_type === \'offline_donation\') && feedItem.comment"\n        data-ng-bind="feedItem.comment"\n      ></p>\n\n      \x3c!-- Meta --\x3e\n      <footer class="feed-item_meta">\n        <span\n          class="feed-item_time"\n          ng-if="feedItem.linkable_effective_at || feedItem.created_at"\n          data-am-time-ago="feedItem.linkable_effective_at || feedItem.created_at"\n        ></span>\n        <span class="feed-item_time" ng-if="!feedItem.linkable_effective_at && !feedItem.created_at"\n          >just now</span\n        >\n\n        <span class="feed-item_comments-total" data-ng-if="feedItem.comments_count">\n          <i class="fa fa-comment-o"></i> {{ feedItem.comments_count || 0 }}\n        </span>\n\n        <button\n          class="feed-item_comments-new"\n          data-ng-if="me.id && allowCommenting && feedItem.feedable_type != \'update\' && !feedItem.demo"\n          data-ng-click="clickComment()"\n        >\n          Reply\n        </button>\n\n        <button\n          class="feed-item_comments-new gray"\n          data-ng-if="!feedItem.demo && allowCommenting && (feedItem.member_id == me.id || canManage) && (feedItem.type == \'comment\')"\n          data-ng-click="deleteComment(feedItem.id, true)"\n        >\n          Delete\n        </button>\n      </footer>\n    </div>\n  </div>\n\n  \x3c!-- Comments --\x3e\n  <div class="feed-item_comments-container">\n    <button\n      class="feed-item_comments-all"\n      data-ng-if="feedItem.comments_count > feedItem.comments.length"\n      data-ng-click="showMoreComments()"\n    >\n      Show Previous Comments\n    </button>\n\n    <ul class="feed-item_comments-feed">\n      <li\n        class="feed-item_comments-item comment"\n        data-ng-repeat="comment in feedItem.comments | orderBy:\'-\'"\n        data-ng-include="\'global/objects/scBlock/shared/feed/comment\'"\n        data-ng-class="{provisional: comment.provisional}"\n      ></li>\n    </ul>\n\n    <form\n      class="feed-item_comment-form"\n      data-ng-if="commentOpen && allowCommenting"\n      data-sc-submit="submitComment()"\n    >\n      <div class="feed-item_form-container">\n        <img\n          class="activity_comment-form-avatar"\n          data-ng-src="{{ me.thumbnail_medium ? me.thumbnail_medium : \'/static/global/images/user-icon.png\' }}"\n          data-ng-style="{\n                    \'border-radius\': block.thumbnail[\'border-radius\']\n                  }"\n          alt="{{ me.first_name}} {{me.last_name}}\'s"\n        />\n        <div class="feed-item_comment-box">\n          <input\n            class="feed-item_comment-input"\n            data-ng-model="form.commentBody"\n            data-sc-focus="focusComment"\n            ng-required\n            placeholder="Post a comment..."\n          />\n\n          <div class="feed-item_button-group">\n            <button\n              type="button"\n              data-ng-click="submitComment()"\n              class="admin-button__primary"\n              data-ng-style="{\'background-color\': theme.styles.primaryColor, \'border-color\': theme.styles.primaryColor}"\n            >\n              Post Comment\n            </button>\n\n            <a href data-ng-click="clickComment()" class="feed-item_link">Cancel</a>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/feed/template",'<div class="activity_content" data-ng-disabled="lock == true">\n  \x3c!-- Tabs --\x3e\n  <ul class="activity_tabs" data-ng-if="type != \'update\' && !hideActivityTabs" role="tablist">\n    <li\n      class="activity_tab"\n      data-ng-repeat="(typeKey, type) in types"\n      data-ng-if="!type.disable"\n      data-ng-click="switchType(typeKey)"\n      data-ng-class="{active: typeKey === activeType}"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{typeKey === activeType ? \'true\' : \'false\'}}"\n    >\n      {{::type.tabName}}\n      \x3c!-- <span class="activity_tab-count">{{type.total}}</span> --\x3e\n    </li>\n  </ul>\n\n  <div class="activity_comment-section" role="tabpanel">\n    <form\n      class="activity_comment-form"\n      name="submitCommentForm"\n      data-sc-submit="submitComment()"\n      data-ng-if="me.id && (activeType === \'all\' || activeType === \'comments\') && block.allowCommenting"\n      data-ng-class="{\'supporter\': type === \'fundraising-page\' || type === \'fundraising-team\'}"\n    >\n      <div class="activity_comment-container">\n        <img\n          class="activity_comment-form-avatar"\n          data-ng-src="{{ me.thumbnail_medium ? me.thumbnail_medium : \'/static/global/images/higher_contrast_individual_default_image.png\' }}"\n          data-ng-style="{\n            \'border-radius\': block.thumbnail[\'border-radius\']\n          }"\n          alt="{{ me.first_name}} {{me.last_name}}\'s"\n        />\n        <div class="activity_comment-input-section">\n          <label class="form_label" id="post_comment">Post a comment</label>\n          <input\n            class="activity_comment-input"\n            data-ng-model="form.comment"\n            placeholder="Post a comment..."\n            aria-labelledby="post_comment"\n          />\n        </div>\n      </div>\n    </form>\n\n    \x3c!-- Activity feed --\x3e\n    <div\n      class="activity_feed"\n      data-ng-class="{\'p2p\': type == \'fundraising-page\' || type == \'fundraising-team\'}"\n      role="list"\n    >\n      <div\n        class="feed-item_empty-state"\n        data-ng-if="activeType == \'donations\' && (feed | filter:matchType).length === 0"\n      >\n        Be the first to\n        <a\n          ng-href="{{ getDonationLink() }}"\n          data-ng-style="{\'color\': theme.styles.primaryColor || \'#000\'}"\n          target="_self"\n          >donate</a\n        >\n        to this amazing cause\n      </div>\n\n      <article\n        class="feed-item"\n        data-ng-repeat="feedItem in feed | filter:matchType"\n        data-sc-feed-item="feedItem"\n        data-demo="demo"\n        data-theme="theme"\n        data-block="block"\n        data-me="me"\n        ,\n        data-allow-commenting="allowCommenting"\n        aria-label="{{$index+1}} activity"\n        role="listitem"\n        data-ng-hide="feedItem.hideActivity"\n      ></article>\n    </div>\n    <button\n      class="activity_feed-load-btn"\n      data-ng-if="displayLoadMore"\n      ng-click="loadMoreFeedItems()"\n      tabindex="0"\n    >\n      Show more\n      <i class="fa fa-chevron-down"></i>\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/subteams/template",'<div class="subteam-spinner" data-ng-if="loading" us-spinner></div>\n\n<div class="subteam-nav" data-ng-if="subteams.length">\n  <div class="subteam-search-field">\n    <i class="fa fa-search"></i>\n    <input\n      class="subteam-search"\n      type="text"\n      placeholder="Search"\n      data-ng-model="query.queryString"\n    />\n  </div>\n</div>\n\n<div class="subteam-list">\n  <a\n    class="subteam"\n    data-ng-repeat="subteam in pagedSubteams"\n    ng-href="{{ \'/team/\' + subteam.id }}"\n  >\n    <div class="subteam-image">\n      <img class="subteam-image-src" data-ng-src="{{logoSrc(subteam)}}" />\n    </div>\n\n    <div class="subteam-details">\n      <span class="subteam-name">{{subteam.name}}</span>\n      <div class="subteam-progress" data-ng-if="!mobile">\n        <div\n          class="subteam-progress-bar"\n          data-ng-style="{\'width\': subteam.percent_to_goal + \'%\'}"\n        ></div>\n      </div>\n      <div class="subteam-details_text" data-ng-if="!mobile">\n        <span class="subteam-captain">\n          {{subteam.team_lead.first_name}} {{subteam.team_lead.last_name}}\n        </span>\n        <span data-ng-if="!hideMemberCount" class="subteam-members"\n          >{{subteam.total_fundraisers}} Members</span\n        >\n        <span class="subteam-raised">{{ subteam.percent_to_goal || 0 }}%</span>\n      </div>\n      <div class="subteam-details_text" data-ng-if="mobile">\n        {{:: subteam.total_raised | currency : \'$\' }} Raised\n      </div>\n    </div>\n    <div class="subteam-details_arrow">\n      <div class="subteam-details_arrow-icon"></div>\n    </div>\n  </a>\n</div>\n\n<div\n  data-sc-paging="getSubteamsEndpoint"\n  data-ng-model="pagedSubteams"\n  data-per-page="10"\n  data-filter="filter"\n></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/about/desktop",'<section\n  class="about"\n  data-ng-click="scrollToElement(\'sc-target-about\')"\n  data-ng-if="block.content || block.headline"\n  role="region"\n  aria-label="about the campaign"\n>\n  <div data-sc-block-bg="block.background" data-fallback-color="theme.styles.aboutBgColor"></div>\n\n  <div class="about_inner-content">\n    <h2\n      class="frs-header frs-header_title white"\n      data-ng-click="scrollToElement(\'sc-target-about-headline\')"\n      data-ng-model="block.headline"\n      ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n      data-ng-style="{color:block.headlineColor}"\n      data-froala="froalaOptionsTitle"\n    ></h2>\n\n    <h2\n      class="frs-header frs-header_title"\n      ng-if="(!editable || getLock(\'headline\')) && !block.hideHeadline"\n      sc-lock-field="getLock(\'headline\') && editable"\n      opacity="1"\n      data-ng-style="{color:block.headlineColor}"\n      data-ng-bind-html="block.headline | scTrustedHtml"\n    ></h2>\n\n    <div\n      class="frs-content about_content"\n      data-sc-filler-text="contentOptions"\n      data-title-container="\'.about_content\'"\n      data-parent-container="\'.about_content\'"\n      data-ng-style="{color:theme.styles.aboutContentColor}"\n    >\n      <div\n        class="froala-editor about_content"\n        data-ng-click="scrollToElement(\'sc-target-about-content\')"\n        data-ng-model="block.content"\n        data-ng-if="editable && !getLock(\'content\')"\n        data-froala="froalaOptionsContent"\n      ></div>\n      <div\n        class="about_content"\n        sc-responsive-video\n        data-ng-if="!editable || getLock(\'content\')"\n        sc-lock-field="getLock(\'content\') && editable"\n        opacity="1"\n        ng-bind-html="block.content | scImgAssetRef | userLinks | scTrustedHtml "\n      ></div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/about/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  data-sc-pristine-load\n  novalidate\n>\n  <div ng-class="{\'fields-disable\': block.disable}">\n    \x3c!-- Headline --\x3e\n    <div class="form_field full">\n      <label class="edit-design-form__label" id="sc-target-about-headline">Headline</label>\n      <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n      </froala-field>\n\n      <checkbox-control ng-model="block.hideHeadline"> Hide headline </checkbox-control>\n    </div>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline">Headline color</label>\n      <color-picker-field\n        data-model="block.headlineColor"\n        data-style-class="\'edit-design-form\'"\n      ></color-picker-field>\n    </fieldset>\n\n    <div class="form_field full" id="sc-target-about-content">\n      <label class="edit-design-form__label"> Content </label>\n\n      <froala-field model="block.content" name="\'content\'" froala-options="aboutOptions">\n      </froala-field>\n    </div>\n\n    <label class="edit-design-form__label--primary" id="sc-target-about"> Background </label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Color</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.background.color"\n          data-swatch-size="25"\n          data-fallback-color="theme.styles.primaryColor"\n        ></div>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline">Image</label>\n      <div class="form_field-input">\n        <div\n          data-sc-img-list="block.background.image"\n          name="aboutBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="bgMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 1280 x 720 px image.</p>\n    </fieldset>\n\n    <div data-ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <label class="edit-design-form__label--inline"> Image position </label>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/activity/desktop",'<section\n  class="activity"\n  data-ng-click="scrollToElement(\'sc-target-activity\')"\n  role="region"\n  aria-label="campaign activity"\n>\n  <div class="activity_container">\n    \x3c!-- Headline --\x3e\n    <h2\n      class="fundraisers-block_title clickable-element"\n      data-ng-model="block.headline"\n      ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n      data-ng-click="scrollToElement(\'sc-target-activity-headline\')"\n      data-froala="froalaOptionsPreviewHeadline"\n    ></h2>\n\n    <h2\n      class="fundraisers-block_title"\n      ng-if="(!editable && block.headline && !block.hideHeadline) || getLock(\'headline\')"\n      sc-lock-field="getLock(\'headline\') && editable"\n      opacity="1"\n      data-ng-bind-html="block.headline | scTrustedHtml"\n    ></h2>\n\n    \x3c!-- Call to Action --\x3e\n    <div\n      class="frs-subheader"\n      data-ng-click="scrollToElement(\'sc-target-activity-cta\')"\n      data-ng-model="block.cta"\n      data-ng-if="editable && !getLock(\'cta\')"\n      data-froala="froalaOptionsPreviewContent"\n    ></div>\n\n    <div\n      class="frs-subheader"\n      data-ng-if="(!editable && block.cta) || getLock(\'cta\')"\n      sc-lock-field="getLock(\'cta\') && editable"\n      opacity="1"\n      data-ng-bind-html="block.cta | userLinks | scTrustedHtml"\n    ></div>\n\n    \x3c!-- Feed --\x3e\n    <div\n      data-sc-feed="campaign"\n      data-type="campaign"\n      data-allow-commenting="block.allowCommenting"\n      data-block="block"\n      data-lock="demo"\n      data-theme="theme"\n    ></div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/activity/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.update()"\n  data-sc-submit-error-function="showFormError"\n  data-sc-pristine-load\n  novalidate\n>\n  <div ng-class="{\'fields-disable\': block.disable}">\n    <label class="edit-design-form__label main" id="sc-target-activity-headline">Headline</label>\n    <div class="form_field full">\n      <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n      </froala-field>\n      <checkbox-control ng-model="block.hideHeadline"> Hide headline </checkbox-control>\n    </div>\n\n    <div class="form_field full" id="sc-target-activity-cta">\n      <label class="edit-design-form__label">Content</label>\n      <froala-field model="block.cta" name="\'blockCTA\'" froala-options="aboutOptions">\n      </froala-field>\n    </div>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Allow Commenting</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          id="allowCommenting"\n          name="\'allowCommenting\'"\n          data-model="block.allowCommenting"\n          toggle-label="Click to {{ block.allowCommenting ? \'disallow\' : \'allow\'}} Commenting"\n        ></toggle-field>\n      </div>\n    </fieldset>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/desktop",'\x3c!-- Block --\x3e\n<section\n  class="crowdfunding"\n  data-ng-click="scrollToElement(\'sc-target-cf-bg\')"\n  _spec="crowdfundingBlock"\n  role="region"\n  aria-label="headline"\n>\n  <div\n    data-sc-block-bg="block.background"\n    data-fallback-color="theme.styles.background.color"\n    data-image-bg-color="rgb(0,0,0)"\n    data-fallback-img="theme.styles.background.image.asset"\n  ></div>\n\n  {{ theme.styles.background.image }}\n\n  <div id="spinner" data-ng-if="!public" data-sc-background-image-spin data-page="page"></div>\n\n  <div class="crowdfunding_overlay" data-ng-show="_.isEmpty( block.bgImg.src ) == false"></div>\n\n  \x3c!-- Outer container --\x3e\n  <div\n    class="crowdfunding_wrapper"\n    data-ng-class="{\'no-media\': !block.useFeatured, \'no-headline\': block.hideHeadline || !block.headline, \'no-days-left\': daysLeft === null, \'with-media\': block.useFeatured, \'dynamic\': block.dynamicHeight }"\n  >\n    <div class="crowdfunding_wrap-inner">\n      <div class="p2p-crowdfunding_wrap-w-margin">\n        \x3c!-- Headline --\x3e\n        <div\n          class="crowdfunding_header"\n          data-ng-if="!block.replaceHeadline"\n          data-ng-style="{\'color\': theme.styles.headlineColor}"\n        >\n          <div\n            id="froala-editor"\n            class="froala-editor"\n            data-ng-click="scrollToElement(\'sc-target-cf-headline\')"\n            data-ng-model="block.headline"\n            data-froala="froalaOptionsPreview"\n            ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n          ></div>\n\n          <span\n            class="crowdfunding_header-title"\n            data-ng-bind-html="block.headline| scParagraphToHeadings| scTrustedHtml"\n            data-ng-if="(block.headline && !block.hideHeadline && !editable) || getLock(\'headline\')"\n            sc-lock-field="getLock(\'headline\') && editable"\n            opacity="1"\n          ></span>\n        </div>\n\n        <div class="crowdfunding_headline-image-container">\n          <img\n            class="crowdfunding_headline-image clickable-element"\n            alt="{{block.headlineImage.image.alt || block.headlineImage.image.title}}"\n            data-ng-if="block.replaceHeadline && block.headlineImage.image.src"\n            data-ng-click="scrollToElement(\'sc-target-headline-image\')"\n            ng-src="{{block.headlineImage.image.src}}"\n          />\n        </div>\n\n        <div\n          class="crowdfunding_headline-image-placeholder"\n          data-ng-if="block.replaceHeadline && !block.headlineImage.image.src"\n        ></div>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class="crowdfunding_wrap"\n    data-ng-class="{\n      \'no-media\': !block.useFeatured,\n      \'no-headline\': block.hideHeadline || !block.headline,\n      \'no-days-left\': daysLeft === null,\n      \'with-media\': block.useFeatured,\n      \'button-only\': (!block.enableProgressBar && !block.enableProgressMetrics && !block.enableDaysLeft && !block.enablePercentOfGoal && !block.useFeatured)\n    }"\n  >\n    <div class="crowdfunding_wrap-w-margin">\n      \x3c!-- Content --\x3e\n      <div\n        class="crowdfunding_featured"\n        data-ng-class="{\'with-progress-stats\': block.enableProgressBar || block.enableProgressMetrics}"\n        data-ng-click="scrollToElement(\'sc-target-featured-media\')"\n        role="region"\n        aria-label="featured"\n      >\n        \x3c!-- Featured Media --\x3e\n        <div class="crowdfunding_featured-media clickable-element" data-ng-if="block.useFeatured">\n          \x3c!-- Featured Media :: Slideshow --\x3e\n          <div class="crowdfunding_featured-media-slider-pane">\n            <div\n              class="crowdfunding_featured-media-slider"\n              data-ng-if="block.useFeatured"\n              data-sc-slideshow="slideshowAPI"\n              data-hide-controls="block.hideFeaturedCtrls"\n            ></div>\n          </div>\n        </div>\n\n        \x3c!-- Featured Content --\x3e\n        <div class="crowdfunding_featured-content">\n          <div\n            class="crowdfunding_progress clickable-element"\n            data-ng-click="scrollToElement(\'sc-target-progressbar\')"\n            data-ng-if="block.enableProgressBar"\n            data-enable-progress-bar="block.enableProgressBar"\n            data-sc-campaign-progress\n            data-entity="campaign"\n            data-has-stats-hidden="true"\n            data-btn-color="block.progressBarColor || theme.styles.primaryColor"\n            data-background-color="block.progressBarBgColor"\n            data-theme="theme"\n            data-supporters="campaign.overview.donors_count"\n            data-ends-at="campaign.ended_at"\n            data-campaign-type="campaign.type"\n          ></div>\n\n          \x3c!-- Data Blocks --\x3e\n          <div\n            class="crowdfunding_data clickable-element"\n            data-ng-if="block.enableProgressMetrics"\n            data-ng-click="scrollToElement(\'sc-target-metrics\')"\n          >\n            <div\n              class="crowdfunding_data-item crowdfunding_data-item-percent"\n              data-ng-if="block.enablePercentOfGoal"\n            >\n              <strong class="crowdfunding_stat" ng-bind="percentRaised"></strong>\n              <span class="crowdfunding_stat-label">of goal</span>\n            </div>\n\n            <div\n              class="crowdfunding_data-item crowdfunding_data-item-supporters"\n              data-ng-if="block.enableNumSupporters"\n            >\n              <strong class="crowdfunding_stat" ng-bind="supporters"></strong>\n              <span\n                class="crowdfunding_stat-label"\n                ng-pluralize\n                data-count="supporters"\n                data-when="{\'1\':\'supporter\',\'other\':\'supporters\'}"\n              ></span>\n            </div>\n\n            <div\n              class="crowdfunding_data-item crowdfunding_data-item-days"\n              ng-if="!campaign.is_ended_at_hidden && block.enableDaysLeft && campaign.ended_at"\n            >\n              <strong class="crowdfunding_stat">{{campaign.ended_at | scDaysRemaining}}</strong>\n              <span\n                class="crowdfunding_stat-label"\n                data-ng-pluralize\n                data-count="campaign.ended_at | scDaysRemaining"\n                data-when="{\n                  \'1\':\'day left\',\n                  \'other\':\'days left\'\n                }"\n              ></span>\n            </div>\n          </div>\n\n          \x3c!-- Donate Button --\x3e\n          <div\n            class="crowdfunding_donate clickable-element"\n            data-ng-click="scrollToElement(\'sc-target-donate\')"\n          >\n            <div\n              class="crowdfunding_donate-button"\n              data-ng-if="editable"\n              data-ng-style="donateButtonStyle()"\n            >\n              <input\n                class="form_transparent-input"\n                type="text"\n                placeholder="Type a call to action!"\n                data-ng-model="block.donateButtonText"\n                aria-label="Click to {{block.donateButtonText}} Button"\n              />\n            </div>\n\n            <a\n              class="crowdfunding_donate-button"\n              data-ng-if="!editable"\n              ng-href="{{ \'/give/\' + campaign.id + \'/\' + ( SC.preview ? \'?preview=true\' : \'\' ) + \'#!/donation/checkout\' }}"\n              data-sc-donate-preview="demo"\n              data-ng-style="donateButtonStyle()"\n              target="_self"\n              aria-label="Click to make a donation"\n            >\n              {{block.donateButtonText}}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/mobile-ls",'<section class="crowdfunding">\n  <div class="crowdfunding_wrapper">\n    <div\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.styles.background.color"\n      data-fallback-img="theme.styles.background.image.asset"\n    ></div>\n\n    <div class="crowdfunding_featured-media-slider-pane">\n      <div\n        class="crowdfunding_featured-media-slider"\n        data-sc-slideshow="mobileSlideshowAPI"\n        data-hide-controls="block.hideFeaturedCtrls"\n      ></div>\n      <div\n        class="crowdfunding_featured"\n        ng-class="block.enableProgressMetrics || block.enableProgressBar ? \'with-progress-stats\' : \'without-progress-stats\'"\n      >\n        <div class="crowdfunding_featured-content">\n          <div\n            class="crowdfunding_progress"\n            data-is-ended-at-hidden="campaign.is_ended_at_hidden"\n            data-is-percent-hidden="!block.enablePercentOfGoal"\n            data-enable-progress-bar="block.enableProgressBar"\n            data-sc-campaign-progress\n            data-has-stats-hidden="!block.enableProgressMetrics"\n            data-entity="campaign"\n            data-btn-color="block.progressBarColor || theme.styles.primaryColor"\n            data-background-color="block.progressBarBgColor"\n            data-theme="theme"\n            data-supporters="campaign.overview.donors_count"\n            data-enable-supporters="block.enableNumSupporters"\n            data-ends-at="campaign.ended_at"\n            data-campaign-type="campaign.type"\n          ></div>\n\n          <a\n            class="crowdfunding_donate-button"\n            ng-href="{{ \'/give/\' + campaign.id + \'/\' + ( SC.preview ? \'?preview=true\' : \'\' ) + \'#!/donation/checkout\' }}"\n            data-sc-donate-preview="demo"\n            data-ng-style="donateButtonStyle()"\n            target="_self"\n          >\n            {{block.donateButtonText}}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/p2p-desktop",'\x3c!-- Block --\x3e\n<section\n  class="p2p-crowdfunding"\n  data-ng-click="scrollToElement(\'sc-target-cf-bg\')"\n  role="region"\n  aria-label="headline"\n>\n  <div\n    data-sc-block-bg="block.background"\n    data-fallback-color="theme.styles.background.color"\n    data-image-bg-color="rgb(0,0,0)"\n    data-fallback-img="theme.styles.background.image.asset"\n  ></div>\n\n  <div id="spinner" data-ng-if="!public" data-sc-background-image-spin data-page="page"></div>\n\n  <div class="crowdfunding_overlay" data-ng-show="_.isEmpty( block.bgImg.src ) == false"></div>\n\n  \x3c!-- Outer container --\x3e\n  <div\n    class="p2p-crowdfunding_wrap"\n    data-ng-class="{\'no-media\': !block.useFeatured, \'no-headline\': block.hideHeadline || !block.headline, \'no-days-left\': daysLeft === null, \'dynamic\': block.dynamicHeight }"\n  >\n    <div class="p2p-crowdfunding__grid">\n      <div class="p2p-crowdfunding_wrap-content">\n        \x3c!-- Headline --\x3e\n        <div\n          data-ng-if="block.headline && !block.replaceHeadline"\n          class="p2p-crowdfunding_header"\n          data-ng-style="{\'color\': theme.styles.headlineColor}"\n          data-sc-filler-text\n          data-title-container="\'.crowdfunding_header-title\'"\n          data-parent-container="\'.p2p-crowdfunding_header\'"\n        >\n          <div\n            class="froala-editor"\n            data-ng-click="scrollToElement(\'sc-target-cf-headline\')"\n            data-ng-model="block.headline"\n            data-froala="froalaOptionsPreview"\n            ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n          ></div>\n\n          <span\n            class="crowdfunding_header-title"\n            data-ng-bind-html="block.headline |scParagraphToHeadings |scTrustedHtml"\n            ng-if="block.headline && !block.hideHeadline && (!editable || getLock(\'headline\'))"\n            sc-lock-field="getLock(\'headline\') && editable"\n          ></span>\n        </div>\n\n        <div class="p2p-crowdfunding_headline-image-container">\n          <img\n            class="p2p-crowdfunding_headline-image clickable-element"\n            alt="{{block.headlineImage.image.alt || block.headlineImage.image.title}}"\n            data-ng-if="block.replaceHeadline && block.headlineImage.image.src"\n            data-ng-click="scrollToElement(\'sc-target-headline-image\')"\n            ng-src="{{block.headlineImage.image.src}}"\n          />\n        </div>\n\n        <div\n          class="p2p-crowdfunding_headline-image-placeholder"\n          data-ng-if="block.replaceHeadline && !block.headlineImage.image.src"\n        ></div>\n\n        \x3c!-- Content --\x3e\n        <div class="p2p-crowdfunding_featured">\n          \x3c!-- Featured Content --\x3e\n          <div class="p2p-crowdfunding_featured-content">\n            <div\n              class="p2p-crowdfunding_progress clickable-element"\n              data-ng-click="scrollToElement(\'sc-target-progressbar\');"\n            >\n              <div\n                class="p2p-crowdfunding_progress-bar"\n                data-ng-if="block.enableProgressBar"\n                data-sc-campaign-progress\n                data-entity="campaign"\n                data-has-stats-hidden="!block.enableProgressMetrics"\n                data-btn-color="block.progressBarColor || theme.styles.primaryColor"\n                data-background-color="block.progressBarBgColor"\n                data-theme="theme"\n                data-supporters="campaign.overview.donors_count"\n                data-ends-at="campaign.ended_at"\n                data-campaign-type="campaign.type"\n              ></div>\n\n              \x3c!-- Data Blocks --\x3e\n              <div class="p2p-crowdfunding_data"></div>\n            </div>\n\n            <div class="p2p-crowdfunding_button-container">\n              <div\n                class="p2p-crowdfunding_button join clickable-element"\n                data-ng-style="joinButtonStyle()"\n                data-ng-click="scrollToElement(\'sc-target-join\')"\n                data-ng-if="editable && campaign.allow_fundraising_pages"\n              >\n                <textarea\n                  msd-elastic\n                  class="form_transparent-input"\n                  rows="1"\n                  type="text"\n                  placeholder="Type a call to action!"\n                  data-ng-model="block.joinButtonText"\n                  aria-label="Click to {{block.joinButtonText}} Button"\n                ></textarea>\n              </div>\n              <button\n                class="p2p-crowdfunding_button join"\n                tabindex="0"\n                data-ng-if="!editable && campaign.allow_fundraising_pages"\n                data-ng-style="joinButtonStyle()"\n                data-ng-click="fundraiseSwitch()"\n                target="_self"\n                ng-disabled="disableJoinButton()"\n              >\n                {{block.joinButtonText}}\n              </button>\n\n              <div\n                class="p2p-crowdfunding_button donate clickable-element"\n                data-ng-if="editable"\n                data-ng-click="scrollToElement(\'sc-target-donate\')"\n                data-ng-style="donateButtonStyle()"\n              >\n                <textarea\n                  msd-elastic\n                  class="form_transparent-input"\n                  rows="1"\n                  type="text"\n                  placeholder="Type a call to action!"\n                  data-ng-model="block.donateButtonText"\n                  aria-label="Click to {{block.donateButtonText}} Button"\n                ></textarea>\n              </div>\n              <a\n                class="p2p-crowdfunding_button donate"\n                role="link"\n                target="_self"\n                data-sc-donate-preview="demo"\n                data-ng-if="!editable"\n'+"                data-ng-href=\"{{ '/give/' + campaign.id + '/' + (SC.preview ? '?preview=true' : '') + '#!/donation/checkout' }}\"\n                data-ng-style=\"donateButtonStyle()\"\n              >\n                {{block.donateButtonText}}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/rwf-desktop",'\x3c!-- Block --\x3e\n<section\n  class="rwf-hero"\n  ng-click="scrollToElement(\'sc-target-cf-bg\')"\n  ng-class="{ \'dynamic\': block.dynamicHeight }"\n  _spec="rwfHeroBlock"\n  role="region"\n  aria-label="headline"\n>\n  <div\n    sc-block-bg="block.background"\n    fallback-color="theme.styles.background.color"\n    image-bg-color="rgb(0,0,0)"\n    fallback-img="theme.styles.background.image"\n  ></div>\n\n  <div id="spinner" ng-if="!public" sc-background-image-spin page="page"></div>\n\n  <div class="crowdfunding_overlay" ng-show="_.isEmpty( block.bgImg.src ) == false"></div>\n  <div class="rwf-hero__grid-container">\n    \x3c!-- new outer container --\x3e\n    <div class="rwf-hero__grid">\n      \x3c!-- row for headline --\x3e\n      <div ng-class="layoutClass.row">\n        <div\n          ng-if="block.headline && !block.replaceHeadline"\n          class="rwf-hero__headline"\n          ng-style="{\'color\': theme.styles.headlineColor}"\n          sc-filler-text\n          title-container="\'.crowdfunding_header-title\'"\n          parent-container="\'.crowdfunding_header-title\'"\n        >\n          <div\n            class="froala-editor"\n            ng-click="scrollToElement(\'sc-target-cf-headline\')"\n            ng-model="block.headline"\n            froala="froalaOptionsPreview"\n            ng-if="editable && !block.hideHeadline && isPreview() && !getLock(\'headline\')"\n            role="heading"\n            aria-level="2"\n          ></div>\n\n          <span\n            class="crowdfunding_header-title"\n            ng-bind-html="block.headline | scTrustedHtml"\n            sc-lock-field="true"\n            opacity="1"\n            ng-if="editable && getLock(\'headline\')"\n            role="heading"\n            aria-level="2"\n          ></span>\n\n          <span\n            class="crowdfunding_header-title"\n            ng-bind-html="block.headline | scTrustedHtml"\n            ng-if="block.headline && !block.hideHeadline && !editable"\n            role="heading"\n            aria-level="{{ isPreview() ? 2 : 1 }}"\n          ></span>\n        </div>\n\n        <div class="rwf-hero__headline" ng-if="block.replaceHeadline">\n          <div class="rwf-hero_headline-image-container">\n            <img\n              class="rwf-hero_headline-image clickable-element"\n              ng-if="block.headlineImage.image.src"\n              alt="{{block.headlineImage.image.alt || block.headlineImage.image.title}}"\n              ng-click="scrollToElement(\'sc-target-headline-image\')"\n              ng-src="{{block.headlineImage.image.src}}"\n            />\n          </div>\n        </div>\n\n        <div\n          class="rwf-hero_headline-image-placeholder"\n          ng-if="!block.headlineImage.image.src && block.replaceHeadline"\n        ></div>\n      </div>\n\n      \x3c!-- row for event date, parsed nicely --\x3e\n      <div\n        class="clickable-element"\n        ng-class="layoutClass.row"\n        ng-if="block.showDateAndTime"\n        ng-click="scrollToElement(\'sc-target-rwf-header-date\')"\n      >\n        <div\n          class="rwf-hero__date"\n          ng-style="{\'color\': theme.styles.headlineColor}"\n          ng-if="!block.dateAndTime"\n        >\n          {{prettyStartedAt}}\n        </div>\n\n        <div\n          class="rwf-hero__date"\n          ng-style="{\'color\': theme.styles.headlineColor}"\n          ng-bind-html="block.dateAndTime | scTrustedHtml"\n          ng-if="block.dateAndTime"\n        ></div>\n      </div>\n\n      \x3c!-- row for venue, parsed nicely --\x3e\n      <div\n        ng-class="layoutClass.row"\n        ng-if="block.showVenueLocation && (block.venueLocation || prettyVenue)"\n      >\n        <div\n          class="rwf-hero__venue"\n          ng-style="{\'color\': theme.styles.headlineColor}"\n          ng-if="!block.venueLocation"\n        >\n          {{prettyVenue}}\n        </div>\n\n        <div\n          class="rwf-hero__venue"\n          ng-bind-html="block.venueLocation | scTrustedHtml"\n          ng-style="{\'color\': theme.styles.headlineColor}"\n          ng-if="block.venueLocation"\n        ></div>\n      </div>\n\n      \x3c!-- row for buttons --\x3e\n      <div ng-class="layoutClass.buttons">\n        <div\n          class="rwf-hero__button--left"\n          ng-if="campaign.type === \'ticketed\' || campaign.allow_fundraising_pages"\n        >\n          <div\n            class="rwf-hero__button join clickable-element"\n            ng-style="joinButtonStyle()"\n            ng-click="scrollToElement(\'sc-target-register\')"\n            ng-if="editable && !getLock(\'joinButtonText\')"\n          >\n            <textarea\n              msd-elastic\n              class="form_transparent-input"\n              type="text"\n              froala="registerFroalaOptionsColors"\n              placeholder="Type a call to action!"\n              ng-model="block.joinButtonText"\n            ></textarea>\n          </div>\n          <button\n            class="rwf-hero__button join"\n            ng-if="!editable || getLock(\'joinButtonText\')"\n            ng-style="joinButtonStyle()"\n            ng-click="handleRegistrationSwitch($event)"\n            ng-keydown="handleRegistrationSwitch($event)"\n            target="_self"\n            ng-disabled="disableJoinButton()"\n            ng-bind-html="block.joinButtonText | scTrustedHtml"\n            tabindex="0"\n            role="{{campaign.type === \'ticketed\' ? \'link\' : \'button\'}}"\n          ></button>\n        </div>\n        \x3c!-- ! CL-8041 - class isn\'t necessary if register btn is hidden --\x3e\n        <div data-ng-class="displayRegisterBtn ? \'rwf-hero__button--right\' : \'\' ">\n          <div\n            class="rwf-hero__button donate clickable-element"\n            ng-if="editable && !getLock(\'donateButtonText\')"\n            ng-click="scrollToElement(\'sc-target-donate\')"\n            ng-style="rwfShadeButtonStyle()"\n          >\n            <textarea\n              msd-elastic\n              class="form_transparent-input"\n              type="text"\n              froala="donateNowFroalaOptionsColors"\n              placeholder="Type a call to action!"\n              ng-model="block.donateButtonText"\n            ></textarea>\n          </div>\n          <a\n            class="rwf-hero__button donate"\n            role="link"\n            target="_self"\n            ng-if="!editable || (editable && getLock(\'donateButtonText\'))"\n            sc-donate-preview="demo"\n            ng-href="{{ \'/give/\' + campaign.id + \'/\' + ( SC.preview ? \'?preview=true\' : \'\' ) + \'#!/donation/checkout\' }}"\n            ng-style="rwfShadeButtonStyle()"\n            ng-bind-html="block.donateButtonText | scTrustedHtml"\n            aria-label="Donate now, Click to make a donation"\n          >\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  novalidate\n  data-sc-submit="block.update()"\n  data-sc-submit-error-function="showFormError"\n>\n  <div ng-class="{\'fields-disable\': block.disable}">\n    <fieldset data-ng-if="campaign.IS_TICKETED" class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" id="sc-target-crowdfunding-layout">\n          Alignment\n        </label>\n      </div>\n      <div\n        class="edit-design-form_inline-field"\n        ng-class="{\'admin-body__lock-field\':lockLayoutPosition}"\n      >\n        <div\n          ng-if="lockLayoutPosition"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'"\n          hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n        ></div>\n        <select\n          data-ng-model="block.layoutPosition"\n          data-ng-disabled="lockLayoutPosition"\n          aria-label="Select alignment"\n          qa-id="{{ scQaId.selectField }}"\n          class="edit-design-form_select"\n          name="layout-position"\n        >\n          <option label="Center" value="center">Center</option>\n          <option label="Left" value="left">Left</option>\n        </select>\n        <label for="layout-position" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-headline-image">\n      <label class="edit-design-form__label">Headline Image</label>\n      <label class="edit-design-form__sublabel">Replace headline info with image</label>\n\n      <toggle-field\n        data-model="block.replaceHeadline"\n        name="\'replaceHeadline\'"\n        toggle-label="Click to {{ block.replaceHeadline ? \'hide\' : \'show\'}} Headline Image block"\n      ></toggle-field>\n    </fieldset>\n\n    <fieldset class="form_field full" data-ng-if="block.replaceHeadline">\n      <label class="edit-design-form__label">Headline</label>\n\n      <image-list-field\n        data-model="block.headlineImage.image"\n        data-config="headlineImgMediaManagerOptions"\n      ></image-list-field>\n    </fieldset>\n\n    <fieldset class="form_field full" data-ng-if="block.replaceHeadline && block.headlineImage.image">\n      <input-field\n        class="form__field full"\n        model="block.headlineImage.image.alt"\n        label="\'Add alt text\'"\n        maxlength="CHAR_LIMITS.DEFAULT_ALT_TEXT"\n        counter="true"\n        data-lock-field="locks.headlineImage.image.locked"\n        ></input-field>\n      </fieldset>\n\n    \x3c!-- Headline --\x3e\n    <fieldset class="form_field full" data-ng-if="!block.replaceHeadline">\n      <label class="edit-design-form__label" id="sc-target-cf-headline">Headline</label>\n      <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n      </froala-field>\n      <checkbox-control ng-model="block.hideHeadline"> Hide headline </checkbox-control>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Headline color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="theme.styles.headlineColor"\n        data-swatch-size="25"\n      ></div>\n    </fieldset>\n\n    <fieldset\n      class="form_field full"\n      data-ng-if="campaign.IS_TICKETED"\n      id="sc-target-rwf-header-date"\n    >\n      <label class="edit-design-form__label" id="sc-target-cf-datetime">Date and time</label>\n      <input-field\n        data-model="block.dateAndTime"\n        name="\'datetime\'"\n        data-placeholder="\'Defaults to event start date\'"\n      ></input-field>\n      <checkbox-control ng-model="block.showDateAndTime" flipped="true">\n        Hide date and time\n      </checkbox-control>\n    </fieldset>\n\n    <fieldset class="form_field full" data-ng-if="campaign.IS_TICKETED">\n      <label class="edit-design-form__label--inline" id="sc-target-cf-venuelocation"\n        >Venue and location</label\n      >\n      <input-field\n        data-model="block.venueLocation"\n        name="\'venuelocation\'"\n        data-placeholder="\'Defaults to event venue and location\'"\n      ></input-field>\n      <checkbox-control ng-model="block.showVenueLocation" flipped="true">\n        Hide venue and location\n      </checkbox-control>\n    </fieldset>\n\n    <fieldset\n      class="form_field full"\n      id="sc-target-featured-media"\n      data-ng-if="campaign.current.type !== \'p2p\' && !campaign.IS_TICKETED"\n    >\n      <legend class="form_label-toggle">\n        <label class="edit-design-form__label main">Featured Media</label>\n      </legend>\n\n      \x3c!-- Images --\x3e\n      <div class="edit-design-form_image-list">\n        <div\n          sc-img-list="block.featuredImg"\n          data-sc-img-init="setFeaturedImgDefaults($scImg, $isNew)"\n          limit="4"\n          data-mm-config="featuredImgMediaManagerOptions"\n          data-add-video="true"\n          options="{position:{\'Fill slide\':\'cover\',\'Contain in slide\':\'contain\'}}"\n          ng-required="block.featuredType === \'image\' && block.useFeatured"\n          sortable="true"\n          data-lock-field="locks.featuredImg.locked"\n          name="featured_image"\n        >\n          Add new\n        </div>\n      </div>\n\n      <div class="form_error form_inset-error" data-ng-show="showFormError(\'featured_image\')">\n        Please add at least one featured image or video\n      </div>\n\n      <checkbox-field\n        model="block.useFeatured"\n        flipped="true"\n        lock-field="locks.useFeatured.locked"\n        checkbox-label="\'Hide featured media\'"\n        name="\'hideFeaturedMedia\'"\n      >\n      </checkbox-field>\n    </fieldset>\n\n    <div data-ng-if="!campaign.IS_TICKETED">\n      \x3c!-- Progress Bar --\x3e\n      <label class="edit-design-form__label--primary" id="sc-target-progressbar"\n        >Progress Bar</label\n      >\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <label class="edit-design-form__label--inline" for="headline">Show progress bar</label>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <toggle-field\n            id="enableProgressBar"\n            name="\'enableProgressBar\'"\n            data-model="block.enableProgressBar"\n            toggle-label="Click to {{ block.enableProgressBar ? \'hide\' : \'show\'}} Progress Bar"\n          ></toggle-field>\n        </div>\n      </fieldset>\n\n      <fieldset class="form_field full">\n        <label class="edit-design-form__label--inline" for="headline">Progress bar color</label>\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.progressBarColor"\n          data-swatch-size="25"\n          data-fallback-color="theme.styles.primaryColor"\n        ></div>\n      </fieldset>\n\n      <fieldset class="form_field full">\n        <label class="edit-design-form__label--inline" for="headline"\n          >Progress bar background color</label\n        >\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.progressBarBgColor"\n          data-swatch-size="25"\n          data-fallback-color="\'#f0f0f0\'"\n        ></div>\n      </fieldset>\n\n      \x3c!-- Progress Metrics --\x3e\n      <fieldset\n        class="form_field full main"\n        id="sc-target-metrics"\n        data-ng-if="campaign.current.type !== \'p2p\'"\n      >\n        <div class="edit-design-form_inline-field">\n          <label class="edit-design-form__label--inline" for="headline"\n            >Show progress metrics</label\n          >\n        </div>\n        <div class="edit-design-form_inline-field">\n          <toggle-field\n            id="enableProgressMetrics"\n            name="\'enableProgressMetrics\'"\n            data-model="block.enableProgressMetrics"\n            toggle-label="Click to {{ block.enableProgressMetrics ? \'hide\' : \'show\'}} Progress Metrics"\n          ></toggle-field>\n        </div>\n      </fieldset>\n\n      <div ng-if="block.enableProgressMetrics">\n        <fieldset class="form_field full" data-ng-if="campaign.current.type !== \'p2p\'">\n          <div class="edit-design-form_inline-field">\n            <label\n              class="edit-design-form__label--inline"\n              ng-class="{\'sc-disabled\': !block.enableProgressMetrics}"\n              for="headline"\n              >Show percent of goal</label\n            >\n          </div>\n          <div class="edit-design-form_inline-field">\n            <toggle-field\n              id="enablePercentOfGoal"\n              data-ng-if="block.enableProgressMetrics"\n              data-disabled="!block.enableProgressMetrics"\n              name="\'enablePercentOfGoal\'"\n              data-model="block.enablePercentOfGoal"\n              toggle-label="Click to {{ block.enablePercentOfGoal ? \'hide\' : \'show\'}} Percent Of Goal"\n            ></toggle-field>\n          </div>\n        </fieldset>\n\n        <fieldset class="form_field full" data-ng-if="campaign.current.type !== \'p2p\'">\n          <div class="edit-design-form_inline-field">\n            <label\n              class="edit-design-form__label--inline"\n              ng-class="{\'sc-disabled\': !block.enableProgressMetrics}"\n              for="headline"\n              >Show number of supporters</label\n            >\n          </div>\n          <div class="edit-design-form_inline-field">\n            <toggle-field\n              id="enableNumSupporters"\n              data-disabled="!block.enableProgressMetrics"\n              name="\'enableNumSupporters\'"\n              data-model="block.enableNumSupporters"\n              toggle-label="Click to {{ block.enableNumSupporters ? \'hide\' : \'show\'}} number of supporters"\n            ></toggle-field>\n          </div>\n        </fieldset>\n\n        <fieldset\n          class="form_field full"\n          data-ng-if="campaign.current.type !== \'p2p\' && campaign.current.ended_at"\n        >\n          <div class="edit-design-form_inline-field">\n            <label\n              class="edit-design-form__label--inline"\n              ng-class="{\'sc-disabled\': !block.enableProgressMetrics}"\n              for="headline"\n              >Show number of days left</label\n            >\n          </div>\n          <div class="edit-design-form_inline-field">\n            <toggle-field\n              id="enableDaysLeft"\n              name="\'enableDaysLeft\'"\n              data-disabled="!block.enableProgressMetrics"\n              data-model="block.enableDaysLeft"\n              toggle-label="Click to {{ block.enableDaysLeft ? \'hide\' : \'show\'}} number of days left"\n            ></toggle-field>\n          </div>\n        </fieldset>\n      </div>\n    </div>\n\n    \x3c!-- buttons --\x3e\n    <label\n      class="edit-design-form__label--primary"\n      id="sc-target-register"\n      data-ng-if="campaign.current.type === \'reg_w_fund\'"\n      >Register Button\n    </label>\n    <label\n      class="edit-design-form__label--primary"\n      id="sc-target-register"\n      data-ng-if="campaign.current.type === \'ticketed\'"\n      >Get Tickets Button\n    </label>\n    <label\n      class="edit-design-form__label--primary"\n      id="sc-target-buttons"\n      data-ng-if="campaign.current.type === \'p2p\'"\n      >Join Button\n    </label>\n\n    \x3c!-- Join button --\x3e\n    <fieldset class="form_field full" ng-if="campaign.current.type != \'crowdfunding\'">\n      <label\n        class="edit-design-form__label--inline"\n        ng-if="campaign.current.type === \'p2p\'"\n        id="sc-target-join"\n      >\n        Join button color\n      </label>\n      <label\n        class="edit-design-form__label--inline"\n        ng-if="campaign.IS_TICKETED"\n        id="sc-target-join"\n      >\n        Button color\n      </label>\n\n      <label class="edit-design-form__sublabel"> <p>Set the color of the button</p></label>\n\n      <color-picker-field\n        data-model="block.joinButtonColor"\n        data-fallback="theme.styles.primaryColor"\n        data-style-class="\'edit-design-form\'"\n        data-remove-button="true"\n      ></color-picker-field>\n    </fieldset>\n\n    <fieldset class="form_field full" data-ng-if="campaign.current.type != \'crowdfunding\'">\n      <div class="edit-design-form_inline-field">\n        <label\n          class="edit-design-form__label--inline"\n          ng-if="campaign.current.type === \'p2p\'"\n          id="sc-target-join"\n        >\n          Join button style\n        </label>\n        <label\n          class="edit-design-form__label--inline"\n          ng-if="campaign.IS_TICKETED"\n          id="sc-target-join"\n        >\n          Button style\n        </label>\n      </div>\n\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.joinButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          data-sc-color="block.joinButtonColor"\n          class="edit-design-form_select"\n          name="donate-button-style"\n          aria-label="Select button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-donate">Donate Button</label>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline">Donate button color</label>\n\n      <label class="edit-design-form__sublabel">\n        <p>Set the color of the donate button</p>\n      </label>\n\n      <color-picker-field\n        data-model="block.donateButtonColor"\n        data-fallback="theme.styles.primaryColor"\n        data-style-class="\'edit-design-form\'"\n        data-remove-button="true"\n      >\n      </color-picker-field>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Donate button style</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.donateButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          data-sc-color="block.donateButtonColor"\n          class="edit-design-form_select"\n          name="donate-button-style"\n          aria-label="Select donate button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    \x3c!-- Background --\x3e\n    <label class="edit-design-form__label--primary" id="sc-target-background">Background</label>\n\n    \x3c!-- Background color --\x3e\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Color</legend>\n      <label class="edit-design-form__sublabel">\n        <p>Set the color of the hero\'s background</p></label\n      >\n\n      <color-picker-field\n        data-ng-if="campaign.current.type != \'reg_w_fund\'"\n        data-model="block.background.color"\n        data-fallback="theme.styles.background.color"\n        data-style-class="\'edit-design-form\'"\n        data-remove-button="true"\n      >\n      </color-picker-field>\n\n      <color-picker-field\n        data-ng-if="campaign.current.type == \'reg_w_fund\'"\n        data-model="theme.styles.background.color"\n        data-style-class="\'edit-design-form\'"\n      >\n      </color-picker-field>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Color opacity"\n      sc-range-value="block.background.colorOpacity"\n      ng-if="block.background.color || theme.styles.background.color"\n    ></fieldset>\n\n    \x3c!-- Background Image --\x3e\n    <div\n      ng-if="isHeroImgLocked"\n      style="height: 130px; width: 100%; position: absolute; z-index: 10"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label">Image</label>\n\n      <image-list-field model="block.background.image" config="bgImgUploadOptions">\n      </image-list-field>\n    </fieldset>\n\n    <fieldset\n      class="form_field full"\n      ng-if="block.background.image || theme.styles.background.image"\n    >\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Image position</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-bg-select="block.background"\n          class="edit-design-form_select"\n          name="background-pos"\n        ></div>\n        <label for="background-pos" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Image opacity"\n      sc-range-value="block.background.imageOpacity"\n      ng-if="block.background.image || theme.styles.background.image"\n    ></fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Image blur"\n      sc-range-value="block.background.blur"\n      ng-if="block.background.image || theme.styles.background.image"\n    ></fieldset>\n\n    <fieldset class="form_field full main">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Hero height</label>\n        <label class="edit-design-form__sublabel">\n          <p>Fill browser window height with background image</p></label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          id="dynamicHeight"\n          name="\'dynamicHeight\'"\n          data-model="block.dynamicHeight"\n          toggle-label="Click to {{ block.dynamicHeight ? \'hide\' : \'show\'}} browser window height with background image"\n        ></toggle-field>\n      </div>\n    </fieldset>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/custom/desktop",'<section class="custom-block" role="region" aria-label="custom">\n  <div data-sc-block-bg="block.background" data-fallback-color="theme.styles.primaryColor"></div>\n\n  <div class="custom-block_content" id="block-{{block.id}}">\n    <style data-ng-bind-html="block.css | scTrustedHtml"></style>\n\n    <div\n      class="custom-block_html"\n      data-ng-bind-html="block.html | scTrustedHtml | scTargetSelf"\n    ></div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/custom/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  data-sc-submit="block.save(editForm)"\n  sc-validity-reporter="editForm"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  \x3c!-- HTML and CSS inputs --\x3e\n\n  \x3c!-- START: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n  <div ng-class="{\'fields-disable\': disableCustomBlock}">\n    <div\n      ng-if="isCustomMarkupDisabled"\n      style="margin-top: 10%; width: 97%; height: 525px"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n    <fieldset class="form_field full">\n      \x3c!-- Nav --\x3e\n\n      <nav class="custom-block-settings_nav">\n        <ul class="custom-block-settings_nav-list">\n          <li\n            class="custom-block-settings_nav-list-item"\n            data-ng-click="tab(\'html\')"\n            data-ng-class="{ active: state.activeTab === \'html\' }"\n          >\n            MARKUP\n          </li>\n\n          <li\n            class="custom-block-settings_nav-list-item"\n            data-ng-click="tab(\'css\')"\n            data-ng-class="{ active: state.activeTab === \'css\' }"\n          >\n            CSS\n          </li>\n        </ul>\n      </nav>\n\n      \x3c!-- HTML --\x3e\n\n      <div class="custom-block-settings_editor" data-ng-if="state.activeTab === \'html\'">\n        <textarea\n          data-ui-ace="config.htmlEditorOptions"\n          data-ng-model="block.unsafeHtml"\n          data-ng-model-options="{ debounce: 1000 }"\n          data-ng-change="sanitizeHtml()"\n        ></textarea>\n      </div>\n\n      \x3c!-- CSS --\x3e\n\n      <div class="custom-block-settings_editor" data-ng-if="state.activeTab === \'css\'">\n        <textarea\n          data-ui-ace="config.cssEditorOptions"\n          data-ng-model="block.unsafeCss"\n          data-ng-model-options="{ debounce: 1000 }"\n          data-ng-change="sanitizeCss()"\n        ></textarea>\n      </div>\n    </fieldset>\n\n    <div\n      ng-if="isCustomBgDisabled"\n      style="width: 97%; height: 250px"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n    \x3c!-- Background --\x3e\n    <label class="edit-design-form__label--primary"> Background </label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Color</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.background.color"\n          data-swatch-size="25"\n          data-fallback-color="theme.styles.primaryColor"\n        ></div>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label main">Image</legend>\n      <div class="form_field-input">\n        <div\n          data-sc-img-list="block.background.image"\n          name="blockBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="config.bgMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n    </fieldset>\n\n    <div ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n    </div>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/desktop",'<div\n  class="donation donation-block"\n  data-ng-controller="donationMainCtrl"\n  data-ng-init="initFundraiser()"\n>\n  <div\n    data-sc-block-bg="block.background"\n    data-fallback-img="theme.styles.background.image.asset"\n    data-fallback-color="theme.styles.background.color"\n  ></div>\n\n  <div class="checkout-flow">\n    <section class="checkout-flow_left">\n      <img\n        src="https://4fa2d96b8fd91226557f-bcd0730452aef0a06b667adcfe6312d6.ssl.cf2.rackcdn.com/loading.gif"\n        data-ng-hide="block.loaded"\n        class="donation_loading"\n      />\n\n      <form\n        class="donation_form"\n        name="checkout"\n        data-ng-class="checkoutFormClass()"\n        data-sc-submit="submit()"\n        data-sc-submit-error-function="showFormError"\n        data-ng-cloak\n        novalidate="novalidate"\n      >\n        <input type="hidden" data-ng-model="Donation.charityId" />\n        <input type="hidden" data-ng-model="Donation.isAuthorize" />\n        <input type="hidden" data-ng-model="Donation.isWePay" />\n        <input type="hidden" data-ng-model="Donation.botVerifyStr" />\n        <input type="hidden" id="ip_addr" value="{{ Donation.ipAddr }}" />\n        <input type="hidden" data-ng-model="Donation.payType" />\n\n        \x3c!-- Fundraising progress bar/details --\x3e\n        <header\n          class="donation_header"\n          data-ng-include="\'global/objects/scBlock/types/donation/header/partial\'"\n        ></header>\n\n        \x3c!-- P2P general campaign header details --\x3e\n        <fieldset\n          class="donation_header-details"\n          data-ng-if="campaign.current.type === \'p2p\'"\n          data-ng-include="\'global/objects/scBlock/types/donation/header/p2p-header\'"\n        ></fieldset>\n\n        \x3c!-- Select amount --\x3e\n        <fieldset\n          class="donation_form-fieldset donation_amount"\n          data-ng-controller="donationAmountCtrl"\n          data-ng-include="\'global/objects/scBlock/types/donation/amount/partial\'"\n        ></fieldset>\n\n        \x3c!-- Project details --\x3e\n        <fieldset\n          class="donation_form-fieldset project"\n          data-ng-include="\'global/objects/scBlock/types/donation/project/partial\'"\n        ></fieldset>\n\n        \x3c!-- Dedication details --\x3e\n        <fieldset\n          class="donation_form-fieldset dedication"\n          data-ng-if="!SC.campaign.hide_dedications"\n          data-ng-include="\'global/objects/scBlock/types/donation/dedication/partial\'"\n        ></fieldset>\n\n        \x3c!-- Donor information --\x3e\n        <fieldset\n          class="donation_form-fieldset yourInfo"\n          data-ng-include="\'global/objects/scBlock/types/donation/your-info/partial\'"\n        ></fieldset>\n\n        \x3c!-- Shipping information --\x3e\n        <fieldset\n          class="donation_form-fieldset shippingInfo"\n          data-ng-if="SC.campaign.collect_shipping_address"\n          data-ng-include="\'global/objects/scBlock/types/donation/shipping/partial\'"\n        ></fieldset>\n\n        \x3c!-- Payment/ billing information --\x3e\n        <fieldset\n          class="donation_form-fieldset paymentDetails"\n          data-ng-include="\'global/objects/scBlock/types/donation/payment/partial\'"\n        ></fieldset>\n\n        \x3c!-- Donation summary/submit --\x3e\n        <footer ng-include="\'global/objects/scBlock/types/donation/footer/partial\'"></footer>\n      </form>\n    </section>\n\n    <aside\n      ng-include="\'global/objects/scBlock/types/donation/aside/partial\'"\n      data-ng-controller="donationAsideCtrl"\n    ></aside>\n  </div>\n\n  <div\n    data-ng-show="block.processing"\n    data-sc-modal-link\n    data-opened="block.processing"\n    data-hide-button="true"\n    data-disable-close="true"\n  >\n    <div\n      class="admin-body_modal"\n      data-content-margin-top="0"\n      data-modal-class="center-vertically"\n      data-sc-modal\n    >\n      <div ng-include="\'global/objects/scBlock/types/donation/processing-modal\'"></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/mobile-ls",'<div class="checkout-flow donation donation-block">\n  <div\n    data-sc-block-bg="block.background"\n    data-fallback-color="theme.styles.background.color"\n    data-fallback-img="theme.styles.background.image.asset"\n  ></div>\n\n  <section\n    class="checkout-flow_left"\n    data-ng-controller="donationMainCtrl"\n    data-ng-init="initFundraiser()"\n  >\n    <div class="donation">\n      <img\n        src="https://4fa2d96b8fd91226557f-bcd0730452aef0a06b667adcfe6312d6.ssl.cf2.rackcdn.com/loading.gif"\n        data-ng-hide="block.loaded"\n        class="donation_loading"\n      />\n\n      <form\n        class="donation_form"\n        name="checkout"\n        data-ng-class="checkoutFormClass()"\n        data-sc-submit="submit()"\n        data-sc-submit-error-function="showFormError"\n        data-ng-cloak\n        novalidate="novalidate"\n      >\n        <input type="hidden" data-ng-model="Donation.charityId" />\n        <input type="hidden" data-ng-model="Donation.isAuthorize" />\n        <input type="hidden" data-ng-model="Donation.isWePay" />\n        <input type="hidden" data-ng-model="Donation.botVerifyStr" />\n        <input type="hidden" id="ip_addr" value="{{ Donation.ipAddr }}" />\n        <input type="hidden" data-ng-model="Donation.payType" />\n\n        \x3c!-- Fundraising progress bar/details --\x3e\n        <header\n          class="donation_header"\n          data-ng-include="\'global/objects/scBlock/types/donation/header/partial\'"\n        ></header>\n\n        <fieldset\n          class="donation_header"\n          data-ng-if="campaign.current.type === \'p2p\'"\n          data-ng-include="\'global/objects/scBlock/types/donation/header/p2p-header\'"\n        ></fieldset>\n\n        \x3c!-- Select amount --\x3e\n        <fieldset\n          class="donation_form-fieldset donation_amount"\n          data-ng-controller="donationAmountCtrl"\n          data-ng-include="\'global/objects/scBlock/types/donation/amount/mobile-ls\'"\n        ></fieldset>\n\n        \x3c!-- Project details --\x3e\n        <fieldset\n          class="donation_form-fieldset project"\n          data-ng-include="\'global/objects/scBlock/types/donation/project/partial\'"\n        ></fieldset>\n\n        \x3c!-- Dedication details --\x3e\n        <fieldset\n          class="donation_form-fieldset dedication"\n          data-ng-if="!SC.campaign.hide_dedications"\n          data-ng-include="\'global/objects/scBlock/types/donation/dedication/partial\'"\n        ></fieldset>\n\n        \x3c!-- Donor information --\x3e\n        <fieldset\n          class="donation_form-fieldset yourInfo"\n          data-ng-include="\'global/objects/scBlock/types/donation/your-info/partial\'"\n        ></fieldset>\n\n        \x3c!-- Shipping information --\x3e\n        <fieldset\n          class="donation_form-fieldset shippingInfo"\n          data-ng-if="SC.campaign.collect_shipping_address"\n          data-ng-include="\'global/objects/scBlock/types/donation/shipping/partial\'"\n        ></fieldset>\n\n        \x3c!-- Payment/ billing information --\x3e\n        <fieldset\n          class="donation_form-fieldset paymentDetails"\n          data-ng-include="\'global/objects/scBlock/types/donation/payment/partial\'"\n        ></fieldset>\n\n        \x3c!-- Donation summary/submit --\x3e\n        <footer ng-include="\'global/objects/scBlock/types/donation/footer/partial\'"></footer>\n      </form>\n    </div>\n  </section>\n\n  <aside\n    ng-include="\'global/objects/scBlock/types/donation/aside/partial\'"\n    data-ng-controller="donationAsideCtrl"\n  ></aside>\n</div>\n\n<div\n  data-ng-show="block.processing"\n  data-sc-modal-link\n  data-opened="block.processing"\n  data-hide-button="true"\n  data-disable-close="true"\n>\n  <div\n    class="admin-body_modal"\n    data-content-margin-top="0"\n    data-modal-class="center-vertically"\n    data-sc-modal\n  >\n    <div ng-include="\'global/objects/scBlock/types/donation/processing-modal\'"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/processing-modal",'<div class="frs-modal_canvas share">\n  <div class="frs-modal_main">\n    <h1 class="frs-modal_title" ng-if="block.processing && !block.redirecting">Processing...</h1>\n    <h1 class="frs-modal_title" ng-if="block.redirecting">Success! Redirecting...</h1>\n    <p class="frs-modal_p">\n      Please wait while we process your generous gift. Do not reload this page or quit your browser\n      until this process is complete. Thanks again!\n    </p>\n\n    <div class="sc-spinner"></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/settings",'<div>\n  <form\n    class="admin-body_form edit-design-form"\n    name="editForm"\n    novalidate\n    sc-validity-reporter="editForm"\n    data-sc-submit="block.save()"\n    data-sc-submit-error-function="showFormError"\n  >\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label main">Headline</legend>\n      <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n      </froala-field>\n    </fieldset>\n\n    <legend class="edit-design-form__label main">Appeal</legend>\n    <div class="form_field full">\n      <froala-field model="block.description" name="\'description\'" froala-options="appealOptions">\n      </froala-field>\n    </div>\n\n    <p class="edit-design-form__label--primary">Background</p>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-fallback-color="theme.styles.background.color"\n        data-remove-button="{{campaign.current.type==\'reg_w_fund\'}}"\n        data-swatch-size="25"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Image</legend>\n      <div class="form_field-input">\n        <div\n          data-sc-img-list="block.background.image"\n          name="donationBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="donationPhotoMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 1280 x 720 px image.</p>\n    </fieldset>\n\n    <div data-ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/featured/desktop",'<section class="featured-block" role="region" aria-label="featured">\n  <div data-sc-block-bg="block.background" data-fallback-color="theme.styles.primaryColor"></div>\n\n  <div class="featured-block__content">\n    \x3c!-- Headline --\x3e\n    <div class="featured-block__row">\n      <h1\n        class="featured-block__headline"\n        ng-if="block.headline && !block.hideHeadline"\n        ng-bind-html="block.headline | scTrustedHtml"\n        ng-style="{color: block.headlineColor}"\n      ></h1>\n    </div>\n\n    \x3c!-- Subheader --\x3e\n    <div class="featured-block__row">\n      <p\n        class="featured-block__subheader"\n        ng-if="block.subheading && !block.hideSubheading"\n        ng-bind-html="block.subheading | scTrustedHtml"\n      ></p>\n    </div>\n    \x3c!-- Featured Items --\x3e\n    <div class="featured-block__cta-container">\n      <featured-block-feature\n        class="featured-block__cta"\n        ng-repeat="feature in block.features"\n        data-featured="feature"\n      ></featured-block-feature>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/footer/desktop",'<div class="footer" data-ng-click="scrollToElement(\'sc-target-footer-bg\')" role="contentinfo">\n  <div data-sc-block-bg="block.background" data-fallback-color="theme.styles.footerBgColor"></div>\n\n  <div class="footer_top" ng-style="{color:block.top.text.color}" data-ng-if="!block.disable">\n    <div class="footer_inner">\n      <div class="footer_top-left">\n        <div\n          class="footer-block_logo"\n          data-ng-hide="!block.logo.src && !theme.styles.headerLogo.src && public"\n          aria-hidden="true"\n        >\n          <div\n            class="clickable-element footer-block_logo-container"\n            data-ng-click="scrollToElement(\'sc-target-footer-logo\')"\n            data-ng-if="$state.includes(\'admin.manage.campaign.step.design\') || block.logo || theme.styles.headerLogo"\n          >\n            <img\n              class="footer-block_logo-image"\n              data-ng-if="block.logo"\n              data-ng-src="{{block.logo.src}}"\n              alt="Campaign logo"\n            />\n            <img\n              class="footer-block_logo-image"\n              data-ng-if="!block.logo.src && !theme.styles.headerLogo.src && !public && $state.includes(\'admin.manage.campaign.step.design\')"\n              sc-cdn-src="/static/global/images/campaign-logo-placeholder.png"\n            />\n          </div>\n        </div>\n\n        <h3 class="footer_charity-name" ng-bind="orgName"></h3>\n        <p class="footer_info" ng-bind="address" ng-if="address"></p>\n        <p class="footer_info" ng-bind="location" ng-if="location"></p>\n        <p class="footer_info" ng-bind="phone" ng-if="phone"></p>\n      </div>\n\n      <div class="footer_top-right">\n        <button\n          data-ng-if="block.backToTop"\n          aria-label="Back to top"\n          data-ng-click="scrollToElement(\'sc-target-to-top\')"\n          class="footer_scroll-to-top"\n          sc-scroll-to-top\n        >\n          <span class="footer_scroll-to-top_text" aria-hidden="true">Back to top</span>\n          <i class="footer_scroll-to-top_icon fa fa-chevron-up"></i>\n        </button>\n        <div ng-if="campaign.contact_email">\n          <span class="footer_info support">Donor Support </span>\n          <a\n            href="{{ \'mailto:\' + contactEmail }}"\n            class="footer_link"\n            aria-label="{{contactEmail}}, Click to Email Donor Support"\n          >\n            {{contactEmail}}\n          </a>\n          <p class="footer_info" ng-bind="contactPhone" ng-if="contactPhone"></p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="footer_bottom" ng-style="{color:block.top.text.color}">\n    <div class="footer_inner">\n      <p class="footer_bottom-left" data-sc-copyright></p>\n\n      <div class="footer_bottom-right">\n        <p class="footer_bottom-login" data-ng-if="!loggedIn">\n          Have an account? <a class="link" data-ng-click="login()">Sign in</a\n          ><span>&nbsp;•&nbsp;</span>\n        </p>\n\n        <span class="footer_bottom-powered">Powered by GoFundMe</span>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/footer/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  novalidate\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.update()"\n  data-sc-submit-error-function="showFormError"\n>\n  <div ng-class="{\'fields-disable\': block.disable}">\n    <fieldset class="form_field full" id="sc-target-footer-logo">\n      <label class="edit-design-form__label"> Footer logo </label>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.logo"\n          name="footerLogo"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="logoMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 300 x 50 px image.</p>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline">Text color</label>\n      <color-picker-field\n        data-model="block.top.text.color"\n        data-style-class="\'edit-design-form\'"\n      ></color-picker-field>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-to-top">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Show \'Back to Top\'</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          id="backToTop"\n          name="\'backToTop\'"\n          data-model="block.backToTop"\n          toggle-label="Click to {{ block.backToTop ? \'hide\' : \'show\'}} back to top"\n        ></toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-footer-bg"> Background </label>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label"> Image </label>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.background.image"\n          name="headerBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="bgMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 1400 x 219 px image.</p>\n    </fieldset>\n\n    <div ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            data-omit="\'coverfixed\'"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/processing-modal",'<div class="donation-processing" role="alert">\n  <h1\n    data-ng-if="globalState.processing && !globalState.redirecting"\n    class="donation-processing_title eg-bold7 eg-mb4"\n  >\n    Processing your donation\n  </h1>\n  <h1 data-ng-if="globalState.redirecting" class="donation-processing_title eg-mb4">\n    Success! Redirecting...\n  </h1>\n  <div data-ng-if="globalState.processing" class="eg-paragraph eg-text-mono eg-bold7 eg-mb3">\n    Please do not leave or refresh the page.\n  </div>\n  <div class="eg-paragraph eg-text-mono eg-mb8">\n    Once your donation is complete, you’ll be taken to a summary and get an email receipt.\n  </div>\n  <div class="donation-processing_animation">\n    <div\n      class="donation-processing_animation-spinner"\n      data-ng-style="{ color: theme.current.styles.primaryColor }"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/settings",'<div>\n  <form\n    class="admin-body_form edit-design-form"\n    name="editForm"\n    novalidate\n    sc-validity-reporter="editForm"\n    data-sc-submit="block.save()"\n    data-sc-submit-error-function="showFormError"\n  >\n    <p class="edit-design-form__label--primary">Background</p>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Color</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.background.color"\n          data-fallback-color="theme.current.styles.background.color"\n          data-remove-button="{{campaign.current.type==\'reg_w_fund\'}}"\n          data-swatch-size="25"\n        ></div>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Image</legend>\n      <div class="form_field-input">\n        <div\n          data-sc-img-list="block.background.image"\n          name="donationBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n    </fieldset>\n\n    <div ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/template",'<div class="donation-block frs-donation-block">\n  \x3c!-- Background --\x3e\n  <div\n    data-sc-block-bg="block.background"\n    data-fallback-color="theme.current.styles.background.color"\n    data-fallback-img="theme.current.styles.background.image.asset"\n  ></div>\n\n  \x3c!-- Main --\x3e\n  <main class="donation-block_main">\n    \x3c!-- Checkout Form --\x3e\n    <form\n      name="FORM"\n      novalidate="novalidate"\n      data-ng-submit="submit()"\n      class="donation-block_form"\n      data-sc-broadcast-form-errors\n      data-ng-cloak\n    >\n      \x3c!-- Honeypot --\x3e\n      <input type="hidden" data-ng-model="MODEL.z" />\n      \x3c!-- Components --\x3e\n      <section\n        class="block-component"\n        data-ng-repeat="component in list.components | filter:{section:\'main\'} | orderBy:\'order\'"\n      >\n        <div data-ng-include="component.templateUrl"></div>\n      </section>\n    </form>\n  </main>\n\n  \x3c!-- Sidebar --\x3e\n  <aside class="donation-block_aside">\n    \x3c!-- Components --\x3e\n    <section\n      class="block-component"\n      data-ng-repeat="component in list.components | filter:{section:\'aside\'} | orderBy:\'order\'"\n    >\n      <div data-ng-include="::component.templateUrl"></div>\n    </section>\n  </aside>\n  <exit-intent-modal\n    data-ng-if="campaign.hasExitIntentModal()"\n    blocker-id="classy-payment-widget"\n  ></exit-intent-modal>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/desktop",'<div class="fundraiser-block">\n  <div\n    class="fundraiser-block_header"\n    data-ng-click="scrollToElement(\'sc-target-fundraiser-bg\')"\n    data-ng-class="{publicSection: public}"\n  >\n    <div\n      class="fundraiser-block_header-bg"\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.styles.background.color"\n      data-fallback-img="theme.styles.background.image.asset"\n    ></div>\n  </div>\n\n  <div class="fundraiser-block_main" role="main">\n    \x3c!-- Sidebar --\x3e\n    <div data-ng-include="\'global/objects/scBlock/types/fundraiser/templates/aside\'"></div>\n\n    \x3c!-- Main section --\x3e\n    <div class="fundraiser-block_content">\n      \x3c!-- List mode --\x3e\n      <div\n        data-ng-if="posts.ui.mode === \'list\'"\n        data-ng-include="\'global/objects/scBlock/types/fundraiser/templates/main\'"\n      ></div>\n\n      \x3c!-- Post mode --\x3e\n      <div\n        data-ng-if="posts.ui.mode === \'post\'"\n        data-ng-include="\'global/objects/scBlock/types/fundraiser/templates/post\'"\n      ></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/settings",'<div>\n  <form\n    class="admin-body_form edit-design-form fundraiser-form"\n    name="editForm"\n    novalidate\n    sc-validity-reporter="editForm"\n    data-sc-pristine-load\n    sc-submit="block.update()"\n  >\n    <fieldset class="form_field full" id="sc-target-fundraiser-default">\n      <legend class="edit-design-form__label main">Fundraiser default photo</legend>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.defaultFundraiserLogo"\n          name="individualBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="fundraiserPhotoMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n\n      <p class="form_helper">For best quality, use a 320 x 320px image</p>\n    </fieldset>\n    <div class="form_field full">\n      <legend class="edit-design-form__label main">Default fundraiser headline</legend>\n      <input-field\n        no-spacer="true"\n        name="\'default_page_appeal\'"\n        model="campaign.current.default_page_appeal"\n        maxlength="CHAR_LIMITS.DEFAULT_PAGE_APPEAL"\n        counter="true"\n      ></input-field>\n    </div>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="allowFundraisersChangeAppeal"\n          >Allow fundraisers to change page headline</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'pagesSetAppeal\'"\n          model="campaign.current.pages_can_set_appeal"\n          toggle-label="Click to {{ campaign.current.pages_can_set_appeal ? \'disallow\' : \'allow\'}} fundraisers to change page headline"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary">Items</label>\n\n    <fieldset class="form_field full" id="sc-target-fundraiser-campaign">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showCampaign">Show campaign</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showCampaign\'"\n          model="block.showCampaign"\n          toggle-label="Click to {{ block.showCampaign ? \'hide\' : \'show\'}} Campaign"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-fundraiser-team">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showFundraiserTeam"\n          >Show fundraiser\'s team</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showFundraiserTeam\'"\n          model="block.showFundraiserTeam"\n          toggle-label="Click to {{ block.showFundraiserTeam ? \'hide\' : \'show\'}} Fundraiser Team"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary">Fundraiser\'s Goal</label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="fundraiserCanChangeGoal"\n          >Allow fundraisers to change their goal</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'fundraiserCanChangeGoal\'"\n          model="campaign.current.pages_can_set_goal"\n          toggle-label="Click to {{ campaign.current.pages_can_set_goal ? \'disallow\' : \'allow\'}} fundraisers to change their goal"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-fundraiser-progress"\n      >Progress Bar</label\n    >\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showProgressBar"\n          >Show progress bar</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showProgressBar\'"\n          model="block.showProgressBar"\n          toggle-label="Click to {{ block.showProgressBar ? \'hide\' : \'show\'}} Progress Bar"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full" data-ng-if="block.showProgressBar">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Progress bar color</label>\n      </div>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.progressBarColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-fundraiser-donate"\n      >Donate Button</label\n    >\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Button color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.donateButtonColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Button style</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.donateButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          class="edit-design-form_select"\n          name="donate-button-style"\n          aria-label="Select button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary"> Background </label>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.background.color"\n        data-remove-button="{{campaign.current.type==\'reg_w_fund\'}}"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-fundraiser-bg">\n      <legend class="edit-design-form__label main">Image</legend>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.background.image"\n          name="fundraiserBg"\n          data-mode="single"\n          data-mm-config="fundraiserCoverPhotoMediaManagerOptions"\n          data-re-upload="true"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 1400 x 460px image</p>\n    </fieldset>\n\n    <div data-ng-if="block.background.image && !bgLock">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n        ng-if="block.background.image"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n\n    <label class="edit-design-form__label--primary" id="sc-target-fundraiser-story">\n      Default Story\n      \x3c!-- <p class="form_helper">Write the default story your fundraisers will display on their page</p> --\x3e\n    </label>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label">Default story title</label>\n      <div class="fundraiser-block_updates-title">\n        <input-field\n          id="default-page-title"\n          name="\'default-page-post-title\'"\n          data-model="campaign.current.default_page_post_title"\n          maxlength="CHAR_LIMITS.DEFAULT_PAGE_POST_TITLE"\n          counter="true"\n        ></input-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label">Default story body</label>\n      <div class="fundraiser-block_updates-body">\n        <froala-field\n          model="campaign.current.default_page_post_body"\n          name="\'default_page_post_body\'"\n          froala-options="postBodyOptions"\n        >\n        </froala-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-fundraiser-activity">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="allowCommenting"\n          >Allow commenting</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'allowCommenting\'"\n          model="block.allowCommenting"\n          toggle-label="Click to {{ block.allowCommenting ? \'disallow\' : \'allow\'}} Commenting"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/tablet",'<div class="fundraiser-block">\n  <div class="fundraiser-block_header">\n    <div\n      class="fundraiser-block_header-bg"\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.styles.background.color"\n      data-fallback-img="theme.styles.background.image.asset"\n    ></div>\n  </div>\n\n  \x3c!-- Main section --\x3e\n  <div class="fundraiser-block_content">\n    \x3c!-- List mode --\x3e\n    <div\n      data-ng-if="posts.ui.mode === \'list\'"\n      data-ng-include="\'global/objects/scBlock/types/fundraiser/templates/tablet/main\'"\n    ></div>\n\n    \x3c!-- Post mode --\x3e\n    <div\n      data-ng-if="posts.ui.mode === \'post\'"\n      data-ng-include="\'global/objects/scBlock/types/fundraiser/templates/post\'"\n    ></div>\n  </div>\n\n  \x3c!-- Activity feed --\x3e\n  <div\n    data-ng-if="posts.ui.mode === \'list\'"\n    data-ng-include="\'global/objects/scBlock/types/fundraiser/templates/tablet/activity\'"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraisers/desktop",'<section class="fundraisers-block" role="region" aria-label="support fundraiser">\n  <div data-sc-block-bg="block.background"></div>\n\n  <header class="fundraisers-block_header">\n    <div>\n      <h2\n        class="fundraisers-block_title"\n        data-ng-model="block.supportersHeadline"\n        ng-if="editable && !getLock(\'supportersHeadline\')"\n        data-froala="froalaOptionsPreview"\n      ></h2>\n\n      <h2\n        class="fundraisers-block_title"\n        ng-if="(!editable ||  getLock(\'supportersHeadline\')) && block.supportersHeadline"\n        sc-lock-field="getLock(\'supportersHeadline\') && editable"\n        opacity="1"\n        data-ng-bind-html="block.supportersHeadline | scTrustedHtml"\n      ></h2>\n    </div>\n\n    \x3c!-- Search --\x3e\n\n    <div\n      class="fundraisers-block_search"\n      data-ng-if="!show.noSupporters()"\n      role="group"\n      aria-labelledby="subheader_title"\n    >\n      <p class="frs-subheader_label" id="subheader_title">{{search.subtitle()}}</p>\n      <div\n        data-sc-resource-search="search.configuration"\n        data-ng-if="searchOptionsLoaded"\n        data-context="{campaign_id: campaignId}"\n        data-on-select="search.go($selection, $type)"\n        data-ng-model="search.selected"\n        data-resource-type="search.type"\n      ></div>\n    </div>\n\n    \x3c!-- Leaderboard --\x3e\n\n    <div\n      class="fundraisers-block_leaderboard"\n      data-ng-if="block.showLeaderboard && leaders.length"\n      role="list"\n    >\n      <div\n        data-ng-repeat="(key, value) in leaders | orderBy:\'order\'"\n        data-sc-supporter-leader="value"\n        data-block="block"\n        data-theme="theme"\n        data-img-size="{{ isMobile ? 60 : 115 }}"\n        data-bc="fundraisers-block"\n        role="listitem"\n      ></div>\n    </div>\n  </header>\n\n  \x3c!-- Recruiting Mode --\x3e\n\n  <section class="fundraisers-block_recruiting" data-ng-if="show.noSupporters()">\n    \x3c!-- CTA --\x3e\n\n    <div\n      class="frs-subheader"\n      data-ng-model="block.recruitingCta"\n      data-ng-if="editable && !getLock(\'recruitingCta\')"\n      data-froala="froalaOptionsPreview"\n    ></div>\n\n    <div\n      class="frs-subheader"\n      data-ng-if="!editable || getLock(\'recruitingCta\')"\n      sc-lock-field="getLock(\'recruitingCta\') && editable"\n      opacity="1"\n      data-ng-bind-html="block.recruitingCta | scTrustedHtml"\n    ></div>\n\n    \x3c!-- Join Button --\x3e\n\n    <div\n      class="fundraisers-block_recruiting-button"\n      data-ng-style="joinButtonStyle()"\n      data-ng-if="editable"\n    >\n      <input\n        class="form_transparent-input"\n        type="text"\n        placeholder="Type a call to action!"\n        data-ng-model="block.joinButtonText"\n      />\n    </div>\n\n    \x3c!-- Peer-to-Peer --\x3e\n    <a\n      class="fundraisers-block_recruiting-button"\n      ng-if="!editable && !isRwf() && campaign.allow_fundraising_pages"\n      ng-style="joinButtonStyle()"\n      ng-click="!campaign.allow_fundraising_pages || fundraiseSwitchFlow()"\n      ng-keydown="!campaign.allow_fundraising_pages || fundraiseSwitchFlow($event)"\n      ng-bind="block.joinButtonText"\n      target="_self"\n      tabindex="0"\n    >\n    </a>\n\n    \x3c!-- Registration with Fundraising --\x3e\n    <a\n      class="fundraisers-block_recruiting-button"\n      ng-if="!editable && isRwf() && campaign.allow_fundraising_pages"\n      ng-style="joinButtonStyle()"\n      ng-click="registrationSwitch($event)"\n      ng-keydown="registrationSwitch($event)"\n      ng-bind="\'Register\'"\n      ng-disabled="campaignInactive"\n      target="_self"\n      tabindex="0"\n    >\n    </a>\n  </section>\n\n  <section class="fundraisers-block_lists">\n    \x3c!-- Top Performers (mobile only) --\x3e\n\n    <div\n      class="fundraisers-block_list fundraisers-block_top-performers"\n      data-ng-if="show.topPerformers() && scope.teams.length"\n    >\n      <header class="fundraisers-block_list-header">\n        <h2 class="fundraisers-block_list-title">Top Performers</h2>\n      </header>\n\n      <div class="fundraisers-block_list-subsets">\n        <div class="fundraisers-block_list-subset">\n          <div\n            data-ng-repeat="(key, value) in leaders"\n            data-sc-supporter-leader="value"\n            data-block="block"\n            data-theme="theme"\n            data-bc="fundraisers-block"\n            data-mobile="true"\n            data-img-size="{{ isMobile ? 60 : 85 }}"\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Individuals --\x3e\n\n    <div\n      class="fundraisers-block_list"\n      data-ng-if="show.individuals() && fundraisers.length"\n      data-ng-class="{ standalone: show.individualsOnly() }"\n    >\n      <header class="fundraisers-block_list-header">\n        <h2 class="fundraisers-block_list-title">Top Individuals</h2>\n        <a\n          class="fundraisers-block_list-all"\n          data-ui-sref=".search({ type: \'individual\' })"\n          aria-label="View all Top Individual Fundraisers"\n        >\n          View all\n        </a>\n      </header>\n\n      <div class="fundraisers-block_list-subsets">\n        <div class="fundraisers-block_list-subset">\n          <div\n            data-sc-supporter\n            data-ng-repeat="fundraiser in fundraisers | limitTo:frSubset()"\n            data-supporter="fundraiser"\n            data-type="fundraiser"\n            data-bc="fundraisers-block_"\n            data-theme="theme"\n          ></div>\n        </div>\n\n        <div class="fundraisers-block_list-subset">\n          <div\n            data-sc-supporter\n            data-ng-repeat="fundraiser in fundraisers | limitTo:frSubset():frSubset()"\n            data-supporter="fundraiser"\n            data-type="fundraiser"\n            data-bc="fundraisers-block_"\n            data-theme="theme"\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Teams --\x3e\n\n    <div\n      class="fundraisers-block_list"\n      data-ng-if="show.teams() && teams.length"\n      data-ng-class="{ standalone: show.teamsOnly() }"\n    >\n      <header class="fundraisers-block_list-header">\n        <h2 class="fundraisers-block_list-title">Top Teams</h2>\n        <a\n          class="fundraisers-block_list-all"\n          data-ui-sref=".search({ type: \'team\' })"\n          aria-label="View all Top Fundraising Teams"\n        >\n          View all\n        </a>\n      </header>\n\n      <div class="fundraisers-block_list-subsets">\n        <div class="fundraisers-block_list-subset">\n          <div\n            data-sc-supporter\n            data-ng-repeat="team in teams | limitTo:tmSubset()"\n            data-supporter="team"\n            data-type="team"\n            data-bc="fundraisers-block_"\n            data-theme="theme"\n            data-bar-color="theme.styles.primaryColor"\n          ></div>\n        </div>\n\n        <div class="fundraisers-block_list-subset">\n          <div\n            data-sc-supporter\n            data-ng-repeat="team in teams | limitTo:tmSubset():tmSubset()"\n            data-supporter="team"\n            data-type="team"\n            data-bc="fundraisers-block_"\n            data-theme="theme"\n            data-bar-color="theme.styles.primaryColor"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </section>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraisers/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  novalidate\n  sc-validity-reporter="editForm"\n  data-sc-pristine-load\n  data-sc-submit="block.update()"\n  data-sc-submit-error-function="showFormError"\n>\n  <div ng-class="{\'fields-disable\': block.disable}">\n    <div class="form_field full">\n      <label class="edit-design-form__label--inline" id="sc-target-activity-headline"\n        >Headline</label\n      >\n\n      <froala-field\n        model="block.supportersHeadline"\n        name="\'headline\'"\n        froala-options="headerOptions"\n      >\n      </froala-field>\n    </div>\n\n    <div class="form_field full">\n      <label class="edit-design-form__label--inline">Show leaderboard</label>\n      <toggle-field\n        id="showLeaderboard"\n        name="\'showLeaderboard\'"\n        data-model="block.showLeaderboard"\n        toggle-label="Click to {{ block.showLeaderboard ? \'hide\' : \'show\'}} leaderboard"\n      ></toggle-field>\n    </div>\n\n    <div class="form_field full">\n      <label class="edit-design-form__label--inline">Show top teams</label>\n      <toggle-field\n        id="showTeams"\n        name="\'showTeams\'"\n        data-model="block.showTeams"\n        toggle-label="Click to {{ block.showTeams ? \'hide\' : \'show\'}} top teams"\n      ></toggle-field>\n    </div>\n\n    <div class="form_field full">\n      <label class="edit-design-form__label--inline">Show top individuals</label>\n      <toggle-field\n        id="showTeams"\n        name="\'showIndividuals\'"\n        data-model="block.showIndividuals"\n        toggle-label="Click to {{ block.showIndividuals ? \'hide\' : \'show\'}} top individuals"\n      ></toggle-field>\n    </div>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/global-css/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  \x3c!-- START: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n  <div ng-class="{\'fields-disable\': disableGlobalCssBlock}">\n    <h3 class="edit-design_aside-section-header">\n      Styles\n      <small>(CSS or SCSS)</small>\n    </h3>\n\n    <fieldset class="form_field full">\n      <div\n        ng-if="disableGlobalSassBlock"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'"\n        hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n\n      <textarea\n        class="form_text-area"\n        data-ng-model="theme.styles.scss"\n        data-ui-ace="cssEditorOptions"\n        qa-id="{{ scQaId.textAreaField }}"\n        name="scss"\n      >\n      </textarea>\n    </fieldset>\n  </div>\n\n  \x3c!-- END: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/header/desktop",'<div class="header-block" data-ng-click="scrollToElement(\'sc-target-header\')">\n  <div class="header-block_wrapper">\n    \x3c!-- Background --\x3e\n    <div\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.current.styles.primaryColor"\n    ></div>\n\n    \x3c!-- Logo --\x3e\n    <nav\n      class="header-block_logo_nav"\n      aria-label="logo"\n      aria-hidden="{{!block.logo && !theme.current.styles.headerLogo}}"\n    >\n      <div class="header-block_logo">\n        <a\n          class="header-block_logo-link clickable-element"\n          data-id="campaign-appbar-headerlogo"\n          target="_blank"\n          data-ng-click="headerRedirect($event);"\n          aria-label="{{ getLogoLinkLabel() }}"\n          tabindex="{{block.logo || theme.current.styles.headerLogo ? 0 : -1}}"\n          role="link"\n          aria-hidden="{{!block.logo && !theme.current.styles.headerLogo}}"\n        >\n          <img\n            class="header-block_logo-image"\n            data-ng-if="block.logo || theme.current.styles.headerLogo"\n            data-ng-src="{{block.logo.src || theme.current.styles.headerLogo.src}}"\n            alt="{{ getLogoLinkLabel() }}"\n          />\n\n          <img\n            class="header-block_logo-image"\n            data-ng-if="!block.logo.src && !theme.current.styles.headerLogo.src && !public"\n            sc-cdn-src="/static/global/images/header-logo-placeholder.png"\n            alt=""\n          />\n        </a>\n      </div>\n    </nav>\n\n    \x3c!-- Nav & Tools --\x3e\n\n    <nav\n      class="header-block_navigation"\n      id="header-block_navigation"\n      data-ng-disabled="demo"\n      aria-label="profile"\n      tabindex="0"\n    >\n      \x3c!-- Search --\x3e\n\n      <a\n        class="header-block_search"\n        data-id="campaign-appbar-search"\n        data-ng-if="showSearchIcon"\n        href="{{ searchLink }}"\n        target="{{target}}"\n        aria-label="Go to fundraiser search page"\n      >\n        <i\n          class="header-block_search-icon fa fa-search"\n          data-ng-style="{ color: block.textColor }"\n          aria-hidden="true"\n        ></i>\n      </a>\n\n      \x3c!-- Share --\x3e\n      <button\n        class="header-block_share"\n        data-ng-if="showLoginShare()"\n        data-id="campaign-appbar-share"\n        data-ng-style="{ color: block.textColor }"\n        data-sc-social-buttons="\'tooltip\'"\n        type="button"\n        aria-label="Share on Facebook, Share on X, Share via Email"\n        aria-haspopup="menu"\n        aria-label="{{ demo ? \'\':\'social dropdown menu\' }}"\n      >\n        <i\n          class="header-block_share-icon ci ci-share-o"\n          data-ng-style="{ color: block.textColor }"\n          aria-hidden="true"\n        ></i>\n      </button>\n\n      \x3c!-- Cart --\x3e\n\n      <button\n        class="header-block_cart unstyled-btn"\n        data-id="campaign-appbar-register"\n        data-ng-style="{ color: block.textColor }"\n        data-ng-click="goToCheckout($event)"\n        data-ng-if="campaign.current.type === \'reg_w_fund\' || campaign.current.type == \'ticketed\'"\n        aria-label="{{ cartItems() ? \'Registration shopping cart. The number of registrations in your cart is \' + cartItems() + \'. Click to complete registration.\' : \'Registration shopping cart. Your registration cart is empty. Click to create new registration.\' }}"\n      >\n        <span class="header-block_cart-qty" aria-hidden="true">{{ cartItems() }}</span>\n        <i class="header-block_cart-icon ci ci-shopping-bag"></i>\n      </button>\n\n      \x3c!-- P2P dropdown --\x3e\n\n      <sc-supporter-nav\n        class="header-block_goto"\n        ng-if="(campaign.current.type === \'p2p\' || campaign.current.type === \'reg_w_fund\') && loggedIn"\n        data-text-color="block.textColor"\n      ></sc-supporter-nav>\n\n      \x3c!-- Login and member tools --\x3e\n\n      <button\n        class="header-block_dropdown unstyled-btn"\n        role="button"\n        data-id="campaign-appbar-avatar"\n        data-ng-disabled="demo"\n        data-ng-if="loggedIn"\n        class="header-block_user-btn"\n        data-sc-user-dropdown\n        aria-haspopup="menu"\n        aria-label="User actions menu for {{members.you.current.first_name}} {{members.you.current.last_name}}"\n      >\n        <img\n          class="sc-user-dropdown_user-img"\n          data-ng-src="{{members.you.current.thumbnail_medium || \'/static/global/images/higher_contrast_individual_default_image.png\'}}"\n          data-ng-class="{default: !members.you.current.thumbnail_medium}"\n          data-ng-style="{backgroundColor: theme.current.styles.primaryColor}"\n          alt="User actions menu for {{members.you.current.first_name}} {{members.you.current.last_name}}"\n          aria-hidden="true"\n        />\n      </button>\n\n      <button\n        class="header-block_login"\n        role="button"\n        data-ng-if="!loggedIn && showLoginShare()"\n        type="button"\n        data-ng-click="login()"\n        data-ng-style="{ color: block.textColor }"\n      >\n        Sign in\n      </button>\n\n      \x3c!--Mobile hamburger nav --\x3e\n\n      <button\n        class="header-block_hamburger-toggle unstyled-button"\n        data-ng-if="showMobileMenuIcon()"\n        data-ng-click="openMobileMenu($event)"\n        aria-haspopup="true"\n        aria-expanded="{{ mobileMenuIsOpen }}"\n        aria-label="open navigation menu"\n      >\n        <i class="fa fa-bars" data-ng-style="{color: block.textColor}"></i>\n      </button>\n    </nav>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/header/settings",'<div>\n  <form\n    class="admin-body_form edit-design-form"\n    name="editForm"\n    novalidate\n    sc-validity-reporter="editForm"\n    sc-submit="block.update()"\n    data-sc-submit-error-function="showFormError"\n  >\n    <fieldset class="form_field full" id="sc-target-logo">\n      <legend class="edit-design-form__label">Logo</legend>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          ng-if="headerLogoLock"\n          style="height: 220px; width: 101%"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'"\n          hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n        ></div>\n\n        <div\n          data-sc-img-list="block.logo"\n          name="aboutBg"\n          data-mode="single"\n          data-mm-config="logoMediaManagerOptions"\n          data-re-upload="true"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 300 x 50 px image.</p>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline"> Logo link </label>\n      </div>\n      <div class="edit-design-form_inline-field" ng-class="{\'admin-body__lock-field\':lockLogoLink}">\n        <div\n          ng-if="lockLogoLink"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'"\n          hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n        ></div>\n        <select\n          class="edit-design-form_select"\n          data-ng-model="block.logoLink"\n          data-ng-disabled="lockLogoLink"\n          data-ng-options="option.url as option.label for option in logoLinkOptions"\n          qa-id="{{ scQaId.selectField }}"\n          aria-label="Select header logo link"\n        ></select>\n        <label class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full" ng-if="block.logoLink == \'custom\'">\n      <input-field\n        data-model="block.logoLinkCustom"\n        name="\'custom-logo-link\'"\n        data-type="url"\n        data-required="true"\n        data-placeholder="\'Enter your custom URL\'"\n      >\n      </input-field>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Text color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.textColor"\n        data-swatch-size="25"\n      ></div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-header"> Background </label>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-swatch-size="25"\n      ></div>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Color opacity"\n      sc-range-value="block.background.colorOpacity"\n    ></fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline"> Image </label>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.background.image"\n          name="headerBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="backgroundImageMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 1350 x 115px image.</p>\n    </fieldset>\n\n    <div data-ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            data-omit="\'coverfixed\'"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/html/desktop",'<section class="html" role="region" aria-label="content">\n  <div class="html_content" data-sc-compile="block.content"></div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/html/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  \x3c!-- START: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n  <div ng-class="{\'fields-disable\': disableHtmlBlock}">\n    <div\n      ng-if="disableCustomHtmlBlock"\n      style="width: 97%; height: 500px"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n\n    <fieldset class="form_field full">\n      <textarea\n        class="form_text-area"\n        qa-id="{{ scQaId.textAreaField }}"\n        data-ng-model="block.content"\n        data-ui-ace="htmlEditorOptions"\n        qa-id="{{ scQaId.textAreaField }}"\n        name="content"\n      >\n      </textarea>\n    </fieldset>\n\n    <h3 class="edit-design_aside-section-header">\n      Page Styles\n      <small>(CSS or SCSS)</small>\n    </h3>\n\n    <div\n      ng-if="disableCSSBlock"\n      style="width: 97%; height: 500px"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n\n    <fieldset class="form_field full">\n      <textarea\n        class="form_text-area"\n        qa-id="{{ scQaId.textAreaField }}"\n        data-ng-model="page.scss"\n        data-ui-ace="cssEditorOptions"\n        qa-id="{{ scQaId.textAreaField }}"\n        name="scss"\n      >\n      </textarea>\n    </fieldset>\n  </div>\n\n  \x3c!-- END: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/impact/desktop",'<section\n  class="impact"\n  data-ng-click="scrollToElement(\'sc-target-impact-bg\')"\n  data-ng-if="block.impactLevels.length || !public"\n  role="region"\n  aria-label="impact"\n>\n  <div class="sc-block_content">\n    <div data-sc-block-bg="block.background"></div>\n\n    <h2\n      class="frs-header frs-header_title impact_title"\n      data-ng-click="scrollToElement(\'sc-target-impact-headline\')"\n      data-ng-model="block.headline"\n      data-froala="froalaOptionsPreview"\n      ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n      data-ng-style="{color:block.headlineColor}"\n    ></h2>\n\n    <h2\n      class="frs-header frs-header_title impact_title"\n      ng-if="(!editable || getLock(\'headline\')) && !block.hideHeadline"\n      sc-lock-field="getLock(\'headline\') && editable"\n      opacity="1"\n      data-ng-style="{color:block.headlineColor}"\n      data-ng-bind-html="block.headline | scTrustedHtml"\n    ></h2>\n\n    <div\n      class="impact_levels clickable-element impact_levels-{{block.impactLevels.length}}"\n      data-ng-click="scrollToElement(\'sc-target-impact-level\')"\n    >\n      <div\n        class="impact_level"\n        data-ng-class="{ \'disabled\' : demo && editable }"\n        data-ng-repeat="level in block.impactLevels"\n      >\n        <div\n          class="impact_image"\n          ng-style="{\'background-image\':level.img.src ? \'url(\'+level.img.tn(550)+\')\' : \'url(/static/global/images/impact-placeholder-wide.png)\'}"\n        ></div>\n        <div class="impact_content-wrapper">\n          <h3 class="impact_name" data-ng-style="{\'color\': block.textColor}">\n            {{level.name}}\n            <span class="impact_value" ng-if="level.amount"\n              >{{level.amount | scFormatCurrency:campaign.raw_currency_code}}</span\n            >\n          </h3>\n          <p\n            class="impact_info"\n            data-ng-style="{\'color\': block.textColor}"\n            data-ng-bind="level.description"\n          ></p>\n        </div>\n        <a\n          class="impact_button-wrapper"\n          ng-click="handleImpactLink(level)"\n          data-ng-if="hasFundraising && campaign.allow_fundraising_pages || !hasFundraising"\n          aria-label="{{ block.impactType === \'fundraise\' ? \'Click Fundraise to start a fundraising page for \' + level.name + \' with goal of $\' + level.amount : \'Click to donate $\'+level.amount }}"\n          role="link"\n          id="{{\'button_impact\' + level.amount}}"\n        >\n          <span\n            class="impact_button"\n            data-ng-style="{\'background-color\': block.buttonColor || theme.styles.primaryColor}"\n            tabindex="0"\n            role="button"\n            aria-describedby="{{\'button_impact\' + level.amount}}"\n          >\n'+"            {{ block.impactType == 'fundraise' ? 'Fundraise' : 'Donate' }}\n          </span>\n        </a>\n      </div>\n    </div>\n  </div>\n</section>\n")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/impact/settings",'<div>\n  <form\n    class="admin-body_form edit-design-form"\n    name="editForm"\n    sc-validity-reporter="editForm"\n    novalidate\n    sc-submit="block.update()"\n  >\n    <div ng-class="{\'fields-disable\': block.disable}">\n      \x3c!-- Headline --\x3e\n      <div class="form_field full">\n        <label class="edit-design-form__label main" for="headline" id="sc-target-impact-headline">\n          Headline\n        </label>\n        <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n        </froala-field>\n        <checkbox-control ng-model="block.hideHeadline" disabled="locks.hideHeadline.locked">\n          Hide headline\n        </checkbox-control>\n      </div>\n\n      <fieldset class="form_field full">\n        <label class="edit-design-form__label--inline">Headline color</label>\n        <color-picker-field\n          data-model="block.headlineColor"\n          data-style-class="\'edit-design-form\'"\n          data-lock-field="locks.headlineColor.locked"\n        ></color-picker-field>\n      </fieldset>\n\n      <fieldset class="form_field full" id="sc-target-impact-level">\n        <label class="edit-design-form__label--primary">Impact Levels</label>\n        <div\n          sc-impact-level-creator\n          data-impact-levels="block.impactLevels"\n          data-button-color="theme.styles.primaryColor"\n          data-lock-field="locks.impactLevels.locked"\n          class="impact_level-wrapper advanced-designer"\n        ></div>\n      </fieldset>\n\n      <fieldset class="form_field full" data-ng-if="block.impactLevels.length">\n        <label class="edit-design-form__label--inline">Button color</label>\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.buttonColor"\n          data-fallback-color="theme.styles.primaryColor"\n          data-swatch-size="25"\n        ></div>\n      </fieldset>\n\n      <fieldset class="form_field full" data-ng-if="block.impactLevels.length">\n        <label class="edit-design-form__label--inline">Text color</label>\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.textColor"\n          data-swatch-size="25"\n        ></div>\n      </fieldset>\n\n      <label class="edit-design-form__label--primary" id="sc-target-impact-bg">Background</label>\n\n      <fieldset class="form_field full">\n        <label class="edit-design-form__label--inline">Color</label>\n        <color-picker-field\n          data-model="block.background.color"\n          data-style-class="\'edit-design-form\'"\n          data-lock-field="locks.background.locked"\n        ></color-picker-field>\n      </fieldset>\n\n      <fieldset class="form_field full">\n        <label class="edit-design-form__label--inline"> Image </label>\n        <div class="form_field-input edit-design-form_image-list">\n          <div\n            data-sc-img-list="block.background.image"\n            name="aboutBg"\n            data-mode="single"\n            data-re-upload="true"\n            data-mm-config="bgMediaManagerOptions"\n            data-lock-field="locks.background.locked"\n            data-preview="550"\n          >\n            Upload Image\n          </div>\n        </div>\n        <p class="form_helper">For best quality, use a 1280 x 720 px image.</p>\n      </fieldset>\n\n      <div ng-if="block.background.image">\n        <fieldset class="form_field full">\n          <div class="edit-design-form_inline-field">\n            <label class="edit-design-form__label--inline"> Image position </label>\n          </div>\n          <div class="edit-design-form_inline-field">\n            <div\n              data-sc-block-bg-select="block.background"\n              class="edit-design-form_select"\n              name="background-pos"\n              data-lock-field="locks.background.locked"\n            ></div>\n            <label for="background-pos" class="edit-design-form_select-label"></label>\n          </div>\n        </fieldset>\n\n        <fieldset\n          sc-range-slider\n          sc-range-label="Image opacity"\n          sc-range-value="block.background.imageOpacity"\n          data-lock-field="locks.background.locked"\n        ></fieldset>\n\n        <fieldset\n          sc-range-slider\n          sc-range-label="Image blur"\n          sc-range-value="block.background.blur"\n          data-lock-field="locks.background.locked"\n        ></fieldset>\n      </div>\n    </div>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/location/desktop",'<section\n  class="location"\n  data-ng-click="scrollToElement(\'sc-target-location\')"\n  data-ng-if="!block.disable"\n  role="region"\n  aria-label="location"\n>\n  <div class="location-block">\n    <div\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.styles.locationBgColor"\n    ></div>\n    <div class="location-block__half">\n      <div class="location-block__grid-container">\n        <div class="location-block__grid">\n          <div class="location-block__row">\n            <div class="location-block__col-offset"></div>\n\n            <div class="location-block__col-text">\n              <div\n                class="location-block__headline clickable-element"\n                data-ng-bind-html="block.headline | scTrustedHtml"\n                ng-click="scrollToElement(\'sc-target-headline\')"\n                data-ng-if="block.showHeadline"\n                role="heading"\n                aria-level="2"\n                data-ng-style="{color : theme.styles.aboutContentColor}"\n                aria-label="Location Headline"\n              ></div>\n\n              <div\n                data-ng-if="block.showVenueAddress"\n                class="clickable-element"\n                ng-click="scrollToElement(\'sc-target-venue\')"\n              >\n                <p\n                  class="location-block__venue"\n                  ng-bind-html="block.venueAddress | scTrustedHtml"\n                  data-ng-if="block.venueAddress"\n                  data-ng-style="{color : theme.styles.aboutContentColor}"\n                  aria-label="Location Subheadline"\n                ></p>\n              </div>\n\n              <p\n                class="location-block__content clickable-element"\n                ng-click="scrollToElement(\'sc-target-content\')"\n                data-ng-bind-html="block.content | scTrustedHtml"\n                data-ng-if="block.showContent"\n                data-ng-style="{color : theme.styles.aboutContentColor}"\n                aria-label="Location Description"\n              ></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="location-block__half">\n      <div class="location-block__overlay" data-ng-style="getOverlay()"></div>\n\n      <div class="location-block__embed-map">\n        <iframe\n          class="google-maps__embed"\n          title="{{block.headline}} Google Maps Location"\n          ng-src="{{googleMapsEmbedUrl}}"\n          allowfullscreen\n        ></iframe>\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/location/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  \x3c!-- START: STUFF THAT WILL BE HIDDEN WHEN YOU HIDE BLOCK --\x3e\n  <div ng-class="{\'fields-disable\': block.disable}">\n    \x3c!-- Headline --\x3e\n    <fieldset class="form_field full" id="sc-target-headline">\n      <label class="edit-design-form__label" id="sc-target-location-headline">Headline</label>\n      <input-field\n        data-model="block.headline"\n        name="\'headline\'"\n        aria-label="Headline"\n      ></input-field>\n      <checkbox-control ng-model="block.showHeadline" flipped="true">\n        Hide headline\n      </checkbox-control>\n    </fieldset>\n\n    \x3c!-- Venue Address --\x3e\n    <fieldset class="form_field full" id="sc-target-venue">\n      <label class="edit-design-form__label" id="sc-target-location-address">Subheadline</label>\n      <input-field\n        data-model="block.venueAddress"\n        name="\'venueAddress\'"\n        aria-label="Venue Address"\n      ></input-field>\n      <checkbox-control ng-model="block.showVenueAddress" flipped="true">\n        Hide subheadline\n      </checkbox-control>\n    </fieldset>\n\n    \x3c!-- Description AKA content --\x3e\n    <fieldset class="form_field full" id="sc-target-content">\n      <label class="edit-design-form__label" id="sc-target-location-content"> Description </label>\n      <froala-field model="block.content" name="\'content\'" froala-options="contentOptions">\n      </froala-field>\n      <checkbox-control ng-model="block.showContent" flipped="true">\n        Hide description\n      </checkbox-control>\n    </fieldset>\n\n    \x3c!-- BACKGROUND --\x3e\n    <label class="edit-design-form__label--primary" id="sc-target-background">Background</label>\n\n    \x3c!-- background color --\x3e\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Color</legend>\n      <label class="edit-design-form__sublabel">\n        <p>Set the color of the location block\'s background</p></label\n      >\n\n      <color-picker-field\n        data-model="block.background.color"\n        data-fallback="theme.styles.background.color"\n        data-style-class="\'edit-design-form\'"\n        data-remove-button="true"\n      ></color-picker-field>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Color opacity"\n      sc-range-value="block.background.colorOpacity"\n      ng-if="block.background.color || theme.styles.background.color"\n    ></fieldset>\n\n    \x3c!-- MAP --\x3e\n    <label class="edit-design-form__label--primary" id="sc-target-location-map">Map</label>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Overlay opacity"\n      sc-range-value="block.overlay.opacity"\n      ng-if="block.background.color || theme.styles.background.color"\n    ></fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Zoom"\n      sc-range-value="block.map.zoomLevel"\n      sc-range-max="23"\n      sc-range-unit="X"\n    ></fieldset>\n\n    <fieldset class="form_field full" id="sc-target-marker">\n      <legend class="edit-design-form__label--inline">Custom Marker</legend>\n      <label class="edit-design-form__sublabel">\n        <p>Click on the map to set a more precise location for your campaign</p></label\n      >\n      <map-marker-picker\n        model="block.map.customMarker"\n        zoom="block.map.zoomLevel"\n      ></map-marker-picker>\n    </fieldset>\n  </div>\n\n  \x3c!-- END: STUFF THAT WILL BE HIDDEN WHEN YOU HIDE BLOCK --\x3e\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/progress-circle/desktop",'<section class="progress-circle-block" role="region" aria-label="progress">\n  <div data-sc-block-bg="block.background"></div>\n\n  <div class="progress-circle-block__grid-container">\n    <div class="progress-circle-block__grid">\n      <div class="progress-circle-block__row">\n        <div\n          class="progress-circle-block__circle-container clickable-element"\n          ng-click="scrollToElement(\'sc-progress-circle\')"\n        >\n          <progress-circle\n            data-amount="progressData.percentToGoal * 100"\n            data-color="progressCircleColor()"\n            data-animation="true"\n            stroke-width="8"\n            data-trail-color="block.progressBarBackgroundColor"\n            trail-width="8"\n          >\n            <div\n              class="circular-progress__text"\n              data-ng-style="{color:theme.saved.styles.aboutContentColor}"\n            >\n              We\'ve raised\n              <span\n                class="circular-progress__text--large"\n                data-ng-bind="block.displayProgress == \'dollars\' ? shortenedGrossAmount : amountRaisedAsPercent"\n                data-ng-style="{color:theme.saved.styles.aboutContentColor}"\n              ></span>\n              <span class="circular-progress__goal" data-ng-if="!block.hideGoal">\n                Our Goal\n                <span\n                  class="circular-progress__text--small"\n                  data-ng-bind="progressData.goal | currency : \'$\' : 0"\n                  data-ng-style="{color:theme.saved.styles.aboutContentColor}"\n                ></span>\n              </span>\n            </div>\n          </progress-circle>\n        </div>\n\n        <div class="progress-circle-block__text-container">\n          <div\n            data-ng-if="block.headline"\n            class="progress-circle-block__headline"\n            data-ng-style="{\'color\': block.headlineColor}"\n          >\n            <div\n              class="froala-editor"\n              data-ng-click="scrollToElement(\'sc-target-progress-headline\')"\n              data-ng-model="block.headline"\n              data-froala="froalaOptionsPreview"\n              ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n            ></div>\n\n            <span\n              class="progress-circle-block_header-title"\n              data-ng-bind-html="block.headline | scTrustedHtml"\n              ng-if="block.headline && !block.hideHeadline && (!editable || getLock(\'headline\'))"\n              role="heading"\n              sc-lock-field="getLock(\'headline\') && editable"\n              opacity="1"\n              aria-level="2"\n            ></span>\n\n            <div\n              class="progress-circle-block__subheading"\n              data-ng-click="scrollToElement(\'sc-target-progress-subheader\')"\n              data-ng-style="{color:theme.saved.styles.aboutContentColor}"\n              data-ng-model="block.subheadline"\n              data-ng-if="editable && !block.hideSubheadline && !getLock(\'subheadline\')"\n              data-froala="froalaOptionsContent"\n            ></div>\n\n            <div\n              class="progress-circle-block__subheading"\n              data-ng-bind-html="block.subheadline | scImgAssetRef | userLinks | scTrustedHtml"\n              data-ng-if="(!editable || getLock(\'subheadline\')) && !block.hideSubheadline"\n              data-ng-style="{color:theme.saved.styles.aboutContentColor}"\n              sc-responsive-video\n              sc-lock-field="getLock(\'subheadline\') && editable"\n              opacity="1"\n            ></div>\n          </div>\n\n          \x3c!-- row for buttons --\x3e\n          <div class="progress-circle-block__button-container" data-ng-if="block.showButtons">\n            <div\n              class="progress-circle-block__button--left"\n              ng-if="block.displayRegisterButton && (campaign.type === \'ticketed\' || allowFundraisingPages)"\n            >\n              <div\n                class="progress-circle-block__button join clickable-element"\n                data-ng-if="editable && !getLock(\'registerButtonText\')"\n                data-ng-style="registerButtonStyle()"\n                data-ng-click="scrollToElement(\'sc-target-register\')"\n              >\n                <textarea\n                  msd-elastic\n                  class="form_transparent-input"\n                  type="text"\n                  data-froala="froalaOptionsColors"\n                  placeholder="Type a call to action!"\n                  data-ng-model="block.registerButtonText"\n                ></textarea>\n              </div>\n              <a\n                class="progress-circle-block__button join"\n                data-ng-if="!editable || getLock(\'registerButtonText\')"\n                sc-lock-field="editable && getLock(\'registerButtonText\')"\n                data-ng-style="registerButtonStyle()"\n                data-ng-click="handleRegistrationSwitch($event)"\n                data-ng-keydown="handleRegistrationSwitch($event)"\n                ng-disabled="rwfCampaignInactive"\n                target="_self"\n                role="{{campaign.type === \'ticketed\' ? \'link\' : \'button\'}}"\n                data-ng-bind-html="block.registerButtonText  | scTrustedHtml"\n                tabindex="0"\n              ></a>\n            </div>\n\n            <div class="progress-circle-block__button--right">\n              <div\n                class="progress-circle-block__button donate clickable-element"\n                data-ng-if="editable && block.displayDonateButton && !getLock(\'donateButtonText\')"\n                data-ng-click="scrollToElement(\'sc-target-donate\')"\n                data-ng-style="donateButtonUnshadedStyle()"\n              >\n                <textarea\n                  msd-elastic\n                  class="form_transparent-input"\n                  type="text"\n                  data-froala="donateNowFroalaOptionsColors"\n                  placeholder="Type a call to action!"\n                  data-ng-model="block.donateButtonText"\n                ></textarea>\n              </div>\n              <a\n                class="progress-circle-block__button donate"\n                role="link"\n                target="_self"\n                data-ng-if="(!editable || getLock(\'donateButtonText\')) && block.displayDonateButton"\n                sc-lock-field="editable && getLock(\'donateButtonText\')"\n                opacity="1"\n                data-ng-href="{{ \'/give/\' + campaign.id + \'/\' + (SC.preview ? \'?preview=true\' : \'\') + \'#!/donation/checkout\' }}"\n                data-ng-style="donateButtonShadedStyle()"\n                data-ng-bind-html="block.donateButtonText | scTrustedHtml"\n                aria-label="Donate, Click to make a donation"\n              >\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/progress-circle/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  data-sc-pristine-load\n  novalidate\n>\n  \x3c!-- START: STUFF THAT WILL BE HIDDEN WHEN YOU HIDE BLOCK --\x3e\n  <div ng-class="{\'fields-disable\': block.disable}">\n    \x3c!-- Headline --\x3e\n    <p class="edit-design-form__label" id="sc-target-progress-headline">Headline</p>\n    <div class="form_field full">\n      <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n      </froala-field>\n      <checkbox-control ng-model="block.hideHeadline"> Hide headline </checkbox-control>\n    </div>\n\n    \x3c!-- Subheading --\x3e\n    <p class="edit-design-form__label" id="sc-target-progress-subheader">Sub heading</p>\n    <div class="form_field full">\n      <froala-field\n        model="block.subheadline"\n        name="\'subheadline\'"\n        froala-options="subHeaderOptions"\n      >\n      </froala-field>\n      <checkbox-control ng-model="block.hideSubheadline"> Hide sub heading </checkbox-control>\n    </div>\n\n    <p class="edit-design-form__label--primary" id="sc-progress-circle">Progress Circle</p>\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Progress color</label>\n        <label class="edit-design-form__sublabel">\n          <p>Set the color of the progress circle</p>\n        </label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.progressBarColor"\n          data-swatch-size="25"\n          data-fallback-color="theme.styles.primaryColor"\n        ></div>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Background color</label>\n        <label class="edit-design-form__sublabel">\n          <p>Set the color of the background</p>\n        </label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.progressBarBackgroundColor"\n          data-swatch-size="25"\n          data-fallback-color="theme.styles.primaryColor"\n        ></div>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Display progress</legend>\n      </div>\n      <div\n        class="edit-design-form_inline-field"\n        ng-class="{\'admin-body__lock-field\':lockDisplayProgress}"\n      >\n        <div\n          ng-if="lockDisplayProgress"\n          data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n          data-sc-tooltip-position="center"\n          data-sc-tooltip-position-tip="bottom center"\n          show-event="\'mouseenter\'"\n          hide-event="\'mouseout\'"\n          fixed-tooltip="true"\n          data-sc-tooltip="\'This field is locked at the template level.\'"\n          class="admin-body__tooltip-element"\n        ></div>\n        <select\n          class="edit-design-form_select"\n          name="progress-display"\n          data-ng-model="block.displayProgress"\n          ng-disabled="lockDisplayProgress"\n          data-ng-options="name as option.label for (name,option) in progressDisplays"\n          qa-id="{{ scQaId.selectField }}"\n          aria-label="Select to display progress in dollars or percentage"\n        ></select>\n        <label for="progress-display" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="goal">Show goal</label>\n        <label class="edit-design-form__sublabel">\n          <p>Show the goal in the circle</p>\n        </label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'progressGoal\'"\n          model="block.hideGoal"\n          flipped="true"\n          toggle-label="Click to {{ block.hideGoal ? \'show\' : \'hide\'}} the goal in the circle"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    \x3c!-- Register button --\x3e\n    <p class="edit-design-form__label--primary" id="sc-target-register">\n      {{campaign.current.type == \'reg_w_fund\' ? \'Register Button\' : \'Tickets Button\'}}\n    </p>\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="headline">Button color</label>\n      </div>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.registerButtonColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Button style</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.registerButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          data-sc-color="block.registerButtonColor"\n          class="edit-design-form_select"\n          name="donate-button-style"\n          aria-label="Select button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Show button</label>\n      </div>\n\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showRegisterButton\'"\n          model="block.displayRegisterButton"\n          toggle-label="Click to {{ block.displayRegisterButton ? \'hide\' : \'show\'}} tickets register"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    \x3c!-- Donate button --\x3e\n    <p class="edit-design-form__label--primary" id="sc-target-donate">Donate Button</p>\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="headline">Donate button color</label>\n      </div>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.donateButtonColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Donate button style</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.donateButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          data-sc-color="block.donateButtonColor"\n          class="edit-design-form_select"\n          name="donate-button-style"\n          aria-label="Select donate button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Show donate button</label>\n      </div>\n\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showDonateButton\'"\n          model="block.displayDonateButton"\n          toggle-label="Click to {{ block.displayDonateButton ? \'hide\' : \'show\'}} Donate"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <p class="edit-design-form__label--primary" id="sc-target-about">Background</p>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n    <fieldset\n      class="form_field full"\n      sc-range-slider\n      sc-range-label="Background color opacity"\n      sc-range-value="block.background.colorOpacity"\n      ng-if="block.background.color || theme.styles.background.color"\n    ></fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Image</legend>\n      <div class="form_field-input">\n        <div\n          data-sc-img-list="block.background.image"\n          name="aboutBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="bgMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n      <p class="form_helper">For best quality, use a 1280 x 720 px image.</p>\n    </fieldset>\n\n    <div ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n  </div>\n\n  \x3c!-- END: STUFF THAT WILL BE HIDDEN WHEN YOU HIDE BLOCK --\x3e\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/registration/desktop",'<section class="registration-block" role="region" aria-label="registration">\n  <div data-sc-block-bg="block.background" data-fallback-color="theme.styles.primaryColor"></div>\n\n  <div class="registration-block__grid">\n    <div class="registration-block__content">\n      \x3c!-- Header --\x3e\n      <div class="row-flex__center">\n        <h2\n          class="registration-block__headline"\n          data-ng-if="(!editable || getLock(\'headline\')) && block.headline && block.showHeadline"\n          ng-bind-html="block.headline | scTrustedHtml"\n          sc-lock-field="getLock(\'headline\') && editable"\n          opacity="1"\n          ng-style="{color: block.headlineColor}"\n        ></h2>\n\n        <h2\n          class="registration-block__headline"\n          data-ng-if="editable && block.showHeadline && block.headline && !getLock(\'headline\')"\n          data-ng-click="scrollToElement(\'sc-target-headline\')"\n          data-ng-model="block.headline"\n          data-ng-style="{color:block.headlineColor}"\n          data-froala="froalaOptions.headline"\n        ></h2>\n      </div>\n\n      \x3c!-- Subheader --\x3e\n      <div class="row-flex__center">\n        <p\n          class="registration-block__subheader clickable-element"\n          ng-if="block.subheading && block.showSubheading"\n          data-ng-click="scrollToElement(\'sc-target-subheader\')"\n          ng-bind-html="block.subheading | scTrustedHtml"\n          aria-label="Registration Sub Heading"\n        ></p>\n      </div>\n\n      \x3c!-- Registrations --\x3e\n      <div\n        class="row-flex__center clickable-element"\n        data-ng-click="scrollToElement(\'sc-target-registrations\')"\n      >\n        <registrations-list\n          class="registration-block__registrations-list"\n          ng-if="registrations.length"\n          registrations="registrations"\n          show-title="block.showRegistrationTitle"\n          show-price="block.showRegistrationPrice"\n          show-details="block.showRegistrationDetails"\n        ></registrations-list>\n      </div>\n\n      \x3c!-- Register Button --\x3e\n      <div class="row-flex__center" ng-if="displayRegisterBtn">\n        <button\n          class="registration-block__btn"\n          data-ng-if="!editable"\n          ng-style="regBtnStyle()"\n          ng-bind="block.registerButtonText | scTrustedHtml"\n          ng-disabled="rwfCampaignInactive"\n          ng-click="handleRegistrationSwitch()"\n          ng-keydown="handleRegistrationSwitch($event)"\n          aria-label="{{campaign.type === \'ticketed\' ? \'Get tickets link\' : \'Register, Click to Register for event\'}}"\n          tabindex="0"\n          role="{{campaign.type === \'ticketed\' ? \'link\' : \'button\'}}"\n        ></button>\n\n        <div\n          class="registration-block__btn clickable-element"\n          data-ng-if="editable"\n          data-ng-click="scrollToElement(\'sc-target-button\')"\n          data-ng-style="regBtnStyle()"\n        >\n          <textarea\n            msd-elastic\n            class="form_transparent-input"\n            aria-label="Registration Register Button"\n            rows="1"\n            type="text"\n            placeholder="Register"\n            ng-model="block.registerButtonText"\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/registration/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  <div ng-class="{\'fields-disable\': block.disable}">\n    \x3c!-- Heading --\x3e\n    <label class="edit-design-form__label" id="sc-target-headline">Heading</label>\n    <fieldset class="form_field full">\n      <froala-field model="block.headline" name="\'headline\'" froala-options="froalaHeadline">\n      </froala-field>\n      <checkbox-control ng-model="block.showHeadline" flipped="true">\n        Hide headline\n      </checkbox-control>\n    </fieldset>\n\n    <label class="edit-design-form__label" id="sc-target-subheader">Sub heading</label>\n    <fieldset class="form_field full">\n      <input-field\n        data-model="block.subheading"\n        name="\'subheading\'"\n        aria-label="Sub heading"\n      ></input-field>\n      <checkbox-control ng-model="block.showSubheading" flipped="true">\n        Hide sub heading\n      </checkbox-control>\n    </fieldset>\n\n    \x3c!-- Registrations --\x3e\n    <label class="edit-design-form__label--primary" id="sc-target-registrations">Items</label>\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline" for="headline">Show title</label>\n      <toggle-field\n        data-model="block.showRegistrationTitle"\n        data-name="\'showRegTitle\'"\n        toggle-label="Click to {{ block.showRegistrationTitle ? \'hide\' : \'show\'}} Registration Title"\n      ></toggle-field>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline" for="headline">Show price</label>\n      <toggle-field\n        data-model="block.showRegistrationPrice"\n        data-name="\'showRegPrice\'"\n        toggle-label="Click to {{ block.showRegistrationPrice ? \'hide\' : \'show\'}} Registration Price"\n      ></toggle-field>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline" for="headline">Show details</label>\n      <toggle-field\n        data-model="block.showRegistrationDetails"\n        data-name="\'showRegDetails\'"\n        toggle-label="Click to {{ block.showRegistrationDetails ? \'hide\' : \'show\'}} Registration Details"\n      ></toggle-field>\n    </fieldset>\n\n    \x3c!-- Register Button --\x3e\n    <label class="edit-design-form__label--primary" id="sc-target-button">Button</label>\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline">Button color</label>\n      <color-picker-field\n        data-model="block.registerButtonColor"\n        data-fallback="theme.styles.primaryColor"\n        data-remove-button="true"\n        data-style-class="\'edit-design-form\'"\n      ></color-picker-field>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Button style</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          sc-block-style-select="block.registerButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          data-sc-color="block.registerButtonColor"\n          class="edit-design-form_select"\n          aria-label="Select button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    \x3c!-- Background --\x3e\n    <label class="edit-design-form__label--primary" id="sc-target-about-enable">Background</label>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label--inline">Color</label>\n      <color-picker-field\n        data-model="block.background.color"\n        data-style-class="\'edit-design-form\'"\n      ></color-picker-field>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Color opacity"\n      sc-range-value="block.background.colorOpacity"\n    ></fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label">Image</label>\n      <image-list-field\n        data-model="block.background.image"\n        data-config="bgImgUploadOptions"\n      ></image-list-field>\n    </fieldset>\n\n    <fieldset class="form_field full" ng-if="block.background.image">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label">Image Position</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-bg-select="block.background"\n          class="edit-design-form_select"\n          name="background-pos"\n        ></div>\n        <label for="background-pos" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Image Opacity"\n      sc-range-value="block.background.imageOpacity"\n      ng-if="block.background.image"\n    ></fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Blur"\n      sc-range-value="block.background.blur"\n      ng-if="block.background.image"\n    ></fieldset>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/desktop",'\x3c!-- Team Page --\x3e\n<div class="team-block">\n  <div\n    class="team-block_header"\n    data-ng-click="scrollToElement(\'sc-target-team-bg\')"\n    data-ng-class="{publicSection: public}"\n  >\n    <div\n      class="team-block_header-bg"\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.styles.background.color"\n      data-fallback-img="theme.styles.background.image.asset"\n    ></div>\n  </div>\n\n  <div class="team-block_main" role="main">\n    <div data-ng-include="\'global/objects/scBlock/types/team/templates/aside\'"></div>\n\n    <div class="team-block_content">\n      \x3c!-- List mode --\x3e\n      <div\n        data-ng-if="posts.ui.mode === \'list\'"\n        data-ng-include="\'global/objects/scBlock/types/team/templates/main\'"\n      ></div>\n\n      \x3c!-- Post mode --\x3e\n      <div\n        data-ng-if="posts.ui.mode === \'post\'"\n        data-ng-include="\'global/objects/scBlock/types/team/templates/post\'"\n      ></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/settings",'<div>\n  <form\n    class="admin-body_form edit-design-form team-form"\n    name="editForm"\n    sc-validity-reporter="editForm"\n    novalidate\n    data-sc-pristine-load\n    sc-submit="block.update()"\n  >\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label main" id="sc-target-team-default">\n        Team default photo\n      </legend>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.defaultTeamLogo"\n          data-mm-config="teamPhotoMediaManagerOptions"\n          name="teamBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n\n      <p class="form_helper">For best quality, use a 320 x 320 px image</p>\n    </fieldset>\n\n    <div class="form_field full">\n      <legend class="edit-design-form__label main" id="sc-target-team-default">\n        Default team headline\n      </legend>\n      <input-field\n        name="\'default_team_appeal\'"\n        model="campaign.current.default_team_appeal"\n        maxlength="CHAR_LIMITS.DEFAULT_PAGE_APPEAL"\n        counter="true"\n      ></input-field>\n    </div>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="allowTeamsChangeAppeal"\n          >Allow teams to change headline</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'teamsSetAppeal\'"\n          model="campaign.current.teams_can_set_appeal"\n          toggle-label="Click to {{ campaign.current.teams_can_set_appeal ? \'disallow\' : \'allow\'}} teams to change headline"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary">Items</label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showCampaign">Show campaign</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showCampaign\'"\n          model="block.showCampaign"\n          toggle-label="Click to {{ block.showCampaign ? \'hide\' : \'show\'}} campaign block"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showTeamCaptain"\n          >Show team captain</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showTeamCaptain\'"\n          model="block.showTeamCaptain"\n          toggle-label="Click to {{ block.showTeamCaptain ? \'hide\' : \'show\'}} team captain"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showLeaderboard"\n          >Show leaderboard</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showLeaderboard\'"\n          model="block.showLeaderboard"\n          toggle-label="Click to {{ block.showLeaderboard ? \'hide\' : \'show\'}} leaderboard"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showTeamRank">Show team rank</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showTeamRank\'"\n          model="block.showTeamRank"\n          toggle-label="Click to {{ block.showTeamRank ? \'hide\' : \'show\'}} team rank"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showTeamMembers"\n          >Show team members</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showTeamMembers\'"\n          model="block.showTeamMembers"\n          toggle-label="Click to {{ block.showTeamMembers ? \'hide\' : \'show\'}} team members"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary">Team Fundraising Goal</label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="teamsCanChangeGoal"\n          >Allow teams to change their goal</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'teamsSetGoal\'"\n          model="campaign.current.teams_can_set_goal"\n          toggle-label="Click to {{ campaign.current.teams_can_set_goal ? \'disallow\' : \'allow\'}} teams to change their goal"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-team-progress"\n      >Progress Bar</label\n    >\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="showProgressBar"\n          >Show Progress Bar</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'showProgressBar\'"\n          model="block.showProgressBar"\n          toggle-label="Click to {{ block.showProgressBar ? \'hide\' : \'show\'}} Progress Bar"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline">Progress bar color</label>\n      </div>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.progressBarColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-team-join"\n      >Join Team Button</label\n    >\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Join button color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.joinButtonColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Join button style</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.joinButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          class="edit-design-form_select"\n          name="join-button-style"\n          aria-label="Select join button style"\n        ></div>\n        <label for="join-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary" id="sc-target-team-join">Donate Button</label>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label--inline">Donate button color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.donateButtonColor"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.primaryColor"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Donate button style</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-style-select="block.donateButtonStyle"\n          data-sc-presets="scBlockHeroDonateButtonPresets"\n          class="edit-design-form_select"\n          name="donate-button-style"\n          aria-label="Select donate button style"\n        ></div>\n        <label for="donate-button-style" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    \x3c!-- <label class="edit-design-form__label main">Team rank</label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class=\'edit-design-form__label main\' for="showTeamRank">Show team rank</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <input id="showTeamRank" class="form_toggle" type="checkbox"\n          data-ng-true-value="true"\n          data-ng-false-value="false"\n          data-ng-model="block.showTeamRank">\n        <label for="showTeamRank" class="form_toggle-label"></label>\n      </div>\n    </fieldset> --\x3e\n\n    <label class="edit-design-form__label--primary"> Background </label>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Color</legend>\n      </div>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-lock-field="lockBackground"\n        data-swatch-size="25"\n        data-fallback-color="theme.styles.background.color"\n        data-remove-button="{{campaign.IS_TICKETED}}"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-team-bg">\n      <legend class="edit-design-form__label main">Image</legend>\n      <div class="form_field-input edit-design-form_image-list">\n        <div\n          data-sc-img-list="block.background.image"\n          name="teamBg"\n          data-mode="single"\n          data-mm-config="teamCoverPhotoMediaManagerOptions"\n          data-re-upload="true"\n          data-lock-field="lockBackground"\n          data-preview="550"\n        >\n          Upload Image\n        </div>\n      </div>\n\n      <p class="form_helper">For best quality, use a 1400 x 460px image</p>\n    </fieldset>\n\n    \x3c!-- <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <label class=\'edit-design-form__label\' for="allowTeamsChangeCoverPhoto">Allow teams to change their cover photo</label>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <input id="allowTeamsChangeCoverPhoto" class="form_toggle" type="checkbox"\n          data-ng-true-value="true"\n          data-ng-false-value="false"\n          data-ng-model="block.teamsCanSetCoverPhoto">\n        <label for="allowTeamsChangeCoverPhoto" class="form_toggle-label"></label>\n      </div>\n    </fieldset> --\x3e\n\n    <div ng-if="block.background.image && !lockBackground">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n        ng-if="block.background.image"\n      ></fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image blur"\n        sc-range-value="block.background.blur"\n      ></fieldset>\n    </div>\n\n    <label class="edit-design-form__label--primary" id="sc-target-team-story">\n      Default Story\n      \x3c!-- <p class="form_helper">Write the default story your teams will display on their page</p> --\x3e\n    </label>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label">Default story title</label>\n      <div class="team-block_updates-title">\n        <input-field\n          data-model="campaign.current.default_team_post_title"\n          name="\'default-team-title\'"\n          maxlength="CHAR_LIMITS.DEFAULT_PAGE_POST_TITLE"\n          counter="true"\n        ></input-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label">Default story body</label>\n      <div class="team-block_updates-body">\n        <froala-field\n          model="campaign.current.default_team_post_body"\n          name="\'default_team_post_body\'"\n          froala-options="postBodyOptions"\n        >\n        </froala-field>\n      </div>\n    </fieldset>\n\n    <fieldset class="form_field full" id="sc-target-team-activity">\n      <div class="edit-design-form_inline-field">\n        <label class="edit-design-form__label--inline" for="allowCommenting"\n          >Allow commenting</label\n        >\n      </div>\n      <div class="edit-design-form_inline-field">\n        <toggle-field\n          name="\'allowCommenting\'"\n          model="block.allowCommenting"\n          toggle-label="Click to {{ block.allowCommenting ? \'disallow\' : \'allow\'}} commenting"\n        >\n        </toggle-field>\n      </div>\n    </fieldset>\n  </form>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/tablet",'<div class="team-block tablet">\n  <div class="team-block_header">\n    <div\n      class="team-block_header-bg"\n      data-sc-block-bg="block.background"\n      data-fallback-color="theme.styles.background.color"\n      data-fallback-img="theme.styles.background.image.asset"\n    ></div>\n  </div>\n\n  \x3c!-- Main section --\x3e\n\n  <div class="team-block_content">\n    \x3c!-- List mode --\x3e\n    <div\n      data-ng-if="posts.ui.mode === \'list\'"\n      data-ng-include="\'global/objects/scBlock/types/team/templates/tablet/main\'"\n    ></div>\n\n    \x3c!-- Post mode --\x3e\n    <div\n      data-ng-if="posts.ui.mode === \'post\'"\n      data-ng-include="\'global/objects/scBlock/types/team/templates/post\'"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/text/desktop",'<section class="text" role="region" aria-label="text">\n  <div data-sc-block-bg="block.background" data-fallback-color="theme.styles.primaryColor"></div>\n\n  <div class="text_inner-content">\n    <h1\n      class="frs-header frs-header_title white"\n      data-ng-model="block.headline"\n      ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n      data-ng-style="{color:block.headlineColor}"\n      data-froala="froalaOptionsPreviewHeadline"\n    ></h1>\n\n    <h2\n      class="frs-header frs-header_title"\n      ng-if="(!editable || getLock(\'headline\')) && !block.hideHeadline"\n      sc-lock-field="getLock(\'headline\') && editable"\n      opacity="1"\n      data-ng-style="{color:block.headlineColor}"\n      data-ng-bind-html="block.headline | scTrustedHtml"\n    ></h2>\n\n    <div class="frs-content">\n      <div\n        class="froala-editor text_content"\n        data-ng-model="block.content"\n        data-ng-if="editable && !getLock(\'content\')"\n        data-froala="froalaOptionsPreviewContent"\n      ></div>\n      <div\n        class="text_content"\n        data-ng-if="!editable || getLock(\'content\')"\n        sc-lock-field="getLock(\'content\') && editable"\n        opacity="1"\n        ng-bind-html="block.content | scImgAssetRef | userLinks | scTrustedHtml"\n        sc-responsive-video\n      ></div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/text/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.save(editForm)"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  \x3c!-- START: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n  <div ng-class="{\'fields-disable\': disableTextBlock}">\n    \x3c!-- Headline --\x3e\n    <fieldset class="form_field full">\n      <label class="edit-design-form__label main" for="headline"> Headline </label>\n\n      <div\n        ng-if="isHeadlineLocked"\n        style="height: 60%"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'"\n        hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n\n      <textarea\n        class="form_text-area"\n        data-ng-model="block.headline"\n        data-froala="headerFroalaOptions"\n        id="headline"\n        name="headline"\n        qa-id="{{ scQaId.textAreaField }}"\n        data-froala-event-content-changed="saveContent"\n      >\n      </textarea>\n      <checkbox-control ng-model="block.hideHeadline"> Hide headline </checkbox-control>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label main">Headline color</legend>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.headlineColor"\n        data-swatch-size="25"\n      ></div>\n    </fieldset>\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label">Content</legend>\n\n      <div\n        ng-if="isContentLocked"\n        style="height: 95%"\n        data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n        data-sc-tooltip-position="center"\n        data-sc-tooltip-position-tip="bottom center"\n        show-event="\'mouseenter\'"\n        hide-event="\'mouseout\'"\n        fixed-tooltip="true"\n        data-sc-tooltip="\'This field is locked at the template level.\'"\n        class="admin-body__tooltip-element"\n      ></div>\n\n      <textarea\n        class="form_text-area"\n        data-ng-model="block.content"\n        data-froala="contentFroalaOptions"\n        id="froala-edit"\n        qa-id="{{ scQaId.textAreaField }}"\n        data-froala-event-content-changed="saveContent"\n      >\n      </textarea>\n    </fieldset>\n\n    <label class="edit-design-form__label--primary"> Background </label>\n\n    <div\n      ng-if="isBackgroundLocked"\n      style="height: 13%; margin-top: -5px"\n      data-sc-tooltip-class="admin-campaign-tooltip lock-tooltip-msg"\n      data-sc-tooltip-position="center"\n      data-sc-tooltip-position-tip="bottom center"\n      show-event="\'mouseenter\'"\n      hide-event="\'mouseout\'"\n      fixed-tooltip="true"\n      data-sc-tooltip="\'This field is locked at the template level.\'"\n      class="admin-body__tooltip-element"\n    ></div>\n\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Color</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          class="form_mini-colorpicker"\n          data-sc-spectrum="block.background.color"\n          data-swatch-size="25"\n          data-fallback-color="theme.styles.primaryColor"\n        ></div>\n      </div>\n    </fieldset>\n    \x3c!-- <div>\n      <label>Reset to primary color</label>\n      <button data-ng-click="block.discardChanges(\'bgColor\')">Discard changes</button>\n    </div> --\x3e\n\n    <fieldset class="form_field full">\n      <legend class="edit-design-form__label main">Image</legend>\n      <div class="form_field-input">\n        <div\n          data-sc-img-list="block.background.image"\n          name="blockBg"\n          data-mode="single"\n          data-re-upload="true"\n          data-mm-config="bgMediaManagerOptions"\n          data-preview="550"\n        >\n          Upload Background Image\n        </div>\n      </div>\n    </fieldset>\n\n    <div ng-if="block.background.image">\n      <fieldset class="form_field full">\n        <div class="edit-design-form_inline-field">\n          <legend class="edit-design-form__label--inline">Image position</legend>\n        </div>\n        <div class="edit-design-form_inline-field">\n          <div\n            data-sc-block-bg-select="block.background"\n            class="edit-design-form_select"\n            name="background-pos"\n          ></div>\n          <label for="background-pos" class="edit-design-form_select-label"></label>\n        </div>\n      </fieldset>\n\n      <fieldset\n        sc-range-slider\n        sc-range-label="Image opacity"\n        sc-range-value="block.background.imageOpacity"\n      ></fieldset>\n    </div>\n  </div>\n\n  \x3c!-- END: STUFF THAT WILL BE HIDDEN WHEN YOU LOCK BLOCK --\x3e\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/thank-you/desktop",'<div class="thank-you thank-you-block" data-ng-controller="donationMainCtrl">\n  <div\n    data-sc-block-bg="block.background"\n    data-fallback-color="theme.styles.background.color"\n    data-fallback-img="theme.styles.background.image.asset"\n  ></div>\n\n  <div class="checkout-flow">\n    <section class="checkout-flow_left" role="main">\n      <header\n        class="thank-you_header"\n        data-sc-filler-text="{\n          fontBase: 16,\n          fontRatio: 14\n        }"\n        data-title-container="\'.thank-you_header_top\'"\n        data-parent-container="\'.thank-you_header_top\'"\n        ng-cloak\n      >\n        <section class="thank-you_header_top">\n          <h1\n            tabindex="0"\n            class="thank-you_headline"\n            data-ng-bind-html="block[\'headline\'] | scTrustedHtml"\n            data-ng-if="!editable && !isPreview()"\n          ></h1>\n          <h2\n            tabindex="0"\n            class="thank-you_headline"\n            data-ng-bind-html="block[\'headline\'] | scTrustedHtml"\n            data-ng-if="(!editable || getLock(\'headline\')) && isPreview()"\n            sc-lock-field="getLock(\'headline\') && editable"\n            opacity="1"\n          ></h2>\n\n          <h2\n            tabindex="0"\n            class="checkout-flow_headline"\n            data-ng-model="block.headline"\n            ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n            data-ng-click="scrollToElement(\'sc-target-donation-headline\')"\n            data-froala="headerOptions"\n          ></h2>\n\n          <div\n            tabindex="0"\n            class="thank-you_description"\n            data-ng-if="!editable || getLock(\'supporting-message\')"\n            data-ng-bind-html="block[\'supporting-message\'] | scImgAssetRef | userLinks | scTrustedHtml"\n            sc-lock-field="getLock(\'supporting-message\') && editable"\n            opacity="1"\n            sc-responsive-video\n          ></div>\n\n          <div\n            tabindex="0"\n            class="thank-you_description"\n            data-ng-if="editable && !getLock(\'supporting-message\')"\n            ng-model="block[\'supporting-message\']"\n            data-froala="subheaderOptions"\n            sc-responsive-video\n          ></div>\n        </section>\n\n        <section class="thank-you_header_share">\n          <span id="social-buttons-dropdown" tabindex="0" class="thank-you_share-cta"\n            >Help us by sharing</span\n          >\n          <div class="thank-you_social-group" data-sc-social-buttons="\'icons\'"></div>\n        </section>\n      </header>\n\n      <section class="thank-you_confirmation" ng-cloak>\n        <div class="thank-you_confirmation_inner">\n          <h2 tabindex="0" class="checkout-flow_legend">Donation Information</h2>\n          <dl class="thank-you_confirmation_list" ng-if="hasDonationInfo" role="none">\n            <dt tabindex="0" class="thank-you_confirmation_list-title" ng-if="showChargedAmount">\n              Donation Amount\n            </dt>\n            \x3c!-- Showing the raw amount if not m11y or if raw & charged are the same --\x3e\n            <dd\n              tabindex="0"\n              class="thank-you_confirmation_list-description"\n              data-ng-bind="convertedAmount"\n              ng-if="showChargedAmount"\n            ></dd>\n\n            <dt tabindex="0" class="thank-you_confirmation_list-title">Amount</dt>\n            <dd tabindex="0" class="thank-you_confirmation_list-description">\n              <span\n                >{{transaction.charged_total_gross_amount |\n                scFormatCurrency:transaction.charged_currency_code:2}}\n                {{transaction.charged_currency_code}} {{transaction.frequency | capitalize}}</span\n              >\n            </dd>\n\n            <dt\n              tabindex="0"\n              class="thank-you_confirmation_list-title"\n              ng-if="transaction.recur_until"\n            >\n              Ending\n            </dt>\n            <dd\n              tabindex="0"\n              class="thank-you_confirmation_list-description"\n              ng-if="transaction.recur_until"\n            >\n              <span>{{transaction.recur_until | date: \'MM/dd/yyyy\'}}</span>\n            </dd>\n\n            <dt\n              tabindex="0"\n              class="thank-you_confirmation_list-title"\n              data-ng-if="transaction.dedication"\n            >\n              Dedication:\n            </dt>\n            <dd\n              tabindex="0"\n              class="thank-you_confirmation_list-description"\n              data-ng-if="transaction.dedication"\n              data-ng-bind="dedicationText"\n            ></dd>\n\n            <dt tabindex="0" class="thank-you_confirmation_list-title">Confirmation number</dt>\n            <dd\n              tabindex="0"\n              class="thank-you_confirmation_list-description"\n              data-ng-bind="transaction.id"\n            ></dd>\n            <dt tabindex="0" class="thank-you_confirmation_list-campaign-goal-msg">\n              {{transaction.payment_type === \'ACH\' ? \'Your bank transfer is in progress. You should\n              see the funds withdrawn from your account within 7 days. A receipt will be sent to\n              your email once the transfer is complete.\' : \'A copy of your receipt will be sent to\n              your email shortly.\'}}\n            </dt>\n\n            <dt tabindex="0" class="thank-you_confirmation_list-title" data-ng-if="charity">\n              Receiving Organization:\n            </dt>\n            <dd\n              tabindex="0"\n              class="thank-you_confirmation_list-description"\n              data-ng-if="charity"\n              data-ng-bind="Organization.name"\n            ></dd>\n\n            <dt tabindex="0" class="thank-you_confirmation_list-title" ng-if="transaction.comment">\n              Your Comment:\n            </dt>\n            <dd\n              tabindex="0"\n              class="thank-you_confirmation_list-description"\n              data-ng-bind="transaction.comment"\n            ></dd>\n          </dl>\n          <p tabindex="0" class="thank-you_no-info" ng-if="!hasDonationInfo">\n            Your donation was successful, but your transaction details could not be loaded at this\n            time. Try reloading this page, or contact us for more information.\n          </p>\n        </div>\n      </section>\n\n      <section\n        data-ng-if="donationDestination != \'campaign\' && receivingEntity && !receivingEntity.isTribute"\n        class="thank-you_fundraiser-message"\n      >\n        <h2 tabindex="0" class="checkout-flow_legend">\n          From {{ receivingEntity.isTeam ? \'Team\' : \'Fundraiser\'}}\n        </h2>\n\n        <div class="thank-you_fundraiser-stats">\n          <img\n            class="thank-you_fundraiser-photo"\n            data-ng-if="!receivingEntity.isTeam"\n            data-ng-src="{{receivingEntity.logo ? receivingEntity.logo.src: \'/static/global/images/individual_default_image.png\'}}"\n          />\n          <img\n            class="thank-you_fundraiser-photo"\n            alt="thank you for your donation"\n            data-ng-if="receivingEntity.isTeam"\n            data-ng-src="{{receivingEntity.logo ? receivingEntity.logo.src: \'/static/global/images/team_default_image.png\'}}"\n          />\n          <p\n            tabindex="0"\n            class="thank-you_fundraiser-message-blurb"\n            ng-if="thankYouText"\n            ng-bind-html="thankYouText"\n          ></p>\n          <p tabindex="0" class="thank-you_fundraiser-message-blurb" ng-if="!thankYouText">\n            Thank you for donating to {{campaign.current.name}} through {{receivingEntity.isTeam ?\n            \'our\' : \'my\'}} fundraising {{receivingEntity.isTeam ? \'team\' : \'page\'}}! Feel free to\n            check back on {{receivingEntity.isTeam ? \'our\' : \'my\'}} fundraising progress as\n            {{receivingEntity.isTeam ? \'we\' : \'I\'}} attempt to reach {{receivingEntity.isTeam ?\n            \'our\' : \'my\'}} goal!<br /><br />\n\n            Here\'s a link to {{receivingEntity.isTeam ? \'our\' : \'my\'}}\n            <a\n              class="thank-you_fundraiser-message-blurb-link"\n              href="{{ \'/\' + receivingEntity.type + \'/\' + receivingEntity.id }}"\n              target="_self"\n              >fundraising {{receivingEntity.isTeam ? \'team\' : \'page\'}}.</a\n            >\n          </p>\n          <p tabindex="0" class="thank-you_fundraiser-message-blurb">\n            - {{receivingEntity.isTeam ? receivingEntity.name : receivingEntity.alias}}\n          </p>\n        </div>\n      </section>\n\n      \x3c!-- Employer match (DTD) condensed plugin --\x3e\n      <section class="thank-you_employer-match" data-ng-if="isEmployerMatchOnThankyouPageEnabled">\n        <div id="dd-condensed"></div>\n        <script>\n          var dtd_selected_company = SC.organization.doubleTheDonationChannel.companyId;\n          var DDCONF = {\n            API_KEY: SC.organization.doubleTheDonationChannel.publicKey,\n            CONDENSED: true,\n            COMPANY: dtd_selected_company,\n          };\n          doublethedonation.plugin.load_plugin(document.getElementById(\'dd-condensed\'));\n          if (window.doublethedonation) {\n            doublethedonation.plugin.set_donation_identifier(SC.transactionId);\n            if (dtd_selected_company) doublethedonation.plugin.set_company(dtd_selected_company);\n          }\n        <\/script>\n      </section>\n\n      <section class="thank-you_manage" data-ng-if="showManagePane">\n        <h2 tabindex="0" class="checkout-flow_legend">Manage your donation</h2>\n\n        <p tabindex="0" class="thank-you_manage_prompt">{{ build.manageData().text }}</p>\n\n        <ul\n          tabindex="0"\n          class="thank-you_manage_recurring"\n          ng-show="transaction.frequency === \'recurring\'"\n        >\n          <li>Access your donation receipt.</li>\n          <li>Edit or cancel recurring donations.</li>\n        </ul>\n\n        <a\n          class="thank-you_manage_button"\n          data-ng-href="{{ build.manageData().href }}"\n          data-ng-style="{color: primaryColor}"\n          target="_self"\n        >\n          {{ build.manageData().buttonText }}\n        </a>\n      </section>\n\n      <section class="thank-you_help">\n        <h2 tabindex="0" class="checkout-flow_legend">\n          Need help or have questions about your donation?\n        </h2>\n        <p tabindex="0" class="thank-you_manage_prompt">\n          If you have any questions, contact\n          <a class="thank-you_help_email" ng-href="{{ \'mailto:\' + email_contact }}">\n            <strong\n              ng-bind="email_contact"\n              data-ng-style="{color: Campaign.theme.primaryColor}"\n            ></strong>\n          </a>\n          <span data-ng-if="phone_contact" tabindex="0"\n            >{{phone_contact ? \'or call \' + phone_contact: \'\'}}.</span\n          >\n          \x3c!--\n          <span data-ng-if="phone_contact == \'\'">.</span>\n          <span data-ng-if="phone_contact != \'\'"> or call {{ phone_contact }}.</span> --\x3e\n        </p>\n      </section>\n    </section>\n\n    <aside\n      ng-include="\'global/objects/scBlock/types/donation/aside/partial\'"\n      data-ng-controller="donationAsideCtrl"\n    ></aside>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/thank-you/settings",'<form\n  class="admin-body_form edit-design-form"\n  name="editForm"\n  sc-validity-reporter="editForm"\n  data-sc-submit="block.update()"\n  data-sc-submit-error-function="showFormError"\n  novalidate\n>\n  <div class="form_field full">\n    <label class="edit-design-form__label main"> Headline </label>\n    <froala-field model="block.headline" name="\'headline\'" froala-options="headerOptions">\n    </froala-field>\n  </div>\n  <div class="form_field full">\n    <label class="edit-design-form__label main"> Thank You </label>\n    <froala-field\n      model="block[\'supporting-message\']"\n      name="\'supporting\'"\n      froala-options="messageOptions"\n    >\n    </froala-field>\n  </div>\n\n  <label class="edit-design-form__label--primary"> Background </label>\n\n  <div class="form_field full">\n    <div class="form_field full">\n      <label class="edit-design-form__label">Color</label>\n      <div\n        class="form_mini-colorpicker"\n        data-sc-spectrum="block.background.color"\n        data-fallback-color="theme.styles.background.color"\n        data-remove-button="{{campaign.IS_TICKETED}}"\n        data-swatch-size="25"\n      ></div>\n    </div>\n\n    <label class="edit-design-form__label"> Image </label>\n    <div class="form_field-input edit-design-form_image-list">\n      <div\n        data-sc-img-list="block.background.image"\n        name="headerBg"\n        data-mode="single"\n        data-re-upload="true"\n        data-mm-config="thankYouPhotoMediaManagerOptions"\n        data-preview="550"\n      >\n        Upload Image\n      </div>\n    </div>\n    <p class="form_helper">For best quality, use a 1280 x 720 px image.</p>\n  </div>\n\n  <div data-ng-if="block.background.image">\n    <fieldset class="form_field full">\n      <div class="edit-design-form_inline-field">\n        <legend class="edit-design-form__label--inline">Image position</legend>\n      </div>\n      <div class="edit-design-form_inline-field">\n        <div\n          data-sc-block-bg-select="block.background"\n          class="edit-design-form_select"\n          name="background-pos"\n        ></div>\n        <label for="background-pos" class="edit-design-form_select-label"></label>\n      </div>\n    </fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Image opacity"\n      sc-range-value="block.background.imageOpacity"\n    ></fieldset>\n\n    <fieldset\n      sc-range-slider\n      sc-range-label="Image blur"\n      sc-range-value="block.background.blur"\n    ></fieldset>\n  </div>\n</form>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/thank-you/share-modal",'<div class="frs-modal_canvas share">\n  <div class="frs-modal_main">\n    <h1 tabindex="0" class="frs-modal_title">Thank you for your donation!</h1>\n    <p tabindex="0" class="frs-modal_p">\n      Continue to show support by spreading awareness and sharing with your family and friends!\n    </p>\n\n    <button\n      tabindex="0"\n      role="button"\n      aria-label="Share on Facebook"\n      class="frs-button_thank-you frs-button_facebook large"\n      data-id="confirmation-modal-meta_fb"\n      ng-click="fbShare()"\n    >Share on <i class="social-buttons_item-icon fa fa-facebook-square"></i> Facebook</button>\n    <a\n      tabindex="-1"\n      aria-label="Share on Instagram"\n      class="desktop-hide frs-button_thank-you-wrapper"\n      ng-if="instagramUrl"\n      ng-href="{{:: instagramUrl }}"\n      target="_blank"\n      data-id="confirmation-modal-meta_ig"\n      rel="noopener noreferrer">\n      <button\n        tabindex="0"\n        role="button"\n        aria-label="Share on Instagram"\n        class="frs-button_thank-you frs-button_instagram large"\n      >Share on <img class="social-buttons_item-icon" sc-cdn-src="/static/global/images/Instagram_Glyph_Gradient-512.min.png"> Instagram</button>\n    </a>\n    <a\n      tabindex="0"\n      role="button"\n      class="frs-modal_cancel"\n      ng-keydown="closeModal($event)"\n      ng-click="closeModal()"\n      >No thanks, maybe later</a\n    >\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/boolean",'<div>\n  <div class="donation-waiver" ng-bind-html="question.label | nl2br"></div>\n\n  <span\n    data-sc-checkbox\n    class="eg-checkbox-input"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    name="cq_{{:: question.id }}"\n  >\n    I Accept the Waiver Agreement.\n  </span>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::$ctrl.ERROR_MESSAGES.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/currency",'<div>\n  <input\n    class="eg-input eg-input__text"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-sc-retain-focus-validity\n    data-ng-required="question.is_required"\n    data-sc-currency\n    data-symbol="{{::$ctrl.currency.symbol}}"\n    data-round-currency="false"\n    name="cq_{{::question.id}}"\n    type="text"\n  />\n  <div aria-live="polite" role="alert">\n    <span\n      class="donation-error"\n      data-ng-show="$ctrl.parentForm[\'cq_\'+question.id].$viewValue"\n      data-sc-form-error="show if cq_{{::question.id}} fails"\n    >\n      {{::$ctrl.ERROR_MESSAGES.DOLLAR_AMOUNT_VALID_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/date",'<div>\n  <input\n    class="eg-input eg-input__text"\n    uib-datepicker-popup="MM/dd/yyyy"\n    datepicker-options="{ showWeeks: false }"\n    is-open="visible"\n    ng-click="visible = true"\n    ng-model="MODEL.answers[question.id]"\n    ng-model-options="{ getterSetter: true }"\n    ng-required="question.is_required"\n    name="cq_{{::question.id}}"\n    type="text"\n    placeholder="Enter date in the format: MM/DD/YYYY"\n  />\n\n  <div aria-live="polite" role="alert">\n    <span\n      class="donation-error"\n      data-ng-show="$ctrl.parentForm[\'cq_\'+question.id].$viewValue"\n      data-sc-form-error="show if cq_{{::question.id}} fails"\n    >\n      {{::$ctrl.ERROR_MESSAGES.DATE_VALID_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/enum",'<div>\n  <select\n    class="donation-select eg-input__select"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-ng-options="option.label as option.label for option in question.enum_options"\n    name="cq_{{::question.id }}"\n    required\n  >\n    <option value="">Please select</option>\n  </select>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::$ctrl.ERROR_MESSAGES.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/integer",'<div>\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-sc-retain-focus-validity\n    data-ng-required="question.is_required"\n    class="eg-input eg-input__text"\n    name="cq_{{::question.id}}"\n    type="number"\n  />\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails number">\n      {{::$ctrl.ERROR_MESSAGES.NUMBERS_ONLY_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/string",'<div>\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-ng-maxlength="255"\n    data-sc-retain-focus-validity\n    class="eg-input eg-input__text"\n    aria-label="{{::question.label}}"\n    name="cq_{{::question.id}}"\n    type="text"\n  />\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails maxlength">\n      {{::$ctrl.ERROR_MESSAGES.CHARACTER_LIMIT_255_MESSAGE}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/text",'<div data-ng-if="$ctrl.isInit" class="froala-textarea">\n  <textarea\n    froala="$ctrl.froalaCustomQuestionsOptions"\n    class="donation-textarea"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-sc-retain-focus-validity\n    data-ng-required="question.is_required"\n    name="cq_{{::question.id}}"\n    type="text"\n  >\n  </textarea>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::$ctrl.ERROR_MESSAGES.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/custom/yes_no",'<div>\n  <div>\n    <radio-control\n      value="\'Yes\'"\n      ng-model="MODEL.answers[question.id]"\n      ng-model-options="{ getterSetter: true }"\n      ng-required="question.is_required"\n      name="cq_{{::question.id}}"\n    >\n      Yes\n    </radio-control>\n\n    <radio-control\n      value="\'No\'"\n      ng-model="MODEL.answers[question.id]"\n      ng-model-options="{ getterSetter: true }"\n      ng-required="question.is_required"\n      name="cq_{{::question.id}}"\n    >\n      No\n    </radio-control>\n  </div>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::$ctrl.ERROR_MESSAGES.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/birthdate",'<div>\n  <div\n    data-sc-date-dropdown\n    data-class-stem="\'donation-birthday\'"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    name="{{::question.id}}"\n  ></div>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if optional_birthdate fails">\n      {{ build.birthdateError() }}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/cellphone",'<div>\n  \x3c!-- Cell phone --\x3e\n\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-sc-validate-phone\n    data-sc-retain-focus-validity\n    class="eg-input eg-input__text"\n    aria-label="cell phone number, numbers only"\n    name="{{::question.id}}"\n    type="tel"\n    inputmode="numeric"\n  />\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if {{::question.id}} fails phoneNumber">\n      {{::$ctrl.ERROR_MESSAGES.PHONE_NUMBER_VALID_ERROR_TEXT}}\n    </span>\n  </div>\n\n  \x3c!-- MGive --\x3e\n\n  <div class="donation-table_columns" data-ng-if="show.mgive()">\n    <div class="donation-table_column">\n      <span\n        data-sc-checkbox\n        aria-describedby="donationPage_text-opt-in-message"\n        data-ng-model="META.answers.text_opt_in"\n        data-ng-model-options="{ getterSetter: true }"\n        name="text_opt_in"\n      >\n        Receive text-message updates and info on your cell phone\n      </span>\n\n      <p\n        class="donation-table_row-helper"\n        id="donationPage_text-opt-in-message"\n        data-ng-bind="build.mgiveMessage()"\n      ></p>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/company_name",'<div>\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-sc-retain-focus-validity\n    class="eg-input__text"\n    aria-label="company name"\n    name="{{::question.id}}"\n    type="text"\n  />\n\n  \x3c!--  <div aria-live="polite">\n    <span class="donation-error" data-sc-form-error="show if optional_company_name fails required">\n      {{::CONSTANTS.COMPANY_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/gender",'<div>\n  <select\n    class="donation-select eg-input__select"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-ng-options="option.label as option.label for option in question.enum_options"\n    name="{{::question.id}}"\n    aria-label="Gender"\n  >\n    <option value="">Please Select</option>\n  </select>\n  \x3c!-- \n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if optional_gender fails">\n      {{::CONSTANTS.GENDER_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/homephone",'<div>\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-required="question.is_required"\n    data-sc-validate-phone\n    data-sc-retain-focus-validity\n    class="eg-input eg-input__text"\n    aria-label="phone number, numbers only"\n    name="{{::question.id}}"\n    type="tel"\n    inputmode="numeric"\n  />\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if {{::question.id}} fails phoneNumber">\n      {{::$ctrl.ERROR_MESSAGES.PHONE_NUMBER_VALID_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/middle_name",'<div>\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-sc-retain-focus-validity\n    data-sc-form-error="highlight if optional_middle_name fails"\n    placeholder="Middle Name"\n    class="eg-input eg-input__text"\n    name="{{::question.id}}"\n    aria-label="Please enter your middle name"\n    required\n    type="text"\n  />\n</div>\n\x3c!-- TODO why is "required" attribute here when ng-required is present? --\x3e\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/prefix",'<div>\n  <select\n    class="donation-select eg-input__select"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-sc-form-error="highlight if optional_prefix fails"\n    data-ng-required="question.is_required"\n    data-ng-options="option.label as option.label for option in question.enum_options"\n    name="{{::question.id}}"\n    aria-label="Title"\n  >\n    <option value="">Please Select</option>\n  </select>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if {{::question.id}} fails required">\n      {{::CONSTANTS.TITLE_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/pronoun",'<div>\n  <select\n    class="donation-select eg-input__select"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-ng-options="option.label as option.label for option in question.enum_options"\n    name="{{::question.id}}"\n    aria-label="Pronouns"\n  >\n    <option value="">Please Select</option>\n  </select>\n\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if {{::question.id}} fails">\n      {{::CONSTANTS.PRONOUN_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/suffix",'<div>\n  \x3c!-- TODO: Does Angular let you do this? --\x3e\n  <select\n    class="donation-select"\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    name="{{::question.id}}"\n    aria-label="suffix"\n  >\n    <option value="">Please Select</option>\n    <option value="Sr.">Sr.</option>\n    <option value="Jr.">Jr.</option>\n    <option value="II">II</option>\n    <option value="III">III</option>\n    <option value="IV">IV</option>\n    <option value="V">V</option>\n  </select>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/embedded-giving/components/custom-questions/fields/optional/website",'<div>\n  <input\n    data-ng-model="MODEL.answers[question.id]"\n    data-ng-model-options="{ getterSetter: true }"\n    data-ng-required="question.is_required"\n    data-sc-retain-focus-validity\n    class="eg-input eg-input__text"\n    aria-label="website"\n    name="{{::question.id}}"\n    type="text"\n  />\n  \x3c!-- <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if {{::question.id}} fails required">\n      {{::CONSTANTS.WEBSITE_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div> --\x3e\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/join-team/success/template",'<div class="join-team">\n  <h2 class="join-team_title">Welcome to the team!</h2>\n  <div class="join-team_avatars">\n    <img\n      class="join-team_avatar"\n      ng-src="{{fundraisingPage.logo.src ? fundraisingPage.logo.src : (fundraisingPage.logo.cdn_url ? fundraisingPage.logo.cdn_url : \'/static/global/images/individual_default_image.png\')}}"\n    />\n    <i class="fa fa-check-circle"></i>\n    <img\n      class="join-team_avatar"\n      ng-src="{{newTeam.logo.src ? newTeam.logo.src : (newTeam.logo.cdn_url ? newTeam.logo.cdn_url : \'/static/global/images/team_default_image.png\')}}"\n    />\n  </div>\n  <p class="join-team_explainer-title">You have joined {{newTeam.name}}</p>\n  <div class="join-team_button-container single">\n    <a\n      class="join-team_button join"\n      ng-click="$root.flowModal.close(true)"\n      data-ng-style="{ \'background-color\': primaryColor }"\n    >\n      Continue\n    </a>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/logo/switch/template",'<div class="create-flow" data-ng-class="{processing: ui.processing}">\n  <h2 id="modal-dialog-label" class="create-flow_title">\n    {{fundraiser.current.is_tribute ? \'Choose a photo\' : \'Upload your photo\'}}\n  </h2>\n\n  <div class="create-flow_switch-container" data-ng-class="{\'single-icon\':isDomainMasked}">\n    <button class="create-flow_switch-button" data-ng-click="flowToMediaManager()">\n      <i class="fa fa-desktop create-flow_switch-button-icon"></i>\n      <p class="create-flow_switch-button-label">From Device</p>\n    </button>\n\n    <button\n      class="create-flow_switch-button"\n      data-ng-click="getFacebookProfilePicture()"\n      ng-if="!isDomainMasked"\n    >\n      <i class="fa fa-facebook-official create-flow_switch-button-icon"></i>\n      <p class="create-flow_switch-button-label" aria-label="Facebook profile photo">\n        Profile Photo\n      </p>\n    </button>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/flows/create-fundraising-page/views/multiple-fundraisers/welcome-back/template",'<div class="create-flow">\n  <i class="ci ci-ico-fistbump create-flow_success-icon"></i>\n  <h2 class="create-flow_success-title">Welcome back!</h2>\n  <p class="create-flow_success-message">\n    Here\'s your fundraising page. Click to continue fundraising with this page.\n  </p>\n\n  <div class="create-flow_buttons-container">\n    <div class="create-flow_button half secondary" ng-click="flow.to(\'indiv.multiple-pages\')">\n      Go Back\n    </div>\n\n    <div\n      class="create-flow_button half"\n      ng-style="{\'background-color\': ui.primaryColor}"\n      ng-click="continueToPage()"\n    >\n      Continue\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/supporter/scSupporterLeader/mobile-template",'<div class="{{ bc }}_leader">\n  <a\n    class="{{ bc }}_leader-link"\n    data-ng-href="{{ showCount ? \'/\' + leader.type + \'/\' + leader.id : null }}"\n  >\n    <div data-ng-if="showCount" class="{{ bc }}_leader-image" data-ng-style="photoSize()">\n      <img class="{{ bc }}_leader-image-src" ng-src="{{ getLeaderImage() }}" />\n    </div>\n    <div\n      data-ng-if="hideCount"\n      class="{{ bc }}_leader-image ci ci-{{ defaultIcon }}"\n      data-ng-style="photoSize()"\n      aria-hidden="true"\n    ></div>\n  </a>\n\n  <div class="{{ bc }}_leader-text">\n    <h4 class="{{ bc }}_leader-title" data-ng-bind="leader.title" data-ng-if="!hideTitle"></h4>\n    <a\n      class="{{ bc }}_leader-name"\n      data-ng-bind="leader.alias ? leader.alias : leader.name"\n      target="_self"\n      data-ng-if="showCount"\n      data-ng-href="{{ leader.type + \'/\' + leader.id }}"\n    ></a>\n    <small data-ng-if="showCount" class="{{ bc }}_leader-metric"\n      >{{ count }} {{ leader.metric }}</small\n    >\n    <small\n      data-ng-if="hideCount"\n      class="{{ bc }}_leader-description"\n      data-ng-bind="defaultText"\n    ></small>\n  </div>\n  <a\n    data-ng-if="showCount && leader.goal"\n    data-ng-href="{{ leader.type + \'/\' + leader.id }}"\n    target="_self"\n    class="{{ bc }}_leader-icon"\n    aria-hidden="true"\n  ></a>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/supporter/scSupporterLeader/template",'<div class="{{ bc }}_leader">\n  <a class="{{ bc }}_leader-link" \n     target="_self"\n     data-ng-href="{{ !leader.placeholder ? \n      (\'/\' + leader.type + (SC.preview \n        ? \'/example?preview=true&campaignId=\' + SC.campaign.id + \'&organizationId=\' + SC.organization.id \n        : \'/\' + leader.id)) \n      : \'javascript:void(0);\' }}"\n     aria-label="{{getAriaLabel(leader,defaultText)}}" role="link">\n    <h3 class="{{ bc }}_leader-title" data-ng-bind="leader.title" data-ng-if="!hideTitle"></h3>\n    <div class="{{ bc }}_leader-image" data-ng-if="showCount" data-ng-style="photoSize()">\n      <img\n        class="{{ bc }}_leader-image-src"\n        ng-src="{{ getLeaderImage() }}"\n        alt="{{ leader.alias ? leader.alias : leader.name }}\'s Avatar"\n      />\n    </div>\n    <div\n      class="{{ bc }}_leader-image ci ci-{{ defaultIcon }}"\n      data-ng-if="hideCount"\n      data-ng-style="photoSize()"\n    ></div>\n    <span\n      class="{{ bc }}_leader-name"\n      data-ng-if="showCount"\n      data-ng-bind="leader.alias ? leader.alias : leader.name"\n    ></span>\n  </a>\n  <small data-ng-if="showCount && leader.goal" class="{{ bc }}_leader-metric"\n    >{{ count }} {{ leader.metric }}</small\n  >\n  <small\n    data-ng-if="hideCount"\n    class="{{ bc }}_leader-description"\n    data-ng-bind="defaultText"\n  ></small>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/shared/supporter/scSupporterParent/template",'<div class="{{ bc }}_aside-parent">\n  <h2 class="{{ bc }}_aside-parent-header" data-ng-bind="getTypeText()"></h2>\n\n  <div class="{{ bc }}_aside-parent-table">\n    <a class="{{ bc }}_aside-parent-link" data-ng-href="{{link()}}">\n      <div class="{{ bc }}_aside-parent-thumb">\n        <img\n          class="{{ bc }}_aside-parent-thumb-src"\n          ng-src="{{getImg()}}"\n          alt="View campaign page - {{parent.name}} using image"\n        />\n      </div>\n    </a>\n\n    <section class="{{ bc }}_aside-parent-info">\n      <a\n        class="{{ bc }}_aside-parent-name"\n        data-ng-href="{{link()}}"\n        data-ng-bind="parent.name"\n        aria-label="View campaign page - {{parent.name}} using name"\n      ></a>\n      <div class="{{ bc }}_aside-parent-progress">\n        <span\n          class="{{ bc }}_aside-parent-progress-raised"\n          data-ng-if="false"\n          data-ng-bind="total_raised | scFormatCurrency:currency"\n        >\n        </span>\n        <span class="{{ bc }}_aside-parent-progress-goal">\n          {{ total_raised | scFormatCurrency:currency }} / {{ parent.raw_goal |\n          scFormatCurrency:currency }}\n        </span>\n      </div>\n      <div\n        class="{{ bc }}_aside-parent-progress-bar"\n        data-ng-if="attach"\n        data-sc-campaign-progress\n        data-entity="parent"\n        data-has-stats-hidden="true"\n        data-has-raised-hidden="true"\n        data-bar-color="theme.styles.primaryColor"\n      ></div>\n    </section>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/amount/mobile-ls",'<div class="donation_inner-wrap">\n  <legend class="checkout-flow_legend">\n    <span data-ng-if="block[\'recurring-type\']!=\'fixed\'"> Select an amount </span>\n\n    <span\n      data-ng-if="block[\'recurring-type\']==\'fixed\' && Donation.recurring"\n      data-ng-bind="Donation.recurringText ? Donation.recurringText : \'Your Membership Investment\'"\n    >\n    </span>\n\n    <span data-ng-if="block[\'recurring-type\']==\'fixed\' && !Donation.recurring">One-time gift </span>\n  </legend>\n\n  \x3c!-- Levels --\x3e\n  <ul class="donation_amount-levels" data-ng-show="block[\'recurring-type\']!=\'fixed\'">\n    <li\n      class="donation_amount-level usd"\n      data-ng-style="donationLevelStyle(level.displayAmount)"\n      data-ng-repeat="level in block[\'donation-levels\']"\n      data-ng-click="selectDonation(level.displayAmount); amountChanged();"\n      data-ng-class="donationLevelClass(level.displayAmount)"\n      data-ng-bind="level.displayAmount"\n    ></li>\n\n    <li\n      class="donation_amount-level"\n      data-ng-style="donationLevelStyle(\'Other\')"\n      data-ng-class="donationLevelClass(\'Other\')"\n      data-ng-click="selectDonation(\'Other\'); amountChanged();"\n    >\n      Other\n    </li>\n  </ul>\n\n  \x3c!-- Fixed --\x3e\n  <div class="donation_amount-details fixed" data-ng-if="block[\'recurring-type\']==\'fixed\'">\n    \x3c!-- <div class="donation_amount-detail-label"\n      data-ng-class="{required: block[\'recurring-type\']!=\'fixed\'}">\n      Monthly investment of:\n    </div> --\x3e\n    <div class="donation_form-table with-padding third monthly">\n      <span\n        class="donation_form-field-label large right"\n        data-ng-class="{required: block[\'recurring-type\']!=\'fixed\'}"\n        ng-bind="Donation.recurring ? \'Monthly investment of:\' : \'Your donation:\'"\n      ></span>\n    </div>\n    <div class="donation_amount-value-fixed" ng-class="{monthly: Donation.recurring}">\n      <span class="donation_amount-value-fixed-sym">$</span>{{ Donation.amount }}\n    </div>\n  </div>\n\n  \x3c!-- Forced --\x3e\n  <div class="donation_amount-details forced" data-ng-if="block[\'recurring-type\']==\'forced\'">\n    <div class="donation_form-table" data-ng-class="{required: block[\'recurring-type\']!=\'fixed\'}">\n      Your Monthly Recurring Donation\n    </div>\n\n    <div\n      class="form_field-input form_input-with-addon"\n      data-ng-class="{monthly: Donation.recurring}"\n    >\n      <span class="form_currency usd"></span>\n      <div class="form_input-addon">Amount</div>\n      <input\n        class="donation_amount-value-num do form_text-input large"\n        type="number"\n        min="0"\n        step="1"\n        name="donation"\n        data-ng-model="Donation.amount"\n        data-ng-change="amountChanged()"\n        maxlength="8"\n        data-sc-max-value="10000000"\n        data-sc-min-value="1"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n        data-sc-dollar\n        required\n      />\n      <span class="donation_amount-currency">{{ Charity.currency }}</span>\n    </div>\n  </div>\n\n  <div\n    class="donation_amount-details"\n    data-ng-if="block[\'recurring-type\']==\'default\' || block[\'recurring-type\']==\'disabled\'"\n  >\n    <div\n      class="form_field-input form_input-with-addon"\n      data-ng-class="{monthly:Donation.recurring==1}"\n    >\n      <span class="form_currency usd"></span>\n      <div class="form_input-addon">Amount</div>\n      <input\n        class="donation_amount-value-num do form_text-input large"\n        type="number"\n        min="0"\n        step="1"\n        name="donation"\n        data-ng-model="Donation.amount"\n        data-ng-change="amountChanged()"\n        maxlength="8"\n        data-sc-max-value="10000000"\n        data-sc-min-value="1"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n        data-sc-dollar\n        required\n      />\n      <span class="donation_amount-currency">{{ Charity.currency }}</span>\n    </div>\n\n    <div\n      class="form_field-input"\n      data-ng-if="block[\'recurring-type\']==\'default\' && block[\'recurring-type\']!=\'disabled\' && Charity.plan !== 8 && Charity.plan !== 0"\n    >\n      <div\n        class="form_field-input"\n        data-ng-if="block[\'recurring-type\']==\'default\' && Charity.plan !== 8 && Charity.plan !== 0"\n      >\n        <radio-field\n          name="\'donation-options\'"\n          data-model="Donation.recurring"\n          getter-setter="true"\n          radio-label-a="One-time"\n          radio-value-a="\'0\'"\n          radio-label-b="Monthly"\n          radio-value-b="\'1\'"\n        >\n        </radio-field>\n      </div>\n\n      <div\n        data-ng-show="block[\'recurring-type\']!=\'fixed\' && (showFormError(\'donation\') || paypalErrors)"\n        class="form_error margin-top"\n      >\n        <span data-ng-show="checkout.donation.$error.required">\n          Please select a donation amount.\n        </span>\n        <span data-ng-show="checkout.donation.$error.maxValue">\n          Please select an amount under 10,000,000.\n        </span>\n        <span data-ng-show="checkout.donation.$error.minValue">\n          Please select an amount greater than 0.\n        </span>\n        <span data-ng-show="checkout.donation.$error.dollar">\n          Please enter a valid dollar amount.\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/amount/partial",'<div class="donation_inner-wrap">\n  <legend class="checkout-flow_legend">\n    <span data-ng-show="!fixedAmount">Select an amount</span>\n    <span data-ng-show="fixedAmount">One-time gift</span>\n  </legend>\n\n  <ul class="donation_amount-levels" data-ng-show="!fixedAmount">\n    <li\n      class="donation_amount-level"\n      data-ng-style="donationLevelStyle(level.displayAmount)"\n      data-ng-repeat="level in block[\'donation-levels\']"\n      data-ng-click="selectDonation(level.displayAmount); amountChanged();"\n      data-ng-class="donationLevelClass(level.displayAmount)"\n      data-ng-bind="level.displayAmount | scFormatCurrency:currency"\n    ></li>\n\n    <li\n      class="donation_amount-level"\n      data-ng-style="donationLevelStyle(\'Other\')"\n      data-ng-click="selectDonation(\'Other\'); amountChanged();"\n      data-ng-class="donationLevelClass(\'Other\')"\n    >\n      Other\n    </li>\n  </ul>\n\n  <div class="donation_amount-details fixed" data-ng-if="fixedAmount">\n    <div class="donation_form-table with-padding third monthly">\n      <span class="donation_form-field-label large right" data-ng-class="{required: !fixedAmount}"\n        >Your donation:</span\n      >\n    </div>\n\n    <div class="donation_amount-value-fixed">\n      <span class="donation_amount-value-fixed-sym">$</span>{{ Donation.amount || \'0\' }}\n    </div>\n  </div>\n\n  <div class="donation_amount-details" id="grey-background" data-ng-if="!fixedAmount">\n    <div class="donation_form-table with-padding">\n      <span class="donation_form-field-label large">Your Donation</span>\n    </div>\n\n    <div class="donation_amount-value form_field-input">\n      <span class="donation_amount-symbol">$</span>\n      <input\n        class="form_text-input donation_amount-value-num"\n        type="text"\n        name="donation"\n        data-ng-model="Donation.amount"\n        data-ng-change="amountChanged()"\n        maxlength="8"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n        data-sc-currency\n        data-symbol=""\n        data-round-currency="false"\n        data-max="maxDonation"\n        data-min="minDonation"\n        required\n      />\n    </div>\n\n    <div class="donation_amount-currency">{{ currency }}</div>\n\n    <div\n      data-ng-if="!fixedAmount && (showFormError(\'donation\') || paypalErrors)"\n      class="form_error margin-top"\n    >\n      <span data-ng-if="checkout.donation.$error.required"> Please select a donation amount. </span>\n      <span data-ng-if="checkout.donation.$error.maxValue">\n        Please select an amount under 10,000,000.\n      </span>\n      <span data-ng-if="checkout.donation.$error.minValue">\n        Please select an amount greater than 0.\n      </span>\n      <span data-ng-if="checkout.donation.$error.dollar">\n        Please enter a valid dollar amount.\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/aside/partial",'<div class="checkout-flow_right" ng-controller="donationAsideCtrl">\n  <h3 class="checkout-flow_right_headline" tabindex="0">\n    <i class="fa fa-question-circle"></i>\n    Questions\n  </h3>\n\n  <dl data-sc-accordion-list="" class="checkout-flow_right_list">\n    <div ng-repeat="faq in faqs | orderBy:\'weight\'" ng-if="!faq.is_deleted">\n      <dt class="checkout-flow_right_list-term">\n        <i class="checkout-flow_right_list-fa fa"></i>\n        <a\n          href="javascript:;"\n          ng-bind="faq.question"\n          aria-label="{{::faq.question}} press enter then tab for answer"\n          tabindex="0"\n        ></a>\n      </dt>\n      <dd class="checkout-flow_right_list-definition" tabindex="0">\n        <p ng-bind-html="faq.answer | scTrustedHtml" class="checkout-flow_right_para"></p>\n      </dd>\n    </div>\n  </dl>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/dedication/ecard-preview-modal",'<div class="modal-ecard">\n  <div data-ng-show="!modalLoading">\n    <h1 class="admin-modal_p">This is what your eCard will look like</h1>\n    <div class="modal-ecard_main">\n      <img data-ng-src="{{ activeEcard.image_url }}" />\n      <div class="modal-ecard_message" ng-bind-html="emailMessage"></div>\n    </div>\n  </div>\n  <div class="modal-save-changes_loader sc-spinner-v2" data-ng-show="modalLoading"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/dedication/partial",'<div ng-controller="donationDedicationCtrl">\n\n  <div class="donation_inner-wrap with-border added-padding">\n    <checkbox-control ng-model="Donation.dedication.dedicate">\n      Dedicate my donation in honor or in memory of someone\n    </checkbox-control>\n  </div>\n\n  <div class="donation-prompt_more" data-ng-if="Donation.dedication.dedicate">\n\n    <div class="dedication_details">\n      <div class="donation-prompt_field">\n        <div class="donation_form-table mobile-ls-third">\n          <span class="required donation_form-field-label">Type</span>\n        </div>\n\n        <radio-field name="\'dedication-inputs\'" data-model="Donation.dedication.type" getter-setter="true"\n          radio-label-a="In honor of..." radio-value-a="\'honor\'" radio-label-b="In memory of..."\n          radio-value-b="\'memory\'" data-required="Donation.dedication.dedicate">\n        </radio-field>\n      </div>\n      <div data-ng-show="showFormError(\'dedicationInputs\')" class="form_error margin-top">\n        <span data-ng-show="checkout.dedicationInputs.$error.required">\n          Let us know what this dedication is for.\n        </span>\n      </div>\n\n      <div class="donation-prompt_field honoree-name">\n        <div class="donation_form-table">\n          <span class="required donation_form-field-label">\n            Honoree&rsquo;s Name\n          </span>\n        </div>\n\n        <input class="form_text-input donation-prompt_field-input desktop-half mobile-ls-half"\n          ng-model="Donation.dedication.honoree_first_name" data-sc-retain-focus-validity type="text"\n          placeholder="First Name" name="honoree_first_name" required />\n\n        <input class="form_text-input donation-prompt_field-input desktop-half mobile-ls-half"\n          ng-model="Donation.dedication.honoree_last_name" data-sc-retain-focus-validity type="text"\n          placeholder="Last Name" name="honoree_last_name" required />\n\n\n        \x3c!--   <input data-heap-ignore="true" class="mp-sensitive form_text-input donation-prompt_field-input desktop-full"\n          type="text" name="dedicateName"\n          data-ng-model="Donation.dedication.name"\n          data-ng-required="Donation.dedication.dedicate"\n          qa-id="{{ scQaId.singleLineTextInput }}" /> --\x3e\n      </div>\n      <div data-ng-show="showFormError(\'dedicateName\')" class="form_error margin-top">\n        <span data-ng-show="checkout.dedicateName.$error.required">\n          Don\'t forget to give us a name for the dedication.\n        </span>\n      </div>\n\n      <div class="donation-prompt_field">\n        <div class="donation_form-table">\n          <span class="donation_form-field-label"\n            data-ng-class="{required: Donation.dedication.email}">Recipient&rsquo;s Info</span>\n        </div>\n\n        <input data-heap-ignore="true" class="form_text-input donation-promot_field-input desktop-full mp-sensitive"\n          ng-model="Donation.dedication.email" type="text" placeholder="Email Address" name="recipientEmail"\n          qa-id="{{ scQaId.singleLineTextInput }}" />\n\n\n        \x3c!--  <input data-heap-ignore="true" data-sc-placeholder type="text" name="recipientName"\n          class="form_text-input donation-prompt_field-input desktop-half mobile-ls-full mp-sensitive"\n          placeholder="Full Name"\n          data-ng-model="Donation.dedication.contact"\n          ng-required="Donation.dedication.email || Donation.dedication.collectAddress"\n          qa-id="{{ scQaId.singleLineTextInput }}" />\n        <input data-heap-ignore="true" data-sc-placeholder type="email" name="recipientEmail"\n          class="form_text-input donation-prompt_field-input desktop-half mobile-ls-full last mp-sensitive"\n          placeholder="Email Address"\n          data-ng-model="Donation.dedication.email"\n          ng-required="Donation.dedication.contact"\n          qa-id="{{ scQaId.singleLineTextInput }}" /> --\x3e\n\n        <span class="dedication_info indent">\n          <span data-ng-hide="checkout.$submitted && (checkout.recipientEmail.$error || checkout.recipientName.$error)">\n            Optionally send a notification email\n          </span>\n        </span>\n      </div>\n\n      <div class="donation-prompt_field">\n        <div class="donation_form-table">\n          <span class="donation_form-field-label"\n            data-ng-class="{required: Donation.dedication.collectAddress}">Recipient\'s Name</span>\n        </div>\n\n        <input data-heap-ignore="true"\n          class="form_text-input donation-prompt_field-input desktop-half mobile-ls-half mp-sensitive"\n          ng-model="Donation.dedication.first_name" placeholder="First Name" type="text"\n          required="Donation.dedication.collectAddress" name="recipientFirstName" />\n\n        <input data-heap-ignore="true"\n          class="form_text-input donation-prompt_field-input desktop-half mobile-ls-half mp-sensitive"\n          ng-model="Donation.dedication.last_name" placeholder="Last Name" required="Donation.dedication.collectAddress"\n          type="text" name="recipientLastName" />\n      </div>\n\n      <div data-ng-show="showFormError(\'recipientLastName\') || showFormError(\'recipientFirstName\')" class="form_error"\n        style="float:none; top:0;">\n        <span data-ng-show="checkout.recipientLastName.$error.required || checkout.recipientFirstName.$error.required">\n          Don\'t forget to include the full name of your recipient.\n        </span>\n      </div>\n\n      <div data-ng-show="showFormError(\'recipientName\')" class="form_error" style="float:none; top:0;">\n        <span data-ng-show="checkout.recipientName.$error.required">\n          Don&rsquo;t forget to include the name of your recipient.\n        </span>\n      </div>\n\n      <div data-ng-show="(checkout.$submitted && checkout.recipientEmail.$invalid)" class="form_error"\n        style="float:none; top:0;">\n        <span data-ng-show="checkout.recipientEmail.$error.required">\n          Don&rsquo;t forget to include your recipient&rsquo;s email address.\n        </span>\n        <span data-ng-show="checkout.recipientEmail.$error.email">\n          Please include a valid email address.\n        </span>\n      </div>\n\n      <div class="donation-prompt_field dedication-mail" data-ng-if="SC.campaign.offer_dedication_postal_notifications">\n        <div class="donation_form-table">\n          <span class="donation_form-field-label">Printed Card</span>\n        </div>\n\n        <checkbox-control data-ng-model="Donation.dedication.collectAddress">\n          Send a card in the mail\n        </checkbox-control>\n      </div>\n\n      <div class="dedication-physical" data-ng-show="Donation.dedication.collectAddress">\n        <div class="donation-prompt_field">\n          <div class="donation_form-table">\n            <span class="donation_form-field-label" data-ng-class="{\'required\': Donation.dedication.collectAddress}">\n              Country\n            </span>\n          </div>\n          <span data-heap-ignore="true" class="form_select donation-prompt_field-input desktop-full mp-sensitive"\n            name="dedicateCountry" data-ng-model="Donation.dedication.country" data-sc-select-countries\n            ng-required="Donation.dedication.collectAddress">\n          </span>\n        </div>\n        <div data-ng-show="showFormError(\'dedicateCountry\')" class="form_error">\n          <span data-ng-show="checkout.dedicateCountry.$error.required">\n            Don&rsquo;t forget to include a country.\n          </span>\n        </div>\n\n        <div class="donation-prompt_field">\n          <div class="donation_form-table">\n            <span class="donation_form-field-label" data-ng-class="{\'required\': Donation.dedication.collectAddress}">\n              Street Address\n            </span>\n          </div>\n          <input data-heap-ignore="true" class="form_text-input donation-prompt_field-input desktop-full mp-sensitive"\n            type="text" name="dedicateAddress" data-ng-model="Donation.dedication.address"\n            data-ng-required="Donation.dedication.collectAddress" qa-id="{{ scQaId.singleLineTextInput }}" />\n        </div>\n        <div data-ng-show="showFormError(\'dedicateAddress\')" class="form_error">\n          <span data-ng-show="checkout.dedicateAddress.$error.required">\n            Don&rsquo;t forget to include a street address.\n          </span>\n        </div>\n        <div class="donation-prompt_field city">\n          <div class="donation_form-table">\n            <span class="donation_form-field-label" data-ng-class="{\'required\': Donation.dedication.collectAddress}">\n              City\n            </span>\n          </div>\n          <input data-heap-ignore="true" class="form_text-input donation-prompt_field-input desktop-full mp-sensitive"\n            type="text" name="dedicateCity" data-ng-model="Donation.dedication.city"\n            data-ng-required="Donation.dedication.collectAddress" qa-id="{{ scQaId.singleLineTextInput }}" />\n        </div>\n        <div data-ng-show="showFormError(\'dedicateCity\')" class="form_error">\n          <span data-ng-show="checkout.dedicateCity.$error.required">\n            Don&rsquo;t forget to include a city.\n          </span>\n        </div>\n\n        <div class="donation-prompt_field stateZip">\n          <div class="donation_form-table">\n            <span class="donation_form-field-label" data-ng-class="{\'required\': Donation.dedication.collectAddress}">\n              {{ Donation.dedication.country == \'US\' ? \'State &amp; Zip\' :\n              Donation.dedication.country == \'CA\' ? \'Province &amp; Postal Code\' :\n              \'Postal Code\' }}\n            </span>\n          </div>\n\n          <span data-heap-ignore="true" class="form_select donation-prompt_field-input half desktop-half mp-sensitive"\n            name="dedicateState" ng-if="Donation.dedication.country == \'US\'" data-ng-model="Donation.dedication.state"\n            data-sc-select-states data-ng-required="Donation.dedication.collectAddress"></span>\n          <span data-heap-ignore="true" class="form_select donation-prompt_field-input desktop-half mp-sensitive"\n            name="dedicateState" ng-if="Donation.dedication.country == \'CA\'" data-ng-model="Donation.dedication.state"\n            data-sc-select-provinces data-ng-required="Donation.dedication.collectAddress"></span>\n\n          <input data-heap-ignore="true"\n            class="form_text-input donation-prompt_field-input desktop-half last mp-sensitive"\n            ng-if="Donation.dedication.country == \'US\'" type="text" name="dedicateZip"\n            data-ng-model="Donation.dedication.zip" placeholder="ZIP"\n            data-ng-required="Donation.dedication.collectAddress" qa-id="{{ scQaId.singleLineTextInput }}" />\n          <input data-heap-ignore="true"\n            class="form_text-input donation-prompt_field-input desktop-half last mp-sensitive"\n            ng-if="Donation.dedication.country !== \'US\'" type="text" name="dedicateZip"\n            data-ng-model="Donation.dedication.zip" placeholder="Postal Code"\n            ng-required="Donation.dedication.collectAddress" qa-id="{{ scQaId.singleLineTextInput }}" />\n\n          <span ng-if="Donation.dedication.country == \'US\' || Donation.dedication.country ==\'CA\'"\n            class="dedication_zip"></span>\n\n        </div>\n\n        <div data-ng-show="showFormError(\'dedicateState\')" class="form_error">\n          <span data-ng-show="checkout.dedicateState.$error.required">\n            Don&rsquo;t forget to include a {{ Donation.dedication.country ==\n            \'US\' ? \'state\' : Donation.dedication.country == \'CA\' ? \'province\' : \'state\' }}.\n          </span>\n        </div>\n        <div data-ng-show="showFormError(\'dedicateZip\')" class="form_error">\n          <span data-ng-show="checkout.dedicateZip.$error.required">\n            Don&rsquo;t forget to include a {{ Donation.dedication.country == \'US\'\n            ? \'zip\' : \'postal\' }} code.\n          </span>\n        </div>\n      </div>\n\n    </div>\n\n    <div class="dedication_message">\n      <div class="dedication_message-details"\n        data-ng-class="{\'half\': campaign.current.ecards.length && campaign.current.allow_ecards }">\n\n        <div class="dedication_message-label">\n          <span class="donation_form-field-label" data-ng-class="{\'required\': Donation.dedication.recipientEmail ||\n          Donation.dedication.recipientName}">\n            Your Message to the Recipient\n          </span>\n          <a href ng-click="build.previewLink()" data-ng-if="Donation.dedication.emailImg">| Preview</a>\n        </div>\n\n        <textarea data-heap-ignore="true" class="form_text-area mp-sensitive" name="dedicateMsg"\n          data-ng-model="Donation.dedication.emailMsg" data-ng-required="Donation.dedication.recipientEmail ||\n          Donation.dedication.recipientName" qa-id="{{ scQaId.textAreaField }}"></textarea>\n\n        <div data-ng-show="showFormError(\'dedicateMsg\')" class="form_error">\n          <span data-ng-show="checkout.dedicateMsg.$error.required">\n            Don&rsquo;t forget to include a message.\n          </span>\n        </div>\n        <span class="info">\n          Please spell check, include how you would like your name(s) signed,\n          mention the amount if desired, and format your message as you would\n          like it delivered.\n        </span>\n      </div>\n\n      <div class="dedication_message-details half"\n        data-ng-if="campaign.current.ecards.length && campaign.current.allow_ecards">\n\n        <span class="dedication_message-label">Include an e-Card?</span>\n\n        <span class="right-controls">\n          <input type="radio" id="radio-ecard" class="form_radio-input large" name="dedicateImg"\n            data-ng-model="Donation.dedication.emailImg" ng-value="null">\n          <label class="form_radio-label" for="radio-ecard" data-ng-click="Donation.dedication.emailImg = null">No\n            e-Card</label>\n          <div class="ecards-grid">\n            <div ng-repeat="ecard in SC.campaign.ecards | orderBy: \'order\'">\n              <div data-ng-click="Donation.dedication.emailImg = ecard.id"\n                data-ng-class="{\'active\': Donation.dedication.emailImg == ecard.id }" class="ecards-card"\n                style="background-image: url({{ecard.image_url}})">\n\n                <input type="radio" class="form_radio-input large" id="radio-ecard" name="dedicateImg"\n                  data-ng-model="Donation.dedication.emailImg" data-ng-value="{{ ecard.id }}" />\n\n                <input type="radio" class="ecards-grid_input-radio" for="radio-ecard"\n                  data-ng-model="Donation.dedication.emailImg" data-ng-value="{{ ecard.id }}" />\n              </div>\n            </div>\n          </div>\n      </div>\n\n    </div>\n  </div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/footer/partial",'<section class="donation_inner-wrap donation_footer">\n  <div class="donation_summary-details indent">\n    <small class="donation_terms">\n      By clicking <span>{{ block[\'submit-button-text\'] || \'Donate\' }}</span>, I agree to the\n      <a href="https://www.gofundme.com/c/terms" target="_blank">Terms of Service</a> and\n      <a href="https://www.gofundme.com/c/privacy" target="_blank">Privacy Notice</a>\n    </small>\n  </div>\n  <div class="donation_summary-details indent">\n    <button class="donation-footer_submit" data-ng-if="!edit" data-ng-disabled="block.processing || block.submitDisabled" data-ng-style="{\'background-color\': theme.styles.primaryColor}"\n      type="submit" data-ng-bind="block[\'submit-button-text\']"></button>\n\n    <div class="donation_button edit large" data-ng-if="edit" data-ng-style="{\'background-color\': theme.styles.primaryColor}">\n      <textarea msd-elastic="" placeholder="Donate" class="form_transparent-input" type="text" data-ng-model="block[\'submit-button-text\']"></textarea>\n    </div>\n  </div>\n\n  <div class="donation_summary-details">\n    \x3c!-- Display Fundraiser\'s Photo --\x3e\n    <img class="donation_footer-user-photo" data-ng-src="{{selectedFundraiser.obj.photo}}" data-ng-if="campaign.current.type == \'p2p\' && displayFundraiserDetails"\n    />\n    <img data-ng-if="Fundraiser.id" data-ng-src="{{ Fundraiser.thanksImage }}" />\n    <div class="donation_summary-amount dollar" data-add-fee="Donation.fee_on_top">\n      <span class="donation_summary-label">Amount</span>\n      <span data-ng-bind="Donation.chargeEstimate ? (Donation.chargeEstimate | scFormatCurrency:currency:2 ) : \'0.00\'">\n      </span>\n    </div>\n  </div>\n  <input type="text" data-ng-model="Donation.z" data-ng-show="false">\n</section>\n</div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/header/p2p-header",'<section class="donation_user">\n  \x3c!-- Selected Fundraiser Details --\x3e\n  <div class="donation_user-container" ng-if="displayFundraiserDetails">\n\n    \x3c!-- Photo --\x3e\n    <img class="donation_user-photo"\n    data-ng-if="selectedFundraiser.obj.team_lead_id"\n    data-ng-src="{{selectedFundraiser.obj.logo ? selectedFundraiser.obj.logo.cdn_url : \'/static/global/images/team_default_image.png\'}}" />\n\n    <img class="donation_user-photo"\n    data-ng-if="!selectedFundraiser.obj.team_lead_id"\n    data-ng-src="{{selectedFundraiser.obj.logo ? selectedFundraiser.obj.logo.cdn_url : \'/static/global/images/individual_default_image.png\'}}" />\n\n    \x3c!-- Progress Bar --\x3e\n    <div class="donation_user-goal">\n      <h2 class="donation_user-header">\n        <strong>\n          {{selectedFundraiser.obj.alias || selectedFundraiser.obj.name}}\n        </strong>\n      </h2>\n      <div class="donation_progress-mask">\n        <div class="donation_progress-bar"\n          data-ng-show="!updated_percent_to_goal"\n          data-ng-style="{width: + fundraiser.current.percent_to_goal + \'%\', \'background-color\': theme.styles.primaryColor}">\n        </div>\n        <div class="donation_progress-bar"\n          data-ng-show="updated_percent_to_goal"\n          data-ng-style="{width: updated_percent_to_goal + \'%\', \'background-color\': theme.styles.primaryColor}">\n        </div>\n      </div>\n\n      \x3c!-- Mobile --\x3e\n      <div class="vis-mobile raisedGoal">\n        <span class="raised dollar">$<span ng-if="Donation.amount">{{ selectedFundraiser.obj.total_raised + Donation.amount | number: 0}}</span><span ng-if="!Donation.amount">{{ selectedFundraiser.obj.total_raised  | number: 0}}</span> of ${{ selectedFundraiser.obj.goal  | number: 0}}\n      </div>\n\n      \x3c!-- Fundraising Status --\x3e\n      <div class="donation_user-goal-status">\n        <span data-ng-show="goalReached()">\n          Thank you for your support! {{selectedFundraiser.obj.team_lead_id ? \'We\' : \'I\' }} have reached {{selectedFundraiser.obj.team_lead_id ? \'our\' : \'my\' }} goal of ${{selectedFundraiser.obj.goal | number: 0}}\n        </span>\n\n        <span data-ng-show="Donation.amountChanged && !willReachGoal() && !goalReached()">\n          You\'ll put {{selectedFundraiser.obj.team_lead_id ? \'us\' : \'me\' }} at {{updated_percent_to_goal | number: 0}}%\n        </span>\n\n        <span data-ng-show="!Donation.amountChanged && !willReachGoal() && !goalReached()">\n          <span ng-if="selectedFundraiser.obj.team_lead_id">We\'re</span><span ng-if="!selectedFundraiser.obj.team_lead_id">I\'m</span> {{selectedFundraiser.obj.percent_to_goal | number: 0}}%\n        </span>\n\n        <span data-ng-show="!willReachGoal() && !goalReached()">\n          of the way towards <span ng-if="selectedFundraiser.obj.team_lead_id">our</span><span ng-if="!selectedFundraiser.obj.team_lead_id">my</span> goal of ${{selectedFundraiser.obj.goal | number: 0}}\n        </span>\n\n        <span data-ng-show="willReachGoal() && !goalReached()">\n          Thank you! You\'ll have helped {{selectedFundraiser.obj.team_lead_id ? \'us\' : \'me\' }} reach {{selectedFundraiser.obj.team_lead_id ? \'our\' : \'my\' }} goal of ${{selectedFundraiser.obj.goal | number: 0}}</span>\n\n        \n      </div>\n    </div> \x3c!-- // donation_user-goal --\x3e\n  </div>\n\n  <div ng-if="hasSupporters && !campaign.current.disable_donation_attribution">\n    <span class="donation_targets-header">\n      <span ng-if="!isTeamCampaign()">Credit Donation to specific team or fundraiser? </span>\n      <span ng-if="isTeamCampaign()">Credit Donation to specific fundraiser? </span>\n    </span>\n    <div class="donation_targets-container">\n\n    <div data-sc-resource-search="searchTerms"\n    data-context="searchContext"\n    data-null-value="crediteeSearchDefault()"\n    data-select-initial="false"\n    data-team-id="crediteeSearchTeamId()"\n    data-include="[\'image\', \'description\']"\n    data-ng-model="newTargetDonation.obj"\n    name="donate_search-input"></div>\n\n    <div class="donation_fundraiser-search_invalid" data-ng-show="invalidSearch" ng-if="!isTeamCampaign()">No specific team or fundraiser found for that name.</div>\n    <div class="donation_fundraiser-search_invalid" data-ng-show="invalidSearch" ng-if="isTeamCampaign()">No specific fundraiser found for that name.</div>\n    </div>\n\n  </div>\n\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/header/partial",'<h1\n  ng-if="block.headline !== \'\' && (!editable || getLock(\'headline\'))"\n  sc-lock-field="editable && getLock(\'headline\')"\n  opacity="1"\n  class="checkout-flow_headline"\n  ng-bind-html="block.headline | scTrustedHtml"\n></h1>\n\n<h1\n  class="checkout-flow_headline"\n  data-ng-model="block.headline"\n  ng-if="editable && !block.hideHeadline && !getLock(\'headline\')"\n  data-ng-click="scrollToElement(\'sc-target-donation-headline\')"\n  data-froala="froalaOptionsPreview"\n></h1>\n\n<div\n  class="checkout-flow_description"\n  data-ng-bind-html="block.description | scImgAssetRef | userLinks | scTrustedHtml"\n  sc-responsive-video\n></div>\n\n\x3c!-- <section class="donation_user"\n  data-ng-hide="SC.campaign.id">\n  <img class="donation_user-photo" data-ng-src="{{Fundraiser.photo}}" />\n  <div class="donation_user-goal">\n    <h2>\n      <strong>\n        {{ Fundraiser.alias ? Fundraiser.alias : Fundraiser.name.full }}\'s\n      </strong>\n      Fundraising Page\n    </h2>\n    <h2 class="vis-mobile">\n      <strong>{{ Fundraiser.name.first }}\'s</strong> Progress\n    </h2>\n    <div class="donation_progress">\n      <div class="donation_progress-bar blue {{ Charity.primaryColor }}" data-update-goal="Donation.amount"></div>\n    </div>\n    <span class="vis-mobile percent" data-update-goal="Donation.amount">\n      {{ Fundraiser.percentRaised }}\n    </span>\n    <div class="vis-mobile raisedGoal">\n      <span class="raised dollar" data-update-goal="Donation.amount">${{ Fundraiser.raised}}</span> of ${{ Fundraiser.goal }}\n    </div>\n    <div class="donation_user-goal-status">\n      <span data-ng-show="Donation.amountChanged && !willReachGoal && !goalReached">You\'ll put me at</span>\n      <span data-ng-show="!Donation.amountChanged && !willReachGoal && !goalReached">I\'m</span>\n      <strong class="percent" data-update-goal="Donation.amount" data-ng-show="!willReachGoal && !goalReached">{{Fundraiser.percentRaised}}%</strong>\n      <span data-ng-show="!willReachGoal && !goalReached">of the way towards my goal of</span>\n      <span data-ng-show="willReachGoal && !goalReached">Thank you! You\'ll have helped me reach my goal of</span>\n      <span data-ng-show="goalReached">Thank you for your support! I have reached my goal of</span>\n    </div>\n  </div>\n</section>\n\n<section class="donation_credit" data-ng-show="fundraisers">\n  Would you like this donation to be credited to someone\'s fundraising page?\n  <select class="donation_credit-select" data-ng-model="Donation.creditTo" data-ng-options="fr.fcid as fr.fundraiser_name for fr in fundraisers"></select>\n</section> --\x3e\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/payment/partial",'<div class="donation_inner-wrap with-border">\n  <legend class="checkout-flow_legend">Payment Details</legend>\n\n  <div data-ng-bind-html="submitErrorMsg" data-ng-class="{inlineErrorAlert: submitErrorMsg}"></div>\n\n  \x3c!-- Billing Name --\x3e\n  <div class="donation_form-field billing-name">\n    <div class="donation_form-table">\n      <span class="donation_form-field-label required">Name on the card</span>\n    </div>\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-half"\n      type="text"\n      name="cardFirstName"\n      data-ng-model="Donation.payment.name.first"\n      placeholder="First Name"\n      data-ng-required="Donation.payType==\'direct\'"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n    />\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-half"\n      type="text"\n      name="cardLastName"\n      data-ng-model="Donation.payment.name.last"\n      placeholder="Last Name"\n      data-ng-required="Donation.payType==\'direct\'"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n    />\n  </div>\n  <div data-ng-if="showFormError(\'cardFirstName\')" class="form_error">\n    <span\n      data-ng-if="checkout.cardFirstName.$error.required ||\n  \t\tcheckout.cardLastName.$error.required"\n    >\n      Please enter the\n    </span>\n    <span data-ng-if="checkout.cardFirstName.$error.required"> first </span>\n    <span\n      data-ng-if="checkout.cardFirstName.$error.required &&\n  \t\tcheckout.cardLastName.$error.required"\n    >\n      and\n    </span>\n    <span data-ng-if="checkout.cardLastName.$error.required"> last </span>\n    <span\n      data-ng-if="checkout.cardFirstName.$error.required ||\n  \t\tcheckout.cardLastName.$error.required"\n    >\n      name on the card.\n    </span>\n  </div>\n\n  \x3c!-- Billing Card Number --\x3e\n  <div class="donation_form-field card-num">\n    <div class="donation_form-table">\n      <span class="donation_form-field-label required">Card number</span>\n    </div>\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-half mobile-ls-full"\n      type="tel"\n      min="0"\n      step="1"\n      placeholder=""\n      name="cardNum"\n      data-ng-model="Donation.payment.card.num"\n      data-sc-numeric\n      data-ng-required="Donation.payType==\'direct\'"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n      sc-credit-card-validation\n    />\n\n    <div\n      sc-payment-types="SC.availableCardTypes"\n      class="desktop-half mobile-large-ls-full"\n      data-paypal="!Donation.canadian && Donation.isPayPal && Donation.recurring == 0"\n      data-paypal-submit="submitPaypal();"\n    ></div>\n  </div>\n\n  <div data-ng-if="showFormError(\'cardNum\')" class="form_error">\n    <span data-ng-if="checkout.cardNum.$error.required"> Please enter a credit card number. </span>\n    <span data-ng-if="checkout.cardNum.$error.numeric"> Please enter numbers only. </span>\n    <span data-ng-if="checkout.cardNum.$error[\'sc-credit-card-validation\']">\n      Enter a valid credit card number\n    </span>\n  </div>\n\n  \x3c!-- Billing Card Expiration --\x3e\n  <div class="donation_form-field card-expiration">\n    <div class="donation_form-table">\n      <span class="donation_form-field-label required">Expiration date</span>\n    </div>\n    <span\n      data-heap-ignore="true"\n      class="mp-sensitive form_select desktop-quarter mobile-ls-half"\n      data-sc-select-expiration-months\n      name="cardExpMonth"\n      data-ng-model="Donation.payment.card.expiration.month"\n      data-sc-is-expired="Donation.payment.card.expiration"\n      data-ng-required="Donation.payType==\'direct\'"\n    ></span>\n    <span\n      data-heap-ignore="true"\n      class="mp-sensitive form_select desktop-quarter mobile-ls-half"\n      data-sc-select-expiration-years\n      name="cardExpYear"\n      data-ng-model="Donation.payment.card.expiration.year"\n      data-sc-is-expired="Donation.payment.card.expiration"\n      data-ng-required="Donation.payType==\'direct\'"\n    ></span>\n  </div>\n  <div\n    data-ng-if="showFormError(\'cardExpMonth\') || showFormError(\'cardExpYear\')"\n    class="form_error"\n  >\n    <span data-ng-if="checkout.cardExpMonth.$error.required">\n      Please enter an expiration month.\n    </span>\n    <span data-ng-if="checkout.cardExpYear.$error.required">\n      Please enter an expiration year.\n    </span>\n    <span data-ng-if="checkout.cardExpMonth.$error.isExpired">\n      Please enter a valid expiration date.\n    </span>\n  </div>\n\n  \x3c!-- Billing Security Code --\x3e\n  <div class="address-collect">\n    <div class="donation_form-field billing-zip">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">Security code</span>\n      </div>\n      <input\n        data-heap-ignore="true"\n        class="mp-sensitive form_text-input desktop-quarter mobile-ls-half"\n        type="tel"\n        step="1"\n        name="cardCode"\n        data-ng-model="Donation.payment.card.cvv"\n        data-sc-numeric\n        data-ng-required="Donation.payType==\'direct\'"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n      <a\n        class="help donation_tip tooltip"\n        data-sc-tip\n        title="For MasterCard or Visa it is the last three digits in the signature\n    \t\tarea on the back of your card. For American Express it is the four digits\n    \t\ton the front of the card."\n        href\n      >\n        <i class="fa fa-question-circle"></i>\n      </a>\n    </div>\n    <div data-ng-if="showFormError(\'cardCode\')" class="form_error">\n      <span data-ng-if="checkout.cardCode.$error.required">\n        Please enter the 3 or 4 digit security code on your card.\n      </span>\n      <span data-ng-if="checkout.cardCode.$error.numeric"> Please enter numbers only. </span>\n    </div>\n  </div>\n\n  \x3c!-- Billing Country  --\x3e\n  <div class="address-collect">\n    <div class="donation_form-field billing-country">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">Country</span>\n      </div>\n      <span\n        data-heap-ignore="true"\n        class="mp-sensitive form_select desktop-half mobile-ls-full"\n        data-sc-select-countries\n        name="cardCountry"\n        data-ng-model="Donation.payment.country"\n        exclude="{\'SG\': Donation.isPayPal }"\n        ng-required="true"\n      ></span>\n    </div>\n    <div data-ng-if="showFormError(\'cardCountry\')" class="form_error">\n      <span data-ng-if="checkout.cardCountry.$error.required"> Please select your country. </span>\n    </div>\n  </div>\n\n  \x3c!-- Billing zip only --\x3e\n  <div class="address-collect" data-ng-if="Donation.payment.country===\'US\' && SC.zipOnly == true">\n    <div class="donation_form-field billing-zip">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">Zip</span>\n      </div>\n      <input\n        data-heap-ignore="true"\n        class="mp-sensitive form_text-input desktop-quarter mobile-ls-third"\n        type="text"\n        name="cardZip"\n        data-ng-model="Donation.payment.zip"\n        data-ng-if="Donation.payment.country===\'US\'"\n        placeholder="ZIP"\n        data-ng-required="true"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n    </div>\n    <div data-ng-if="showFormError(\'cardZip\')" class="form_error">\n      <span data-ng-if="checkout.cardZip.$error.required"> Please enter your ZIP code. </span>\n    </div>\n  </div>\n\n  \x3c!-- Billing Full Address  --\x3e\n  <div\n    class="address-collect"\n    data-ng-if="Donation.payment.country !== \'US\' || SC.zipOnly == false"\n  >\n    \x3c!-- Billing Address --\x3e\n    <div class="donation_form-field billing-address">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">Address</span>\n      </div>\n      <input\n        data-heap-ignore="true"\n        class="mp-sensitive form_text-input desktop-full"\n        type="text"\n        name="cardAddress"\n        data-ng-model="Donation.payment.address"\n        data-ng-required="Donation.payType==\'direct\'"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n    </div>\n    <div data-ng-if="showFormError(\'cardAddress\')" class="form_error">\n      <span data-ng-if="checkout.cardAddress.$error.required">\n        Don\'t forget to provide an address.\n      </span>\n    </div>\n\n    \x3c!-- Billing Address 2 --\x3e\n    <div class="donation_form-field billing-address-2">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label">Address2</span>\n      </div>\n      <input\n        data-heap-ignore="true"\n        class="mp-sensitive form_text-input desktop-full"\n        type="text"\n        name="cardAddress2"\n        data-ng-model="Donation.payment.address2"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n    </div>\n\n    \x3c!-- Billing City --\x3e\n    <div class="donation_form-field billing-city">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">City</span>\n      </div>\n      <input\n        data-heap-ignore="true"\n        class="mp-sensitive form_text-input desktop-half mobile-ls-full"\n        type="text"\n        name="cardCity"\n        data-ng-model="Donation.payment.city"\n        data-ng-required="Donation.payType==\'direct\'"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n    </div>\n    <div data-ng-if="showFormError(\'cardCity\')" class="form_error">\n      <span data-ng-if="checkout.cardCity.$error.required"> What\'s your city? </span>\n    </div>\n\n    \x3c!-- Billing State & Zip --\x3e\n    <div class="donation_form-field state-zip">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">\n          <span data-ng-if="Donation.payment.country===\'US\'"> State &amp; Zip </span>\n          <span data-ng-if="Donation.payment.country===\'CA\'"> Province &amp; Postal Code </span>\n          <span\n            data-ng-if="Donation.payment.country!==\'US\'\n    \t\t\t\t&& Donation.payment.country!==\'CA\'"\n          >\n            Postal Code\n          </span>\n        </span>\n      </div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive form_select desktop-half"\n        data-sc-select-states\n        name="cardState"\n        data-ng-model="Donation.payment.state"\n        data-ng-if="Donation.payment.country==\'US\'"\n        data-ng-required="Donation.payment.country==\'US\' &&\n  \t\t\tDonation.payType==\'direct\'"\n      ></div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive form_select desktop-half"\n        data-sc-select-provinces\n        name="cardProvince"\n        data-ng-model="Donation.payment.province"\n        data-ng-if="Donation.payment.country==\'CA\'"\n        data-ng-required="Donation.payment.country==\'CA\' &&\n  \t\t\tDonation.payType==\'direct\'"\n      ></div>\n\n      <input\n        class="form_text-input desktop-half"\n        type="text"\n        name="cardZip"\n        data-ng-model="Donation.payment.zip"\n        data-ng-if="Donation.payment.country===\'US\'"\n        placeholder="ZIP"\n        data-ng-required="Donation.payType==\'direct\'"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n      <input\n        class="form_text-input desktop-half"\n        type="text"\n        name="cardZip"\n        data-ng-model="Donation.payment.zip"\n        data-ng-if="Donation.payment.country===\'CA\'"\n        placeholder="Postal Code"\n        data-ng-required="Donation.payType==\'direct\'"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n      <input\n        class="form_text-input desktop-half"\n        type="text"\n        name="cardZip"\n        data-ng-model="Donation.payment.zip"\n        data-ng-if="Donation.payment.country!==\'US\'\n  \t\t\t&& Donation.payment.country!==\'CA\'"\n        placeholder=""\n        data-ng-required="Donation.payType==\'direct\'"\n        qa-id="{{ scQaId.singleLineTextInput }}"\n      />\n    </div>\n    <div data-ng-if="showFormError(\'cardState\')" class="form_error">\n      <span\n        data-ng-if="checkout.cardState.$error.required ||\n  \t\t\tcheckout.cardProvince.$error.required || checkout.cardZip.$error.required"\n      >\n        Please\n      </span>\n      <span\n        data-ng-if="checkout.cardState.$error.required ||\n  \t\t\tcheckout.cardProvince.$error.required"\n      >\n        select a\n        <span data-ng-if="Donation.payment.country==\'US\'">state</span>\n        <span data-ng-if="Donation.payment.country==\'CA\'">province</span>\n        <span data-ng-if="!checkout.cardZip.$error.required">.</span>\n      </span>\n      <span\n        data-ng-if="(checkout.cardState.$error.required ||\n  \t\t\tcheckout.cardProvince.$error.required) && checkout.cardZip.$error.required"\n      >\n        and\n      </span>\n      <span data-ng-if="checkout.cardZip.$error.required">\n        enter your\n        <span data-ng-if="Donation.payment.country===\'US\'"> ZIP </span>\n        <span data-ng-if="Donation.payment.country!==\'US\'"> Postal </span> Code.\n      </span>\n    </div>\n  </div>\n\n  \x3c!-- Billing Cover Fee --\x3e\n  <div\n    class="donation-prompt solo"\n    data-ng-if="campaign.current.classy_mode_enabled || campaign.current.dcf_enabled"\n  >\n    <div class="donation_form-field">\n      <checkbox-control\n        data-ng-model="Donation.fee_on_top"\n        data-disabled="feeCalculating"\n        data-checked="campaign.current.classy_mode_checked_by_default"\n      >\n        <span\n          data-ng-bind-html="campaign.current.classy_mode_appeal || defaultClassyModeAppeal"\n        ></span>\n      </checkbox-control>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/project/partial",'<div class="donation-prompt select-project" data-ng-if="SC.projectList.length > 0">\n  <div class="donation-prompt_field">\n    <span class="donation-prompt_field-label third required">\n      What would you like your donation to support?</span>\n    <select class="form_select desktop-half" data-ng-model="Donation.project"\n      name="projectName" data-ng-required="SC.projectList.length > 0"\n      ng-options="project.id as project.name for project in SC.projectList">\n      <option value="">Please Select</option>\n    </select>\n  </div>\n  <div data-ng-show="showFormError(\'projectName\')"\n    class="form_error">\n    <span data-ng-show="checkout.projectName.$error.required">\n      Please select a project from the list.\n    </span>\n  </div>\n</div>\n\n<div class="donation_form-fieldset" data-ng-if="SC.organization.has_employer_match">\n  <div class="donation_inner-wrap">\n    <checkbox-control\n      ng-model="Donation.donateDouble.employer.match">\n      Would you like your <strong>employer</strong> to match?</label>\n    </checkbox-control>\n  </div>\n\n  <div class="donation-prompt_more" data-ng-if="Donation.donateDouble.employer.match">\n\n    <img class="donate-double_loading" data-ng-show="!donateDoubleLoaded"\n    src=\'/static/global/images/preloader.gif\' />\n\n    <div class="donation-prompt_field employerName" data-ng-show="donateDoubleLoaded">\n      <div class="donation_form-table">\n        <span class="donation_form-field-label required">Employer Name</span>\n      </div>\n\n\n      <select class="form_select desktop-full" data-ng-show="!Donation.donateDouble.other"\n        data-ng-model="Donation.donateDouble.employer.name" name="employerNameList"\n        data-ng-options="company for company in SC.campaign.donateMatchers"\n        data-ng-required="Donation.donateDouble.employer.match && !Donation.donateDouble.other"\n        aria-label="your employer\'s name">\n        <option value="">Please select a company...</option>\n      </select>\n\n      <input class="form_text-input desktop-full" type="text"\n        data-ng-show="Donation.donateDouble.other" name="employerName"\n        data-ng-model="Donation.donateDouble.employer.name"\n        data-ng-required="Donation.donateDouble.employer.match && Donation.donateDouble.other"\n        qa-id="{{ scQaId.singleLineTextInput }}" \n        aria-label="your employer\'s name"/>\n\n      <a href="javascript:;" data-ng-show="!Donation.donateDouble.other"\n        class="donation_form-field-hint"\n        data-ng-click="Donation.donateDouble.employer.name = \'\';\n          Donation.donateDouble.other = true">\n        Not in list?\n      </a>\n\n      <a href="javascript:;" data-ng-show="Donation.donateDouble.other"\n        class="donation_form-field-hint"\n        data-ng-click="Donation.donateDouble.employer.name = \'\';\n        Donation.donateDouble.other = false">\n        Show list\n      </a>\n    </div>\n    <div data-ng-show="showFormError(\'employerNameList\') && donateDoubleLoaded"\n      class="form_error margin-top">\n      <span data-ng-show="checkout.employerNameList.$error.required && !Donation.donateDouble.other">\n        Please select your employer from the list.\n      </span>\n    </div>\n    <div data-ng-show="showFormError(\'employerName\') && donateDoubleLoaded"\n      class="form_error margin-top">\n      <span data-ng-show="checkout.employerName.$error.required && Donation.donateDouble.other">\n        Please type in your employer name.\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/shipping/partial",'<div ng-controller="donationShippingCtrl">\n  <legend class="checkout-flow_legend">Shipping Info</legend>\n\n  \x3c!-- Shipping Address --\x3e\n  <div class="donation_form-field shipping-address">\n    <span class="donation_form-field-label">Address</span>\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-full"\n      type="text"\n      name="shipAddress1"\n      data-ng-model="Donation.shipping.address"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n    />\n  </div>\n\n  \x3c!-- Shipping Address 2 --\x3e\n  <div class="donation_form-field shipping-address2">\n    <span class="donation_form-field-label">Address 2</span>\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-full"\n      type="text"\n      name="shipAddress2"\n      data-ng-model="Donation.shipping.address2"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n    />\n  </div>\n\n  \x3c!-- Shipping City --\x3e\n  <div class="donation_form-field shipping-city">\n    <span class="donation_form-field-label">City</span>\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-full"\n      type="text"\n      name="shipCity"\n      data-ng-model="Donation.shipping.city"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n    />\n  </div>\n\n  \x3c!-- Shipping Zip --\x3e\n  <div class="donation_form-field state-zip">\n    <span class="donation_form-field-label">State &amp; Zip</span>\n    <span\n      class="form_select desktop-half"\n      data-sc-select-states\n      name="cardState"\n      data-ng-model="Donation.shipping.state"\n    ></span>\n    <input\n      data-heap-ignore="true"\n      class="mp-sensitive form_text-input desktop-half"\n      type="text"\n      name="cardZip"\n      data-ng-model="Donation.shipping.zip"\n      placeholder="ZIP"\n      qa-id="{{ scQaId.singleLineTextInput }}"\n    />\n  </div>\n\n  \x3c!-- Same as Billing --\x3e\n  <div class="donation_form-field same-as-billing">\n    <checkbox-control\n      data-ng-model="Donation.shipping.sameAsBilling"\n      data-ng-click="copyToPayment(Donation.shipping.sameAsBilling)"\n    >\n      My shipping address is the same as my billing address\n    </checkbox-control>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/your-info/partial",'<div class="donation_inner-wrap with-border">\n  <legend class="checkout-flow_legend">\n    Your Information\n  </legend>\n\n  \x3c!-- Optional: Prefix --\x3e\n  <div class="donation_form-field prefix" ng-if="optionalQs.prefix">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" for="\'cq_\' + optionalQs.prefix.id"\n        ng-class="{required: optionalQs.prefix.is_required }">\n        Title</label>\n    </div>\n    <select data-heap-ignore="true" class="mp-sensitive form_select desktop-third mobile-ls-half"\n      id="\'cq_\' + optionalQs.prefix.id" data-ng-model="Donation[\'cq_\' + optionalQs.prefix.id]"\n      ng-required="optionalQs.prefix.is_required" name="prefix">\n      <option value=\'\'>Please Select</option>\n      <option value=\'Mr.\'>Mr.</option>\n      <option value=\'Ms.\'>Ms.</option>\n      <option value=\'Mrs.\'>Mrs.</option>\n      <option value=\'Miss\'>Miss</option>\n      <option value=\'Dr.\'>Dr.</option>\n    </select>\n  </div>\n  <div data-ng-if="showFormError(\'prefix\')" class="form_error">\n    <span data-ng-if="checkout.prefix.$error.required">\n      Please select a title.\n    </span>\n  </div>\n\n  \x3c!-- Name --\x3e\n  <div class="donation_form-field">\n    <div class="donation_form-table">\n      <label for="q_firstName" class="donation_form-field-label required">Name</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input" type="text" id="q_firstName" name="firstName"\n      data-ng-class="{\'desktop-half\': !optionalQs.middle_name, \'desktop-third mobile-ls-half\': optionalQs.middle_name}"\n      data-ng-model="Donation.name.first" placeholder="First Name" data-sc-mirror-model="Donation.payment.name.first"\n      qa-id="{{ scQaId.singleLineTextInput }}" required />\n\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-third mobile-ls-half" type="text"\n      name="middle_name" data-ng-model="Donation[\'cq_\' + optionalQs.middle_name.id]" data-ng-if="optionalQs.middle_name"\n      placeholder="Middle Name" data-ng-required="optionalQs.middle_name.is_required"\n      qa-id="{{ scQaId.singleLineTextInput }}" />\n\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input" type="text" name="lastName"\n      data-ng-class="{\'desktop-half\': !optionalQs.middle_name, \'desktop-third mobile-ls-half\': optionalQs.middle_name}"\n      data-ng-model="Donation.name.last" placeholder="Last Name" data-sc-mirror-model="Donation.payment.name.last"\n      qa-id="{{ scQaId.singleLineTextInput }}" required />\n  </div>\n\n  <div\n    data-ng-if="showFormError(\'firstName\') || showFormError(\'lastName\') || showFormError(\'middle_name\') || paypalErrors"\n    class="form_error">\n    <span data-ng-if="checkout.firstName.$error.required || checkout.lastName.$error.required">\n      Be sure to provide your\n    </span>\n    <span data-ng-if="checkout.firstName.$error.required">\n      first\n    </span>\n    <span data-ng-if="checkout.firstName.$error.required && checkout.middle_name.$error.required">\n      ,\n    </span>\n    <span data-ng-if="checkout.middle_name.$error.required">\n      middle\n    </span>\n    <span data-ng-if="checkout.firstName.$error.required && checkout.lastName.$error.required">\n      and\n    </span>\n    <span data-ng-if="checkout.lastName.$error.required">\n      last\n    </span>\n    <span data-ng-if="checkout.firstName.$error.required || checkout.lastName.$error.required">\n      name.\n    </span>\n  </div>\n\n  <div class="donation_form-field indent">\n    <checkbox-control class="inline-element" ng-hide="SC.campaign.hide_anonymous_donations"\n      data-ng-model="Donation.name.anonymous">\n      Make donation anonymous\n    </checkbox-control>\n\n    <a data-ng-hide="SC.campaign.hide_anonymous_donations" class="help donation_tip tooltip checkbox_tip" data-sc-tip\n      title="This will hide your name and donor information from\n      all public activity feeds; however, the charity will still receive your\n      donor information." href="javascript:;">\n      <i class="fa fa-question-circle"></i>\n    </a>\n  </div>\n\n  \x3c!-- Optional: Suffix --\x3e\n  <div class="donation_form-field suffix" data-ng-if="optionalQs.suffix">\n    <div class="donation_form-table">\n      <label for="q_suffix" class="donation_form-field-label"\n        data-ng-class="{required: optionalQs.suffix.is_required }">Suffix</label>\n    </div>\n    <select data-heap-ignore="true" class="mp-sensitive form_select desktop-third mobile-ls-half"\n      data-ng-model="Donation[\'cq_\' + optionalQs.suffix.id]" name="suffix" id="q_suffix">\n      <option value=\'\'>Please Select</option>\n      <option value=\'Sr.\'>Sr.</option>\n      <option value=\'Jr.\'>Jr.</option>\n      <option value=\'II\'>II</option>\n      <option value=\'III\'>III</option>\n      <option value=\'IV\'>IV</option>\n      <option value=\'V\'>V</option>\n    </select>\n  </div>\n  <div data-ng-if="showFormError(\'suffix\')" class="form_error">\n    <span data-ng-if="checkout.suffix.$error.required">\n      Please select a suffix.\n    </span>\n  </div>\n\n\n  \x3c!-- Email --\x3e\n  <div class="donation_form-field email">\n    <div class="donation_form-table">\n      <label for="q_email" class="donation_form-field-label required">Email</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-full" ng-pattern="emailValidationRegex"\n      name="email" id="q_email" data-ng-model="Donation.email" qa-id="{{ scQaId.singleLineTextInput }}" required />\n    <span class="donation_form-field-hint">\n      Your receipt will be emailed here.\n    </span>\n  </div>\n  <div data-ng-if="showFormError(\'email\') || paypalErrors" class="form_error">\n    <span data-ng-if="checkout.email.$error.required">\n      Don\'t forget your email address.\n    </span>\n    <span data-ng-if="checkout.email.$error.pattern">\n      Please enter in the format: name@domain.com\n    </span>\n  </div>\n\n  <div class="donation_form-field indent" data-ng-if="!campaign.current.hide_contact_opt_in"\n    data-ng-hide="Donation.name.anonymous" name="opt_in">\n    <checkbox-control data-ng-model="Donation.optIn">\n      It\'s okay to contact me in the future\n    </checkbox-control>\n  </div>\n\n\n  \x3c!-- Phone Number --\x3e\n  <div class="donation_form-field phone-number mobileHide">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" data-ng-class="{required: primaryPhone.required }" for="q_phone">Phone\n        Number</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-half mobile-ls-full" type="tel"\n      id="q_phone" name="phone" data-ng-required="primaryPhone.required" data-ng-model="Donation.phone"\n      qa-id="{{ scQaId.singleLineTextInput }}" data-sc-validate-phone />\n  </div>\n  <div data-ng-if="showFormError(\'phone\')" class="form_error">\n    <span data-ng-if="checkout.phone.$error.phoneNumber">\n      Please enter a valid phone number.\n    </span>\n    <span data-ng-if="checkout.phone.$error.required">\n      Please enter your phone number.\n    </span>\n  </div>\n\n  \x3c!-- Leave Comment --\x3e\n  <div class="donation_form-field comment" data-ng-if="!SC.campaign.hide_donation_comments">\n    <div class="donation_form-table">\n      <span class="donation_form-field-label">Leave a comment</span>\n    </div>\n    <textarea data-heap-ignore="true" class="mp-sensitive form_text-area gray desktop-full"\n      data-ng-model="Donation.comment" name="comment"\n      placeholder="Let us know why you donated, tell your story, or send words of encouragement. Your comment will appear publicly."\n      maxlength="1000" qa-id="{{ scQaId.textAreaField }}">\n    </textarea>\n    <span class="donation_form-field-hint indent" data-sc-char-limit="Donation.comment" data-count="1000"\n      data-suffix=" Characters Left">1000 Character Limit</span>\n  </div>\n\n\n  \x3c!-- Optional: Cell Phone --\x3e\n  <div class="donation_form-field cellphone" data-ng-if="optionalQs.cellphone">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" for="\'cq_\' + optionalQs.cellphone.id"\n        data-ng-class="{required: optionalQs.cellphone.is_required }">Cell phone</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-half mobile-ls-full" type="tel"\n      name="cellphone" id="\'cq_\' + optionalQs.cellphone.id" data-ng-model="Donation[\'cq_\' + optionalQs.cellphone.id]"\n      type="tel" data-sc-validate-phone data-ng-required="optionalQs.cellphone.is_required"\n      qa-id="{{ scQaId.singleLineTextInput }}" />\n    <div class="donation_form-fieldset indent" data-ng-show="show.mgive()">\n      <checkbox-control data-ng-model="Donation.textOptIn">\n        Receive text-message updates and info on your cell phone\n      </checkbox-control>\n      <p class="form_helper" ng-bind="organization.mgive.messaging"></p>\n    </div>\n  </div>\n  <div data-ng-show="showFormError(\'cellphone\')" class="form_error">\n    <span data-ng-if="checkout.cellphone.$error.phoneNumber">\n      Please enter a valid phone number.\n    </span>\n    <span data-ng-if="checkout.cellphone.$error.required">\n      Please enter your cell number.\n    </span>\n  </div>\n\n  \x3c!-- Optional: Home Phone --\x3e\n  \x3c!-- this optional question, as it were, never did pop up on the donation_page\n  <div class="donation_form-field homephone" data-ng-if="optionalQs.homephone">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label"\n        for="\'cq_\' + optionalQs.homephone.id"\n        data-ng-class="{required: optionalQs.homephone.is_required }">Home phone</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-half mobile-ls-full" type="tel" name="homephone"\n      data-ng-model="Donation[\'cq_\' + optionalQs.homephone.id]"\n      id="\'cq_\' + optionalQs.homephone.id"\n      type="tel"\n      data-sc-validate-phone\n      data-ng-required="optionalQs.homephone.is_required" />\n  </div>\n  <div data-ng-show="showFormError(\'homephone\')"\n    class="form_error">\n    <span data-ng-if="checkout.homephone.$error.phoneNumber">\n      Please enter a valid phone number.\n    </span>\n    <span data-ng-if="checkout.homephone.$error.required">\n      Please enter your home phone number.\n    </span>\n  </div>\n  --\x3e\n\n\n  \x3c!-- Optional: Company --\x3e\n  <div class="donation_form-field company" data-ng-if="optionalQs.company_name">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" for="\'cq_\' + optionalQs.company_name.id"\n        data-ng-class="{required: optionalQs.company_name.is_required }">\n        Company</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-half mobile-ls-full" type="text"\n      id="\'cq_\' + optionalQs.company_name.id" data-ng-model="Donation[\'cq_\' + optionalQs.company_name.id]"\n      data-ng-required="optionalQs.company_name.is_required" name="company_name"\n      qa-id="{{ scQaId.singleLineTextInput }}" />\n  </div>\n  <div data-ng-if="showFormError(\'company_name\')" class="form_error">\n    <span data-ng-if="checkout.company_name.$error.required">\n      Please enter a company.\n    </span>\n  </div>\n\n  \x3c!-- Optional: Website --\x3e\n  <div class="donation_form-field website" data-ng-if="optionalQs.website">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" for="\'cq_\' + optionalQs.website.id"\n        data-ng-class="{required: optionalQs.website.is_required }">\n        Website</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-half mobile-ls-full" type="text"\n      id="\'cq_\' + optionalQs.website.id" data-ng-model="Donation[\'cq_\' + optionalQs.website.id]"\n      data-ng-required="optionalQs.website.is_required" name="website" qa-id="{{ scQaId.singleLineTextInput }}" />\n  </div>\n  <div data-ng-if="showFormError(\'website\')" class="form_error">\n    <span data-ng-if="checkout.website.$error.required">\n      Please enter a website.\n    </span>\n  </div>\n\n  \x3c!-- Optional: Blog --\x3e\n  <div class="donation_form-field blog" data-ng-if="optionalQs.blog">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" for="\'cq_\' + optionalQs.blog.id"\n        data-ng-class="{required: optionalQs.blog.is_required }">\n        Blog</label>\n    </div>\n    <input data-heap-ignore="true" class="mp-sensitive form_text-input desktop-half mobile-ls-full" type="text"\n      id="\'cq_\' + optionalQs.blog.id" data-ng-model="Donation[\'cq_\' + optionalQs.blog.id]"\n      data-ng-required="optionalQs.blog.is_required" name="blog" qa-id="{{ scQaId.singleLineTextInput }}" />\n  </div>\n  <div data-ng-if="showFormError(\'blog\')" class="form_error">\n    <span data-ng-if="checkout.blog.$error.required">\n      Please enter a website.\n    </span>\n  </div>\n\n  \x3c!-- Optional: Gender --\x3e\n  <div class="donation_form-field" data-ng-if="optionalQs.gender">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label" for="\'cq_\' + optionalQs.gender.id"\n        data-ng-class="{required: optionalQs.gender.is_required }">\n        Gender</label>\n    </div>\n    <select data-heap-ignore="true" class="mp-sensitive form_select desktop-third mobile-ls-half"\n      data-ng-model="Donation[\'cq_\' + optionalQs.gender.id]" id="\'cq_\' + optionalQs.gender.id" name="gender"\n      data-ng-required="optionalQs.gender.is_required">\n      <option value="">Choose...</option>\n      <option value="Male">Male</option>\n      <option value="Female">Female</option>\n      <option value="Prefer not to state/Other">Prefer not to state/Other</option>\n    </select>\n    </select>\n  </div>\n  <div data-ng-if="showFormError(\'gender\')" class="form_error">\n    <span data-ng-if="checkout.gender.$error.required">\n      Please select a gender.\n    </span>\n  </div>\n\n  \x3c!-- Optional: Birthday --\x3e\n  <div class="donation_form-field" data-ng-if="optionalQs.birthdate">\n    <div class="donation_form-table">\n      <label class="donation_form-field-label"\n        data-ng-class="{required: optionalQs.birthdate.is_required }">Birthday</label>\n    </div>\n    <span data-heap-ignore="true" class="mp-sensitive" name="birthday" data-required="optionalQs.birthdate.is_required"\n      data-sc-birthday="Donation[\'cq_\' + optionalQs.birthdate.id]"></span>\n  </div>\n\n  <div data-ng-if="optionalQs.birthdate.is_required" class="form_error">\n    <span data-ng-if="checkout.birthday.$error.required">\n      Please select your birthday.\n    </span>\n  </div>\n\n  \x3c!-- Custom Questions --\x3e\n  <div class="donation_form-field"\n    data-ng-repeat="question in SC.campaign.questions.custom | filter: {location: \'donation_page\'}"\n    data-sc-custom-fields="question" data-model-prefix="\'Donation.cq_\'" data-form-name="\'checkout\'">\n  </div>\n</div>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/templates/aside",'<div\n  class="fundraiser-block_aside"\n  data-ng-click="block.sectionOpen = \'sidebar\'"\n  data-ng-class="{publicSection: public}"\n>\n  \x3c!-- Fundraiser Photo --\x3e\n  <div\n    class="clickable-element fundraiser-block_aside-photo-container"\n    data-ng-click="scrollToElement(\'sc-target-fundraiser-default\')"\n  >\n    <img\n      class="fundraiser-block_aside-photo"\n      data-ng-src="{{logoSrc()}}"\n      aria-hidden="{{logoSrc() ? \'false\':\'true\'}}"\n      alt="{{getFundraiserAlias()}}\'s Avatar"\n    />\n  </div>\n\n  \x3c!-- Share Page Button --\x3e\n  \x3c!--\n  <div class="fundraiser-block_aside-share-button">\n    <a href="" class="fundraiser-block_aside-share-button-label">\n      <i class="fundraiser-block_aside-share-icon-stack fa-stack">\n        <i class="fundraiser-block_aside-share-icon fa fa-circle fa-stack-2x"></i>\n        <i class="fundraiser-block_aside-share-icon fa fa-share fa-stack-1x fa-inverse"></i>\n      </i>\n      Share Page\n    </a>\n  </div>\n --\x3e\n  \x3c!-- Team --\x3e\n  <div\n    class="fundraiser-block_aside-parent clickable-element"\n    data-ng-click="scrollToElement(\'sc-target-fundraiser-team\')"\n    data-ng-if="fundraiser.current.team && block.showFundraiserTeam && !fundraiser.current.is_tribute"\n    data-sc-supporter-parent="fundraiser.current.team"\n    data-type="team"\n    data-backup-image="/static/global/images/team_default_image.png"\n    data-theme="theme"\n    data-link="teamLink()"\n    data-bc="fundraiser-block"\n    role="navigation"\n    aria-label="team"\n  ></div>\n\n  \x3c!-- Campaign --\x3e\n  <div\n    class="fundraiser-block_aside-parent clickable-element"\n    data-ng-click="scrollToElement(\'sc-target-fundraiser-campaign\')"\n    data-ng-if="campaign && block.showCampaign && !fundraiser.current.is_tribute"\n    data-sc-supporter-parent="campaign"\n    data-type="campaign"\n    data-backup-image="/static/global/images/team_default_image.png"\n    data-theme="theme"\n    data-link="campaignLink()"\n    data-bc="fundraiser-block"\n    role="navigation"\n    aria-label="campaign"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/templates/main",'\x3c!-- Share --\x3e\n<div data-ng-class="{publicSection: public}">\n  <div class="fundraiser-block_share">\n    <span class="fundraiser-block_share-label">Share</span>\n    <a\n      class="fundraiser-block_share-button"\n      data-ng-click="fbShare()"\n      tabindex="0"\n      aria-label="Share to Facebook"\n      role="link"\n    >\n      <i class="fa fa-facebook fundraiser-block_share-icon"></i>\n    </a>\n    <a\n      class="fundraiser-block_share-button"\n      data-ng-href="{{:: twitterShareUrl }}"\n      target="_blank"\n      aria-label="Share to X"\n    >\n      <img sc-cdn-src="/static/global/images/x-social-media-black-icon.svg" style="opacity: 0.54;" width="20px">\n    </a>\n    <a\n      class="fundraiser-block_share-button"\n      data-ng-href="{{:: emailUrl }}"\n      aria-label="Share via Email"\n    >\n      <i class="fa fa-envelope fundraiser-block_share-icon"></i>\n    </a>\n  </div>\n\n  <div data-ng-if="!fundraiser.current.is_tribute" class="fundraiser-block_type">Fundraiser</div>\n\n  \x3c!-- Headline --\x3e\n  <h1\n    class="fundraiser-block_headline"\n    ng-if="!isPreviewHeading()"\n    data-ng-bind-html="::getHeaderText() | scTrustedHtml"\n  ></h1>\n  <h2\n    class="fundraiser-block_headline"\n    ng-if="isPreviewHeading()"\n    data-ng-bind-html="::getHeaderText() | scTrustedHtml"\n  ></h2>\n\n  \x3c!-- Progress --\x3e\n  <div class="fundraiser-block_progress-donate">\n    <div\n      class="fundraiser-block_progress-bar-container clickable-element"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-progress\')"\n      data-ng-if="block.showProgressBar && fundraiserGoal > 0"\n    >\n      <div class="fundraiser-block_progress-amount">\n        <div class="fundraiser-block_progress-amount-left">\n          <div\n            class="fundraiser-block_progress-amount-raised"\n            data-ng-bind="fundraiser.current.display_total_raised | scFormatCurrency:currency:0"\n          ></div>\n          <div class="fundraiser-block_progress-amount-title">Raised</div>\n        </div>\n        <div\n          class="fundraiser-block_progress-amount-goal"\n          data-ng-bind="fundraiserGoal || campaign.default_page_goal | scFormatCurrency:currency:0"\n        ></div>\n      </div>\n\n      <div\n        class="fundraiser-block_progress-bar"\n        data-sc-simple-progress\n        data-goal="fundraiserGoal || campaign.default_page_goal"\n        data-raised="fundraiserPercentToGoal"\n        data-height="16"\n        data-goal-color="block.raisedColor"\n        data-raised-color="block.progressBarColor || theme.styles.primaryColor"\n      ></div>\n    </div>\n\n    <a\n      class="fundraiser-block_donate clickable-element"\n      data-sc-donate-preview="(demo || checkPreview)"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-donate\')"\n      data-ng-style="scButtonStyleUpdate(block.donateButtonStyle, block.donateButtonColor)"\n      data-ng-href="{{donateLink()}}"\n      target="_self"\n      aria-label="Click to make a donation"\n      role="link"\n    >\n      Donate\n    </a>\n  </div>\n\n  \x3c!-- Description --\x3e\n  <p\n    ng-if="!fundraiser.current.is_tribute"\n    class="fundraiser-block_description"\n    data-ng-bind-html="fundraiser.current.intro_text || campaign.default_page_appeal | scTrustedHtml"\n    role="heading"\n    aria-level="2"\n  ></p>\n</div>\n\n\x3c!-- Updates --\x3e\n<section\n  class="fundraiser-block_post-list clickable-element"\n  data-ng-click="scrollToElement(\'sc-target-fundraiser-story\')"\n  data-ng-class="{publicSection: public}"\n>\n  <ul class="fundraiser-block_activity-tabs" role="tablist">\n    <li\n      class="fundraiser-block_activity-tab clickable-element"\n      data-ng-class="{active: activeUpdatesTab === \'story\'}"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-story\'); setActiveUpdatesTab(\'story\')"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{activeUpdatesTab === \'story\' ? \'true\' : \'false\'}}"\n    >\n      Story\n    </li>\n\n    <li\n      class="fundraiser-block_activity-tab clickable-element"\n      data-ng-class="{active: activeUpdatesTab === \'updates\'}"\n      data-ng-click="setActiveUpdatesTab(\'updates\'); scrollToElement(\'sc-target-fundraiser-updates\')"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{activeUpdatesTab === \'updates\' ? \'true\' : \'false\'}}"\n    >\n      Updates\n      <span class="team-block_activity-tab-count">{{posts.data.length || \'0\'}}</span>\n    </li>\n  </ul>\n\n  <div\n    data-ng-if="activeUpdatesTab === \'story\'"\n    class="fundraiser-block_update-container"\n    role="tabpanel"\n  >\n    <img\n      class="fundraiser-block_post-list-loading"\n      data-ng-show="stories.ui.loading"\n      sc-cdn-src="/static/global/images/preloader.gif"\n    />\n\n    <div\n      class="fundraiser-block_post-list-item"\n      data-ng-if="!stories.ui.loading"\n      data-sc-post="stories.data"\n      data-story="true"\n      data-comments-count="scFundraisingPagesService.comments"\n      data-demo="fundraiser.isDemo"\n      data-post-type="\'stories\'"\n      data-preview="isPreview()"\n      data-comments-action="scrollToComments()"\n      data-preview-title="{{campaign.default_page_post_title}}"\n      data-preview-body="{{campaign.default_page_post_body}}"\n      data-mode="stories.ui.mode"\n    ></div>\n\n    <div\n      class="fundraiser-block_post-list-item-latest"\n      data-ng-show="!posts.ui.loading"\n      data-ng-if="posts.data.length"\n      data-ng-repeat="post in posts.data | limitTo:1"\n      data-sc-post="post"\n      data-demo="fundraiser.isDemo"\n      data-preview="isPreview()"\n      data-mode="posts.ui.mode"\n      data-excerpt="true"\n      data-latest-post="true"\n      data-to-post-action="posts.toPost(post)"\n    ></div>\n  </div>\n\n  <div\n    data-ng-if="activeUpdatesTab === \'updates\'"\n    class="fundraiser-block_update-container"\n    role="tabpanel"\n  >\n    <p data-ng-if="!posts.data.length" class="team-block_empty-updates">\n      Check back for updates later\n    </p>\n\n    <img\n      class="fundraiser-block_post-list-loading"\n      data-ng-show="posts.ui.loading"\n      sc-cdn-src="/static/global/images/preloader.gif"\n    />\n\n    <div\n      class="fundraiser-block_post-list-item"\n      data-ng-show="!posts.ui.loading"\n      data-ng-repeat="post in posts.data | limitTo: updatesPerPage"\n      data-sc-post="post"\n      data-demo="fundraiser.isDemo"\n      data-preview="isPreview()"\n      data-mode="posts.ui.mode"\n      data-excerpt="true"\n      data-to-post-action="posts.toPost(post)"\n    ></div>\n\n    <button\n      class="fundraiser-block_post-list-more"\n      ng-click="loadAdditionalUpdates()"\n      ng-if="updatesPerPage <= posts.data.length"\n    >\n      View More\n    </button>\n  </div>\n</section>\n\n\x3c!-- Activity --\x3e\n<section\n  class="fundraiser-block_activity clickable-element"\n  data-ng-click="block.sectionOpen = \'activity\'"\n  data-ng-class="{publicSection: public}"\n>\n  <div\n    data-sc-feed="fundraiser.current"\n    data-type="fundraising-page"\n    data-allow-commenting="block.allowCommenting"\n    data-block="block"\n    data-theme="theme"\n    data-demo="demo"\n  ></div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/templates/post",'<section class="fundraiser-block_post-page">\n  <img\n    class="fundraiser-block_post-page-loading"\n    data-ng-show="posts.ui.loading"\n    sc-cdn-src="/static/global/images/preloader.gif"\n  />\n\n  <div\n    class="fundraiser-block_post-page-item"\n    data-ng-if="!posts.ui.loading"\n    data-sc-post="posts.ui.active"\n    data-mode="posts.ui.mode"\n    data-to-list-action="posts.toList()"\n  ></div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/activity",'<section class="team-block_activity" data-ng-class="{publicSection: public}">\n  <div\n    data-sc-feed="team.current"\n    data-type="fundraising-team"\n    data-allow-commenting="block.allowCommenting"\n    data-demo="fundraiser.isDemo"\n    data-block="block"\n    data-theme="theme"\n    data-demo="demo"\n  ></div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/aside",'<div\n  class="team-block_aside"\n  data-ng-click="block.sectionOpen = \'sidebar\'"\n  data-ng-class="{publicSection: public}"\n>\n  \x3c!-- Team Photo --\x3e\n  <a\n    href="#"\n    class="clickable-element team-block_aside-photo-container"\n    data-ng-click="scrollToElement(\'sc-target-team-default\')"\n  >\n    <img\n      class="team-block_aside-photo"\n      data-ng-src="{{logoSrc()}}"\n      alt="{{team.current.name}}\'s Avatar"\n    />\n  </a>\n\n  \x3c!-- Join Team Button --\x3e\n  <div\n    class="team-block_aside-join-container clickable-element"\n    data-ng-click="scrollToElement(\'sc-target-team-join\')"\n    data-ng-if="enableTeamJoin()"\n  >\n    <a\n      class="team-block_aside-button bordered"\n      data-ng-click="isDisabled || handleJoinTeam(team, true)"\n      data-ng-style="scButtonStyleUpdate(block.joinButtonStyle, block.joinButtonColor)"\n      aria-label="Click to Join Team and create your fundraising page"\n      tabindex="0"\n      role="link"\n    >\n      {{block.joinButtonText || \'Join Team\'}}\n      <i class="fa fa-caret-down" data-ng-if="team.current.team_policy.allow_subteams"></i>\n    </a>\n\n    <ul class="team-block_aside-join" data-ng-if="displayJoinTeamDropdown">\n      <li\n        class="team-block_aside-join-option"\n        data-ng-click="handleJoinTeam(team, false)"\n        data-ng-if="enableIndividualJoin()"\n      >\n        <span class="team-block_aside-join-option-text"> As an individual</span>\n        <span class="team-block_aside-join-option-subtext">\n          Raise money with your fundraising page</span\n        >\n      </li>\n      <li class="team-block_aside-join-option" data-ng-click="createSubteam()">\n        <span class="team-block_aside-join-option-text"> As a sub team</span>\n        <span class="team-block_aside-join-option-subtext"> Raise money with your own team</span>\n      </li>\n    </ul>\n  </div>\n\n  \x3c!-- Make a donation --\x3e\n  <a\n    class="team-block_aside-button colored clickable-element"\n    data-ng-href="{{ donateLink() }}"\n    target="_self"\n    data-ng-click="scrollToElement(\'sc-target-team-donate\')"\n    data-sc-donate-preview="demo"\n    data-ng-style="scButtonStyleUpdate(block.donateButtonStyle, block.donateButtonColor)"\n    aria-label="Click to make a donation to the team"\n    role="link"\n    >Donate</a\n  >\n\n  <div class="team-block_aside-info">\n    <strong class="team-block_aside-info-pagename">Team Page</strong>\n    <h1 class="team-block_aside-info-headline">The Best Team Ever Created</h1>\n  </div>\n\n  \x3c!-- Progress Bar --\x3e\n  <div\n    class="team-block_aside-progress-bar-container clickable-element"\n    data-ng-if="block.showProgressBar"\n    data-ng-click="scrollToElement(\'sc-target-team-progress\')"\n  >\n    <div class="team-block_aside-progress-amount">\n      <div class="team-block_aside-progress-amount-left">\n        <span\n          class="team-block_aside-progress-amount-raised"\n          data-ng-bind="team.current.display_total_raised | scFormatCurrency:currency"\n        ></span>\n        <span class="team-block_aside-progress-amount-title">Raised</span>\n      </div>\n      <div\n        class="team-block_aside-progress-amount-goal"\n        data-ng-bind="team.current.raw_goal || team.current.goal || campaign.default_team_goal | scFormatCurrency:currency"\n      ></div>\n    </div>\n\n    <div\n      class="team-block_aside-progress-bar"\n      data-sc-simple-progress\n      data-goal="teamGoal || campaign.default_team_goal"\n      data-raised="teamPercentToGoal"\n      data-ng-if="block.showProgressBar"\n      data-height="16"\n      data-goal-color="block.raisedColor"\n      data-raised-color="block.progressBarColor || theme.styles.primaryColor"\n    ></div>\n  </div>\n\n  <div\n    class="team-block_aside-parent"\n    data-ng-if="parentTeam"\n    data-sc-supporter-parent="parentTeam.current"\n    data-type="parentTeam"\n    data-backup-image="/static/global/images/individual_default_image.png"\n    data-theme="theme"\n    data-link="parentTeamLink()"\n    data-bc="team-block"\n    role="navigation"\n    aria-label="team"\n  ></div>\n\n  <div\n    class="team-block_aside-parent clickable-element"\n    data-ng-click="scrollToElement(\'sc-target-team-campaign\')"\n    data-ng-if="block.showCampaign"\n    data-sc-supporter-parent="campaign"\n    data-type="campaign"\n    data-backup-image="/static/global/images/individual_default_image.png"\n    data-theme="theme"\n    data-link="campaignLink()"\n    data-bc="team-block"\n    role="navigation"\n    aria-label="campaign"\n  ></div>\n\n  \x3c!-- Team Rank --\x3e\n  <div\n    class="team-block_aside-rank clickable-element"\n    data-ng-if="block.showTeamRank"\n    data-ng-click="scrollToElement(\'sc-target-team-rank\')"\n  >\n    <div class="team-block_aside-rank-header">\n      <div class="team-block_aside-rank-title"><i class="fa fa-trophy"></i> Team Rank</div>\n\n      <div class="team-block_aside-rank-all">\n        <a\n          class="team-block_aside-rank-all"\n          data-ng-href="{{ \'/campaign/\' + campaignSlug + \'/c\' + campaign.id + \'/search?type=team\' }}"\n          aria-label="View all team rankings"\n          >See all</a\n        >\n      </div>\n    </div>\n\n    <ul class="team-block_aside-rank-list">\n      <span ng-if="topThreeTeamsError" ng-bind="topThreeTeamsError"></span>\n      <li\n        class="team-block_aside-rank-list-item"\n        ng-repeat="eachTeam in topThreeTeams"\n        data-ng-class="team.current.id == eachTeam.id ? \'currentTeam\' : \'\'"\n      >\n        <a\n          class="team-block_aside-rank-list-item-link-box"\n          data-ng-href="{{ \'/team/\' + eachTeam.id }}"\n        >\n          <span class="team-block_aside-rank-list-item-name">\n            {{eachTeam.overallRanking}}. {{eachTeam.name}}\n          </span>\n\n          <span class="team-block_aside-rank-list-item-raised">\n            {{eachTeam.display_total_raised | scFormatCurrency:eachTeam.currency_code:0}}\n          </span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/main",'<div data-ng-class="{publicSection: public}">\n  <div class="team-block_share">\n    <span class="team-block_share-label">Share</span>\n    <a\n      class="team-block_share-button"\n      data-ng-click="fbShare()"\n      tabindex="0"\n      aria-label="Share to Facebook"\n      role="link"\n    >\n      <i class="fa fa-facebook team-block_share-icon"></i>\n    </a>\n    <a\n      class="team-block_share-button"\n      data-ng-href="{{:: twitterShareUrl }}"\n      aria-label="Share to X"\n    >\n      <img sc-cdn-src="/static/global/images/x-social-media-black-icon.svg" style="opacity: 0.54;" width="20px">\n    </a>\n    <a class="team-block_share-button" data-ng-href="{{:: emailUrl }}" aria-label="Share via Email">\n      <i class="fa fa-envelope team-block_share-icon"></i>\n    </a>\n  </div>\n\n  <div\n    class="team-block_captain clickable-element"\n    data-ng-click="block.sectionOpen = \'about\'; scrollToElement(\'sc-target-team-captain\')"\n  >\n    <strong class="team-block_type">Team Page</strong>\n\n    <div data-ng-if="block.showTeamCaptain">\n      <img\n        class="team-block_captain-photo"\n        ng-src="{{ captainImage }}"\n        alt="Avatar image for Captain {{getCaptainName()}}"\n      />\n      <div class="team-block_captain-info">\n        <span class="team-block_captain-title">Captain</span>\n        <a\n          class="team-block_captain-name"\n          data-ng-if="teamCaptain"\n          data-ng-class="{\'underline\': teamCaptain.id}"\n          data-ng-href="{{ teamCaptain.id ? \'/fundraiser/\' + teamCaptain.id : \'\'}}"\n          data-ng-bind="getCaptainName()"\n        ></a>\n        <span\n          class="team-block_captain-name"\n          data-ng-if="!teamCaptain"\n          data-ng-bind="getCaptainName()"\n        ></span>\n      </div>\n    </div>\n  </div>\n\n  <h1 class="team-block_name" ng-if="!isPreviewHeading()" data-ng-bind="team.current.name"></h1>\n  <h2 class="team-block_name" ng-if="isPreviewHeading()" data-ng-bind="team.current.name"></h2>\n  <h2\n    class="team-block_headline"\n    data-ng-bind-html="team.current.description || campaign.default_team_appeal | scTrustedHtml"\n  ></h2>\n\n  \x3c!-- Description --\x3e\n  <div data-ng-include="\'global/objects/scBlock/types/team/templates/members-tabs\'"></div>\n</div>\n\n<div data-ng-include="\'global/objects/scBlock/types/team/templates/story-tabs\'"></div>\n\n\x3c!-- Team Activity --\x3e\n<div data-ng-include="\'global/objects/scBlock/types/team/templates/activity\'"></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/members-tabs",'<div class="team-block_activity-tabs-hide">\n  <ul\n    class="team-block_activity-tabs"\n    ng-if="block.showTeamMembers || block.showLeaderboard || team.current.team_policy.allow_subteams"\n    role="tablist"\n  >\n    <li\n      class="team-block_activity-tab clickable-element"\n      data-ng-if="block.showLeaderboard"\n      data-ng-class="{active: activeActivityTab === \'leaderboard\'}"\n      data-ng-click="setActiveTab(\'leaderboard\');"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{activeActivityTab === \'leaderboard\' ? \'true\' : \'false\'}}"\n    >\n      Leaders\n    </li>\n\n    <li\n      class="team-block_activity-tab clickable-element"\n      data-ng-if="block.showTeamMembers"\n      data-ng-class="{active: activeActivityTab === \'team_members\'}"\n      data-ng-click="setActiveTab(\'team_members\'); scrollToElement(\'sc-target-team-members\')"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{activeActivityTab === \'team_members\' ? \'true\' : \'false\'}}"\n    >\n      Members <span class="team-block_activity-tab-count">{{totalMembers || \'0\'}}</span>\n    </li>\n\n    <li\n      class="team-block_activity-tab"\n      data-ng-if="block.showSubTeams && team.current.team_policy.allow_subteams"\n      data-ng-class="{active: activeActivityTab === \'subteams\'}"\n      data-ng-click="setActiveTab(\'subteams\')"\n    >\n      Sub Teams <span class="team-block_activity-tab-count">{{subteams.total || \'0\'}}</span>\n    </li>\n  </ul>\n</div>\n\n<div class="team-block_members-container" role="tabpanel">\n  \x3c!-- Leaderboard --\x3e\n  <team-leaderboard\n    data-ng-if="activeActivityTab === \'leaderboard\' && block.showLeaderboard"\n    team="team.current"\n    demo="demo"\n  ></team-leaderboard>\n\n  <div data-ng-if="activeActivityTab === \'team_members\' && block.showTeamMembers">\n    <div class="team-block_members">\n      <div data-ng-if="totalMembers > 0" class="team-block_members-nav">\n        <div class="team-block_members-search-field">\n          <i class="fa fa-search"></i>\n          <input\n            class="team-block_members-search"\n            type="text"\n            placeholder="Search"\n            data-ng-model="membersSearch.input"\n          />\n        </div>\n        <nav class="team-block_members-filter">\n          <div\n            class="team-block_members-filter-current"\n            ng-click="sortMembers(currentFilter); $event.stopPropagation();"\n            ng-class="{\'is-open\': displaySortOptions}"\n            aria-expanded="{{displaySortOptions ? true:false}}"\n            role="button"\n            ng-keydown="keyPressed($event)"\n            tabindex="0"\n          >\n            {{ isMobile ? \'Sort\' : currentSort }} <i class="fa fa-caret-down"></i>\n          </div>\n          <ul class="team-block_members-filter-menu" data-ng-if="displaySortOptions">\n            <li\n              class="team-block_members-filter-option"\n              data-ng-repeat="filter in memberFilters"\n              data-ng-class="{active: filter.text == currentSort}"\n              ng-click="sortMembers(filter)"\n              ng-keydown="keyPressed($event, filter)"\n              tabindex="0"\n            >\n              {{filter.text}}\n            </li>\n          </ul>\n        </nav>\n      </div>\n\n      <ul\n        class="team-block_members-list"\n        data-ng-if="totalMembers"\n        data-ng-show="totalMembers"\n        sc-lazy-load="membersEndpoint"\n        data-ng-model="members"\n        data-sort="membersSort"\n        data-filter="membersFilter"\n        data-loading="membersLoading"\n        data-deactivated="!public"\n        data-per-page="membersPerPage"\n        role="list"\n      >\n        <li\n          data-ng-repeat="(key, value) in members"\n          data-sc-supporter-leader="value"\n          data-block="block"\n          data-img-size="{{isMobile ? \'60px\' : \'110px\'}}"\n          data-mobile="isMobile"\n          data-theme="theme"\n          data-hide-title="true"\n          data-bc="team-block"\n          role="listitem"\n        ></li>\n        <div data-ng-if="membersLoading" class="team-block_members-loading sc-spinner-v2"></div>\n      </ul>\n      <div\n        class="team-block_members-empty-state"\n        data-ng-include="\'global/objects/scBlock/types/team/templates/no-members\'"\n      ></div>\n    </div>\n\n    <button\n      class="team-block_show-more"\n      data-ng-if="!isMobile && totalMembers > 20"\n      ng-click="toggleMembersPerPage()"\n      data-ng-bind="team.revealTeamMembers ? \'View Less\': \'View More\'"\n    ></button>\n  </div>\n\n  <div data-ng-if="activeActivityTab == \'subteams\'">\n    <div class="team-block_activity-content">\n      <div class="team-block_subteams-intro">\n        <div class="team-block_subteams-intro_inner">\n          <span class="team-block_subteams-intro_header">Sub-teams</span>\n          <div class="row">\n            <div class="column-md-two-thirds column-sm-full">\n              <div class="team-block_subteams-intro_text" data-ng-if="subteams.length">\n                These are sub-teams of {{team.current.name}}. Each is fundraising to hit their own\n                goal.\n              </div>\n              <div class="team-block_subteams-intro_text" data-ng-if="!subteams.length">\n                Be the first to create a sub-team for {{team.current.name}}.\n              </div>\n            </div>\n            <div class="column-md-third column-sm-full last">\n              <a class="team-block_subteams-button bordered" data-ng-click="createSubteam(team)">\n                Create Sub-Team\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div data-sc-subteams="subteams" data-parent="team.current.id"></div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/no-members",'<div ng-if="totalMembers == 0" class="team-block_members-empty">\n  <i class="ci ci-profile"></i>\n  <span class="team-block_members-empty-text">Aww man, no team members yet.</span>\n  <a\n    class="team-block_members-join"\n    ng-if="campaign.allow_fundraising_pages && enableTeamJoin()"\n    ng-click="joinTeam(team, true)"\n    ng-style="getButtonStyle()"\n  >\n    Join This Team\n  </a>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/post",'<section class="team-block_post-page">\n  <img\n    class="team-block_post-page-loading"\n    data-ng-show="posts.ui.loading"\n    sc-cdn-src="/static/global/images/preloader.gif"\n  />\n\n  <div\n    class="team-block_post-page-item"\n    data-ng-if="!posts.ui.loading"\n    data-sc-post="posts.ui.active"\n    data-mode="posts.ui.mode"\n    data-to-list-action="posts.toList()"\n  ></div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/story-tabs",'<section\n  class="team-block_post-list clickable-element"\n  data-ng-click="scrollToElement(\'sc-target-team-story\')"\n  data-ng-class="{publicSection: public}"\n>\n  <ul class="team-block_activity-tabs" role="tablist">\n    <li\n      class="team-block_activity-tab clickable-element"\n      data-ng-class="{active: activeUpdatesTab === \'story\'}"\n      data-ng-click="scrollToElement(\'sc-target-team-story\'); setActiveUpdatesTab(\'story\')"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{activeUpdatesTab === \'story\' ? \'true\' : \'false\'}}"\n    >\n      Story\n    </li>\n\n    <li\n      class="team-block_activity-tab clickable-element"\n      data-ng-class="{active: activeUpdatesTab === \'updates\'}"\n      data-ng-click="setActiveUpdatesTab(\'updates\'); scrollToElement(\'sc-target-team-updates\')"\n      tabindex="0"\n      role="tab"\n      aria-selected="{{activeUpdatesTab === \'updates\' ? \'true\' : \'false\'}}"\n    >\n      Updates <span class="team-block_activity-tab-count">{{posts.data.length || \'0\'}}</span>\n    </li>\n  </ul>\n\n  <div\n    data-ng-if="activeUpdatesTab === \'story\'"\n    class="team-block_update-container"\n    role="tabpanel"\n  >\n    <img\n      class="team-block_post-list-loading"\n      data-ng-show="stories.ui.loading"\n      sc-cdn-src="/static/global/images/preloader.gif"\n    />\n\n    <div\n      class="team-block_post-list-item"\n      data-ng-if="!stories.ui.loading"\n      data-sc-post="stories.data"\n      data-story="true"\n      data-demo="team.isDemo"\n      data-comments-count="scFundraisingTeamsService.comments"\n      data-post-type="\'stories\'"\n      data-preview="isPreview()"\n      data-comments-action="scrollToComments()"\n      data-preview-title="{{campaign.default_team_post_title}}"\n      data-preview-body="{{campaign.default_team_post_body}}"\n      data-mode="stories.ui.mode"\n    ></div>\n\n    <div\n      class="team-block_post-list-item-latest"\n      data-ng-show="!posts.ui.loading"\n      data-ng-if="posts.data.length"\n      data-ng-repeat="post in posts.data | limitTo:1"\n      data-sc-post="post"\n      data-demo="team.isDemo"\n      data-preview="isPreview()"\n      data-mode="posts.ui.mode"\n      data-excerpt="true"\n      data-latest-post="true"\n      data-to-post-action="posts.toPost(post)"\n    ></div>\n  </div>\n\n  <div\n    data-ng-if="activeUpdatesTab === \'updates\'"\n    class="team-block_update-container"\n    role="tabpanel"\n  >\n    <p data-ng-if="!posts.data.length" class="team-block_empty-updates">\n      Check back for updates later\n    </p>\n\n    <img\n      class="team-block_post-list-loading"\n      data-ng-show="posts.ui.loading"\n      sc-cdn-src="/static/global/images/preloader.gif"\n    />\n\n    <div\n      class="team-block_post-list-item"\n      data-ng-show="!posts.ui.loading"\n      data-ng-repeat="post in posts.data | limitTo: updatesPerPage"\n      data-sc-post="post"\n      data-demo="team.isDemo"\n      data-preview="isPreview()"\n      data-mode="posts.ui.mode"\n      data-excerpt="true"\n      data-to-post-action="posts.toPost(post)"\n    ></div>\n\n    <button\n      class="team-block_post-list-more"\n      ng-click="loadAdditionalUpdates()"\n      ng-if="updatesPerPage <= posts.data.length"\n    >\n      View More\n    </button>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/credit/template",'<section\n  class="donation-credit"\n  ng-class="{\'no-fundraising\': !campaign.HAS_FUNDRAISING}"\n  data-ng-controller="frsDonationCreditCtrl"\n>\n  <div data-ng-if="!campaign.current.disable_donation_attribution && campaign.HAS_FUNDRAISING">\n    <div data-ng-include="::template(\'search\')" data-ng-if="show.search()"></div>\n\n    <div\n      class="mp-sensitive"\n      data-ng-if="show.creditee()"\n      data-data-heap-ignore="true"\n      data-ng-include="::template(\'creditee\')"\n      aria-label="Selected creditee"\n    ></div>\n  </div>\n\n  <div data-ng-if="show.designation()" data-ng-include="::template(\'designation\')"></div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/amount/template",'<section class="donation-amount" data-ng-controller="frsDonationAmountCtrl">\n  <h2\n    ng-if="preventRecurringFrequency"\n    class="donation-subtitle"\n    data-sc-ctx-bind="build.titleText()"\n  ></h2>\n\n  <div\n    data-ng-include="::template(\'levels\')"\n    data-ng-if="show.levels() && !displayRecurringExperiment() && preventRecurringFrequency"\n  ></div>\n\n  <div\n    class="donation-amount_container"\n    ng-if="!displayRecurringExperiment() && preventRecurringFrequency"\n  >\n    <div class="donation-amount_details">\n      <div data-ng-include="::template(\'amount\')"></div>\n      <div data-ng-include="::template(\'frequency\')" data-ng-if="show.frequencyInput()"></div>\n    </div>\n\n    <div data-ng-include="::template(\'errors\')"></div>\n  </div>\n\n  <donation-amount-recurring-rf\n    ng-if="showLegacyDonationGrid"\n    donation-context="CONTEXT"\n    frequency="MODEL.frequency"\n    setting-page-frequency="MODEL.frequency"\n    frequency-levels="DonationBlock.current[\'recurring-level\']"\n    levels="state.levels"\n    recurring-donation-levels="state.recurringDonationLevels"\n    recur_until="MODEL.recur_until"\n    amount="MODEL.items[0].raw_final_price"\n    previous-frequency-price="MODEL.items[0].previous_frequency_price"\n    new-amount="MODEL.items[0].raw_final_price"\n    preview="globalState.isPreview"\n    currency="MODEL.payment.raw_currency_code"\n    iaa="IntelligentAsk"\n    iaa-state="IAAState"\n  ></donation-amount-recurring-rf>\n\n  <donation-grid\n    ng-if="!showLegacyDonationGrid"\n    donation-context="CONTEXT"\n    frequency="MODEL.frequency"\n    setting-page-frequency="MODEL.frequency"\n    frequency-levels="DonationBlock.current[\'recurring-level\']"\n    levels="state.levels"\n    recurring-donation-levels="state.recurringDonationLevels"\n    recur_until="MODEL.recur_until"\n    amount="MODEL.items[0].raw_final_price"\n    previous-frequency-price="MODEL.items[0].previous_frequency_price"\n    new-amount="MODEL.items[0].raw_final_price"\n    preview="globalState.isPreview"\n    currency="MODEL.payment.raw_currency_code"\n    global-state="globalState"\n    iaa="IntelligentAsk"\n    iaa-state="IAAState"\n  ></donation-grid>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/template",'<section class="donation-dedication" data-ng-controller="frsDonationDedicationCtrl">\n\n  <span data-sc-checkbox data-ng-model="state.dedicationFormEnabled" name="dedicate"\n    aria-label="Dedicate my donation in honor or in memory of someone">\n    Dedicate my donation <strong>in honor or in memory</strong> of someone\n  </span>\n\n  <div data-ng-show="show.dedicationForm()" data-ng-form="dedicationForm" id="donation-page_checkout_dedication-form">\n    <div data-heap-ignore="true" data-ng-include="::template(\'type\')" class="mp-sensitive"></div>\n\n    <div data-heap-ignore="true" data-ng-include="::template(\'honoree\')" class="mp-sensitive"></div>\n\n    <div data-heap-ignore="true" data-ng-include="::template(\'recipient-email\')"\n      data-ng-if="show.emailForm() || state.postcardEnabled" class="mp-sensitive"></div>\n\n    <div data-heap-ignore="true" data-ng-include="::template(\'recipient-postcard-toggle\')"\n      data-ng-if="show.postcardToggle()" class="mp-sensitive"></div>\n\n    <div data-heap-ignore="true" data-ng-include="::template(\'recipient-postcard-form\')"\n      data-ng-if="show.postcardForm()" class="mp-sensitive"></div>\n\n    <div data-heap-ignore="true" data-ng-include="::template(\'recipient-message\')"\n      data-ng-if="show.emailForm() || state.postcardEnabled" class="mp-sensitive">\n    </div>\n\n</section>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/designation/template",'<section class="donation-designation" data-ng-controller="frsDonationDesignationCtrl">\n  <label class="donation-designation_label"> What would you like your donation to support? </label>\n\n  <select\n    name="designation"\n    class="donation-select"\n    data-ng-model="MODEL.designation"\n    data-ng-options="designation.id as designation.name for designation in list.designations"\n  >\n    <option value="">Please Select</option>\n  </select>\n\n  <div aria-live="polite">\n    <span class="donation-error" data-sc-form-error="show if designation fails required">\n      {{::CONSTANTS.SELECT_DESIGNATION_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/template",'<div\n  class="donation-donor"\n  data-ng-controller="frsDonationDonorCtrl"\n  aria-labelledby="donationPage_your-information-heading"\n  id="donation-page_checkout_donor-information-form"\n>\n  <h2 class="donation-subtitle" id="donationPage_your-information-heading">Your Information</h2>\n\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'prefix\')"\n    data-ng-if="show.prefix()"\n  ></div>\n  <div data-heap-ignore="true" class="mp-sensitive" data-ng-include="::template(\'name\')"></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'suffix\')"\n    data-ng-if="show.suffix()"\n  ></div>\n  <div data-heap-ignore="true" class="mp-sensitive" data-ng-include="::template(\'email\')"></div>\n\n  <div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive"\n        data-ng-include="::template(\'billing-address1\')"\n      ></div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive"\n        data-ng-include="::template(\'billing-address2\')"\n      ></div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive"\n        data-ng-include="::template(\'billing-zip-city\')"\n      ></div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive"\n        data-ng-include="::template(\'billing-state-country\')"\n      ></div>\n    </div>\n\n  <div data-heap-ignore="true" class="mp-sensitive" data-ng-include="::template(\'phone\')"></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'cell-phone-mgive\')"\n    data-ng-if="show.cellPhone()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'comment\')"\n    data-ng-if="show.comment()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'company\')"\n    data-ng-if="show.company()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'blog\')"\n    data-ng-if="show.blog()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'website\')"\n    data-ng-if="show.website()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'gender\')"\n    data-ng-if="show.gender()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'pronoun\')"\n    data-ng-if="show.pronoun()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'birthdate\')"\n    data-ng-if="show.birthdate()"\n  ></div>\n  <div\n    data-heap-ignore="true"\n    class="mp-sensitive"\n    data-ng-include="::template(\'custom-questions\')"\n    data-ng-if="show.customQuestions()"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/double-the-donation/template",'<section\n  class="donation-matching"\n  data-ng-controller="frsDoubleTheDonationCtrl"\n  data-ng-show="isEmployerMatchOnDonationPage"\n>\n  <span\n    data-sc-checkbox\n    data-ng-model="state.doubleTheDonationFormEnabled"\n    aria-label="Have your employer match your donation"\n  >\n    See if your employer will match your donation\n  </span>\n\n  <div data-ng-show="show.doubleTheDonationForm()" data-ng-form="doubleTheDonationForm">\n    <div class="double-the-donation-label">\n      Check to see if your employer will match your donation. You may receive an email on how to\n      submit your match request to maximize your impact.\n    </div>\n    <div data-heap-ignore="true" class="mp-sensitive" data-ng-include="::template(\'company\')"></div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/faq/template",'<section class="donation-faq" data-ng-controller="frsDonationFaqCtrl">\n  <h3 class="donation-faq_title" tabindex="0">\n    <i class="fa fa-question-circle" aria-hidden="true"></i>\n    Questions\n  </h3>\n\n  <dl data-sc-accordion-list="" class="checkout-flow_right_list">\n    <div ng-repeat="faq in list.faqs | orderBy:\'weight\'" ng-if="!faq.is_deleted">\n      <dt class="checkout-flow_right_list-term">\n        <i class="checkout-flow_right_list-fa fa" aria-hidden="true"></i>\n        <a\n          class="checkout-flow_right_list-question"\n          href="javascript:;"\n          ng-bind="faq.question"\n          aria-label="{{::faq.question}} press enter then tab for answer"\n          tabindex="0"\n        ></a>\n      </dt>\n      <dd class="checkout-flow_right_list-definition" tabindex="0">\n        <p ng-bind-html="faq.answer | scTrustedHtml" class="checkout-flow_right_para"></p>\n      </dd>\n    </div>\n  </dl>\n\n  <p class="login-text" data-ng-if="!loggedIn">\n    Have an account? <a class="link" data-ng-click="login()">Sign in</a>\n  </p>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/footer/template",'<section\n  id="df_checkout_donation-footer"\n  class="donation-footer"\n  data-ng-controller="frsDonationFooterCtrl"\n  data-ng-show="META.showPaymentDetails"\n>\n  <div class="donation-footer_container">\n    <small data-ng-if="show.terms()" class="donation-footer_terms" ng-bind-html="build.terms()"></small>\n\n    <fee-on-top ng-if="show.feeOnTop()" fot="MODEL.fee_on_top"></fee-on-top>\n\n    <div class="donation-footer_controls">\n      <button\n        id="donate-cta-main"\n        data-id="cp-donation-form-donate"\n        class="donation-footer_submit"\n        ng-if="!editable"\n        data-ng-style="{\'background-color\': theme.current.styles.primaryColor}"\n        data-ng-disabled="globalState.processing || globalState.submitDisabled"\n        data-ng-bind="block[\'submit-button-text\'] || \'Donate\' "\n        aria-label="click give now to donate {{ (META.summaryAmount || 0) | scFormatCurrency:MODEL.payment.raw_currency_code:2 }}{{ labelFrequency }}"\n        type="submit"\n      ></button>\n      <div\n        class="donation_button edit large"\n        ng-if="editable"\n        data-ng-style="{\'background-color\': theme.current.styles.primaryColor}"\n      >\n        <textarea\n          msd-elastic=""\n          placeholder="Donate"\n          aria-label="Click to {{block[\'submit-button-text\']}} Button"\n          class="form_transparent-input"\n          type="text"\n          data-ng-model="block[\'submit-button-text\']"\n        ></textarea>\n      </div>\n    </div>\n\n    <div class="donation-footer_summary">\n      <img\n        class="donation-footer_creditee"\n        data-ng-if="show.creditee()"\n        data-ng-src="{{ build.logoSrc() }}"\n      />\n      <summary-amount\n        amount="META.summaryAmount"\n        recur_until="MODEL.recur_until"\n        feeprocessing="globalState.feeProcessing"\n        frequency="MODEL.frequency"\n        taxcompliance="META.unsupportedTaxCompliance"\n        currency="MODEL.payment.raw_currency_code"\n        estimatedcharge="META.estimatedCharge"\n      ></summary-amount>\n    </div>\n\n    <small ng-if="show.terms()" class="donation-footer_powered">\n      Powered by GoFundMe\n    </small>\n\n    <div class="donation-footer__compliance--unsupported" ng-if="META.unsupportedTaxCompliance">\n      <div class="donation-footer__compliance-img">\n        <i class="ci ci-world-hands"></i>\n      </div>\n      <div class="donation-footer__compliance-text">\n        <span class="donation-footer__compliance-title">International Gift</span>\n        <p>\n          You are giving to an organization located in {{ META.estimatedCharge.country }}. This\n          donation will be processed and receipted in {{META.estimatedCharge.currency}} and\n          deposited to a {{ META.estimatedCharge.countryCode }} bank account. Contributions are tax\n          deductible to the extent allowed by the laws of your country. Consult your local tax\n          professional.\n        </p>\n      </div>\n    </div>\n  </div>\n</section>\n\n<div\n  class="donation-border-top donation-footer__compliance"\n  ng-show="META.showTaxComplianceLanguage"\n>\n  <p ng-bind-html="META.taxComplianceLanguage"></p>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/gift-aid/template",'<section class="donation-gift-aid" data-ng-controller="frsDonationGiftaidCtrl">\n  <div class="donation-gift-aid__wrapper" ng-show="showGiftAid()">\n    <div class="donation-gift-aid__image-container">\n      <div class="donation-gift-aid__image-line"></div>\n      <img class="donation-gift-aid__image" sc-cdn-src="/static/global/images/giftaid.png" />\n      <div class="donation-gift-aid__image-line"></div>\n    </div>\n\n    <div class="donation-gift-aid__header">Are you a UK taxpayer?</div>\n    <div class="donation-gift-aid__subheader">\n      With Gift Aid, your donation of {{ giftValue() }} would be {{ giftAidValue() }} at no extra\n      cost to you.\n    </div>\n\n    <div class="donation-gift-aid__option-container">\n      <div class="donation-gift-aid__checkbox-container">\n        <checkbox-control ng-model="MODEL.is_gift_aid"></checkbox-control>\n        <div class="donation-gift-aid__checkbox-label">\n          I want to Gift Aid this donation to {{:: organization.current.name }}\n        </div>\n      </div>\n      <div class="donation-gift-aid__option-text" ng-show="giftAidSelected()">\n        I am a UK taxpayer and I understand that if I pay less Income and /or Capital Gains Tax than\n        the amount of Gift Aid claimed on all my donations in the relevant tax year, it is my\n        responsibility to pay any difference. Gift Aid claimed will be used to help fund the whole\n        of {{:: organization.current.name }}\'s work.\n      </div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/matching/template",'<section class="donation-matching" data-ng-controller="frsDonationMatchingCtrl">\n  <span\n    data-sc-checkbox\n    data-ng-model="state.matchingFormEnabled"\n    aria-label="Would you like your employer to match?"\n    id="employer-match-checkbox"\n  >\n    Would you like your <strong>employer</strong> to match?\n  </span>\n\n  <div data-ng-show="show.matchingForm()" data-ng-form="matchingForm">\n    <div data-ng-if="show.preloader()" class="donation-matching_loading"></div>\n\n    <div data-ng-if="!show.preloader()">\n      <div class="amply-donation-label" id="employer-match-message-amply">\n        Check to see if your employer will match your donation. You may receive an email on how to\n        submit your match request to maximize your impact.\n      </div>\n      <div\n        data-heap-ignore="true"\n        class="mp-sensitive"\n        data-ng-include="::template(\'employer\')"\n      ></div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/payment/template",'<div\n  data-ng-controller="frsDonationPaymentCtrl"\n  id="df_checkout_donation-payment"\n  class="donation-payment"\n  aria-label="Payment Details"\n>\n  <div>\n    <cp-payment-widget\n      id="classy-payment-widget"\n      api="API"\n      payment="MODEL.payment"\n      submit-digital-wallets="submitDigitalWallets"\n      fee-processing="globalState.feeProcessing"\n      meta="META"\n      parent-model="MODEL"\n      hide-postal="true"\n      currency="MODEL.payment.raw_currency_code"\n      validate-form="helpers.validateForm"\n    ></cp-payment-widget>\n  </div>\n\n  <div ng-if="META.showPaymentDetails" id="donation-page_checkout_payment-form">\n    <div\n      data-heap-ignore="true"\n      class="mp-sensitive"\n      data-ng-include="::template(\'company-name-checkbox\')"\n      data-ng-if="show.companyName()"\n    ></div>\n    <div\n      data-heap-ignore="true"\n      class="mp-sensitive"\n      data-ng-include="::template(\'company-name\')"\n      data-ng-if="show.companyName() && META.showCompanyName"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/shipping/template",'<section class="donation-shipping" data-ng-controller="frsDonationShippingCtrl">\n  <h2 class="donation-subtitle">Shipping Info</h2>\n\n  <span data-sc-checkbox data-ng-model="state.useBilling">\n    My shipping address is the same as my billing address\n  </span>\n\n  <div data-ng-form="shipping" data-ng-if="!state.useBilling">\n    <div\n      data-heap-ignore="true"\n      class="mp-sensitive"\n      data-ng-include="::template(\'shipping-address1\')"\n    ></div>\n    <div\n      data-heap-ignore="true"\n      class="mp-sensitive"\n      data-ng-include="::template(\'shipping-address2\')"\n    ></div>\n    <div\n      data-heap-ignore="true"\n      class="mp-sensitive"\n      data-ng-include="::template(\'shipping-city\')"\n    ></div>\n    <div\n      data-heap-ignore="true"\n      class="mp-sensitive"\n      data-ng-include="::template(\'shipping-state-zip\')"\n    ></div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/welcome/template",'<section class="donation-welcome" data-ng-controller="frsDonationWelcomeCtrl">\n  <div\n    data-sc-filler-text="{\n      fontBase: 16,\n      fontRatio: 14\n    }"\n    data-title-container="\'.donation-welcome_container\'"\n    data-parent-container="\'.donation-welcome_container\'"\n  >\n    <div class="donation-welcome_container">\n      <div class="sr-only">\n        <a\n          href=""\n          aria-live="polite"\n          tabindex="0"\n          data-ng-click="setFocusVariable(\'META.focusFirstErrorLink\')"\n          ng-if="META.errorList.length"\n          data-sc-focus="META.focusFormErrorsLink"\n          ng-focus="resetFocusVariable(\'META.focusFormErrorsLink\')"\n        >\n          Number of form errors: {{META.errorList.length}}. Click to review errors\n        </a>\n        <a\n          data-ng-if="$first"\n          href=""\n          data-ng-repeat-start="error in META.errorList"\n          data-ng-click="error.$element.focus()"\n          data-sc-focus="META.focusFirstErrorLink"\n          ng-focus="resetFocusVariable(\'META.focusFirstErrorLink\')"\n        >\n          {{error.$name}} is required. Fix invalid input\n        </a>\n        <a data-ng-if="!$first" href="" data-ng-repeat-end data-ng-click="error.$element.focus()">\n          {{error.$name}} is required. Fix invalid input\n        </a>\n      </div>\n      <h1\n        class="donation-welcome_title"\n        data-ng-if="!editable && !isPreview()"\n        data-ng-bind-html="trustedBlockHeadlineHtml"\n      ></h1>\n\n      <h2\n        class="donation-welcome_title"\n        data-ng-if="!editable && isPreview()"\n        data-ng-bind-html="block.headline | scTrustedHtml"\n      ></h2>\n\n      <h2\n        class="donation-welcome_title"\n        data-ng-if="editable && !getLock(\'headline\')"\n        data-ng-model="block.headline"\n        data-froala="headerOptions"\n      ></h2>\n\n      <h2\n        class="donation-welcome_title"\n        data-ng-if="editable && getLock(\'headline\')"\n        data-ng-bind-html="block.headline | scTrustedHtml"\n        sc-lock-field="true"\n        opacity="1"\n      ></h2>\n\n      \x3c!-- Appeal --\x3e\n      <div\n        class="donation-welcome_description"\n        data-ng-if="!editable"\n        sc-allow-html="block.description | scImgAssetRef | userLinks"\n        sc-responsive-video\n      ></div>\n\n      <div\n        class="donation-welcome_description"\n        data-ng-if="editable  && !getLock(\'description\')"\n        data-ng-model="block.description"\n        data-froala="subheaderOptions"\n      ></div>\n\n      <div\n        class="donation-welcome_description"\n        data-ng-if="editable && getLock(\'description\')"\n        sc-allow-html="block.description | scImgAssetRef | userLinks"\n        sc-responsive-video\n        sc-lock-field="true"\n        opacity="1"\n      ></div>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/templates/tablet/activity",'\x3c!-- Activity --\x3e\n<section class="fundraiser-block_activity">\n  <div class="fundraiser-block_activity-content">\n    <div\n      sc-feed="fundraiser.current"\n      data-type="fundraising-page"\n      data-allow-commenting="block.allowCommenting"\n      data-block="block"\n      data-demo="fundraiser.isDemo"\n      data-theme="theme"\n    ></div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/templates/tablet/main",'<div\n  ng-class="fundraiser.current.is_tribute && !(fundraiserGoal > 0) ? \'fundraiser-block_main_tribute\' : \'fundraiser-block_main\'"\n>\n  \x3c!-- Headline --\x3e\n  <img\n    class="fundraiser-block_photo"\n    data-ng-src="{{logoSrc()}}"\n    alt="{{getFundraiserAlias()}}\'s Avatar"\n  />\n\n  <div class="fundraiser-block_main-text">\n    <span ng-if="!fundraiser.current.is_tribute" class="fundraiser-block_type">Fundraiser</span>\n\n    <h1\n      class="fundraiser-block_headline"\n      data-ng-bind-html="::getHeaderText() | scTrustedHtml"\n    ></h1>\n\n    <button\n      class="fundraiser-block_manage-button"\n      data-ng-if="canManage"\n      data-ng-click="manage()"\n      type="button"\n      data-sc-big-tip="\'global/flows/create-fundraising-page/tooltips/bacon\'"\n      data-on="\'bring_home_the_bacon\'"\n    >\n      Manage\n    </button>\n\n    <a\n      class="fundraiser-block_share"\n      data-ng-href="#"\n      data-sc-social-buttons="\'overlay\'"\n      type="button"\n    >\n      <i class="ci ci-share-o"></i>\n      <span class="fundraiser-block_share-text">Share</span>\n    </a>\n  </div>\n  \x3c!-- Progress --\x3e\n  <div class="fundraiser-block_progress" data-ng-if="block.showProgressBar && fundraiserGoal > 0">\n    <div class="fundraiser-block_progress-stats">\n      <span\n        class="fundraiser-block_progress-raised"\n        data-ng-bind="fundraiser.current.display_total_raised | scFormatCurrency:currency:0"\n      >\n      </span>\n      Raised\n      <span\n        class="fundraiser-block_progress-goal"\n        data-ng-bind="fundraiserGoal || campaign.default_page_goal | scFormatCurrency:currency:0"\n      ></span>\n    </div>\n\n    <div\n      class="fundraiser-block_progress-bar"\n      data-sc-campaign-progress\n      data-entity="fundraiser.current"\n      data-style-class="fundraiser-block"\n      data-has-raised-hidden="true"\n      data-has-stats-hidden="true"\n      data-bar-color="block.progressBarColor || theme.styles.primaryColor"\n    ></div>\n  </div>\n\n  \x3c!-- Description --\x3e\n  <p\n    ng-if="!fundraiser.current.is_tribute"\n    class="fundraiser-block_description"\n    data-ng-bind-html="(fundraiser.current.intro_text || campaign.default_page_appeal) | scTrustedHtml"\n  ></p>\n\n  <a\n    class="fundraiser-block_button donate"\n    data-sc-donate-preview="demo"\n    data-ng-style="scButtonStyleUpdate(block.donateButtonStyle, block.donateButtonColor)"\n    data-ng-href="{{donateLink()}}"\n    target="_self"\n  >\n    Donate\n  </a>\n\n  \x3c!-- Campaign and Team --\x3e\n  <section ng-if="!fundraiser.current.is_tribute" class="fundraiser-block_parent-container">\n    \x3c!-- Team --\x3e\n    <div\n      class="fundraiser-block_aside-parent clickable-element"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-team\')"\n      data-ng-if="fundraiser.current.team && block.showFundraiserTeam"\n      data-sc-supporter-parent="fundraiser.current.team"\n      data-type="team"\n      data-backup-image="/static/global/images/team_default_image.png"\n      data-theme="theme"\n      data-link="teamLink()"\n      data-bc="fundraiser-block"\n    ></div>\n\n    \x3c!-- Campaign --\x3e\n    <div\n      class="fundraiser-block_aside-parent clickable-element"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-campaign\')"\n      data-ng-if="campaign && block.showCampaign"\n      data-sc-supporter-parent="campaign"\n      data-type="campaign"\n      data-backup-image="/static/global/images/team_default_image.png"\n      data-theme="theme"\n      data-link="campaignLink()"\n      data-bc="fundraiser-block"\n    ></div>\n  </section>\n</div>\n\n\x3c!-- Updates --\x3e\n<section class="fundraiser-block_post-list">\n  <ul class="fundraiser-block_activity-tabs">\n    <li\n      class="fundraiser-block_activity-tab clickable-element"\n      data-ng-class="{active: activeUpdatesTab === \'story\'}"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-story\'); setActiveUpdatesTab(\'story\')"\n      data-ng-keyup="setActiveTab(\'story\', $event)"\n      tabindex="0"\n    >\n      Story\n    </li>\n\n    <li\n      class="fundraiser-block_activity-tab clickable-element"\n      data-ng-class="{active: activeUpdatesTab === \'updates\'}"\n      data-ng-click="setActiveUpdatesTab(\'updates\'); scrollToElement(\'sc-target-fundraiser-updates\')"\n      data-ng-keyup="setActiveTab(\'updates\', $event)"\n      tabindex="0"\n    >\n      Updates <span class="team-block_activity-tab-count">({{posts.data.length || \'0\'}})</span>\n    </li>\n  </ul>\n\n  <div class="fundraiser-block_main">\n    <div data-ng-if="activeUpdatesTab === \'story\'">\n      <img\n        class="fundraiser-block_post-list-loading"\n        data-ng-show="stories.ui.loading"\n        sc-cdn-src="/static/global/images/preloader.gif"\n      />\n\n      <div\n        class="fundraiser-block_post-list-item"\n        data-ng-if="!stories.ui.loading"\n        data-sc-post="stories.data"\n        data-comments-count="scFundraisingPagesService.comments"\n        data-story="true"\n        data-demo="fundraiser.isDemo"\n        data-post-type="\'stories\'"\n        data-preview="isPreview()"\n        data-comments-action="scrollToComments()"\n        data-preview-title="{{campaign.default_page_post_title}}"\n        data-preview-body="{{campaign.default_page_post_body}}"\n        data-mode="stories.ui.mode"\n      ></div>\n\n      <div\n        class="fundraiser-block_post-list-item-latest"\n        data-ng-show="!posts.ui.loading"\n        data-ng-if="posts.data.length"\n        data-ng-repeat="post in posts.data | limitTo:1"\n        data-sc-post="post"\n        data-demo="fundraiser.isDemo"\n        data-preview="isPreview()"\n        data-mode="posts.ui.mode"\n        data-excerpt="true"\n        data-latest-post="true"\n        data-to-post-action="posts.toPost(post)"\n      ></div>\n    </div>\n\n    <div data-ng-if="activeUpdatesTab === \'updates\'">\n      <p data-ng-if="!posts.data.length" class="team-block_empty-updates">\n        Check back for updates later\n      </p>\n\n      <img\n        class="fundraiser-block_post-list-loading"\n        data-ng-show="posts.ui.loading"\n        sc-cdn-src="/static/global/images/preloader.gif"\n      />\n\n      <div\n        class="fundraiser-block_post-list-item"\n        data-ng-show="!posts.ui.loading"\n        data-ng-repeat="post in posts.data | limitTo: updatesPerPage"\n        data-sc-post="post"\n        data-demo="fundraiser.isDemo"\n        data-preview="isPreview()"\n        data-mode="posts.ui.mode"\n        data-excerpt="true"\n        data-to-post-action="posts.toPost(post)"\n      ></div>\n\n      <button\n        class="fundraiser-block_post-list-more"\n        ng-click="loadAdditionalUpdates()"\n        ng-if="updatesPerPage <= posts.data.length"\n      >\n        View More\n      </button>\n    </div>\n  </div>\n</section>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/templates/tablet/main",'<div class="team-block_main">\n  <img class="team-block_photo" data-ng-src="{{logoSrc()}}" />\n  <div class="team-block_main-text">\n    <span class="team-block_type">Team Page</span>\n    <h1 class="team-block_headline" data-ng-bind="team.current.name"></h1>\n    <button\n      class="team-block_manage-button"\n      data-ng-click="manage()"\n      type="button"\n      data-ng-if="canManage"\n    >\n      Manage\n    </button>\n    <a class="team-block_share" data-ng-href="#" data-sc-social-buttons="\'overlay\'" type="button">\n      <i class="ci ci-share-o"></i>\n      <span class="team-block_share-text">Share</span>\n    </a>\n  </div>\n\n  \x3c!-- Progress --\x3e\n  <div class="team-block_progress" data-ng-if="block.showProgressBar">\n    <div class="team-block_progress-stats">\n      <span\n        class="team-block_progress-raised"\n        data-ng-bind="team.current.display_total_raised | scFormatCurrency:currency"\n      >\n      </span>\n      Raised\n      <span\n        class="team-block_progress-goal"\n        data-ng-bind="team.current.raw_goal || team.current.goal || campaign.default_team_goal | scFormatCurrency:currency"\n      ></span>\n    </div>\n\n    <div\n      class="team-block_progress-bar"\n      data-sc-simple-progress\n      data-goal="teamGoal || campaign.default_team_goal"\n      data-raised="teamPercentToGoal"\n      data-raised-color="block.progressBarColor || theme.styles.primaryColor"\n      data-bc="\'team-block\'"\n    ></div>\n  </div>\n\n  \x3c!-- Description --\x3e\n  <p\n    class="team-block_description"\n    data-ng-bind-html="team.current.description || campaign.default_team_appeal | scTrustedHtml"\n  ></p>\n\n  <div class="team_block-aside-join-container">\n    <a\n      href=""\n      class="team-block_button bordered"\n      data-ng-if="enableTeamJoin()"\n      data-ng-click="isDisabled || joinTeam(team, true)"\n      data-ng-style="scButtonStyleUpdate(block.joinButtonStyle, block.joinButtonColor)"\n      >{{block.joinButtonText || \'Join Team\'}}\n      <i class="fa fa-caret-down" data-ng-if="team.current.team_policy.allow_subteams"></i>\n    </a>\n    <ul class="team-block_aside-join" data-ng-if="displayJoinTeamDropdown">\n      <li\n        class="team-block_aside-join-option"\n        data-ng-click="joinTeam(team, false)"\n        data-ng-if="enableIndividualJoin()"\n      >\n        <span class="team-block_aside-join-option-text"> As an individual</span>\n        <span class="team-block_aside-join-option-subtext">\n          Raise money with your fundraising page</span\n        >\n      </li>\n      <li class="team-block_aside-join-option" data-ng-click="createSubteam()">\n        <span class="team-block_aside-join-option-text"> As a sub team</span>\n        <span class="team-block_aside-join-option-subtext"> Raise money with your own team</span>\n      </li>\n    </ul>\n  </div>\n\n  <a\n    class="team-block_button donate"\n    data-ng-href="{{ donateLink() }}"\n    target="_self"\n    data-ng-style="scButtonStyleUpdate(block.donateButtonStyle, block.donateButtonColor)"\n  >\n    Donate</a\n  >\n\n  \x3c!-- Parent Campaign --\x3e\n  <section data-ng-if="block.showCampaign">\n    \x3c!-- Campaign --\x3e\n    <div\n      class="fundraiser-block_aside-parent clickable-element"\n      data-ng-click="scrollToElement(\'sc-target-fundraiser-campaign\')"\n      data-ng-if="campaign && block.showCampaign"\n      data-sc-supporter-parent="campaign"\n      data-type="campaign"\n      data-backup-image="/static/global/images/team_default_image.png"\n      data-theme="theme"\n      data-link="campaignLink()"\n      data-bc="fundraiser-block"\n    ></div>\n  </section>\n\n  <div\n    class="fundraiser-block_aside-parent"\n    data-ng-if="parentTeam"\n    data-sc-supporter-parent="parentTeam"\n    data-type="parentTeam"\n    data-backup-image="/static/global/images/team_default_image.png"\n    data-theme="theme"\n    data-link="parentTeamLink"\n    data-bc="fundraiser-block"\n  ></div>\n\n  \x3c!-- Captain --\x3e\n  <div class="team-block_section" data-ng-if="block.showTeamCaptain">\n    <h2 class="team-block_activity-title">Captain</h2>\n    <a class="team-block_aside-parent" ng-href="{{captainLink}}">\n      <img class="team-block_aside-photo captain" ng-src="{{captainImage}}" />\n      <div class="team-block_aside-parent-info">\n        <span class="team-block_aside-parent-name" data-ng-bind="getCaptainName()"></span>\n      </div>\n    </a>\n  </div>\n</div>\n\n<div data-ng-include="\'global/objects/scBlock/types/team/templates/members-tabs\'"></div>\n<div data-ng-include="\'global/objects/scBlock/types/team/templates/story-tabs\'"></div>\n\n\x3c!-- Activity --\x3e\n<div data-ng-include="\'global/objects/scBlock/types/team/templates/activity\'"></div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/credit/partials/creditee",'<div class="donation-credit_entity">\n  <img\n    class="donation-credit_entity-logo"\n    data-ng-src="{{ build.logoSrc() }}"\n    aria-hidden="true"\n    alt=""\n  />\n\n  <div class="donation-credit_entity-info">\n    <h2\n      class="donation-credit_entity-title"\n      data-ng-bind="build.recipientName()"\n      aria-hidden="true"\n    ></h2>\n    <span\n      class="donation-credit_entity-designation"\n      data-ng-if="META.creditee.designation && META.creditee.designation.is_active"\n      data-ng-bind="META.creditee.designation.name"\n    ></span>\n\n    <div\n      data-sc-simple-progress\n      ng-if="show.progressBar() && META.creditee.goal"\n      data-bc="\'donation-credit\'"\n      data-goal="META.creditee.goal"\n      data-raised="build.revisedTotal()"\n      data-raised-color="theme.current.styles.primaryColor"\n      data-height="15"\n      aria-hidden="true"\n    ></div>\n\n    <div\n      ng-if="show.progressBar() && META.creditee.goal"\n      class="donation-credit_entity-status"\n      data-ng-bind-html="build.impactStatus()"\n    ></div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/credit/partials/designation",'<div class="donation-credit_designation" ng-class="{\'no-fundraising\': !campaign.HAS_FUNDRAISING}">\n  <program-designation-field\n    entity="campaign.current"\n    selected-id="campaign.current.designation_id"\n    model="MODEL.designation_id"\n    form-name="FORM"\n    field-option-settings="designationOptions"\n  >\n  </program-designation-field>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/credit/partials/search",'<div class="donation-credit_search">\n  <label\n    for="resource-search-input"\n    class="donation-credit_search-label"\n    data-sc-ctx-bind="build.searchLabel()"\n  ></label>\n\n  <div\n    data-sc-resource-search="state.crediteeSearchTargets"\n    data-context="state.searchContext"\n    data-null-value="build.crediteeSearchDefault()"\n    data-select-initial="false"\n    data-team-id="build.crediteeSearchTeamId()"\n    data-include="[\'image\', \'description\']"\n    data-ng-model="META.creditee"\n    data-resource-type="META.creditee._type"\n  ></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/amount/partials/amount",'<div class="donation-amount_details-total">\n  <label\n    class="donation-amount_details-total-label"\n    data-sc-form-error="highlight if amount fails"\n    data-sc-ctx-bind="build.labelText()"\n    for="donationAmount"\n  ></label>\n\n  <div\n    class="donation-amount_details-total-input-wrap currency-picker"\n    ng-class="{\'has-focus\': show.inputFocus == true}"\n    data-sc-form-error="highlight if amount fails"\n  >\n    <div\n      sc-currency-picker\n      currency-entity="\'donation\'"\n      currency-model="MODEL.payment.raw_currency_code"\n      data-ng-if="show.amountInput()"\n    ></div>\n\n    <div\n      sc-currency-picker\n      currency-entity="\'donation\'"\n      currency-model="MODEL.payment.raw_currency_code"\n      data-ng-if="!show.amountInput() && !campaign.multiCurrencyDisabled()"\n    ></div>\n\n    <span\n      class="donation-amount_details-total-fixed"\n      data-ng-if="!show.amountInput() && !campaign.multiCurrencyDisabled()"\n      ng-bind="MODEL.items[0].raw_final_price | number:2"\n    ></span>\n\n    <span\n      class="donation-amount_details-total-fixed"\n      data-ng-if="!show.amountInput() && campaign.multiCurrencyDisabled()"\n      ng-bind="MODEL.items[0].raw_final_price | scFormatCurrency:MODEL.payment.raw_currency_code:2"\n    ></span>\n\n    <input\n      class="donation-amount_details-total-input"\n      data-ng-if="show.amountInput()"\n      data-ng-model="MODEL.items[0].raw_final_price"\n      data-sc-form-error="highlight if amount fails"\n      data-sc-retain-focus-validity\n      data-sc-currency\n      data-symbol=""\n      data-round-currency="autoRound"\n      data-max="maxDonation"\n      data-min="minDonation"\n      id="donationAmount"\n      name="amount"\n      type="text"\n      placeholder="0.00"\n      data-ng-focus="show.inputFocus = true"\n      data-ng-blur="show.inputFocus = false"\n      required\n    />\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/amount/partials/errors",'<div aria-live="polite">\n  <span class="donation-error" data-sc-form-error="show if amount fails required">\n    {{::CONSTANTS.DONATION_AMOUNT_REQUIRED_ERROR_TEXT}}\n  </span>\n\n  <span class="donation-error" data-sc-form-error="show if amount fails max">\n    Please enter an amount under {{maxDonation |\n    scFormatCurrency:MODEL.payment.raw_currency_code:0}}.\n  </span>\n\n  <span class="donation-error" data-sc-form-error="show if amount fails min">\n    Please enter a donation amount of {{minDonation |\n    scFormatCurrency:MODEL.payment.raw_currency_code:0}} or greater.\n  </span>\n\n  <span class="donation-error" data-sc-form-error="show if amount fails parse">\n    {{::CONSTANTS.DOLLAR_AMOUNT_VALID_ERROR_TEXT}}\n  </span>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/amount/partials/frequency",'<div class="donation-amount_details-freq">\n  <radio-control\n    value="\'one-time\'"\n    ng-model="MODEL.frequency"\n    ng-click="selectRadioFrequency(\'one-time\')"\n    name="\'frequency\'"\n  >\n    One-time\n  </radio-control>\n\n  <radio-control\n    value="\'recurring\'"\n    ng-model="MODEL.frequency"\n    ng-click="selectRadioFrequency(\'recurring\')"\n    name="\'frequency\'"\n  >\n    Monthly\n  </radio-control>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/amount/partials/levels",'<ul class="donation-amount_levels">\n  <li class="donation-amount_levels-item" data-ng-repeat="level in state.levels">\n    <button\n      class="donation-amount_levels-item-button"\n      data-ng-click="selectAmount(level.displayAmount)"\n      data-ng-style="{ background: theme.current.styles.primaryColor }"\n      type="button"\n    >\n      <span\n        ng-if="!level.loading"\n        ng-bind="level.displayAmount | scFormatCurrency:MODEL.payment.raw_currency_code:0"\n      ></span>\n      <span ng-if="level.loading">...</span>\n    </button>\n  </li>\n\n  <li class="donation-amount_levels-item donation-amount_levels-other">\n    <button\n      class="donation-amount_levels-item-button"\n      data-ng-click="selectOther()"\n      data-ng-style="{ background: theme.current.styles.primaryColor }"\n      type="button"\n    >\n      Other\n    </button>\n  </li>\n</ul>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/partials/honoree",'<div class="donation-table donation-dedication__honoree">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column half">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if dedicationForm.honoree_first_name fails"\n        >\n          Honoree’s First Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="dedicationModel.honoree_first_name"\n          data-sc-retain-focus-validity\n          data-sc-form-error="highlight if dedicationForm.honoree_first_name fails"\n          type="text"\n          name="honoree_first_name"\n          aria-label="honoree\'s first name"\n          required\n        />\n      </div>\n\n      <div class="donation-table_column half">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if dedicationForm.honoree_last_name fails"\n        >\n          Honoree’s Last Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="dedicationModel.honoree_last_name"\n          data-sc-retain-focus-validity\n          data-sc-form-error="highlight if dedicationForm.honoree_last_name fails"\n          type="text"\n          name="honoree_last_name"\n          aria-label="honoree\'s last name"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if [dedicationForm.honoree_first_name, dedicationForm.honoree_last_name] fails required"\n      >\n        {{::CONSTANTS.NAME_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/partials/recipient-email",'<div class="donation-table donation-dedication_recipient-info">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column">\n        <label\n          class="donation-label"\n          data-ng-class="{required: show.requiredDedicationInfo()}"\n          data-sc-form-error="highlight if [dedicationForm.name, dedicationForm.email_address] fails"\n        >\n          <span>Recipient\'s email</span>\n        </label>\n\n        <input\n          class="donation-text_input"\n          data-ng-model="dedicationModel.email_address"\n          data-sc-validate-email-address\n          data-sc-retain-focus-validity\n          data-sc-form-error="highlight if dedicationForm.email_address fails"\n          data-ng-required="show.requiredDedicationInfo()"\n          type="text"\n          name="email_address"\n          placeholder="Email Address"\n          aria-label="recipient\'s email address, not required, use to optionally send a notification email"\n        />\n      </div>\n    </div>\n\n    <div>\n      <span\n        aria-live="polite"\n        role="alert"\n        class="donation-error"\n        data-sc-form-error="show if dedicationForm.email_address fails emailAddress"\n      >\n        {{::CONSTANTS.EMAIL_ADDRESS_FORMAT_ERROR_TEXT}}\n      </span>\n    </div>\n\n    <small class="donation-table_row-helper"> {{::CONSTANTS.OPTIONAL_RECIPIENT_EMAIL}} </small>\n  </div>\n</div>\n\n<div class="donation-table donation-dedication_recipient-info">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column half">\n        <span\n          class="donation-label"\n          data-sc-form-error="highlight if billing_first_name fails"\n          data-ng-class="{required: show.requiredDedicationInfo() || state.postcardEnabled}"\n        >\n          Recipient’s First Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="dedicationModel.first_name"\n          data-sc-retain-focus-validity\n          data-sc-form-error="highlight if dedicationForm.first_name fails"\n          type="text"\n          name="first_name"\n          ng-required="show.requiredDedicationInfo() || state.postcardEnabled"\n          aria-label="recipient\'s first name"\n        />\n      </div>\n\n      <div class="donation-table_column half">\n        <span\n          class="donation-label"\n          data-sc-form-error="highlight if billing_first_name fails"\n          data-ng-class="{required: show.requiredDedicationInfo() || state.postcardEnabled}"\n        >\n          Recipient’s Last Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="dedicationModel.last_name"\n          data-sc-retain-focus-validity\n          data-sc-form-error="highlight if dedicationForm.last_name fails"\n          type="text"\n          name="last_name"\n          ng-required="show.requiredDedicationInfo() || state.postcardEnabled"\n          aria-label="recipient\'s last name"\n        />\n      </div>\n    </div>\n    <div aria-live="polite" role="alert">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if [dedicationForm.name,dedicationForm.email_address] fails required"\n      >\n        {{ build.recipientInfoRequiredError() }}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/partials/recipient-message",'<div\n  class="donation-dedication_message"\n  data-sc-form-error="highlight if dedicationForm.ecard_message fails"\n>\n  \x3c!-- Message Text --\x3e\n  <div class="donation-dedication_message-text" data-ng-class="{ half: show.ecardsForm() }">\n    <div class="donation-dedication_message-label">\n      <label\n        class="donation-label"\n        for="dedicationMessage"\n        data-sc-form-error="highlight if dedicationForm.ecard_message fails"\n      >\n        Your Message to the Recipient\n      </label>\n      <a\n        href\n        ng-click="build.previewLink()"\n        aria-hidden="true"\n        data-ng-if="dedicationModel.ecard_id"\n        >| Preview</a\n      >\n    </div>\n\n    <textarea\n      class="donation-dedication_message-input"\n      data-sc-form-error="highlight if dedicationForm.ecard_message fails"\n      data-ng-model="dedicationModel.ecard_message"\n      data-sc-retain-focus-validity\n      name="ecard_message"\n      aria-label="Your Message to the Recipient."\n    ></textarea>\n\n    <small class="donation-dedication_message-helper">\n      Please spell check, include how you would like your name(s) signed, mention the amount if\n      desired, and format your message as you would like it delivered.\n    </small>\n  </div>\n\n  \x3c!-- Image (ecard) --\x3e\n  <div class="donation-dedication_message-ecard" data-ng-if="show.ecardsForm()">\n    <label class="donation-dedication_message-label">Include an e-Card?</label>\n\n    <radio-group role="radiogroup" aria-label="select eCard to send">\n      <div class="donation-dedication_message-ecard-none">\n        <radio-control\n          ng-model="dedicationModel.ecard_id"\n          name="\'ecard_id\'"\n          value="null"\n          aria-label="don\'t include an e-card design with the e-mail"\n        >\n          No e-Card\n        </radio-control>\n      </div>\n\n      <div class="donation-dedication_message-ecard-grid">\n        <div\n          class="donation-dedication_message-ecard-item"\n          data-ng-repeat="ecard in list.ecards | orderBy: \'order\'"\n          data-ng-class="{\'active\': dedicationModel.ecard_id == ecard.id }"\n          data-ng-click="selectEcard(ecard.id)"\n          data-ng-style="{color: theme.current.styles.primaryColor}"\n        >\n          <div class="donation-dedication_message-ecard-radio">\n            <radio-control\n              value="ecard.id"\n              ng-model="dedicationModel.ecard_id"\n              name="\'ecard_id\'"\n              size="\'small\'"\n              aria-label="e-Card option {{ $index + 1 }}"\n            >\n            </radio-control>\n          </div>\n\n          <img\n            class="donation-dedication_message-ecard-image"\n            data-ng-src="{{ ecard.image_url }}"\n            alt="dedication message ecard {{ $index + 1}}"\n          />\n        </div>\n\n        <a href class="sr-only" ng-click="build.previewLink()" data-ng-if="dedicationModel.ecard_id"\n          >Open e-card preview modal</a\n        >\n      </div>\n    </radio-group>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/partials/recipient-postcard-form",'\x3c!-- Street Address --\x3e\n<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <div class="donation-table_label">\n          <label\n            class="donation-label required"\n            data-sc-form-error="highlight if dedicationForm.address fails"\n          >\n            Address\n          </label>\n        </div>\n\n        <div\n          data-class="donation-text_input"\n          data-name="address"\n          ng-model="dedicationModel.address"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if dedicationForm.address fails"\n          data-sc-retain-focus-validity\n          data-sc-address-lookup\n          data-parser="parseRecipientAddressAutocomplete(response)"\n          data-aria-label="recipient\'s street address"\n          data-placeholder="Enter recipient\'s street address"\n          required\n        ></div>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if dedicationForm.address fails required"\n      >\n        {{::CONSTANTS.ADDRESS_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Zip and City --\x3e\n\n<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <div class="donation-table_label">\n          <label class="donation-label required" name="postal_code_label"> Zip Code </label>\n        </div>\n\n        <div class="donation-table_row">\n          <div class="donation-table_columns">\n            <div class="donation-table_column">\n              <input\n                class="donation-text_input"\n                data-ng-model="dedicationModel.postal_code"\n                data-sc-retain-focus-validity\n                aria-label="recipient\'s postal code"\n                placeholder="{{ build.zipPlaceholder() }}"\n                type="text"\n                name="postal_code"\n                required\n              />\n            </div>\n          </div>\n\n          <span class="donation-error" name="postal_code_error">\n            {{ build.postalCodeError() }}\n          </span>\n        </div>\n      </div>\n\n      <div class="donation-table_column half">\n        <div class="donation-table_label">\n          <label\n            class="donation-label required"\n            data-sc-form-error="highlight if dedicationForm.city fails"\n          >\n            City\n          </label>\n        </div>\n\n        <div class="donation-table_row">\n          <div class="donation-table_columns">\n            <div class="donation-table_column">\n              <input\n                class="donation-text_input"\n                data-ng-model="dedicationModel.city"\n                data-sc-retain-focus-validity\n                data-sc-form-error="highlight if dedicationForm.city fails"\n                type="text"\n                name="city"\n                aria-label="recipient\'s city"\n                required\n              />\n            </div>\n          </div>\n\n          <div aria-live="polite" role="alert">\n            <span\n              class="donation-error"\n              data-sc-form-error="show if dedicationForm.city fails required"\n            >\n              {{::CONSTANTS.CITY_REQUIRED_ERROR_TEXT}}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- State and Country --\x3e\n\n<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <div class="donation-table_label">\n          <label\n            class="donation-label required"\n            data-sc-form-error="highlight if dedicationForm.state fails"\n          >\n            {{ build.regionLabel() }}\n          </label>\n        </div>\n\n        <div class="donation-table_row">\n          <div class="donation-table_columns">\n            <div class="donation-table_column">\n              <div data-ng-if="show.states()">\n                <div\n                  class="donation-select"\n                  data-ng-model="dedicationModel.state"\n                  data-sc-form-error="highlight if dedicationForm.state fails"\n                  data-sc-select-states\n                  aria-label="recipient\'s state"\n                  name="state"\n                  required\n                ></div>\n              </div>\n\n              <div data-ng-if="show.provinces()">\n                <div\n                  class="donation-select"\n                  data-ng-model="dedicationModel.state"\n                  data-sc-form-error="highlight if dedicationForm.state fails"\n                  data-sc-select-provinces\n                  aria-label="recipient\'s province"\n                  name="state"\n                  required\n                ></div>\n              </div>\n\n              <div data-ng-if="show.genericLevel1()">\n                <input\n                  class="donation-text_input"\n                  data-ng-model="dedicationModel.state"\n                  data-sc-retain-focus-validity\n                  data-sc-form-error="highlight if dedicationForm.state fails"\n                  type="text"\n                  name="state"\n                  aria-label="recipient\'s region"\n                  required\n                />\n              </div>\n            </div>\n          </div>\n\n          <span\n            class="donation-error"\n            data-sc-form-error="show if dedicationForm.state fails required"\n          >\n            {{ build.statePostalCodeError() }}\n          </span>\n        </div>\n      </div>\n\n      <div class="donation-table_column half">\n        <div class="donation-table_label">\n          <label\n            class="donation-label required"\n            data-sc-form-error="highlight if dedicationForm.country fails"\n          >\n            Country\n          </label>\n        </div>\n\n        <div class="donation-table_row">\n          <div class="donation-table_columns">\n            <div class="donation-table_column">\n              <div\n                class="donation-select"\n                data-ng-model="dedicationModel.country"\n                data-sc-form-error="highlight if dedicationForm.country fails"\n                data-sc-select-countries\n                name="country"\n                aria-label="recipient\'s country"\n                required\n              ></div>\n            </div>\n          </div>\n\n          <div aria-live="polite" role="alert">\n            <span\n              class="donation-error"\n              data-sc-form-error="show if dedicationForm.country fails required"\n            >\n              {{::CONSTANTS.COUNTRY_REQUIRED_ERROR_TEXT}}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/partials/recipient-postcard-toggle",'<div class="donation-table">\n  <div class="donation-table-label-type">\n    <label class="donation-label">Printed Card</label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column">\n        <span\n          data-sc-checkbox\n          data-ng-model="state.postcardEnabled"\n          aria-label="Send a printed card in the mail"\n        >\n          Send a card in the mail\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/dedication/partials/type",'<div class="donation-table">\n  <div class="donation-table-label-type">\n    <label class="donation-label">Type</label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column">\n        <radio-group role="radiogroup" aria-label="select dedication type">\n          <radio-control\n            ng-model="dedicationModel.type"\n            name="\'type\'"\n            value="\'honor\'"\n            ng-required="true"\n            aria-label="select to donate in honor of someone"\n          >\n            In honor of &hellip;\n          </radio-control>\n\n          <radio-control\n            ng-model="dedicationModel.type"\n            name="\'type\'"\n            value="\'memory\'"\n            ng-required="true"\n            aria-label="select to donate in memory of someone"\n          >\n            In memory of &hellip;\n          </radio-control>\n        </radio-group>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-address1",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label required"\n      data-sc-form-error="highlight if billing_address1 fails"\n    >\n      Address\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column">\n        <div\n          data-class="donation-text_input"\n          data-name="billing_address1"\n          ng-model="MODEL.billing_address1"\n          data-sc-retain-focus-validity\n          data-sc-address-lookup\n          data-parser="parseBillingAddressAutocomplete(response)"\n          data-aria-label="address 1"\n          data-placeholder="Enter your address"\n          data-required="true"\n        ></div>\n      </div>\n    </div>\n\n    <div style="display: flex; justify-content: space-between">\n      <div aria-live="polite" role="alert">\n        <span class="donation-error" data-sc-form-error="show if billing_address1 fails required">\n          {{::CONSTANTS.ADDRESS_REQUIRED_ERROR_TEXT}}\n        </span>\n      </div>\n\n      <div\n        style="display: flex; align-items: center"\n        data-ng-if="!showAddressLine2"\n        data-ng-click="handleAddLine2Click()"\n      >\n        <img width="22px" height="22x" sc-cdn-src="/static/global/images/add-circle.svg" />\n        <span> Add apt., suite, floor </span>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-address2",'<div class="donation-table" ng-if="showAddressLine2">\n  <div class="donation-table_label">\n    <label class="donation-label"> Address 2 </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        \x3c!-- The name attribute needs to be specified with single quotes since input-field is a component. autocomplete is there for good measure --\x3e\n        \x3c!-- We should consider changing this to a normal input like the other billing-address1 field when we have time. --\x3e\n        <input-field\n          class="donation__address2"\n          model="MODEL.billing_address2"\n          maxlength="25"\n          counter="true"\n          name="\'billing_address2\'"\n          autocomplete="address-line2"\n          aria-label="billing address 2, not required"\n        ></input-field>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-city",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label class="donation-label required" data-sc-form-error="highlight if billing_city fails">\n      City\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_city"\n          data-sc-form-error="highlight if billing_city fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_city"\n          aria-label="billing city"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if billing_city fails required">\n        {{::CONSTANTS.CITY_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-country",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label class="donation-label required" data-sc-form-error="highlight if billing_country fails">\n      Country\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        \x3c!-- TODO: Exclude SG? --\x3e\n        <input\n          class="donation-select"\n          data-ng-model="MODEL.billing_country"\n          data-sc-form-error="highlight if billing_country fails"\n          data-sc-select-countries\n          name="billing_country"\n          aria-label="billing country"\n          required\n        />\n        <div class="form__helper" ng-if="countryResitrictedText">{{:: countryResitrictedText}}</div>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if billing_country fails required">\n        {{::CONSTANTS.COUNTRY_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-name",'<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column half">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if billing_first_name fails"\n        >\n          Billing First Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_first_name"\n          data-sc-form-error="highlight if billing_first_name fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_first_name"\n          aria-label="Please enter your billing first name"\n          required\n        />\n      </div>\n      <div class="donation-table_column half">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if billing_last_name fails"\n        >\n          Billing Last Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_last_name"\n          data-sc-form-error="highlight if billing_last_name fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_last_name"\n          aria-label="Please enter your billing last name"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if [billing_first_name,billing_last_name] fails"\n      >\n        {{ build.nameError() }}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-state-country",'<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column half" data-ng-show="show.states()">\n        <span class="donation-label required" data-sc-form-error="highlight if billing_state fails">\n          State\n        </span>\n\n        <div\n          class="donation-select"\n          data-ng-model="MODEL.billing_state"\n          data-sc-form-error="highlight if billing_state fails"\n          data-sc-select-states\n          data-only-states="true"\n          name="billing_state"\n          aria-label="billing"\n          required\n        ></div>\n\n        <div aria-live="polite" role="alert">\n          <span class="donation-error" data-sc-form-error="show if billing_state fails required">\n            {{::CONSTANTS.STATE_REQUIRED_ERROR_TEXT}}\n          </span>\n        </div>\n      </div>\n\n      <div class="donation-table_column half" data-ng-show="show.provinces()">\n        <span class="donation-label required" data-sc-form-error="highlight if billing_state fails">\n          Province\n        </span>\n\n        <div\n          class="donation-select"\n          data-ng-model="MODEL.billing_state"\n          data-sc-form-error="highlight if billing_state fails"\n          data-sc-select-provinces\n          name="billing_state"\n          aria-label="billing province"\n          required\n        ></div>\n\n        <div aria-live="polite" role="alert">\n          <span class="donation-error" data-sc-form-error="show if billing_state fails required">\n            {{::CONSTANTS.PROVINCE_REQUIRED_ERROR_TEXT}}\n          </span>\n        </div>\n      </div>\n\n      <div class="donation-table_column half" data-ng-show="show.genericLevel1()">\n        <span class="donation-label required" data-sc-form-error="highlight if billing_state fails">\n          Region\n        </span>\n\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_state"\n          data-sc-form-error="highlight if billing_state fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_state"\n          aria-label="billing region"\n          ng-maxlength="32"\n          maxlength="32"\n          required\n        />\n\n        <div aria-live="polite" role="alert">\n          <span class="donation-error" data-sc-form-error="show if billing_state fails required">\n            {{::CONSTANTS.REGION_REQUIRED_ERROR_TEXT}}\n          </span>\n        </div>\n      </div>\n\n      <div class="donation-table_column half">\n        <div class="donation-table_label">\n          <label\n            class="donation-label required"\n            data-sc-form-error="highlight if billing_country fails"\n          >\n            Country\n          </label>\n        </div>\n\n        \x3c!-- TODO: Exclude SG? --\x3e\n        <input\n          class="donation-select"\n          data-ng-model="MODEL.billing_country"\n          data-sc-form-error="highlight if billing_country fails"\n          data-sc-select-countries\n          name="billing_country"\n          aria-label="billing country"\n          required\n        />\n\n        <div class="form__helper" ng-if="countryResitrictedText">{{:: countryResitrictedText}}</div>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if billing_country fails required">\n        {{::CONSTANTS.COUNTRY_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-state-zip",'<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column half" data-ng-if="show.states()">\n        <span class="donation-label required" data-sc-form-error="highlight if billing_state fails">\n          State\n        </span>\n        <div\n          class="donation-select"\n          data-ng-model="MODEL.billing_state"\n          data-sc-form-error="highlight if billing_state fails"\n          data-sc-select-states\n          data-only-states="true"\n          name="billing_state"\n          aria-label="billing"\n          required\n        ></div>\n      </div>\n\n      <div class="donation-table_column half" data-ng-if="show.provinces()">\n        <span class="donation-label required" data-sc-form-error="highlight if billing_state fails">\n          Province\n        </span>\n        <div\n          class="donation-select"\n          data-ng-model="MODEL.billing_state"\n          data-sc-form-error="highlight if billing_state fails"\n          data-sc-select-provinces\n          name="billing_state"\n          aria-label="billing province"\n          required\n        ></div>\n      </div>\n\n      <div class="donation-table_column half" data-ng-if="show.genericLevel1()">\n        <span class="donation-label required" data-sc-form-error="highlight if billing_state fails">\n          Region\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_state"\n          data-sc-form-error="highlight if billing_state fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_state"\n          aria-label="billing region"\n          ng-maxlength="32"\n          maxlength="32"\n          required\n        />\n      </div>\n\n      <div class="donation-table_column half">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if billing_postal_code fails"\n        >\n          {{ build.zipPlaceholder() }}\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_postal_code"\n          data-sc-form-error="highlight if billing_postal_code fails"\n          data-sc-retain-focus-validity\n          data-ng-minlength="2"\n          data-ng-maxlength="10"\n          type="text"\n          name="billing_postal_code"\n          aria-label="{{ build.zipPlaceholder() }}"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if [billing_state,billing_postal_code] fails"\n      >\n        {{ build.regionZipError() }}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/billing-zip-city",'<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column half">\n        <span class="donation-label required" name="billing_postal_code_label" data-sc-form-error="highlight if billing_postal_code fails"> \n          {{ build.zipPlaceholder() }}\n        </span>\n\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_postal_code"\n          data-sc-form-error="highlight if billing_postal_code fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_postal_code"\n          aria-label="{{ build.zipPlaceholder() }}"\n          required\n        />\n\n        <div aria-live="polite" role="alert">\n          <span class="donation-error" name="billing_postal_code_error">\n            {{ build.zipError() }}\n          </span>\n        </div>\n      </div>\n\n      <div class="donation-table_column half">\n        <div class="donation-table_label">\n          <label\n            class="donation-label required"\n            data-sc-form-error="highlight if billing_city fails"\n          >\n            City\n          </label>\n        </div>\n\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.billing_city"\n          data-sc-form-error="highlight if billing_city fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="billing_city"\n          aria-label="billing city"\n          required\n        />\n\n        <div aria-live="polite" role="alert">\n          <span class="donation-error" data-sc-form-error="show if billing_city fails required">\n            {{::CONSTANTS.CITY_REQUIRED_ERROR_TEXT}}\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/birthdate",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.birthdate.is_required }"\n      data-sc-form-error="highlight if optional_birthdate fails"\n    >\n      Birthday\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <div\n          data-sc-date-dropdown\n          data-class-stem="\'donation-birthday\'"\n          data-ng-model="META.answers.birthdate"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_birthdate fails"\n          data-ng-required="list.optionalQuestions.birthdate.is_required"\n          name="optional_birthdate"\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_birthdate fails">\n        {{ build.birthdateError() }}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/blog",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.blog.is_required }"\n      data-sc-form-error="highlight if optional_blog fails"\n    >\n      Blog\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <input\n          class="donation-text_input"\n          data-ng-model="META.answers.blog"\n          data-ng-model-options="{ getterSetter: true }"\n          data-ng-required="list.optionalQuestions.blog.is_required"\n          data-sc-form-error="highlight if optional_blog fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="optional_blog"\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_blog fails required">\n        {{::CONSTANTS.BLOG_ADDRESS_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/cell-phone-mgive",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.cellphone.is_required }"\n      data-sc-form-error="highlight if optional_cellphone fails"\n    >\n      Cell Phone\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    \x3c!-- Cell phone --\x3e\n\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <div\n          data-class="donation-text_input"\n          data-ng-model="META.answers.cellphone"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_cellphone fails"\n          data-ng-required="list.optionalQuestions.cellphone.is_required"\n          data-sc-phone-input\n          data-sc-retain-focus-validity\n          data-aria-label="cell phone number, numbers only"\n          data-name="optional_cellphone"\n        ></div>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_cellphone fails required">\n        {{::CONSTANTS.CELL_NUMBER_REQUIRED_ERROR_TEXT}}\n      </span>\n\n      <span\n        class="donation-error"\n        data-sc-form-error="show if optional_cellphone fails phoneNumber"\n      >\n        {{::CONSTANTS.PHONE_NUMBER_VALID_ERROR_TEXT}}\n      </span>\n    </div>\n\n    \x3c!-- MGive --\x3e\n\n    <div class="donation-table_columns" data-ng-if="show.mgive()">\n      <div class="donation-table_column">\n        <span\n          data-sc-checkbox\n          aria-describedby="donationPage_text-opt-in-message"\n          data-ng-model="META.answers.text_opt_in"\n          data-ng-model-options="{ getterSetter: true }"\n          name="text_opt_in"\n        >\n          Receive text-message updates and info on your cell phone\n        </span>\n\n        <p\n          class="donation-table_row-helper"\n          id="donationPage_text-opt-in-message"\n          data-ng-bind="build.mgiveMessage()"\n        ></p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/comment",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      for="text-area-comment"\n      class="donation-label"\n      data-sc-form-error="highlight if comment fails"\n    >\n      Leave a comment\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <froala-field\n          id="text-area-comment"\n          model="MODEL.comment"\n          name="comment"\n          froala-options="froalaCommentOptions"\n          wrapper-class="\'form__froala-wrapper--dark create-flow_textarea-wrap\'"\n          aria-label="Leave a comment"\n          aria-roledescription="textbox"\n        >\n        </froala-field>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/company",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.company_name.is_required }"\n      data-sc-form-error="highlight if optional_company_name fails"\n    >\n      Company\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <input\n          class="donation-text_input"\n          data-ng-model="META.answers.company_name"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_company_name fails"\n          data-ng-required="list.optionalQuestions.company_name.is_required"\n          data-sc-retain-focus-validity\n          type="text"\n          name="optional_company_name"\n          aria-label="company name"\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if optional_company_name fails required"\n      >\n        {{::CONSTANTS.COMPANY_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/custom-questions",'<div class="donation-table" data-ng-repeat="question in list.customQuestions">\n  <div data-ng-include="::template(\'questions/\' + question.type)"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/email",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label required"\n      data-sc-form-error="highlight if member_email_address fails"\n    >\n      Email\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.member_email_address"\n          data-sc-form-error="highlight if member_email_address fails"\n          data-sc-validate-email-address\n          data-sc-retain-focus-validity\n          type="text"\n          name="member_email_address"\n          aria-label="Email address. Your receipt will be emailed here."\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if member_email_address fails required">\n        {{::CONSTANTS.EMAIL_ADDRESS_REQUIRED_ERROR_TEXT}}\n      </span>\n\n      <span\n        class="donation-error"\n        data-sc-form-error="show if member_email_address fails emailAddress"\n      >\n        {{::CONSTANTS.EMAIL_ADDRESS_FORMAT_ERROR_TEXT}}\n      </span>\n    </div>\n\n    <small class="donation-table_row-helper"> Your receipt will be emailed here. </small>\n\n    <sc-consent\n      data-show="!campaign.current.hide_contact_opt_in"\n      data-opt-in="MODEL.opt_in"\n      data-language="MODEL.opt_in_wording"\n      name="opt_in"\n    ></sc-consent>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/gender",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.gender.is_required }"\n      data-sc-form-error="highlight if optional_gender fails"\n    >\n      Gender\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column third">\n        <select\n          class="donation-select"\n          data-ng-model="META.answers.gender"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_gender fails"\n          data-ng-required="list.optionalQuestions.gender.is_required"\n          data-ng-options="option.label as option.label for option in list.optionalQuestions.gender.enum_options"\n          name="optional_gender"\n          aria-label="Gender"\n        >\n          <option value="">Please Select</option>\n        </select>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_gender fails">\n        {{::CONSTANTS.GENDER_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/name",'<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column" data-ng-class="show.middleName() ? \'third\' : \'half\'">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if member_first_name fails"\n        >\n          First Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="META.member_first_name"\n          data-sc-form-error="highlight if member_first_name fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="member_first_name"\n          aria-label="Please enter your first name"\n          required\n        />\n      </div>\n\n      <div class="donation-table_column third" data-ng-if="show.middleName()">\n        <span\n          class="donation-label"\n          ng-class="{\'required\': list.optionalQuestions.middle_name.is_required}"\n          data-sc-form-error="highlight if member_first_name fails"\n        >\n          Middle Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="META.answers.middle_name"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_middle_name fails"\n          data-ng-required="list.optionalQuestions.middle_name.is_required"\n          data-sc-retain-focus-validity\n          placeholder="Middle Name"\n          type="text"\n          name="optional_middle_name"\n          aria-label="Please enter your middle name"\n          required\n        />\n      </div>\n\n      <div class="donation-table_column" data-ng-class="show.middleName() ? \'third\' : \'half\'">\n        <span\n          class="donation-label required"\n          data-sc-form-error="highlight if member_last_name fails"\n        >\n          Last Name\n        </span>\n        <input\n          class="donation-text_input"\n          data-ng-model="META.member_last_name"\n          data-sc-form-error="highlight if member_last_name fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="member_last_name"\n          aria-label="Please enter your last name"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="assertive">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if [member_first_name,optional_middle_name,member_last_name] fails"\n        ng-bind="build.nameError()"\n      >\n      </span>\n    </div>\n\n    <div\n      class="donation-table_columns donation-table_columns_without_margin"\n      data-ng-if="show.anonymous() || show.anonymousDonationAmounts()"\n    >\n      <div class="donation-table_column" data-ng-if="show.anonymous()">\n        <span\n          data-sc-checkbox\n          aria-label="Make donation anonymous"\n          class="inline"\n          data-ng-model="MODEL.is_anonymous"\n          name="is_anonymous"\n        >\n          {{::CONSTANTS.ANONYMOUS_DONATION_CHECKBOX_LABEL}}\n        </span>\n\n        <i\n          tabindex="0"\n          class="fa fa-question-circle donation-tooltip inline"\n          data-sc-tooltip\n          data-sc-tooltip-class="donation-tooltip_message"\n          data-ng-style="{ color: theme.current.styles.primaryColor }"\n        >\n          {{::CONSTANTS.ANONYMOUS_DONATION_TOOLTIP_TEXT}}\n        </i>\n      </div>\n\n      <div class="donation-table_column" data-ng-if="show.anonymousDonationAmounts()">\n        <span\n          data-sc-checkbox\n          aria-label="Make donation anonymous"\n          class="inline"\n          data-ng-model="MODEL.hide_amount"\n          name="hide_amount"\n        >\n          {{::CONSTANTS.ANONYMOUS_DONATION_AMOUNTS_LABEL}}\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/phone",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: get.homephone(\'is_required\') }"\n      data-sc-form-error="highlight if member_phone fails"\n    >\n      Phone Number\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <div\n          data-class="donation-text_input"\n          data-ng-model="MODEL.member_phone"\n          data-ng-required="get.homephone(\'is_required\')"\n          data-sc-phone-input\n          data-name="member_phone"\n          aria-label="phone number, numbers only"\n        ></div>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if member_phone fails phoneNumber">\n        {{::CONSTANTS.PHONE_NUMBER_VALID_ERROR_TEXT}}\n      </span>\n\n      <span class="donation-error" data-sc-form-error="show if member_phone fails required">\n        {{::CONSTANTS.PHONE_NUMBER_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/prefix",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.prefix.is_required }"\n      data-sc-form-error="highlight if optional_prefix fails"\n    >\n      Title\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column third">\n        <select\n          class="donation-select"\n          data-ng-model="META.answers.prefix"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_prefix fails"\n          data-ng-required="list.optionalQuestions.prefix.is_required"\n          data-ng-options="option.label as option.label for option in list.optionalQuestions.prefix.enum_options"\n          name="optional_prefix"\n          aria-label="Title"\n        >\n          <option value="">Please Select</option>\n        </select>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_prefix fails required">\n        {{::CONSTANTS.TITLE_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/pronoun",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.pronoun.is_required }"\n      data-sc-form-error="highlight if optional_pronoun fails"\n    >\n      Pronouns\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column third">\n        <select\n          class="donation-select"\n          data-ng-model="META.answers.pronoun"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_pronoun fails"\n          data-ng-required="list.optionalQuestions.pronoun.is_required"\n          data-ng-options="option.label as option.label for option in list.optionalQuestions.pronoun.enum_options"\n          name="optional_pronoun"\n          aria-label="Pronouns"\n        >\n          <option value="">Please Select</option>\n        </select>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_pronoun fails">\n        {{::CONSTANTS.PRONOUN_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/suffix",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.suffix.is_required }"\n      data-sc-form-error="highlight if optional_suffix fails"\n    >\n      Suffix\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column third">\n        \x3c!-- TODO: Does Angular let you do this? --\x3e\n        <select\n          class="donation-select"\n          data-ng-model="META.answers.suffix"\n          data-ng-model-options="{ getterSetter: true }"\n          data-sc-form-error="highlight if optional_suffix fails"\n          data-ng-required="list.optionalQuestions.suffix.is_required"\n          name="optional_suffix"\n          aria-label="suffix"\n        >\n          <option value="">Please Select</option>\n          <option value="Sr.">Sr.</option>\n          <option value="Jr.">Jr.</option>\n          <option value="II">II</option>\n          <option value="III">III</option>\n          <option value="IV">IV</option>\n          <option value="V">V</option>\n        </select>\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_suffix fails required">\n        {{::CONSTANTS.SUFFIX_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/website",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label"\n      data-ng-class="{ required: list.optionalQuestions.website.is_required }"\n      data-sc-form-error="highlight if optional_website fails"\n    >\n      Website\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <input\n          class="donation-text_input"\n          data-ng-model="META.answers.website"\n          data-ng-model-options="{ getterSetter: true }"\n          data-ng-required="list.optionalQuestions.website.is_required"\n          data-sc-form-error="highlight if optional_website fails"\n          data-sc-retain-focus-validity\n          type="text"\n          aria-label="website"\n          name="optional_website"\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if optional_website fails required">\n        {{::CONSTANTS.WEBSITE_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/double-the-donation/partials/company",'<div class="donation-table donation-table_margin_top_12">\n  <div class="donation-table_label">\n    <label class="donation-label"> Company </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <div id="dd-company-name-input"></div>\n        <script>\n          var DDCONF = {API_KEY: SC.organization.doubleTheDonationChannel.publicKey};\n        <\/script>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/matching/partials/employer",'<div class="donation-table donation-table_margin_top_12">\n  <div class="donation-table_label">\n    <label class="donation-label" id="employer-match-name"> Employer Name </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <input\n          class="donation-text_input"\n          id="amplyMatchInput"\n          data-ng-model="MODEL.employer_match.employer_name"\n          data-sc-form-error="highlight if matchingForm.employer fails"\n          data-sc-retain-focus-validity\n          placeholder="Employer name"\n          type="text"\n          name="employer"\n        />\n        <script src="https://giveamply.com/assets/js/company-search.js"><\/script>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/payment/partials/company-name-checkbox",'<div class="donation-table donation-company-name-checkbox">\n  <div class="donation-table_row">\n    <div class="donation-table_columns donation-table_columns_without_margin">\n      <div class="donation-table_column">\n        <span\n          class="donation-payment_company-name-checkbox"\n          data-sc-checkbox\n          data-ng-model="META.showCompanyName"\n          data-tracked-element="donation-page_checkout_toggle-company-name"\n          name="show_company_name"\n          aria-labelledby="corporate-donation-checkbox-label"\n        >\n          <span id="corporate-donation-checkbox-label">Is this a company credit card?</span>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n  .donation-payment_company-name-checkbox.checked .sc-checkbox_input:before{\n    background: {{theme.current.styles.primaryColor}};\n    color: white;\n    border: 1px solid {{theme.current.styles.primaryColor}};\n  }\n</style>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/payment/partials/company-name",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label class="donation-label required" data-sc-form-error="highlight if [company_name] fails">\n      <span>Company</span>\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.company_name"\n          data-sc-form-error="highlight if company_name fails"\n          data-sc-retain-focus-validity\n          data-tracked-element="donation-page_checkout_company-name"\n          type="text"\n          name="company_name"\n          aria-label="Please enter your company name"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite" role="alert">\n      <span class="donation-error" data-sc-form-error="show if [company_name] fails">\n        Please enter your company name.\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/payment/partials/fot",'<div class="donation-table">\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <span\n          class="donation-payment_fot"\n          data-sc-checkbox\n          data-ng-model="MODEL.fee_on_top"\n          name="payment_fot"\n          aria-label="{{build.stripTagsFromAppeal()}}"\n        >\n          <span data-sc-ctx-bind-html="build.classyModeAppeal() | scTrustedHtml"></span>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/payment/partials/payment-options","")}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/payment/partials/payment",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label class="donation-label required"> {{ API.getPaymentLabel() }} </label>\n  </div>\n\n  <div class="donation-table_row"></div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/shipping/partials/shipping-address1",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label required"\n      data-sc-form-error="highlight if shipping.address1 fails"\n    >\n      Address\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.shipping.address1"\n          data-sc-form-error="highlight if shipping.address1 fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="address1"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite">\n      <span class="donation-error" data-sc-form-error="show if shipping.address1 fails required">\n        {{::CONSTANTS.ADDRESS_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/shipping/partials/shipping-address2",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label class="donation-label"> Address 2 </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.shipping.address2"\n          data-sc-retain-focus-validity\n          type="text"\n          name="address2"\n        />\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/shipping/partials/shipping-city",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label class="donation-label required" data-sc-form-error="highlight if shipping.city fails">\n      City\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.shipping.city"\n          data-sc-form-error="highlight if shipping.city fails"\n          data-sc-retain-focus-validity\n          type="text"\n          name="city"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite">\n      <span class="donation-error" data-sc-form-error="show if shipping.city fails required">\n        {{::CONSTANTS.CITY_REQUIRED_ERROR_TEXT}}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/shipping/partials/shipping-state-zip",'<div class="donation-table">\n  <div class="donation-table_label">\n    <label\n      class="donation-label required"\n      data-sc-form-error="highlight if [shipping.state,shipping.postal_code] fails"\n    >\n      State &amp; ZIP\n    </label>\n  </div>\n\n  <div class="donation-table_row">\n    <div class="donation-table_columns">\n      <div class="donation-table_column half">\n        <div\n          class="donation-select"\n          data-ng-model="MODEL.shipping.state"\n          data-sc-form-error="highlight if shipping.state fails"\n          data-sc-select-states\n          data-sc-retain-focus-validity\n          name="state"\n          required\n        ></div>\n      </div>\n\n      <div class="donation-table_column half">\n        <input\n          class="donation-text_input"\n          data-ng-model="MODEL.shipping.postal_code"\n          data-sc-form-error="highlight if shipping.postal_code fails"\n          data-sc-retain-focus-validity\n          placeholder="ZIP"\n          type="text"\n          name="postal_code"\n          required\n        />\n      </div>\n    </div>\n\n    <div aria-live="polite">\n      <span\n        class="donation-error"\n        data-sc-form-error="show if [shipping.state,shipping.postal_code] fails required"\n      >\n        {{ build.stateZipError() }}\n      </span>\n    </div>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/boolean",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    Waiver\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column">\n      <div class="donation-waiver" ng-bind-html="question.label | nl2br"></div>\n\n      <span\n        data-sc-checkbox\n        data-ng-model="META.answers[question.id]"\n        data-ng-model-options="{ getterSetter: true }"\n        data-sc-form-error="highlight if {{::\'cq_\'+question.id}} fails"\n        data-ng-required="question.is_required"\n        name="cq_{{:: question.id }}"\n      >\n        I Accept the Waiver Agreement.\n      </span>\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/currency",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label}}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column third">\n      <input\n        class="donation-text_input"\n        data-ng-model="META.answers[question.id]"\n        data-ng-model-options="{ getterSetter: true }"\n        data-sc-retain-focus-validity\n        data-sc-form-error="highlight if cq_{{::question.id}} fails"\n        data-ng-required="question.is_required"\n        data-sc-currency\n        data-symbol="{{:: CURRENCY.symbol }}"\n        data-round-currency="false"\n        name="cq_{{::question.id}}"\n        type="text"\n      />\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails dollar">\n      {{::CONSTANTS.DOLLAR_AMOUNT_VALID_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/date",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label}}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column half">\n      <input\n        class="donation-text_input"\n        uib-datepicker-popup="MM/dd/yyyy"\n        datepicker-options="{ showWeeks: false }"\n        is-open="visible"\n        ng-click="visible = true"\n        ng-model="META.answers[question.id]"\n        ng-model-options="{ getterSetter: true }"\n        sc-form-error="highlight if cq_{{::question.id}} fails"\n        ng-required="question.is_required"\n        name="cq_{{::question.id}}"\n        type="text"\n        placeholder="Enter date in the format: MM/DD/YYYY"\n      />\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/enum",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label }}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column half">\n      <select\n        class="donation-select"\n        data-ng-model="META.answers[question.id]"\n        data-ng-model-options="{ getterSetter: true }"\n        data-sc-form-error="highlight if cq_{{::question.id}} fails"\n        data-ng-required="question.is_required"\n        data-ng-options="option.label as option.label for option in question.enum_options"\n        name="cq_{{::question.id }}"\n        required\n      >\n        <option value="">Please select</option>\n      </select>\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/integer",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label }}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column third">\n      <input\n        class="donation-text_input"\n        data-ng-model="META.answers[question.id]"\n        data-ng-model-options="{ getterSetter: true }"\n        data-sc-retain-focus-validity\n        data-sc-form-error="highlight if {{\'cq_\'+question.id}} fails"\n        data-ng-required="question.is_required"\n        name="cq_{{::question.id}}"\n        type="number"\n      />\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails number">\n      {{::CONSTANTS.NUMBERS_ONLY_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/string",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label }}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column froala-single_line_input">\n      <textarea\n        class="donation-single_line_input"\n        froala="froalaSingleLineOptions"\n        data-ng-model="META.answers[question.id]"\n        data-ng-model-options="{ getterSetter: true }"\n        data-sc-retain-focus-validity\n        data-sc-form-error="highlight if cq_{{::question.id}} fails"\n        data-ng-required="question.is_required"\n        name="cq_{{::question.id}}"\n        aria-label="{{::question.label }}"\n        type="text"\n      ></textarea>\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/text",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label }}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column froala-textarea">\n      <textarea\n        froala="froalaCustomQuestionsOptions"\n        class="donation-textarea"\n        data-ng-model="META.answers[question.id]"\n        data-ng-model-options="{ getterSetter: true }"\n        data-sc-retain-focus-validity\n        data-sc-form-error="highlight if cq_{{::question.id}} fails"\n        data-ng-required="question.is_required"\n        name="cq_{{::question.id}}"\n        type="text"\n      >\n      </textarea>\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/components/donor/partials/questions/yes_no",'<div class="donation-table_label">\n  <label\n    class="donation-label"\n    data-sc-form-error="highlight if cq_{{::question.id}} fails"\n    data-ng-class="{ required: question.is_required }"\n  >\n    {{::question.label }}\n  </label>\n</div>\n\n<div class="donation-table_row">\n  <div class="donation-table_columns">\n    <div class="donation-table_column">\n      <radio-control\n        value="\'Yes\'"\n        ng-model="META.answers[question.id]"\n        ng-model-options="{ getterSetter: true }"\n        ng-required="question.is_required"\n        sc-form-error="highlight if cq_{{::question.id}} fails"\n        name="cq_{{::question.id}}"\n      >\n        Yes\n      </radio-control>\n\n      <radio-control\n        value="\'No\'"\n        ng-model="META.answers[question.id]"\n        ng-model-options="{ getterSetter: true }"\n        ng-required="question.is_required"\n        sc-form-error="highlight if cq_{{::question.id}} fails"\n        name="cq_{{::question.id}}"\n      >\n        No\n      </radio-control>\n    </div>\n  </div>\n\n  <div aria-live="polite" role="alert">\n    <span class="donation-error" data-sc-form-error="show if cq_{{::question.id}} fails required">\n      {{::CONSTANTS.FIELD_REQUIRED_ERROR_TEXT}}\n    </span>\n  </div>\n</div>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/classy-pay/svg/amex",'<svg width="20px" height="14px" viewBox="0 0 20 14">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <rect id="amex-bg" fill="#007ECD" x="0" y="0" width="20" height="14" rx="1.89473684"></rect>\n    <path d="M17.5687507,9.51371402 L16.6907406,9.51371402 L16.6907406,9.08038672 L17.4570311,9.08038672 C17.4570311,9.08038672 17.7364366,9.11222218 17.7364366,8.93134808 C17.7364366,8.76182931 17.3187115,8.7750096 17.3187115,8.7750096 C17.3187115,8.7750096 16.6379664,8.83239454 16.6379664,8.21454322 C16.6379664,7.59993627 17.2529565,7.63501611 17.2529565,7.63501611 L18.19736,7.63501611 L18.19736,8.07442662 L17.4372407,8.07442662 C17.4372407,8.07442662 17.1740079,8.02312489 17.1740079,8.20846001 C17.1740079,8.36378463 17.5325748,8.3416823 17.5325748,8.3416823 C17.5325748,8.3416823 18.2856717,8.28774451 18.2856717,8.85449687 C18.2856717,9.46200673 17.8004892,9.5161473 17.6283345,9.5161473 C17.5913075,9.5161473 17.5687507,9.51371402 17.5687507,9.51371402 L17.5687507,9.51371402 Z" id="amex-logo-path" fill="#FFFFFF"></path>\n    <path d="M15.829116,9.51371402 L14.9508931,9.51371402 L14.9508931,9.08038672 L15.7205884,9.08038672 C15.7205884,9.08038672 15.9968019,9.11222218 15.9968019,8.93134808 C15.9968019,8.76182931 15.5790768,8.7750096 15.5790768,8.7750096 C15.5790768,8.7750096 14.8983317,8.83239454 14.8983317,8.21454322 C14.8983317,7.59993627 15.5133218,7.63501611 15.5133218,7.63501611 L16.4609173,7.63501611 L16.4609173,8.07442662 L15.6978188,8.07442662 C15.6978188,8.07442662 15.4343733,8.02312489 15.4343733,8.20846001 C15.4343733,8.36378463 15.7925146,8.3416823 15.7925146,8.3416823 C15.7925146,8.3416823 16.546037,8.28774451 16.546037,8.85449687 C16.546037,9.46200673 16.0608545,9.5161473 15.8886999,9.5161473 C15.85146,9.5161473 15.829116,9.51371402 15.829116,9.51371402 L15.829116,9.51371402 Z" id="amex-logo-path" fill="#FFFFFF"></path>\n    <polygon id="amex-logo-path" fill="#FFFFFF" points="13.1882761 9.51675562 13.1882761 7.63826049 14.7270282 7.63826049 14.7270282 8.07442662 13.6845242 8.07442662 13.6845242 8.36378463 14.7010667 8.36378463 14.7010667 8.79082594 13.6845242 8.79082594 13.6845242 9.10958612 14.7270282 9.10958612 14.7270282 9.51675562"></polygon>\n    <path d="M12.4647583,9.52 L12.4647583,9.15379078 C12.4647583,9.15379078 12.4445424,8.86727161 12.1353449,8.86727161 L11.6556952,8.86727161 L11.6556952,9.52 L11.1620007,9.52 L11.1620007,7.63826049 L12.3594227,7.63826049 C12.3594227,7.63826049 12.9842015,7.5650592 12.9842015,8.18899374 C12.9842015,8.51383713 12.707988,8.62840424 12.707988,8.62840424 C12.707988,8.62840424 12.9448337,8.73668537 12.9448337,9.05483724 L12.9448337,9.52 L12.4647583,9.52 Z M11.6556952,8.42461672 L12.1653497,8.42461672 C12.313458,8.42461672 12.4349664,8.34512945 12.4349664,8.24637868 C12.4349664,8.14762791 12.313458,8.06814064 12.1653497,8.06814064 L11.6556952,8.06814064 L11.6556952,8.42461672 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <path d="M9.1757316,9.5169584 L8.74502572,9.5169584 L8.22196492,8.95933085 L7.69592493,9.5169584 L7.39651625,9.5169584 L5.86074335,9.5169584 L5.86074335,7.63197451 L7.39651625,7.63197451 L7.65634425,7.63197451 L8.22196492,8.23056233 L8.79099038,7.63521889 L9.16934762,7.63521889 L9.16934762,7.63197451 L10.366344,7.63197451 C10.366344,7.63197451 10.9913356,7.5650592 10.9913356,8.18554658 C10.9913356,8.73972698 10.7836435,8.91188181 10.1460966,8.91188181 L9.66261651,8.91188181 L9.66261651,9.5169584 L9.1757316,9.5169584 Z M9.66261651,8.42116957 L10.172271,8.42116957 C10.3203793,8.42116957 10.4421005,8.3416823 10.4421005,8.24293153 C10.4421005,8.14458631 10.3203793,8.06469349 10.172271,8.06469349 L9.66261651,8.06469349 L9.66261651,8.42116957 Z M8.55754949,8.59068834 L9.16934762,9.24625557 L9.16934762,7.9375544 L8.55754949,8.59068834 Z M6.35741703,9.10938335 L7.39651625,9.10938335 L7.88340116,8.59068834 L7.39651625,8.07462939 L6.35741703,8.07462939 L6.35741703,8.3639874 L7.37034193,8.3639874 L7.37034193,8.79102871 L6.35741703,8.79102871 L6.35741703,9.10938335 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <path d="M16.3813304,6.93788029 L15.5990799,5.68007532 L15.5990799,6.93788029 L15.174758,6.93788029 L15.0953839,6.93788029 L14.6321197,6.93788029 L14.457837,6.54307999 L13.5566318,6.54307999 L13.3853283,6.93788029 L12.9314273,6.93788029 L12.8492868,6.93788029 L12.6124411,6.93788029 C12.6124411,6.93788029 11.9485071,6.8454155 11.9485071,6.04952891 C11.9485071,5.00504182 12.701604,5.04640765 12.7275655,5.04012166 L13.3359589,5.05593801 L13.3359589,5.47953217 L12.8365188,5.48581816 C12.8365188,5.48581816 12.510723,5.48581816 12.4709295,5.89663758 C12.4666735,5.94408661 12.4643327,5.98707463 12.4647583,6.02742659 C12.4666735,6.66352754 13.0348478,6.46622877 13.0535741,6.46014556 L13.6651595,5.05593801 L14.3554806,5.05593801 L15.0953839,6.76268385 L15.0953839,5.05593801 L15.7927274,5.05593801 L16.5656146,6.29468226 L16.5656146,5.05593801 L17.0625011,5.05593801 L17.0625011,6.93788029 L16.3813304,6.93788029 Z M13.7670904,6.06210088 L14.2473785,6.06210088 L14.0105328,5.50183727 L13.7670904,6.06210088 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <polygon id="amex-logo-path" fill="#FFFFFF" points="11.2839348 6.94416627 11.7801828 6.94416627 11.7801828 5.05634356 11.2839348 5.05634356"></polygon>\n    <path d="M10.5602042,6.93788029 L10.5602042,6.57167107 C10.5602042,6.57167107 10.5406266,6.2851519 10.2314292,6.2851519 L9.75135384,6.2851519 L9.75135384,6.93788029 L9.25787215,6.93788029 L9.25787215,5.05593801 L10.4550813,5.05593801 C10.4550813,5.05593801 11.0798602,4.98273672 11.0798602,5.60687403 C11.0798602,5.93171742 10.8036466,6.04628453 10.8036466,6.04628453 C10.8036466,6.04628453 11.0436843,6.15456567 11.0436843,6.4729203 L11.0436843,6.93788029 L10.5602042,6.93788029 Z M9.75135384,5.84249701 L10.2610083,5.84249701 C10.4091166,5.84249701 10.5306251,5.76280697 10.5306251,5.6640562 C10.5306251,5.5655082 10.4091166,5.48581816 10.2610083,5.48581816 L9.75135384,5.48581816 L9.75135384,5.84249701 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <polygon id="amex-logo-path" fill="#FFFFFF" points="7.46227125 6.93767752 7.46227125 5.05614078 9.00144894 5.05614078 9.00144894 5.49534852 7.95894493 5.49534852 7.95894493 5.78511207 8.97527462 5.78511207 8.97527462 6.21174784 7.95894493 6.21174784 7.95894493 6.53050802 9.00144894 6.53050802 9.00144894 6.93767752"></polygon>\n    <path d="M6.68938401,6.93788029 L6.68938401,5.63870949 L6.0712019,6.93788029 L5.66667034,6.93788029 L5.04508344,5.64499547 L5.04508344,6.93788029 L4.61416476,6.93788029 L4.54840976,6.93788029 L4.07152642,6.93788029 L3.90043574,6.54307999 L2.9994433,6.54307999 L2.82516064,6.93788029 L2.28571429,6.93788029 L3.10456618,5.05593801 L3.79850486,5.05593801 L4.54840976,6.78498896 L4.54840976,5.05593801 L5.32789378,5.05593801 L5.87053212,6.22452258 L6.40976567,5.05593801 L7.18924968,5.05593801 L7.18924968,6.93788029 L6.68938401,6.93788029 Z M3.20990186,6.06210088 L3.68997719,6.06210088 L3.44993952,5.50183727 L3.20990186,6.06210088 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/classy-pay/svg/diners-club",'<svg width="20px" height="14px" viewBox="0 0 20 14">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <rect id="dc-bg" fill="#2183CB" x="0" y="0" width="20" height="14" rx="1.89473684"></rect>\n    <path d="M10.7269571,11.0749233 L9.26337858,11.0749233 C7.05016227,11.0394926 5.2653104,9.23252992 5.2653104,7.03583015 C5.19391633,4.83913038 6.90737412,2.99673702 9.08489339,2.92587574 L10.7269571,2.92587574 C13.0115675,2.8904451 14.8678134,4.73283845 14.9035105,7.00039951 L14.9035105,7.03583015 C14.8321164,9.26796056 13.0115675,11.0749233 10.7269571,11.0749233 Z M9.37046969,3.63448857 C7.51422375,3.63448857 5.97925115,5.15800615 5.97925115,7.00039951 C5.97925115,8.84279287 7.51422375,10.3663105 9.37046969,10.3663105 C11.2267156,10.3663105 12.7616882,8.84279287 12.7616882,7.00039951 C12.7616882,5.15800615 11.2267156,3.63448857 9.37046969,3.63448857 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <path d="M8.83501413,9.26796056 C7.58561783,8.94908479 6.83598004,7.6735817 7.15725338,6.43350925 C7.3714356,5.61860449 8.01398227,4.98085294 8.83501413,4.7682691 L8.83501413,9.26796056 Z" id="dc-logo-path" fill="#FFFFFF"></path>\n    <path d="M9.90592525,9.26796056 L9.90592525,4.7682691 C11.1553216,5.08714487 11.9406564,6.32721732 11.619383,7.56728977 C11.4052008,8.41762517 10.7626541,9.05537672 9.90592525,9.26796056 L9.90592525,9.26796056 Z" id="dc-logo-path" fill="#FFFFFF"></path>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/classy-pay/svg/discover",'<svg width="20px" height="14px" viewBox="0 0 20 14">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <rect id="discover-bg" fill="#FFA200" x="0" y="0" width="20" height="14" rx="1.91897655"></rect>\n    <path d="M18.1041,6.46092596 C18.1041,5.96471348 17.7714452,5.70201276 17.1666182,5.70201276 L16.4105845,5.70201276 L16.4105845,8.29983102 L16.9246874,8.29983102 L16.9246874,7.24902813 L16.9851701,7.24902813 L17.6807211,8.29983102 L18.3157895,8.29983102 L17.499273,7.21983916 C17.8621692,7.16146122 18.1343414,6.84038256 18.1041,6.46092596 Z M17.0758942,6.89876049 L16.9246874,6.89876049 L16.9246874,6.11065833 L17.0758942,6.11065833 C17.408549,6.11065833 17.5597557,6.25660317 17.5597557,6.49011493 C17.5597557,6.75281565 17.408549,6.89876049 17.0758942,6.89876049 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <polygon id="discover-logo-path" fill="#FFFFFF" points="14.6263449 8.29983102 16.0779296 8.29983102 16.0779296 7.86199648 15.1404478 7.86199648 15.1404478 7.16146122 16.0476883 7.16146122 16.0476883 6.72362668 15.1404478 6.72362668 15.1404478 6.1398473 16.0779296 6.1398473 16.0779296 5.70201276 14.6263449 5.70201276"></polygon>\n    <polygon id="discover-logo-path" fill="#FFFFFF" points="13.1142774 7.45335091 12.4187264 5.70201276 11.8743821 5.70201276 12.993312 8.35820896 13.2654842 8.35820896 14.3844141 5.70201276 13.8400698 5.70201276"></polygon>\n    <path d="M10.5437627,5.64179104 C9.78772899,5.64179104 9.15266066,6.22557043 9.15266066,6.98448363 C9.15266066,7.71420786 9.75748764,8.32717621 10.5437627,8.35636518 C11.3300378,8.38555415 11.9348648,7.7725858 11.9651061,7.0136726 C11.9348648,6.2547594 11.3300378,5.64179104 10.5437627,5.64179104 L10.5437627,5.64179104 Z" id="discover-logo-path" fill="#FFFFFF"></path>\n    <path d="M6.97528351,7.01551637 C6.97528351,7.7452406 7.5801105,8.35820896 8.33614423,8.35820896 C8.57807502,8.35820896 8.78976447,8.29983102 9.00145391,8.21226411 L9.00145391,7.62848472 C8.85024716,7.80361854 8.63855772,7.92037442 8.39662693,7.92037442 C7.91276534,7.92037442 7.5196278,7.57010679 7.5196278,7.10308328 L7.5196278,7.04470534 C7.48938645,6.57768183 7.88252399,6.16903626 8.36638558,6.1398473 C8.60831637,6.1398473 8.85024716,6.25660317 9.00145391,6.43173699 L9.00145391,5.8479576 C8.82000582,5.73120173 8.57807502,5.70201276 8.36638558,5.70201276 C7.5801105,5.64363482 6.97528351,6.25660317 6.97528351,7.01551637 L6.97528351,7.01551637 Z" id="discover-logo-path" fill="#FFFFFF"></path>\n    <path d="M6.03780169,6.69443771 C5.73538819,6.57768183 5.64466415,6.51930389 5.64466415,6.37335905 C5.6749055,6.19822523 5.82611224,6.05228039 6.00756034,6.08146936 C6.15876708,6.08146936 6.30997383,6.16903626 6.43093923,6.28579214 L6.70311137,5.93552451 C6.49142192,5.7603907 6.21924978,5.64363482 5.94707764,5.64363482 C5.52369875,5.61444585 5.16080256,5.93552451 5.13056121,6.34417008 L5.13056121,6.37335905 C5.13056121,6.72362668 5.28176796,6.92794946 5.76562954,7.07389431 C5.88659494,7.10308328 6.00756034,7.16146122 6.12852573,7.21983916 C6.21924978,7.27821709 6.27973248,7.365784 6.27973248,7.48253988 C6.27973248,7.68686266 6.09828438,7.86199648 5.91683629,7.86199648 L5.88659494,7.86199648 C5.64466415,7.86199648 5.4329747,7.71605163 5.34225065,7.51172885 L5.00959581,7.83280751 C5.19104391,8.15388617 5.5539401,8.32901999 5.91683629,8.32901999 C6.40069788,8.35820896 6.79383542,8.00794132 6.82407677,7.54091782 L6.82407677,7.45335091 C6.79383542,7.10308328 6.64262867,6.92794946 6.03780169,6.69443771 L6.03780169,6.69443771 Z" id="discover-logo-path" fill="#FFFFFF"></path>\n    <polygon id="discover-logo-path" fill="#FFFFFF" points="4.28380343 8.29983102 4.79790637 8.29983102 4.79790637 5.70201276 4.28380343 5.70201276"></polygon>\n    <path d="M2.65077057,5.70201276 L1.89473684,5.70201276 L1.89473684,8.29983102 L2.65077057,8.29983102 C2.98342541,8.32901999 3.31608026,8.21226411 3.5882524,8.00794132 C3.89066589,7.7452406 4.07211399,7.39497297 4.07211399,7.01551637 C4.10235534,6.31498111 3.5277697,5.73120173 2.80197732,5.70201276 L2.65077057,5.70201276 Z M3.25559756,7.65767369 C3.07414946,7.80361854 2.80197732,7.89118545 2.56004653,7.86199648 L2.40883978,7.86199648 L2.40883978,6.1398473 L2.56004653,6.1398473 C2.80197732,6.11065833 3.07414946,6.19822523 3.25559756,6.34417008 C3.43704565,6.51930389 3.5277697,6.75281565 3.5277697,6.9863274 C3.5277697,7.24902813 3.43704565,7.48253988 3.25559756,7.65767369 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/classy-pay/svg/mastercard",'<svg width="20px" height="14px" viewBox="0 0 20 14">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <rect id="mastercard-bg" fill="#353A48" x="0" y="0" width="20" height="14" rx="1.89473684"></rect>\n    <path d="M10.1052628,10.0133117 C9.26784381,9.30427626 8.73684174,8.24923503 8.73684174,7.07109716 C8.73684174,5.89295929 9.26784381,4.83791806 10.1052628,4.12888262 C10.9426818,4.83791806 11.4736838,5.89295929 11.4736838,7.07109716 C11.4736838,8.24923503 10.9426818,9.30427626 10.1052628,10.0133117 L10.1052628,10.0133117 Z" id="Combined-Shape" fill="#FF5E00"></path>\n    <path d="M10.1052628,10.0133117 C9.42516082,10.5891482 8.54295471,10.9367688 7.578947,10.9367688 C5.42794324,10.9367688 3.68421016,9.20604866 3.68421016,7.07109716 C3.68421016,4.93614566 5.42794324,3.20542552 7.578947,3.20542552 C8.54295471,3.20542552 9.42516082,3.55304613 10.1052628,4.12888262 C9.26784381,4.83791806 8.73684174,5.89295929 8.73684174,7.07109716 C8.73684174,8.24923503 9.26784381,9.30427626 10.1052628,10.0133117 Z" id="Combined-Shape-Copy" fill="#ED0006"></path>\n    <path d="M10.1052628,4.12888262 C10.7853648,3.55304613 11.6675709,3.20542552 12.6315786,3.20542552 C14.7825823,3.20542552 16.5263154,4.93614566 16.5263154,7.07109716 C16.5263154,9.20604866 14.7825823,10.9367688 12.6315786,10.9367688 C11.6675709,10.9367688 10.7853648,10.5891482 10.1052628,10.0133117 C10.9426818,9.30427626 11.4736838,8.24923503 11.4736838,7.07109716 C11.4736838,5.89295929 10.9426818,4.83791806 10.1052628,4.12888262 Z" id="Combined-Shape-Copy-2" fill="#F9A000"></path>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/classy-pay/svg/visa",'<svg width="20px" height="14px" viewBox="0 0 20 14">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <rect id="visa-bg" fill="#224DBA" x="0" y="0" width="20" height="14" rx="1.89473684"></rect>\n    <path d="M16.9708571,9.33744 L16.092,5.13688 L15.148,5.13688 C14.9525714,5.13688 14.7571429,5.26624 14.692,5.46 L13.0645714,9.33744 L14.204,9.33744 L14.4314286,8.72368 L15.8314286,8.72368 L15.9617143,9.33744 L16.9708571,9.33744 Z M15.3108571,6.26808 L15.636,7.8512 L14.7245714,7.8512 L15.3108571,6.26808 Z" id="Combined-Shape" fill="#FFFFFF"></path>\n    <path d="M11.5668571,6.30056 C11.5994286,6.07432 11.7948571,5.94496 12.0228571,5.94496 C12.3811429,5.91248 12.7714286,5.97744 13.0971429,6.13872 L13.2925714,5.23432 C12.9668571,5.10496 12.6085714,5.04 12.2834286,5.04 C11.2091429,5.04 10.4274286,5.62184 10.4274286,6.42936 C10.4274286,7.04368 10.9811429,7.36624 11.372,7.56056 C11.7948571,7.75432 11.9577143,7.88368 11.9251429,8.07744 C11.9251429,8.36808 11.5994286,8.49744 11.2742857,8.49744 C10.8834286,8.49744 10.4925714,8.40056 10.1348571,8.23872 L9.93942857,9.14368 C10.3302857,9.30496 10.7531429,9.36992 11.144,9.36992 C12.3485714,9.40184 13.0971429,8.82056 13.0971429,7.94808 C13.0971429,6.84936 11.5668571,6.78496 11.5668571,6.30056 L11.5668571,6.30056 Z" id="visa-logo-path" fill="#FFFFFF"></path>\n    <polygon id="visa-logo-path" fill="#FFFFFF" points="9.22342857 9.33744 8.11657143 9.33744 9.028 5.13688 10.1348571 5.13688"></polygon>\n    <path d="M6.81428571,9.33744 L5.64228571,9.33744 L4.76342857,5.97744 C4.72171429,5.82288 4.63314286,5.68624 4.50285714,5.62184 C4.17771429,5.46 3.81942857,5.3312 3.42857143,5.26624 L3.42857143,5.13688 L5.31657143,5.13688 C5.57714286,5.13688 5.77257143,5.3312 5.80514286,5.55688 L6.26114286,7.98056 L7.43257143,5.13688 L8.572,5.13688 L6.81428571,9.33744 Z" id="visa-logo-path" fill="#FFFFFF"></path>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/about/thumbnail",'<svg viewBox="0 0 150 10">\n\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n    <g fill="none">\n     \x3c!-- <path fill="#D8D8D8" d="M79.5 58.5C79.5 57.4 78.4 57.2 78.4 57.2L105.2 57.2C106 57.2 106.6 57.8 106.6 58.5L106.6 58.5C106.6 59.2 106 59.8 105.2 59.8L78.4 59.8C78.4 59.8 79.5 59.6 79.5 58.5Z" />\n      <rect x="47" y="57.2" width="40" height="2.6" rx="3" data-sc-svg-fill="theme.current.styles.primaryColor"/>\n      <rect x="79" y="70" width="24" height="9" rx="1" fill="#D8D8D8"/>\n      <rect x="51" y="70" width="24" height="9" rx="1" data-sc-svg-fill="theme.current.styles.primaryColor" /> --\x3e\n      <g style="fill:#D8D8D8;stroke:#D8D8D8">\n        <rect x="39" y="28" width="75" height="1.6" rx="3" />\n        <rect x="48" y="34" width="58" height="1.6" rx="3"/>\n        <rect x="39" y="56" width="75" height="1.6" rx="3"/>\n        <rect x="57" y="50" width="40" height="1.6" rx="3" />\n        <rect x="48" y="62" width="58" height="1.6" rx="3"/>\n      </g>\n    </g>\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/p2p-thumbnail",'<svg viewBox="0 0 150 90">\n\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n    <g fill="none">\n      <path fill="#D8D8D8" d="M79.5 58.5C79.5 57.4 78.4 57.2 78.4 57.2L105.2 57.2C106 57.2 106.6 57.8 106.6 58.5L106.6 58.5C106.6 59.2 106 59.8 105.2 59.8L78.4 59.8C78.4 59.8 79.5 59.6 79.5 58.5Z" />\n      <rect x="47" y="57.2" width="40" height="2.6" rx="3" data-sc-svg-fill="theme.current.styles.primaryColor"/>\n      <rect x="79" y="70" width="24" height="9" rx="1" fill="#D8D8D8"/>\n      <rect x="51" y="70" width="24" height="9" rx="1" data-sc-svg-fill="theme.current.styles.primaryColor" />\n      <g style="fill:#D8D8D8;stroke:#D8D8D8">\n        <rect x="48" y="34" width="58" height="1.6" rx="3"/>\n        <rect x="39" y="28" width="75" height="1.6" rx="3" />\n      </g>\n    </g>\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/rwf-thumbnail",'<svg viewBox="0 0 150 90">\n\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n    <g fill="none">\n      <path fill="#D8D8D8" d="M79.5 58.5C79.5 57.4 78.4 57.2 78.4 57.2L105.2 57.2C106 57.2 106.6 57.8 106.6 58.5L106.6 58.5C106.6 59.2 106 59.8 105.2 59.8L78.4 59.8C78.4 59.8 79.5 59.6 79.5 58.5Z" />\n      <rect x="47" y="57.2" width="40" height="2.6" rx="3" data-sc-svg-fill="theme.current.styles.primaryColor"/>\n      <rect x="79" y="70" width="24" height="9" rx="1" fill="#D8D8D8"/>\n      <rect x="51" y="70" width="24" height="9" rx="1" data-sc-svg-fill="theme.current.styles.primaryColor" />\n      <g style="fill:#D8D8D8;stroke:#D8D8D8">\n        <rect x="48" y="34" width="58" height="1.6" rx="3"/>\n        <rect x="39" y="28" width="75" height="1.6" rx="3" />\n      </g>\n    </g>\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/crowdfunding/thumbnail",'<svg viewBox="0 0 150 90">\n\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n\n    <rect class="svgtn_canvas" \n    x="13" y="45" width="125" height="48" rx="2"></rect>\n\n    \x3c!-- Video player --\x3e\n\n    <rect class="svgtn_bg"\n    x="17" y="49" width="67" height="37"></rect>\n\n    \x3c!-- Video circle --\x3e\n\n    <ellipse data-sc-svg-fill="theme.current.styles.primaryColor" \n    cx="50.5" cy="67.4696429" rx="8.5" ry="8.46964286"></ellipse>\n\n    \x3c!-- Video icon --\x3e\n\n    <path class="svgtn_canvas" \n    d="M49,70.3142857 L49,65 L54,67.6571429 L49,70.3142857 Z" \n    fill="#FFFFFF" ></path>\n\n    \x3c!-- Main button --\x3e\n\n    <rect data-sc-svg-fill="theme.current.styles.primaryColor"\n    x="89" y="77" width="42" height="9" rx="1"></rect>\n\n    \x3c!-- Progress bar header --\x3e\n\n    <rect class="svgtn_text" \n    x="89" y="51" width="28" height="3" rx="1"></rect>\n\n    \x3c!-- Progress bar total --\x3e\n\n    <rect class="svgtn_text" \n    x="89" y="57" width="42" height="2" rx="1"></rect>\n\n    \x3c!-- Progress bar achieved --\x3e\n\n    <rect data-sc-svg-fill="theme.current.styles.primaryColor"\n    x="89" y="57" width="20.6666667" height="2" rx="1"></rect>\n\n    \x3c!-- Stat blocks --\x3e\n\n    <g class="svgtn_text">\n      <rect x="91" y="65" width="8" height="3" rx="1"></rect>\n      <rect x="89" y="70" width="12" height="2" rx="1"></rect>\n      <rect x="106" y="65" width="8" height="3" rx="1"></rect>\n      <rect x="104" y="70" width="12" height="2" rx="1"></rect>\n      <rect x="121" y="65" width="8" height="3" rx="1"></rect>\n      <rect x="119" y="70" width="12" height="2" rx="1"></rect>\n    </g>\n\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/donation/thumbnail",'<svg viewBox="0 0 150 90" >\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n\n    <rect class="svgtn_canvas" \n    x="13" y="21" width="88" height="72" rx="2"></rect>\n\n    \x3c!-- Section headers --\x3e\n\n    <rect class="svgtn_text" \n    x="83" y="77" width="12" height="1.5" rx="1"></rect>\n    <rect class="svgtn_text" \n    x="69" y="77" width="12" height="1.5" rx="1"></rect>\n\n    \x3c!-- Donation levels --\x3e\n\n    <g data-sc-svg-fill="theme.current.styles.primaryColor">\n      <rect x="82" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="66" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="50" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="34" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="18" y="65" width="14" height="6" rx="1"></rect>\n    </g>\n\n    \x3c!-- Main headers --\x3e\n\n    <g class="svgtn_text">\n      <rect x="18" y="33" width="50" height="3" rx="1"></rect>\n      <rect x="18" y="27" width="66" height="3" rx="1"></rect>\n      <rect x="18" y="39" width="20" height="3" rx="1"></rect>\n    </g>\n\n    \x3c!-- Sidebar --\x3e\n\n    <rect class="svgtn_canvas"\n    x="104" y="21" width="34" height="36" rx="2"></rect>\n\n    \x3c!-- Sidebar headers --\x3e\n\n    <rect class="svgtn_text" \n    x="108" y="33" width="16" height="3" rx="1"></rect>\n    <rect class="svgtn_text" \n    x="108" y="27" width="20" height="3" rx="1"></rect>\n    <rect class="svgtn_text" \n    x="18" y="39" width="28" height="3" rx="1"></rect>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/frs-donation/thumbnail",'<svg viewBox="0 0 150 90" >\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n\n    <rect class="svgtn_canvas" \n    x="13" y="21" width="88" height="72" rx="2"></rect>\n\n    \x3c!-- Section headers --\x3e\n\n    <rect class="svgtn_text" \n    x="83" y="77" width="12" height="1.5" rx="1"></rect>\n    <rect class="svgtn_text" \n    x="69" y="77" width="12" height="1.5" rx="1"></rect>\n\n    \x3c!-- Donation levels --\x3e\n\n    <g data-sc-svg-fill="theme.current.styles.primaryColor">\n      <rect x="82" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="66" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="50" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="34" y="65" width="14" height="6" rx="1"></rect>\n      <rect x="18" y="65" width="14" height="6" rx="1"></rect>\n    </g>\n\n    \x3c!-- Main headers --\x3e\n\n    <g class="svgtn_text">\n      <rect x="18" y="33" width="50" height="3" rx="1"></rect>\n      <rect x="18" y="27" width="66" height="3" rx="1"></rect>\n      <rect x="18" y="39" width="20" height="3" rx="1"></rect>\n    </g>\n\n    \x3c!-- Sidebar --\x3e\n\n    <rect class="svgtn_canvas"\n    x="104" y="21" width="34" height="36" rx="2"></rect>\n\n    \x3c!-- Sidebar headers --\x3e\n\n    <rect class="svgtn_text" \n    x="108" y="33" width="16" height="3" rx="1"></rect>\n    <rect class="svgtn_text" \n    x="108" y="27" width="20" height="3" rx="1"></rect>\n    <rect class="svgtn_text" \n    x="18" y="39" width="28" height="3" rx="1"></rect>\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/fundraiser/thumbnail",'<svg viewBox="0 0 150 90">\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <defs>\n      <clipPath id="clip-rect">\n        <rect width="38" height="38"/>      \n      </clipPath>\n    </defs>\n    \n    \x3c!-- Background --\x3e\n    <use data-sc-svg-block-bg></use>\n    \n    \x3c!-- White Background --\x3e\n    <rect y="46" width="153" height="44" fill="#FFF"/>\n    \n    \x3c!-- Photo --\x3e\n    <g transform="translate(11 33)">\n      <rect y="1" width="38" height="38" style="fill:#D8D8D8;stroke:#D8D8D8"/>\n      <path clip-path="url(#clip-rect)" fill="#F0F0F0" d="M24.5 26.9L24.5 26.9 24.5 26.9C24.5 26.9 24.5 26.9 24.5 26.9L24.5 26.9ZM31.3 29.7C27.5 28.7 24.3 27.1 24.2 27.1 24.2 27.1 24.1 27.1 24.1 27 23.4 26.2 23.1 25.4 22.9 24.7 23.3 24.4 23.6 24 23.9 23.6 24.2 23.3 24.3 23 24.5 22.7 24.6 22.5 24.7 22.3 24.8 22.1 25.1 21.4 25.3 20.6 25.4 20 25.7 20.2 26.1 20.2 26.5 19.1 26.7 18.8 26.9 18.3 27 17.6 27.2 16.9 27.3 16.4 27.3 16 27.3 15.7 27.3 15.4 27.2 15.2 27.2 15.2 27.2 15.1 27.2 15.1 27.1 15 27.1 14.9 27 14.9 27 14.8 26.9 14.8 26.9 14.8 26.9 14.8 26.8 14.7 26.7 14.7 26.7 14.7 26.6 14.7 26.5 14.7 26.4 14.7 26.3 14.7 26.3 14.7 26.3 14.7 26.3 14.7 26.3 14.7 26.5 13.8 26.6 13 26.7 12.3 26.7 11.6 26.7 11 26.6 10.5 26.6 10.4 26.6 10.2 26.6 10.1 26.5 9.8 26.4 9.5 26.3 9.2 26.2 9.1 26.2 9.1 26.2 9 26 8.7 25.8 8.4 25.6 8.3 25.5 8.2 25.5 8.2 25.4 8.1 25.3 8.1 25.2 8 25.1 7.9 24.7 7.7 24.4 7.7 24.2 7.7 24.1 7.6 24 7.6 24 7.6 23.9 7.6 23.9 7.6 23.9 7.6 23.9 7.5 23.8 7.3 23.7 7.1 23.6 6.9 23.5 6.7 23.4 6.6 23.1 6.3 22.9 6.1 22.6 5.9 22.2 5.6 21.8 5.3 21.4 5.2 21.2 5.2 21.1 5.1 21 5.1 20.8 5 20.5 5 20.3 5 20 5 19.8 5 19.6 5.1 19 5.2 18.3 5.2 17.6 5.2L17.3 5.2C16.9 5.2 16.5 5.2 16.1 5.2 16 5.2 15.9 5.2 15.9 5.2 15.6 5.2 15.4 5.2 15.2 5.1 15.1 5.1 15.1 5.1 15 5.1 14.2 5.1 13.6 5 13.6 5 13.6 5.5 13.9 6 14.1 6.2 14.2 6.4 14.3 6.4 14.3 6.4 13.7 6.8 13.2 7.3 12.8 7.8 12.7 7.9 12.6 8 12.5 8.1 12.3 8.5 12.2 8.8 12 9.1 12 9.2 12 9.3 11.9 9.5 11.8 9.7 11.8 9.9 11.7 10.1 11.7 10.3 11.7 10.4 11.7 10.5 11.6 11.1 11.5 11.6 11.5 12.1 11.5 12.4 11.6 12.7 11.6 13 11.6 13.2 11.6 13.4 11.7 13.5 11.8 14.2 11.9 14.7 11.9 14.7 11.9 14.7 12 14.7 12 14.8 12 14.7 11.9 14.7 11.9 14.7 11.8 14.7 11.7 14.7 11.6 14.7 11 14.7 10.4 15.2 11.1 17.6 11.2 18.2 11.4 18.7 11.6 19.1 11.6 19.2 11.6 19.2 11.7 19.3 11.7 19.5 11.8 19.6 11.9 19.7 12.2 20.1 12.5 20.1 12.7 20 12.7 20.1 12.7 20.2 12.7 20.3 12.8 20.5 12.8 20.7 12.9 20.9 13 21.3 13.1 21.7 13.3 22.1 13.7 23.1 14.3 24 15.2 24.8 15.2 25 15.1 25.3 14.9 25.6 14.9 25.7 14.8 25.8 14.8 25.9 14.6 26.4 14.3 26.8 13.9 27.2 13.9 27.2 13.9 27.2 13.9 27.2 13.9 27.2 13.8 27.3 13.8 27.3 13.8 27.3 10.6 28.8 6.9 29.7 4.1 30.4 3.9 33.7 4 35.3 4 35.3 4 37.5 4.4 38.4 4.4 38.4 9.9 42 19.1 42L19.1 41.8 19.1 42C28.3 42 33.8 38.4 33.8 38.4 34.1 37.5 34.1 35.3 34.1 35.3L34.1 35.3C34.2 33.7 34.1 30.4 31.3 29.7L31.3 29.7Z"/>\n      <use data-sc-svg-image="block.current.photo" data-align-x="left"\n      data-mode="contain" width="38" height="38"></use>\n    </g>\n    \n    \x3c!-- Progress Bars --\x3e\n    <g>\n      <rect x="60" y="61" width="50" height="3" rx="3" style="fill:#D8D8D8;stroke:#D8D8D8"/>\n      <rect x="60" y="61" width="37" height="3" rx="3" data-sc-svg-fill="theme.current.styles.primaryColor"/>\n      <rect x="60" y="54" width="31" height="3" rx="3" style="fill:#D8D8D8;stroke:#D8D8D8"/>\n    </g>\n    \n    \x3c!-- Button --\x3e\n    <rect x="114" y="56" width="24" height="9" rx="1"\n      data-sc-svg-fill="theme.current.styles.primaryColor"/>\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/header/thumbnail",'<svg viewBox="0 0 150 90">\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" >\n\n    \x3c!-- Header --\x3e\n\n    <rect class="svgtn_canvas" \n    x="0" y="0" width="150" height="13"></rect>\n\n    \x3c!-- Header Image --\x3e\n\n    <use data-sc-svg-image="block.current.logo" data-align-x="left"\n    data-mode="contain" x="10" y="2" width="40" height="9"></use>\n\n    \x3c!-- Share bar --\x3e\n\n    <rect class="svgtn_text" \n    x="102" y="5" width="36" height="2" rx="1"></rect>\n\n    \x3c!-- Share button --\x3e\n\n    <path data-sc-svg-fill="theme.current.styles.primaryColor"\n    d="M98.5,7.5 C99.3284271,7.5 100,6.82842712 100,6.00000001 C100,\n    5.17157288 99.3284271,4.5 98.5,4.5 C97.6715728,4.5 97,5.17157288 97,\n    6.00000001 C97,6.82842712 97.6715728,7.5 98.5,7.5 L98.5,7.5 Z"></path>\n\n  </g>\n</svg>')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/team/thumbnail",'<svg viewBox="0 0 150 90">\n  <g fill="none">\n    \x3c!-- Mask and Clip Definitions --\x3e\n    <defs>\n      <clipPath id="clip-circle">\n        <circle cx="7.5" cy="7.5" r="7.5"/>\n      </clipPath>\n      <clipPath id="clip-rect">\n        <rect x="0" y="1" width="38" height="38"/>        \n      </clipPath>\n    </defs>\n    \n    \x3c!-- Background --\x3e\n    <use data-sc-svg-block-bg></use>\n    \n    \x3c!-- White Background --\x3e\n    <rect y="46" width="153" height="44" fill="#FFF"/>\n\n    \x3c!-- Photo --\x3e\n    \n    <g transform="translate(11 33)">\n      <rect y="1" width="38" height="38" style="fill:#D8D8D8;stroke:#D8D8D8"/>\n      <path clip-path="url(#clip-rect)" fill="#F0F0F0" d="M24 26.1L24 26.1 24 26.1C24 26.1 24 26.1 24 26.1L24 26.1ZM9.7 27.5C10.7 27.2 11.7 26.9 12.5 26.6 12.4 26.6 12.3 26.6 12.2 26.5 12.2 26.5 10.1 26 9.1 25.4 8.9 25.3 8.8 25.2 8.8 25.2L8.8 24.1C8.8 24.1 11.6 24.2 12.9 22.8 12.9 22.8 11 22.3 11.3 18.7 11.7 15.1 10.9 12 8 12.2 8 12.2 6.8 10.7 4.3 11.7 3.4 12 1.2 12.8 1.3 17.8 1.4 22.8-0.5 22.8-0.5 22.8 -0.5 22.8 0.5 24.2 3.8 24.2L3.8 25.2C3.8 25.2 3.6 25.3 3.4 25.4 2.4 26 0.3 26.5 0.3 26.5 0.2 26.6-0.4 26.7-1.7 27.3 -2.9 27.9-3 29.2-3 29.2L-3 31.3C-1.1 33.5-1.8 40.1-0.5 40.2 -0.5 40.1 6.5 40.2 6.5 40.2 6.4 39.3 6.1 31.7 6.5 30.6 6.7 29.9 7.1 29.2 7.5 28.7 8.1 28.1 8.8 27.7 9.7 27.5ZM23.8 26.3C23.7 26.3 23.7 26.3 23.6 26.2 23 25.6 22.8 24.9 22.7 24.3 23 24 23.3 23.7 23.5 23.4 23.7 23.2 23.8 22.9 24 22.7 24.1 22.5 24.1 22.3 24.2 22.1 24.5 21.5 24.6 20.9 24.7 20.4 24.9 20.6 25.3 20.6 25.7 19.7 25.8 19.4 25.9 19 26.1 18.4 26.2 17.9 26.3 17.4 26.3 17.1 26.3 16.8 26.3 16.6 26.2 16.5 26.2 16.4 26.2 16.4 26.2 16.3 26.1 16.3 26.1 16.2 26.1 16.2 26 16.2 26 16.1 26 16.1 25.9 16.1 25.9 16.1 25.8 16 25.8 16 25.7 16 25.6 16 25.6 16 25.5 16 25.4 16 25.6 15.3 25.7 14.6 25.8 14 25.8 13.4 25.8 13 25.7 12.5 25.7 12.4 25.7 12.3 25.7 12.2 25.6 12 25.5 11.7 25.4 11.5 25.4 11.4 25.4 11.4 25.3 11.3 25.2 11 25 10.8 24.9 10.7 24.8 10.7 24.8 10.6 24.7 10.6 24.6 10.5 24.6 10.5 24.5 10.4 24.2 10.3 23.9 10.2 23.7 10.2 23.6 10.2 23.6 10.2 23.6 10.2 23.5 10.2 23.5 10.2 23.5 10.2 23.4 10 23.4 9.9 23.3 9.7 23.2 9.6 23.1 9.4 23 9.3 22.9 9.1 22.6 8.9 22.4 8.7 22.1 8.5 21.7 8.3 21.4 8.2 21.3 8.1 21.2 8.1 21.1 8.1 20.9 8 20.7 8 20.5 8 20.3 8 20.1 8 19.9 8.1 19.4 8.1 18.8 8.2 18.2 8.2L18 8.2C17.7 8.2 17.3 8.2 17 8.2 17 8.2 16.9 8.2 16.8 8.2 16.6 8.1 16.5 8.1 16.3 8.1 16.2 8.1 16.2 8.1 16.1 8.1 15.4 8.1 15 8 15 8 14.9 8.5 15.2 8.8 15.4 9 15.4 9.1 15.5 9.2 15.5 9.2 15 9.5 14.6 9.9 14.3 10.3 14.2 10.4 14.1 10.5 14.1 10.6 13.9 10.9 13.8 11.1 13.7 11.4 13.6 11.5 13.6 11.6 13.6 11.7 13.5 11.9 13.4 12.1 13.4 12.3 13.4 12.4 13.4 12.5 13.3 12.5 13.3 13 13.2 13.5 13.2 13.9 13.3 14.2 13.3 14.4 13.3 14.6 13.3 14.8 13.3 14.9 13.3 15 13.4 15.6 13.5 16 13.5 16 13.6 16 13.6 16 13.6 16.1 13.6 16.1 13.6 16.1 13.5 16 13.5 16 13.4 16 13.3 16 12.8 16 12.3 16.4 12.9 18.4 13 19 13.1 19.3 13.3 19.6 13.3 19.7 13.3 19.8 13.3 19.8 13.4 20 13.5 20.1 13.5 20.2 13.8 20.5 14 20.5 14.2 20.4 14.2 20.5 14.2 20.6 14.2 20.6 14.3 20.8 14.3 21 14.3 21.1 14.4 21.5 14.5 21.8 14.7 22.2 15 23 15.5 23.7 16.3 24.3 16.2 24.6 16.2 24.8 16.1 25.1 16 25.2 16 25.2 15.9 25.3 15.8 25.7 15.5 26 15.2 26.4 15.2 26.4 15.1 26.4 15.1 26.4 15.1 26.4 12.5 27.7 9.4 28.4 7 29 6.9 31.7 7 33.1 7 33.1 7 39.2 7.3 40L19.5 40C27.1 39.6 31.6 40 31.6 40 31.9 39.2 31.9 33.1 31.9 33.1 32 31.7 31.9 29 29.6 28.4 26.4 27.7 23.8 26.3 23.8 26.3ZM38.4 26.5C38.3 26.5 37.1 26.2 36.1 25.8 35.1 25.2 35.3 23.6 35.3 23.6 35.9 22.9 36.3 21.9 36.4 21.2 36.4 21.2 36.5 21.2 36.6 21.2 36.8 21.2 37 20.9 37.3 19.8 37.7 18.3 37.4 18 37 18 37 18.1 36.9 18.1 36.9 18.1 37.8 14 35.8 13.9 35.5 13.9 35.3 13.1 34.4 12.3 33.4 12.3 33.2 12.3 33.1 12.3 32.9 12.4 32.6 12.4 32.1 12.5 31.6 12.5 30.5 12.5 29.8 13.2 29.8 13.2 27.4 14.7 28.4 18 28.4 18 28.3 18.1 28.3 18.1 28.2 18.1 27.9 18.1 27.5 18.3 27.9 19.8 28.2 20.9 28.5 21.2 28.7 21.2 28.8 21.2 28.8 21.2 28.8 21.2 29 22 29.3 22.9 30 23.6 30 23.6 29.8 24.2 29.6 24.8 29.6 24.8 29.1 25.5 28.7 25.8 27.7 26.4 26.4 26.5 26.4 26.5 26.4 26.5 26.3 26.6 26.2 26.6 27.1 26.9 28.1 27.2 29.1 27.5 30 27.7 30.7 28.1 31.3 28.7 31.7 29.2 32.1 29.9 32.3 30.6 32.7 31.7 32.7 32.8 32.7 33.6 32.7 33.7 32.7 41.3 32.7 41.4 34 41.4 39.7 43.1 41.6 40.9L41.6 29.2C41.6 29.2 41.6 27.9 40.3 27.3 39 26.7 38.4 26.6 38.4 26.5Z" />\n      <use data-sc-svg-image="block.current.teamPhoto" data-align-x="left"\n      data-mode="contain" width="38" height="38"></use>\n    </g>\n    \n    \x3c!-- Button --\x3e\n    <rect x="11" y="75" width="38" height="9" rx="1" data-sc-svg-fill="theme.current.styles.primaryColor"/>\n\n    \n    \x3c!-- Progress Bars --\x3e\n    <g style="fill:#D8D8D8;stroke:#D8D8D8">\n      <rect x="60" y="54" width="50" height="2.6" rx="3"/>\n      <rect x="60" y="61.2" width="31" height="2.6" rx="3"/>\n    </g>\n    \n    \x3c!-- Leaderboard --\x3e\n    <g transform="translate(60 70)">\n      <g>\n        <circle cx="7.5" cy="7.5" r="7.5" fill="#D8D8D8"/>\n        <path clip-path="url(#clip-circle)" fill="#F0F0F0" d="M10.1 14.9C10.9 14.7 11.6 14.4 12.3 14.2 12.1 14.2 12.1 14.2 12.1 14.1 12 14.1 10.5 13.7 9.7 13.3 9.6 13.2 9.5 13.1 9.5 13.1L9.5 12.4C9.5 12.4 11.6 12.4 12.6 11.4 12.6 11.4 11.1 11 11.4 8.3 11.6 5.6 11.1 3.3 8.9 3.5 8.9 3.5 8 2.4 6.1 3.1 5.5 3.3 3.8 3.9 3.9 7.6 4 11.3 2.6 11.3 2.6 11.3 2.6 11.3 3.3 12.4 5.7 12.4L5.7 13.1C5.7 13.1 5.6 13.2 5.5 13.3 4.8 13.7 3.2 14.1 3.2 14.1 3.1 14.2 2.6 14.2 1.7 14.7 0.8 15.1 0.7 16.1 0.7 16.1L0.7 17.6C2.1 19.3 1.6 24.2 2.6 24.3 2.6 24.2 7.7 24.3 7.7 24.3 7.7 23.7 7.5 18 7.7 17.1 7.9 16.6 8.2 16.1 8.6 15.8 9 15.3 9.5 15 10.1 14.9Z"/>\n      </g>\n      <g transform="translate(20 0)">\n        <circle cx="7.5" cy="7.5" r="7.5" fill="#D8D8D8"/>\n        <path clip-path="url(#clip-circle)" fill="#F0F0F0" d="M9.9 13.1C9.8 13.1 9.8 13.1 9.8 13 9.5 12.7 9.3 12.3 9.3 12 9.4 11.8 9.6 11.6 9.7 11.5 9.8 11.3 9.9 11.2 10 11 10 11 10.1 10.9 10.1 10.8 10.3 10.4 10.4 10.1 10.4 9.8 10.5 9.9 10.7 9.9 10.9 9.4 11 9.2 11.1 9 11.2 8.7 11.2 8.4 11.3 8.1 11.3 7.9 11.3 7.8 11.3 7.7 11.2 7.6 11.2 7.6 11.2 7.5 11.2 7.5 11.2 7.5 11.2 7.5 11.2 7.4 11.1 7.4 11.1 7.4 11.1 7.4 11.1 7.4 11.1 7.4 11 7.4 11 7.3 11 7.3 10.9 7.3 10.9 7.3 10.8 7.3 10.8 7.4 10.9 6.9 11 6.5 11 6.2 11 5.9 11 5.6 11 5.4 11 5.3 11 5.3 10.9 5.2 10.9 5.1 10.9 4.9 10.8 4.8 10.8 4.8 10.8 4.7 10.8 4.7 10.7 4.6 10.6 4.4 10.5 4.4 10.5 4.3 10.4 4.3 10.4 4.3 10.4 4.3 10.3 4.2 10.3 4.2 10.1 4.1 9.9 4.1 9.8 4.1 9.8 4.1 9.8 4.1 9.8 4.1 9.7 4.1 9.7 4.1 9.7 4.1 9.7 4 9.7 3.9 9.6 3.8 9.6 3.7 9.5 3.7 9.5 3.6 9.4 3.5 9.2 3.4 9.1 3.3 8.9 3.1 8.7 3 8.5 2.9 8.5 2.9 8.4 2.9 8.4 2.9 8.3 2.9 8.2 2.9 8 2.9 7.9 2.9 7.8 2.9 7.7 2.9 7.5 2.9 7.1 3 6.8 3L6.7 3C6.5 3 6.3 3 6.1 2.9 6.1 2.9 6 2.9 6 2.9 5.9 2.9 5.8 2.9 5.7 2.9 5.7 2.9 5.6 2.9 5.6 2.9 5.2 2.9 5 2.9 5 2.9 4.9 3.1 5.1 3.3 5.2 3.4 5.2 3.5 5.3 3.5 5.3 3.5 5 3.7 4.7 3.9 4.6 4.2 4.5 4.2 4.5 4.3 4.5 4.3 4.4 4.5 4.3 4.6 4.2 4.8 4.2 4.8 4.2 4.9 4.2 4.9 4.1 5 4.1 5.1 4.1 5.2 4.1 5.3 4.1 5.3 4.1 5.4 4 5.7 4 5.9 4 6.2 4 6.3 4 6.4 4 6.6 4 6.6 4 6.7 4 6.8 4.1 7.1 4.2 7.3 4.2 7.3 4.2 7.3 4.2 7.4 4.2 7.4 4.2 7.4 4.2 7.4 4.2 7.4 4.1 7.3 4.1 7.3 4 7.3 3.8 7.3 3.5 7.6 3.8 8.7 3.9 9 3.9 9.2 4 9.4 4 9.4 4 9.4 4.1 9.5 4.1 9.5 4.1 9.6 4.2 9.7 4.3 9.9 4.4 9.9 4.5 9.8 4.5 9.8 4.5 9.9 4.5 9.9 4.6 10 4.6 10.1 4.6 10.2 4.7 10.4 4.7 10.6 4.8 10.8 5 11.2 5.3 11.6 5.7 12 5.7 12.1 5.6 12.3 5.6 12.4 5.5 12.4 5.5 12.5 5.5 12.5 5.4 12.7 5.3 12.9 5.1 13.1 5.1 13.1 5 13.1 5 13.2 5 13.2 3.6 13.8 1.8 14.3 0.5 14.6 0.5 16.1 0.5 16.9 0.5 16.9 0.5 20.3 0.7 20.7L7.5 20.7C11.7 20.5 14.3 20.7 14.3 20.7 14.4 20.3 14.4 16.9 14.4 16.9 14.5 16.1 14.4 14.6 13.1 14.3 11.4 13.8 9.9 13.1 9.9 13.1Z"/>\n      </g>\n      <g transform="translate(40 0)">\n        <circle cx="7.5" cy="7.5" r="7.5" fill="#D8D8D8"/>\n        <path clip-path="url(#clip-circle)" fill="#F0F0F0" d="M10.1 14.9C10.9 14.7 11.6 14.4 12.3 14.2 12.1 14.2 12.1 14.2 12.1 14.1 12 14.1 10.5 13.7 9.7 13.3 9.6 13.2 9.5 13.1 9.5 13.1L9.5 12.4C9.5 12.4 11.6 12.4 12.6 11.4 12.6 11.4 11.1 11 11.4 8.3 11.6 5.6 11.1 3.3 8.9 3.5 8.9 3.5 8 2.4 6.1 3.1 5.5 3.3 3.8 3.9 3.9 7.6 4 11.3 2.6 11.3 2.6 11.3 2.6 11.3 3.3 12.4 5.7 12.4L5.7 13.1C5.7 13.1 5.6 13.2 5.5 13.3 4.8 13.7 3.2 14.1 3.2 14.1 3.1 14.2 2.6 14.2 1.7 14.7 0.8 15.1 0.7 16.1 0.7 16.1L0.7 17.6C2.1 19.3 1.6 24.2 2.6 24.3 2.6 24.2 7.7 24.3 7.7 24.3 7.7 23.7 7.5 18 7.7 17.1 7.9 16.6 8.2 16.1 8.6 15.8 9 15.3 9.5 15 10.1 14.9Z"/>\n      </g>\n      <g transform="translate(60 0)">\n        <circle cx="7.5" cy="7.5" r="7.5" fill="#D8D8D8"/>\n        <path clip-path="url(#clip-circle)" fill="#F0F0F0" d="M12.1 14C12 14 11.1 13.8 10.3 13.5 9.5 13 9.7 11.8 9.7 11.8 10.2 11.2 10.4 10.4 10.5 9.8 10.6 9.8 10.6 9.9 10.7 9.9 10.8 9.9 11 9.6 11.3 8.7 11.6 7.6 11.3 7.4 11 7.4 11 7.4 11 7.4 10.9 7.4 11.7 4.2 10.1 4.1 9.9 4.1 9.7 3.5 8.9 2.9 8.1 2.9 8 2.9 7.9 2.9 7.8 2.9 7.5 2.9 7.1 3 6.8 3 5.9 3 5.4 3.5 5.4 3.5 3.4 4.7 4.2 7.4 4.2 7.4 4.2 7.4 4.2 7.4 4.1 7.4 3.8 7.4 3.6 7.6 3.9 8.7 4.1 9.6 4.3 9.9 4.5 9.9 4.5 9.9 4.6 9.9 4.6 9.8 4.7 10.4 4.9 11.2 5.5 11.8 5.5 11.8 5.4 12.2 5.2 12.7 5.2 12.7 4.8 13.3 4.5 13.5 3.7 13.9 2.7 14 2.7 14 2.6 14 2.6 14.1 2.5 14.1 3.2 14.3 4 14.6 4.8 14.8 5.5 15 6 15.3 6.5 15.8 6.9 16.2 7.2 16.7 7.3 17.2 7.6 18.1 7.7 19 7.6 19.6 7.6 19.7 7.6 25.7 7.6 25.8 8.6 25.7 13.1 27 14.6 25.3L14.6 16.1C14.6 16.1 14.6 15.1 13.6 14.6 12.6 14.2 12.1 14.1 12.1 14Z"/>\n      </g>\n    </g>\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/text/thumbnail",'<svg viewBox="0 0 150 10">\n\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n    <g fill="none">\n     \x3c!-- <path fill="#D8D8D8" d="M79.5 58.5C79.5 57.4 78.4 57.2 78.4 57.2L105.2 57.2C106 57.2 106.6 57.8 106.6 58.5L106.6 58.5C106.6 59.2 106 59.8 105.2 59.8L78.4 59.8C78.4 59.8 79.5 59.6 79.5 58.5Z" />\n      <rect x="47" y="57.2" width="40" height="2.6" rx="3" data-sc-svg-fill="theme.current.styles.primaryColor"/>\n      <rect x="79" y="70" width="24" height="9" rx="1" fill="#D8D8D8"/>\n      <rect x="51" y="70" width="24" height="9" rx="1" data-sc-svg-fill="theme.current.styles.primaryColor" /> --\x3e\n      <g style="fill:#D8D8D8;stroke:#D8D8D8">\n        <rect x="39" y="28" width="75" height="1.6" rx="3" />\n        <rect x="48" y="34" width="58" height="1.6" rx="3"/>\n        <rect x="39" y="56" width="75" height="1.6" rx="3"/>\n        <rect x="57" y="50" width="40" height="1.6" rx="3" />\n        <rect x="48" y="62" width="58" height="1.6" rx="3"/>\n      </g>\n    </g>\n  </g>\n</svg>\n')}]),angular.module("classy").run(["$templateCache",function(e){e.put("global/objects/scBlock/types/thank-you/thumbnail",'<svg viewBox="0 0 150 90">\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\n    <use data-sc-svg-block-bg></use>\n\n    \x3c!-- Main --\x3e\n\n    <rect class="svgtn_canvas"\n    x="13" y="21" width="88" height="72" rx="2"></rect>\n\n    \x3c!-- Main headers --\x3e\n    \n    <g class="svgtn_text">\n      <rect x="18" y="39" width="28" height="3" rx="1"></rect>\n      <rect x="18" y="33" width="50" height="3" rx="1"></rect>\n      <rect x="18" y="27" width="66" height="3" rx="1"></rect>\n    </g>\n\n    \x3c!-- Section --\x3e\n\n    <rect class="svgtn_section" \n    x="13" y="62" width="88" height="28"></rect>\n\n    \x3c!-- Section headers --\x3e\n\n    <g class="svgtn_text">\n      <rect x="18" y="67" width="50" height="3" rx="1"></rect>\n      <rect x="18" y="73" width="28" height="3" rx="1"></rect>\n    </g>\n\n    \x3c!-- Sidebar --\x3e\n\n    <rect class="svgtn_canvas"\n    x="104" y="21" width="34" height="36" rx="2"></rect>\n\n    \x3c!-- Sidebar headers --\x3e\n\n    <g class="svgtn_text">\n      <rect x="108" y="39" width="20" height="3" rx="1"></rect>\n      <rect x="108" y="33" width="16" height="3" rx="1"></rect>\n      <rect x="108" y="27" width="20" height="3" rx="1"></rect>\n    </g>\n\n  </g>\n</svg>')}]);
//# sourceMappingURL=module.js.map
